import{g as K2,d as ga,V as Ii,s as X2,f as Y2}from"../api-faCXRmWz.js";import"../_sentry-release-injection-file-1BGTAgAj.js";(function(){try{var n=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new n.Error().stack;e&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[e]="036fd9a1-522f-42fe-8117-e9931e0b0090",n._sentryDebugIdIdentifier="sentry-dbid-036fd9a1-522f-42fe-8117-e9931e0b0090")}catch{}})();function q2(n,e){for(var a=0;a<e.length;a++){const o=e[a];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in n)){const p=Object.getOwnPropertyDescriptor(o,l);p&&Object.defineProperty(n,l,p.get?p:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}const Kw=Object.prototype.toString;function l1(n){switch(Kw.call(n)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Rl(n,Error)}}function Xu(n,e){return Kw.call(n)===`[object ${e}]`}function Xw(n){return Xu(n,"ErrorEvent")}function fb(n){return Xu(n,"DOMError")}function Z2(n){return Xu(n,"DOMException")}function wi(n){return Xu(n,"String")}function u1(n){return typeof n=="object"&&n!==null&&"__sentry_template_string__"in n&&"__sentry_template_values__"in n}function c1(n){return n===null||u1(n)||typeof n!="object"&&typeof n!="function"}function Ou(n){return Xu(n,"Object")}function zd(n){return typeof Event<"u"&&Rl(n,Event)}function J2(n){return typeof Element<"u"&&Rl(n,Element)}function Q2(n){return Xu(n,"RegExp")}function $d(n){return!!(n&&n.then&&typeof n.then=="function")}function eI(n){return Ou(n)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n}function Rl(n,e){try{return n instanceof e}catch{return!1}}function Yw(n){return!!(typeof n=="object"&&n!==null&&(n.__isVue||n._isVue))}function Cu(n,e=0){return typeof n!="string"||e===0||n.length<=e?n:`${n.slice(0,e)}...`}function hb(n,e){if(!Array.isArray(n))return"";const a=[];for(let o=0;o<n.length;o++){const l=n[o];try{Yw(l)?a.push("[VueViewModel]"):a.push(String(l))}catch{a.push("[value cannot be serialized]")}}return a.join(e)}function tI(n,e,a=!1){return wi(n)?Q2(e)?e.test(n):wi(e)?a?n===e:n.includes(e):!1:!1}function Gd(n,e=[],a=!1){return e.some(o=>tI(n,o,a))}function nI(n,e,a=250,o,l,p,f){if(!p.exception||!p.exception.values||!f||!Rl(f.originalException,Error))return;const d=p.exception.values.length>0?p.exception.values[p.exception.values.length-1]:void 0;d&&(p.exception.values=aI(mm(n,e,l,f.originalException,o,p.exception.values,d,0),a))}function mm(n,e,a,o,l,p,f,d){if(p.length>=a+1)return p;let u=[...p];if(Rl(o[l],Error)){mb(f,d);const h=n(e,o[l]),y=u.length;gb(h,l,y,d),u=mm(n,e,a,o[l],l,[h,...u],h,y)}return Array.isArray(o.errors)&&o.errors.forEach((h,y)=>{if(Rl(h,Error)){mb(f,d);const b=n(e,h),x=u.length;gb(b,`errors[${y}]`,x,d),u=mm(n,e,a,h,l,[b,...u],b,x)}}),u}function mb(n,e){n.mechanism=n.mechanism||{type:"generic",handled:!0},n.mechanism={...n.mechanism,...n.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function gb(n,e,a,o){n.mechanism=n.mechanism||{type:"generic",handled:!0},n.mechanism={...n.mechanism,type:"chained",source:e,exception_id:a,parent_id:o}}function aI(n,e){return n.map(a=>(a.value&&(a.value=Cu(a.value,e)),a))}function qw(n){if(n!==void 0)return n>=400&&n<500?"warning":n>=500?"error":void 0}const Bl="8.33.1",Ma=globalThis;function Vd(n,e,a){const o=Ma,l=o.__SENTRY__=o.__SENTRY__||{},p=l[Bl]=l[Bl]||{};return p[n]||(p[n]=e())}const p1=Ma,rI=80;function Zw(n,e={}){if(!n)return"<unknown>";try{let a=n;const o=5,l=[];let p=0,f=0;const d=" > ",u=d.length;let h;const y=Array.isArray(e)?e:e.keyAttrs,b=!Array.isArray(e)&&e.maxStringLength||rI;for(;a&&p++<o&&(h=oI(a,y),!(h==="html"||p>1&&f+l.length*u+h.length>=b));)l.push(h),f+=h.length,a=a.parentNode;return l.reverse().join(d)}catch{return"<unknown>"}}function oI(n,e){const a=n,o=[];if(!a||!a.tagName)return"";if(p1.HTMLElement&&a instanceof HTMLElement&&a.dataset){if(a.dataset.sentryComponent)return a.dataset.sentryComponent;if(a.dataset.sentryElement)return a.dataset.sentryElement}o.push(a.tagName.toLowerCase());const l=e&&e.length?e.filter(f=>a.getAttribute(f)).map(f=>[f,a.getAttribute(f)]):null;if(l&&l.length)l.forEach(f=>{o.push(`[${f[0]}="${f[1]}"]`)});else{a.id&&o.push(`#${a.id}`);const f=a.className;if(f&&wi(f)){const d=f.split(/\s+/);for(const u of d)o.push(`.${u}`)}}const p=["aria-label","type","name","title","alt"];for(const f of p){const d=a.getAttribute(f);d&&o.push(`[${f}="${d}"]`)}return o.join("")}function sI(){try{return p1.document.location.href}catch{return""}}function iI(n){if(!p1.HTMLElement)return null;let e=n;const a=5;for(let o=0;o<a;o++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}const Lc=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,lI="Sentry Logger ",gm=["debug","info","warn","error","log","assert","trace"],Id={};function Uc(n){if(!("console"in Ma))return n();const e=Ma.console,a={},o=Object.keys(Id);o.forEach(l=>{const p=Id[l];a[l]=e[l],e[l]=p});try{return n()}finally{o.forEach(l=>{e[l]=a[l]})}}function uI(){let n=!1;const e={enable:()=>{n=!0},disable:()=>{n=!1},isEnabled:()=>n};return Lc?gm.forEach(a=>{e[a]=(...o)=>{n&&Uc(()=>{Ma.console[a](`${lI}[${a}]:`,...o)})}}):gm.forEach(a=>{e[a]=()=>{}}),e}const Un=Vd("logger",uI),cI=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function pI(n){return n==="http"||n==="https"}function Hd(n,e=!1){const{host:a,path:o,pass:l,port:p,projectId:f,protocol:d,publicKey:u}=n;return`${d}://${u}${e&&l?`:${l}`:""}@${a}${p?`:${p}`:""}/${o&&`${o}/`}${f}`}function dI(n){const e=cI.exec(n);if(!e){Uc(()=>{console.error(`Invalid Sentry Dsn: ${n}`)});return}const[a,o,l="",p="",f="",d=""]=e.slice(1);let u="",h=d;const y=h.split("/");if(y.length>1&&(u=y.slice(0,-1).join("/"),h=y.pop()),h){const b=h.match(/^\d+/);b&&(h=b[0])}return Jw({host:p,pass:l,path:u,projectId:h,port:f,protocol:a,publicKey:o})}function Jw(n){return{protocol:n.protocol,publicKey:n.publicKey||"",pass:n.pass||"",host:n.host,port:n.port||"",path:n.path||"",projectId:n.projectId}}function fI(n){if(!Lc)return!0;const{port:e,projectId:a,protocol:o}=n;return["protocol","publicKey","host","projectId"].find(f=>n[f]?!1:(Un.error(`Invalid Sentry Dsn: ${f} missing`),!0))?!1:a.match(/^\d+$/)?pI(o)?e&&isNaN(parseInt(e,10))?(Un.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(Un.error(`Invalid Sentry Dsn: Invalid protocol ${o}`),!1):(Un.error(`Invalid Sentry Dsn: Invalid projectId ${a}`),!1)}function hI(n){const e=typeof n=="string"?dI(n):Jw(n);if(!(!e||!fI(e)))return e}class Qs extends Error{constructor(e,a="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=a}}function Go(n,e,a){if(!(e in n))return;const o=n[e],l=a(o);typeof l=="function"&&Qw(l,o),n[e]=l}function Fl(n,e,a){try{Object.defineProperty(n,e,{value:a,writable:!0,configurable:!0})}catch{Lc&&Un.log(`Failed to add non-enumerable property "${e}" to object`,n)}}function Qw(n,e){try{const a=e.prototype||{};n.prototype=e.prototype=a,Fl(n,"__sentry_original__",e)}catch{}}function d1(n){return n.__sentry_original__}function mI(n){return Object.keys(n).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`).join("&")}function e0(n){if(l1(n))return{message:n.message,name:n.name,stack:n.stack,...bb(n)};if(zd(n)){const e={type:n.type,target:yb(n.target),currentTarget:yb(n.currentTarget),...bb(n)};return typeof CustomEvent<"u"&&Rl(n,CustomEvent)&&(e.detail=n.detail),e}else return n}function yb(n){try{return J2(n)?Zw(n):Object.prototype.toString.call(n)}catch{return"<unknown>"}}function bb(n){if(typeof n=="object"&&n!==null){const e={};for(const a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}else return{}}function gI(n,e=40){const a=Object.keys(e0(n));a.sort();const o=a[0];if(!o)return"[object has no keys]";if(o.length>=e)return Cu(o,e);for(let l=a.length;l>0;l--){const p=a.slice(0,l).join(", ");if(!(p.length>e))return l===a.length?p:Cu(p,e)}return""}function ns(n){return ym(n,new Map)}function ym(n,e){if(yI(n)){const a=e.get(n);if(a!==void 0)return a;const o={};e.set(n,o);for(const l of Object.getOwnPropertyNames(n))typeof n[l]<"u"&&(o[l]=ym(n[l],e));return o}if(Array.isArray(n)){const a=e.get(n);if(a!==void 0)return a;const o=[];return e.set(n,o),n.forEach(l=>{o.push(ym(l,e))}),o}return n}function yI(n){if(!Ou(n))return!1;try{const e=Object.getPrototypeOf(n).constructor.name;return!e||e==="Object"}catch{return!0}}const t0=50,Ml="?",wb=/\(error: (.*)\)/,vb=/captureMessage|captureException/;function n0(...n){const e=n.sort((a,o)=>a[0]-o[0]).map(a=>a[1]);return(a,o=0,l=0)=>{const p=[],f=a.split(`
`);for(let d=o;d<f.length;d++){const u=f[d];if(u.length>1024)continue;const h=wb.test(u)?u.replace(wb,"$1"):u;if(!h.match(/\S*Error: /)){for(const y of e){const b=y(h);if(b){p.push(b);break}}if(p.length>=t0+l)break}}return wI(p.slice(l))}}function bI(n){return Array.isArray(n)?n0(...n):n}function wI(n){if(!n.length)return[];const e=Array.from(n);return/sentryWrapped/.test(dd(e).function||"")&&e.pop(),e.reverse(),vb.test(dd(e).function||"")&&(e.pop(),vb.test(dd(e).function||"")&&e.pop()),e.slice(0,t0).map(a=>({...a,filename:a.filename||dd(e).filename,function:a.function||Ml}))}function dd(n){return n[n.length-1]||{}}const qh="<anonymous>";function nl(n){try{return!n||typeof n!="function"?qh:n.name||qh}catch{return qh}}function xb(n){const e=n.exception;if(e){const a=[];try{return e.values.forEach(o=>{o.stacktrace.frames&&a.push(...o.stacktrace.frames)}),a}catch{return}}}const _d={},_b={};function Gl(n,e){_d[n]=_d[n]||[],_d[n].push(e)}function Vl(n,e){_b[n]||(e(),_b[n]=!0)}function Ds(n,e){const a=n&&_d[n];if(a)for(const o of a)try{o(e)}catch(l){Lc&&Un.error(`Error while triggering instrumentation handler.
Type: ${n}
Name: ${nl(o)}
Error:`,l)}}function vI(n){const e="console";Gl(e,n),Vl(e,xI)}function xI(){"console"in Ma&&gm.forEach(function(n){n in Ma.console&&Go(Ma.console,n,function(e){return Id[n]=e,function(...a){Ds("console",{args:a,level:n});const l=Id[n];l&&l.apply(Ma.console,a)}})})}const bm=Ma;function a0(){if(!("fetch"in bm))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function wm(n){return n&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(n.toString())}function _I(){if(typeof EdgeRuntime=="string")return!0;if(!a0())return!1;if(wm(bm.fetch))return!0;let n=!1;const e=bm.document;if(e&&typeof e.createElement=="function")try{const a=e.createElement("iframe");a.hidden=!0,e.head.appendChild(a),a.contentWindow&&a.contentWindow.fetch&&(n=wm(a.contentWindow.fetch)),e.head.removeChild(a)}catch(a){Lc&&Un.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",a)}return n}const r0=1e3;function zc(){return Date.now()/r0}function kI(){const{performance:n}=Ma;if(!n||!n.now)return zc;const e=Date.now()-n.now(),a=n.timeOrigin==null?e:n.timeOrigin;return()=>(a+n.now())/r0}const vi=kI();(()=>{const{performance:n}=Ma;if(!n||!n.now)return;const e=3600*1e3,a=n.now(),o=Date.now(),l=n.timeOrigin?Math.abs(n.timeOrigin+a-o):e,p=l<e,f=n.timing&&n.timing.navigationStart,u=typeof f=="number"?Math.abs(f+a-o):e,h=u<e;return p||h?l<=u?n.timeOrigin:f:o})();function EI(n,e){const a="fetch";Gl(a,n),Vl(a,()=>AI(void 0,e))}function AI(n,e=!1){e&&!_I()||Go(Ma,"fetch",function(a){return function(...o){const{method:l,url:p}=SI(o),f={args:o,fetchData:{method:l,url:p},startTimestamp:vi()*1e3};Ds("fetch",{...f});const d=new Error().stack;return a.apply(Ma,o).then(async u=>(Ds("fetch",{...f,endTimestamp:vi()*1e3,response:u}),u),u=>{throw Ds("fetch",{...f,endTimestamp:vi()*1e3,error:u}),l1(u)&&u.stack===void 0&&(u.stack=d,Fl(u,"framesToPop",1)),u})}})}function vm(n,e){return!!n&&typeof n=="object"&&!!n[e]}function kb(n){return typeof n=="string"?n:n?vm(n,"url")?n.url:n.toString?n.toString():"":""}function SI(n){if(n.length===0)return{method:"GET",url:""};if(n.length===2){const[a,o]=n;return{url:kb(a),method:vm(o,"method")?String(o.method).toUpperCase():"GET"}}const e=n[0];return{url:kb(e),method:vm(e,"method")?String(e.method).toUpperCase():"GET"}}let fd=null;function TI(n){const e="error";Gl(e,n),Vl(e,jI)}function jI(){fd=Ma.onerror,Ma.onerror=function(n,e,a,o,l){return Ds("error",{column:o,error:l,line:a,msg:n,url:e}),fd&&!fd.__SENTRY_LOADER__?fd.apply(this,arguments):!1},Ma.onerror.__SENTRY_INSTRUMENTED__=!0}let hd=null;function II(n){const e="unhandledrejection";Gl(e,n),Vl(e,NI)}function NI(){hd=Ma.onunhandledrejection,Ma.onunhandledrejection=function(n){return Ds("unhandledrejection",n),hd&&!hd.__SENTRY_LOADER__?hd.apply(this,arguments):!0},Ma.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function DI(){return"npm"}function CI(){const n=typeof WeakSet=="function",e=n?new WeakSet:[];function a(l){if(n)return e.has(l)?!0:(e.add(l),!1);for(let p=0;p<e.length;p++)if(e[p]===l)return!0;return e.push(l),!1}function o(l){if(n)e.delete(l);else for(let p=0;p<e.length;p++)if(e[p]===l){e.splice(p,1);break}}return[a,o]}function is(){const n=Ma,e=n.crypto||n.msCrypto;let a=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(a=()=>{const o=new Uint8Array(1);return e.getRandomValues(o),o[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,o=>(o^(a()&15)>>o/4).toString(16))}function o0(n){return n.exception&&n.exception.values?n.exception.values[0]:void 0}function Zi(n){const{message:e,event_id:a}=n;if(e)return e;const o=o0(n);return o?o.type&&o.value?`${o.type}: ${o.value}`:o.type||o.value||a||"<unknown>":a||"<unknown>"}function xm(n,e,a){const o=n.exception=n.exception||{},l=o.values=o.values||[],p=l[0]=l[0]||{};p.value||(p.value=e||""),p.type||(p.type="Error")}function Rc(n,e){const a=o0(n);if(!a)return;const o={type:"generic",handled:!0},l=a.mechanism;if(a.mechanism={...o,...l,...e},e&&"data"in e){const p={...l&&l.data,...e.data};a.mechanism.data=p}}function Eb(n){if(n&&n.__sentry_captured__)return!0;try{Fl(n,"__sentry_captured__",!0)}catch{}return!1}function s0(n){return Array.isArray(n)?n:[n]}function Ji(n,e=100,a=1/0){try{return _m("",n,e,a)}catch(o){return{ERROR:`**non-serializable** (${o})`}}}function i0(n,e=3,a=100*1024){const o=Ji(n,e);return FI(o)>a?i0(n,e-1,a):o}function _m(n,e,a=1/0,o=1/0,l=CI()){const[p,f]=l;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const d=OI(n,e);if(!d.startsWith("[object "))return d;if(e.__sentry_skip_normalization__)return e;const u=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:a;if(u===0)return d.replace("object ","");if(p(e))return"[Circular ~]";const h=e;if(h&&typeof h.toJSON=="function")try{const A=h.toJSON();return _m("",A,u-1,o,l)}catch{}const y=Array.isArray(e)?[]:{};let b=0;const x=e0(e);for(const A in x){if(!Object.prototype.hasOwnProperty.call(x,A))continue;if(b>=o){y[A]="[MaxProperties ~]";break}const j=x[A];y[A]=_m(A,j,u-1,o,l),b++}return f(e),y}function OI(n,e){try{if(n==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(n==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(Yw(e))return"[VueViewModel]";if(eI(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${nl(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const a=BI(e);return/^HTML(\w*)Element$/.test(a)?`[HTMLElement: ${a}]`:`[object ${a}]`}catch(a){return`**non-serializable** (${a})`}}function BI(n){const e=Object.getPrototypeOf(n);return e?e.constructor.name:"null prototype"}function RI(n){return~-encodeURI(n).split(/%..|./).length}function FI(n){return RI(JSON.stringify(n))}var hi;(function(n){n[n.PENDING=0]="PENDING";const a=1;n[n.RESOLVED=a]="RESOLVED";const o=2;n[n.REJECTED=o]="REJECTED"})(hi||(hi={}));function Pl(n){return new ts(e=>{e(n)})}function Nd(n){return new ts((e,a)=>{a(n)})}class ts{constructor(e){ts.prototype.__init.call(this),ts.prototype.__init2.call(this),ts.prototype.__init3.call(this),ts.prototype.__init4.call(this),this._state=hi.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(a){this._reject(a)}}then(e,a){return new ts((o,l)=>{this._handlers.push([!1,p=>{if(!e)o(p);else try{o(e(p))}catch(f){l(f)}},p=>{if(!a)l(p);else try{o(a(p))}catch(f){l(f)}}]),this._executeHandlers()})}catch(e){return this.then(a=>a,e)}finally(e){return new ts((a,o)=>{let l,p;return this.then(f=>{p=!1,l=f,e&&e()},f=>{p=!0,l=f,e&&e()}).then(()=>{if(p){o(l);return}a(l)})})}__init(){this._resolve=e=>{this._setResult(hi.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(hi.REJECTED,e)}}__init3(){this._setResult=(e,a)=>{if(this._state===hi.PENDING){if($d(a)){a.then(this._resolve,this._reject);return}this._state=e,this._value=a,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===hi.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(a=>{a[0]||(this._state===hi.RESOLVED&&a[1](this._value),this._state===hi.REJECTED&&a[2](this._value),a[0]=!0)})}}}function MI(n){const e=[];function a(){return n===void 0||e.length<n}function o(f){return e.splice(e.indexOf(f),1)[0]||Promise.resolve(void 0)}function l(f){if(!a())return Nd(new Qs("Not adding Promise because buffer limit was reached."));const d=f();return e.indexOf(d)===-1&&e.push(d),d.then(()=>o(d)).then(null,()=>o(d).then(null,()=>{})),d}function p(f){return new ts((d,u)=>{let h=e.length;if(!h)return d(!0);const y=setTimeout(()=>{f&&f>0&&d(!1)},f);e.forEach(b=>{Pl(b).then(()=>{--h||(clearTimeout(y),d(!0))},u)})})}return{$:e,add:l,drain:p}}function Zh(n){if(!n)return{};const e=n.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const a=e[6]||"",o=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:a,hash:o,relative:e[5]+a+o}}const PI=["fatal","error","warning","log","info","debug"];function LI(n){return n==="warn"?"warning":PI.includes(n)?n:"log"}const UI="sentry-",zI=/^sentry-/;function $I(n){const e=GI(n);if(!e)return;const a=Object.entries(e).reduce((o,[l,p])=>{if(l.match(zI)){const f=l.slice(UI.length);o[f]=p}return o},{});if(Object.keys(a).length>0)return a}function GI(n){if(!(!n||!wi(n)&&!Array.isArray(n)))return Array.isArray(n)?n.reduce((e,a)=>{const o=Ab(a);return Object.entries(o).forEach(([l,p])=>{e[l]=p}),e},{}):Ab(n)}function Ab(n){return n.split(",").map(e=>e.split("=").map(a=>decodeURIComponent(a.trim()))).reduce((e,[a,o])=>(a&&o&&(e[a]=o),e),{})}function $c(n,e=[]){return[n,e]}function VI(n,e){const[a,o]=n;return[a,[...o,e]]}function Sb(n,e){const a=n[1];for(const o of a){const l=o[0].type;if(e(o,l))return!0}return!1}function km(n){return Ma.__SENTRY__&&Ma.__SENTRY__.encodePolyfill?Ma.__SENTRY__.encodePolyfill(n):new TextEncoder().encode(n)}function HI(n){const[e,a]=n;let o=JSON.stringify(e);function l(p){typeof o=="string"?o=typeof p=="string"?o+p:[km(o),p]:o.push(typeof p=="string"?km(p):p)}for(const p of a){const[f,d]=p;if(l(`
${JSON.stringify(f)}
`),typeof d=="string"||d instanceof Uint8Array)l(d);else{let u;try{u=JSON.stringify(d)}catch{u=JSON.stringify(Ji(d))}l(u)}}return typeof o=="string"?o:WI(o)}function WI(n){const e=n.reduce((l,p)=>l+p.length,0),a=new Uint8Array(e);let o=0;for(const l of n)a.set(l,o),o+=l.length;return a}function KI(n){const e=typeof n.data=="string"?km(n.data):n.data;return[ns({type:"attachment",length:e.length,filename:n.filename,content_type:n.contentType,attachment_type:n.attachmentType}),e]}const XI={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function Tb(n){return XI[n]}function l0(n){if(!n||!n.sdk)return;const{name:e,version:a}=n.sdk;return{name:e,version:a}}function YI(n,e,a,o){const l=n.sdkProcessingMetadata&&n.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:n.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!a&&o&&{dsn:Hd(o)},...l&&{trace:ns({...l})}}}function qI(n,e,a){const o=[{type:"client_report"},{timestamp:zc(),discarded_events:n}];return $c(e?{dsn:e}:{},[o])}const ZI=60*1e3;function JI(n,e=Date.now()){const a=parseInt(`${n}`,10);if(!isNaN(a))return a*1e3;const o=Date.parse(`${n}`);return isNaN(o)?ZI:o-e}function QI(n,e){return n[e]||n.all||0}function eN(n,e,a=Date.now()){return QI(n,e)>a}function tN(n,{statusCode:e,headers:a},o=Date.now()){const l={...n},p=a&&a["x-sentry-rate-limits"],f=a&&a["retry-after"];if(p)for(const d of p.trim().split(",")){const[u,h,,,y]=d.split(":",5),b=parseInt(u,10),x=(isNaN(b)?60:b)*1e3;if(!h)l.all=o+x;else for(const A of h.split(";"))A==="metric_bucket"?(!y||y.split(";").includes("custom"))&&(l[A]=o+x):l[A]=o+x}else f?l.all=o+JI(f,o):e===429&&(l.all=o+60*1e3);return l}function jb(){return{traceId:is(),spanId:is().substring(16)}}const md=Ma;function nN(){const n=md.chrome,e=n&&n.app&&n.app.runtime,a="history"in md&&!!md.history.pushState&&!!md.history.replaceState;return!e&&a}const Xa=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Wd(){return f1(Ma),Ma}function f1(n){const e=n.__SENTRY__=n.__SENTRY__||{};return e.version=e.version||Bl,e[Bl]=e[Bl]||{}}function aN(n){const e=vi(),a={sid:is(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>oN(a)};return n&&Bu(a,n),a}function Bu(n,e={}){if(e.user&&(!n.ipAddress&&e.user.ip_address&&(n.ipAddress=e.user.ip_address),!n.did&&!e.did&&(n.did=e.user.id||e.user.email||e.user.username)),n.timestamp=e.timestamp||vi(),e.abnormal_mechanism&&(n.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(n.ignoreDuration=e.ignoreDuration),e.sid&&(n.sid=e.sid.length===32?e.sid:is()),e.init!==void 0&&(n.init=e.init),!n.did&&e.did&&(n.did=`${e.did}`),typeof e.started=="number"&&(n.started=e.started),n.ignoreDuration)n.duration=void 0;else if(typeof e.duration=="number")n.duration=e.duration;else{const a=n.timestamp-n.started;n.duration=a>=0?a:0}e.release&&(n.release=e.release),e.environment&&(n.environment=e.environment),!n.ipAddress&&e.ipAddress&&(n.ipAddress=e.ipAddress),!n.userAgent&&e.userAgent&&(n.userAgent=e.userAgent),typeof e.errors=="number"&&(n.errors=e.errors),e.status&&(n.status=e.status)}function rN(n,e){let a={};n.status==="ok"&&(a={status:"exited"}),Bu(n,a)}function oN(n){return ns({sid:`${n.sid}`,init:n.init,started:new Date(n.started*1e3).toISOString(),timestamp:new Date(n.timestamp*1e3).toISOString(),status:n.status,errors:n.errors,did:typeof n.did=="number"||typeof n.did=="string"?`${n.did}`:void 0,duration:n.duration,abnormal_mechanism:n.abnormal_mechanism,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}})}const Em="_sentrySpan";function Ib(n,e){e?Fl(n,Em,e):delete n[Em]}function Nb(n){return n[Em]}const sN=100;class h1{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=jb()}clone(){const e=new h1;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,Ib(e,Nb(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Bu(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,a){return this._tags={...this._tags,[e]:a},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,a){return this._extra={...this._extra,[e]:a},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,a){return a===null?delete this._contexts[e]:this._contexts[e]=a,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const a=typeof e=="function"?e(this):e,[o,l]=a instanceof Ll?[a.getScopeData(),a.getRequestSession()]:Ou(a)?[e,e.requestSession]:[],{tags:p,extra:f,user:d,contexts:u,level:h,fingerprint:y=[],propagationContext:b}=o||{};return this._tags={...this._tags,...p},this._extra={...this._extra,...f},this._contexts={...this._contexts,...u},d&&Object.keys(d).length&&(this._user=d),h&&(this._level=h),y.length&&(this._fingerprint=y),b&&(this._propagationContext=b),l&&(this._requestSession=l),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Ib(this,void 0),this._attachments=[],this._propagationContext=jb(),this._notifyScopeListeners(),this}addBreadcrumb(e,a){const o=typeof a=="number"?a:sN;if(o<=0)return this;const l={timestamp:zc(),...e},p=this._breadcrumbs;return p.push(l),this._breadcrumbs=p.length>o?p.slice(-o):p,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Nb(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,a){const o=a&&a.event_id?a.event_id:is();if(!this._client)return Un.warn("No client configured on scope - will not capture exception!"),o;const l=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:l,...a,event_id:o},this),o}captureMessage(e,a,o){const l=o&&o.event_id?o.event_id:is();if(!this._client)return Un.warn("No client configured on scope - will not capture message!"),l;const p=new Error(e);return this._client.captureMessage(e,a,{originalException:e,syntheticException:p,...o,event_id:l},this),l}captureEvent(e,a){const o=a&&a.event_id?a.event_id:is();return this._client?(this._client.captureEvent(e,{...a,event_id:o},this),o):(Un.warn("No client configured on scope - will not capture event!"),o)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}const Ll=h1;function iN(){return Vd("defaultCurrentScope",()=>new Ll)}function lN(){return Vd("defaultIsolationScope",()=>new Ll)}class uN{constructor(e,a){let o;e?o=e:o=new Ll;let l;a?l=a:l=new Ll,this._stack=[{scope:o}],this._isolationScope=l}withScope(e){const a=this._pushScope();let o;try{o=e(a)}catch(l){throw this._popScope(),l}return $d(o)?o.then(l=>(this._popScope(),l),l=>{throw this._popScope(),l}):(this._popScope(),o)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Ru(){const n=Wd(),e=f1(n);return e.stack=e.stack||new uN(iN(),lN())}function cN(n){return Ru().withScope(n)}function pN(n,e){const a=Ru();return a.withScope(()=>(a.getStackTop().scope=n,e(n)))}function Db(n){return Ru().withScope(()=>n(Ru().getIsolationScope()))}function dN(){return{withIsolationScope:Db,withScope:cN,withSetScope:pN,withSetIsolationScope:(n,e)=>Db(e),getCurrentScope:()=>Ru().getScope(),getIsolationScope:()=>Ru().getIsolationScope()}}function m1(n){const e=f1(n);return e.acs?e.acs:dN()}function rl(){const n=Wd();return m1(n).getCurrentScope()}function Yu(){const n=Wd();return m1(n).getIsolationScope()}function fN(){return Vd("globalScope",()=>new Ll)}function hN(...n){const e=Wd(),a=m1(e);if(n.length===2){const[o,l]=n;return o?a.withSetScope(o,l):a.withScope(l)}return a.withScope(n[0])}function io(){return rl().getClient()}const mN="_sentryMetrics";function gN(n){const e=n[mN];if(!e)return;const a={};for(const[,[o,l]]of e)(a[o]||(a[o]=[])).push(ns(l));return a}const yN="sentry.source",bN="sentry.sample_rate",wN="sentry.op",vN="sentry.origin",xN=0,_N=1,kN=1;function EN(n){const{spanId:e,traceId:a}=n.spanContext(),{parent_span_id:o}=Dd(n);return ns({parent_span_id:o,span_id:e,trace_id:a})}function Cb(n){return typeof n=="number"?Ob(n):Array.isArray(n)?n[0]+n[1]/1e9:n instanceof Date?Ob(n.getTime()):vi()}function Ob(n){return n>9999999999?n/1e3:n}function Dd(n){if(SN(n))return n.getSpanJSON();try{const{spanId:e,traceId:a}=n.spanContext();if(AN(n)){const{attributes:o,startTime:l,name:p,endTime:f,parentSpanId:d,status:u}=n;return ns({span_id:e,trace_id:a,data:o,description:p,parent_span_id:d,start_timestamp:Cb(l),timestamp:Cb(f)||void 0,status:jN(u),op:o[wN],origin:o[vN],_metrics_summary:gN(n)})}return{span_id:e,trace_id:a}}catch{return{}}}function AN(n){const e=n;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}function SN(n){return typeof n.getSpanJSON=="function"}function TN(n){const{traceFlags:e}=n.spanContext();return e===kN}function jN(n){if(!(!n||n.code===xN))return n.code===_N?"ok":n.message||"unknown_error"}const IN="_sentryRootSpan";function u0(n){return n[IN]||n}function NN(n){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=io(),a=e&&e.getOptions();return!!a&&(a.enableTracing||"tracesSampleRate"in a||"tracesSampler"in a)}const g1="production",DN="_frozenDsc";function c0(n,e){const a=e.getOptions(),{publicKey:o}=e.getDsn()||{},l=ns({environment:a.environment||g1,release:a.release,public_key:o,trace_id:n});return e.emit("createDsc",l),l}function CN(n){const e=io();if(!e)return{};const a=c0(Dd(n).trace_id||"",e),o=u0(n),l=o[DN];if(l)return l;const p=o.spanContext().traceState,f=p&&p.get("sentry.dsc"),d=f&&$I(f);if(d)return d;const u=Dd(o),h=u.data||{},y=h[bN];y!=null&&(a.sample_rate=`${y}`);const b=h[yN],x=u.description;return b!=="url"&&x&&(a.transaction=x),NN()&&(a.sampled=String(TN(o))),e.emit("createDsc",a,o),a}function ON(n){if(typeof n=="boolean")return Number(n);const e=typeof n=="string"?parseFloat(n):n;if(typeof e!="number"||isNaN(e)||e<0||e>1){Xa&&Un.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(n)} of type ${JSON.stringify(typeof n)}.`);return}return e}function BN(n,e){return e&&(n.sdk=n.sdk||{},n.sdk.name=n.sdk.name||e.name,n.sdk.version=n.sdk.version||e.version,n.sdk.integrations=[...n.sdk.integrations||[],...e.integrations||[]],n.sdk.packages=[...n.sdk.packages||[],...e.packages||[]]),n}function RN(n,e,a,o){const l=l0(a),p={sent_at:new Date().toISOString(),...l&&{sdk:l},...!!o&&e&&{dsn:Hd(e)}},f="aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n.toJSON()];return $c(p,[f])}function FN(n,e,a,o){const l=l0(a),p=n.type&&n.type!=="replay_event"?n.type:"event";BN(n,a&&a.sdk);const f=YI(n,l,o,e);return delete n.sdkProcessingMetadata,$c(f,[[{type:p},n]])}function Am(n,e,a,o=0){return new ts((l,p)=>{const f=n[o];if(e===null||typeof f!="function")l(e);else{const d=f({...e},a);Xa&&f.id&&d===null&&Un.log(`Event processor "${f.id}" dropped event`),$d(d)?d.then(u=>Am(n,u,a,o+1).then(l)).then(null,p):Am(n,d,a,o+1).then(l).then(null,p)}})}function MN(n,e){const{fingerprint:a,span:o,breadcrumbs:l,sdkProcessingMetadata:p}=e;PN(n,e),o&&zN(n,o),$N(n,a),LN(n,l),UN(n,p)}function Bb(n,e){const{extra:a,tags:o,user:l,contexts:p,level:f,sdkProcessingMetadata:d,breadcrumbs:u,fingerprint:h,eventProcessors:y,attachments:b,propagationContext:x,transactionName:A,span:j}=e;Sc(n,"extra",a),Sc(n,"tags",o),Sc(n,"user",l),Sc(n,"contexts",p),Sc(n,"sdkProcessingMetadata",d),f&&(n.level=f),A&&(n.transactionName=A),j&&(n.span=j),u.length&&(n.breadcrumbs=[...n.breadcrumbs,...u]),h.length&&(n.fingerprint=[...n.fingerprint,...h]),y.length&&(n.eventProcessors=[...n.eventProcessors,...y]),b.length&&(n.attachments=[...n.attachments,...b]),n.propagationContext={...n.propagationContext,...x}}function Sc(n,e,a){if(a&&Object.keys(a).length){n[e]={...n[e]};for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[e][o]=a[o])}}function PN(n,e){const{extra:a,tags:o,user:l,contexts:p,level:f,transactionName:d}=e,u=ns(a);u&&Object.keys(u).length&&(n.extra={...u,...n.extra});const h=ns(o);h&&Object.keys(h).length&&(n.tags={...h,...n.tags});const y=ns(l);y&&Object.keys(y).length&&(n.user={...y,...n.user});const b=ns(p);b&&Object.keys(b).length&&(n.contexts={...b,...n.contexts}),f&&(n.level=f),d&&n.type!=="transaction"&&(n.transaction=d)}function LN(n,e){const a=[...n.breadcrumbs||[],...e];n.breadcrumbs=a.length?a:void 0}function UN(n,e){n.sdkProcessingMetadata={...n.sdkProcessingMetadata,...e}}function zN(n,e){n.contexts={trace:EN(e),...n.contexts},n.sdkProcessingMetadata={dynamicSamplingContext:CN(e),...n.sdkProcessingMetadata};const a=u0(e),o=Dd(a).description;o&&!n.transaction&&n.type==="transaction"&&(n.transaction=o)}function $N(n,e){n.fingerprint=n.fingerprint?s0(n.fingerprint):[],e&&(n.fingerprint=n.fingerprint.concat(e)),n.fingerprint&&!n.fingerprint.length&&delete n.fingerprint}function GN(n,e,a,o,l,p){const{normalizeDepth:f=3,normalizeMaxBreadth:d=1e3}=n,u={...e,event_id:e.event_id||a.event_id||is(),timestamp:e.timestamp||zc()},h=a.integrations||n.integrations.map(I=>I.name);VN(u,n),KN(u,h),l&&l.emit("applyFrameMetadata",e),e.type===void 0&&HN(u,n.stackParser);const y=YN(o,a.captureContext);a.mechanism&&Rc(u,a.mechanism);const b=l?l.getEventProcessors():[],x=fN().getScopeData();if(p){const I=p.getScopeData();Bb(x,I)}if(y){const I=y.getScopeData();Bb(x,I)}const A=[...a.attachments||[],...x.attachments];A.length&&(a.attachments=A),MN(u,x);const j=[...b,...x.eventProcessors];return Am(j,u,a).then(I=>(I&&WN(I),typeof f=="number"&&f>0?XN(I,f,d):I))}function VN(n,e){const{environment:a,release:o,dist:l,maxValueLength:p=250}=e;"environment"in n||(n.environment="environment"in e?a:g1),n.release===void 0&&o!==void 0&&(n.release=o),n.dist===void 0&&l!==void 0&&(n.dist=l),n.message&&(n.message=Cu(n.message,p));const f=n.exception&&n.exception.values&&n.exception.values[0];f&&f.value&&(f.value=Cu(f.value,p));const d=n.request;d&&d.url&&(d.url=Cu(d.url,p))}const Rb=new WeakMap;function HN(n,e){const a=Ma._sentryDebugIds;if(!a)return;let o;const l=Rb.get(e);l?o=l:(o=new Map,Rb.set(e,o));const p=Object.entries(a).reduce((f,[d,u])=>{let h;const y=o.get(d);y?h=y:(h=e(d),o.set(d,h));for(let b=h.length-1;b>=0;b--){const x=h[b];if(x.filename){f[x.filename]=u;break}}return f},{});try{n.exception.values.forEach(f=>{f.stacktrace.frames.forEach(d=>{d.filename&&(d.debug_id=p[d.filename])})})}catch{}}function WN(n){const e={};try{n.exception.values.forEach(o=>{o.stacktrace.frames.forEach(l=>{l.debug_id&&(l.abs_path?e[l.abs_path]=l.debug_id:l.filename&&(e[l.filename]=l.debug_id),delete l.debug_id)})})}catch{}if(Object.keys(e).length===0)return;n.debug_meta=n.debug_meta||{},n.debug_meta.images=n.debug_meta.images||[];const a=n.debug_meta.images;Object.entries(e).forEach(([o,l])=>{a.push({type:"sourcemap",code_file:o,debug_id:l})})}function KN(n,e){e.length>0&&(n.sdk=n.sdk||{},n.sdk.integrations=[...n.sdk.integrations||[],...e])}function XN(n,e,a){if(!n)return null;const o={...n,...n.breadcrumbs&&{breadcrumbs:n.breadcrumbs.map(l=>({...l,...l.data&&{data:Ji(l.data,e,a)}}))},...n.user&&{user:Ji(n.user,e,a)},...n.contexts&&{contexts:Ji(n.contexts,e,a)},...n.extra&&{extra:Ji(n.extra,e,a)}};return n.contexts&&n.contexts.trace&&o.contexts&&(o.contexts.trace=n.contexts.trace,n.contexts.trace.data&&(o.contexts.trace.data=Ji(n.contexts.trace.data,e,a))),n.spans&&(o.spans=n.spans.map(l=>({...l,...l.data&&{data:Ji(l.data,e,a)}}))),o}function YN(n,e){if(!e)return n;const a=n?n.clone():new Ll;return a.update(e),a}function qN(n,e){return rl().captureException(n,void 0)}function p0(n,e){return rl().captureEvent(n,e)}function ZN(n){Yu().setUser(n)}function Fb(n){const e=io(),a=Yu(),o=rl(),{release:l,environment:p=g1}=e&&e.getOptions()||{},{userAgent:f}=Ma.navigator||{},d=aN({release:l,environment:p,user:o.getUser()||a.getUser(),...f&&{userAgent:f},...n}),u=a.getSession();return u&&u.status==="ok"&&Bu(u,{status:"exited"}),d0(),a.setSession(d),o.setSession(d),d}function d0(){const n=Yu(),e=rl(),a=e.getSession()||n.getSession();a&&rN(a),f0(),n.setSession(),e.setSession()}function f0(){const n=Yu(),e=rl(),a=io(),o=e.getSession()||n.getSession();o&&a&&a.captureSession(o)}function Mb(n=!1){if(n){d0();return}f0()}const JN="7";function QN(n){const e=n.protocol?`${n.protocol}:`:"",a=n.port?`:${n.port}`:"";return`${e}//${n.host}${a}${n.path?`/${n.path}`:""}/api/`}function eD(n){return`${QN(n)}${n.projectId}/envelope/`}function tD(n,e){return mI({sentry_key:n.publicKey,sentry_version:JN,...e&&{sentry_client:`${e.name}/${e.version}`}})}function nD(n,e,a){return e||`${eD(n)}?${tD(n,a)}`}const Pb=[];function aD(n){const e={};return n.forEach(a=>{const{name:o}=a,l=e[o];l&&!l.isDefaultInstance&&a.isDefaultInstance||(e[o]=a)}),Object.values(e)}function rD(n){const e=n.defaultIntegrations||[],a=n.integrations;e.forEach(f=>{f.isDefaultInstance=!0});let o;Array.isArray(a)?o=[...e,...a]:typeof a=="function"?o=s0(a(e)):o=e;const l=aD(o),p=l.findIndex(f=>f.name==="Debug");if(p>-1){const[f]=l.splice(p,1);l.push(f)}return l}function oD(n,e){const a={};return e.forEach(o=>{o&&h0(n,o,a)}),a}function Lb(n,e){for(const a of e)a&&a.afterAllSetup&&a.afterAllSetup(n)}function h0(n,e,a){if(a[e.name]){Xa&&Un.log(`Integration skipped because it was already installed: ${e.name}`);return}if(a[e.name]=e,Pb.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),Pb.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(n),typeof e.preprocessEvent=="function"){const o=e.preprocessEvent.bind(e);n.on("preprocessEvent",(l,p)=>o(l,p,n))}if(typeof e.processEvent=="function"){const o=e.processEvent.bind(e),l=Object.assign((p,f)=>o(p,f,n),{id:e.name});n.addEventProcessor(l)}Xa&&Un.log(`Integration installed: ${e.name}`)}const Ub="Not capturing exception because it's already been captured.";class sD{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=hI(e.dsn):Xa&&Un.warn("No DSN provided, client will not send events."),this._dsn){const a=nD(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:a})}}captureException(e,a,o){const l=is();if(Eb(e))return Xa&&Un.log(Ub),l;const p={event_id:l,...a};return this._process(this.eventFromException(e,p).then(f=>this._captureEvent(f,p,o))),p.event_id}captureMessage(e,a,o,l){const p={event_id:is(),...o},f=u1(e)?e:String(e),d=c1(e)?this.eventFromMessage(f,a,p):this.eventFromException(e,p);return this._process(d.then(u=>this._captureEvent(u,p,l))),p.event_id}captureEvent(e,a,o){const l=is();if(a&&a.originalException&&Eb(a.originalException))return Xa&&Un.log(Ub),l;const p={event_id:l,...a},d=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,p,d||o)),p.event_id}captureSession(e){typeof e.release!="string"?Xa&&Un.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Bu(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const a=this._transport;return a?(this.emit("flush"),this._isClientDoneProcessing(e).then(o=>a.flush(e).then(l=>o&&l))):Pl(!0)}close(e){return this.flush(e).then(a=>(this.getOptions().enabled=!1,this.emit("close"),a))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const a=this._integrations[e.name];h0(this,e,this._integrations),a||Lb(this,[e])}sendEvent(e,a={}){this.emit("beforeSendEvent",e,a);let o=FN(e,this._dsn,this._options._metadata,this._options.tunnel);for(const p of a.attachments||[])o=VI(o,KI(p));const l=this.sendEnvelope(o);l&&l.then(p=>this.emit("afterSendEvent",e,p),null)}sendSession(e){const a=RN(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(a)}recordDroppedEvent(e,a,o){if(this._options.sendClientReports){const l=typeof o=="number"?o:1,p=`${e}:${a}`;Xa&&Un.log(`Recording outcome: "${p}"${l>1?` (${l} times)`:""}`),this._outcomes[p]=(this._outcomes[p]||0)+l}}on(e,a){const o=this._hooks[e]=this._hooks[e]||[];return o.push(a),()=>{const l=o.indexOf(a);l>-1&&o.splice(l,1)}}emit(e,...a){const o=this._hooks[e];o&&o.forEach(l=>l(...a))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,a=>(Xa&&Un.error("Error while sending event:",a),a)):(Xa&&Un.error("Transport disabled"),Pl({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=oD(this,e),Lb(this,e)}_updateSessionFromEvent(e,a){let o=!1,l=!1;const p=a.exception&&a.exception.values;if(p){l=!0;for(const u of p){const h=u.mechanism;if(h&&h.handled===!1){o=!0;break}}}const f=e.status==="ok";(f&&e.errors===0||f&&o)&&(Bu(e,{...o&&{status:"crashed"},errors:e.errors||Number(l||o)}),this.captureSession(e))}_isClientDoneProcessing(e){return new ts(a=>{let o=0;const l=1,p=setInterval(()=>{this._numProcessing==0?(clearInterval(p),a(!0)):(o+=l,e&&o>=e&&(clearInterval(p),a(!1)))},l)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,a,o,l=Yu()){const p=this.getOptions(),f=Object.keys(this._integrations);return!a.integrations&&f.length>0&&(a.integrations=f),this.emit("preprocessEvent",e,a),e.type||l.setLastEventId(e.event_id||a.event_id),GN(p,e,a,o,this,l).then(d=>{if(d===null)return d;const u={...l.getPropagationContext(),...o?o.getPropagationContext():void 0};if(!(d.contexts&&d.contexts.trace)&&u){const{traceId:y,spanId:b,parentSpanId:x,dsc:A}=u;d.contexts={trace:ns({trace_id:y,span_id:b,parent_span_id:x}),...d.contexts};const j=A||c0(y,this);d.sdkProcessingMetadata={dynamicSamplingContext:j,...d.sdkProcessingMetadata}}return d})}_captureEvent(e,a={},o){return this._processEvent(e,a,o).then(l=>l.event_id,l=>{if(Xa){const p=l;p.logLevel==="log"?Un.log(p.message):Un.warn(p)}})}_processEvent(e,a,o){const l=this.getOptions(),{sampleRate:p}=l,f=g0(e),d=m0(e),u=e.type||"error",h=`before send for type \`${u}\``,y=typeof p>"u"?void 0:ON(p);if(d&&typeof y=="number"&&Math.random()>y)return this.recordDroppedEvent("sample_rate","error",e),Nd(new Qs(`Discarding event because it's not included in the random sample (sampling rate = ${p})`,"log"));const b=u==="replay_event"?"replay":u,A=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,a,o,A).then(j=>{if(j===null)throw this.recordDroppedEvent("event_processor",b,e),new Qs("An event processor returned `null`, will not send event.","log");if(a.data&&a.data.__sentry__===!0)return j;const I=lD(this,l,j,a);return iD(I,h)}).then(j=>{if(j===null){if(this.recordDroppedEvent("before_send",b,e),f){const G=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",G)}throw new Qs(`${h} returned \`null\`, will not send event.`,"log")}const T=o&&o.getSession();if(!f&&T&&this._updateSessionFromEvent(T,j),f){const S=j.sdkProcessingMetadata&&j.sdkProcessingMetadata.spanCountBeforeProcessing||0,G=j.spans?j.spans.length:0,D=S-G;D>0&&this.recordDroppedEvent("before_send","span",D)}const I=j.transaction_info;if(f&&I&&j.transaction!==e.transaction){const S="custom";j.transaction_info={...I,source:S}}return this.sendEvent(j,a),j}).then(null,j=>{throw j instanceof Qs?j:(this.captureException(j,{data:{__sentry__:!0},originalException:j}),new Qs(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${j}`))})}_process(e){this._numProcessing++,e.then(a=>(this._numProcessing--,a),a=>(this._numProcessing--,a))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([a,o])=>{const[l,p]=a.split(":");return{reason:l,category:p,quantity:o}})}_flushOutcomes(){Xa&&Un.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0){Xa&&Un.log("No outcomes to send");return}if(!this._dsn){Xa&&Un.log("No dsn provided, will not send outcomes");return}Xa&&Un.log("Sending outcomes:",e);const a=qI(e,this._options.tunnel&&Hd(this._dsn));this.sendEnvelope(a)}}function iD(n,e){const a=`${e} must return \`null\` or a valid event.`;if($d(n))return n.then(o=>{if(!Ou(o)&&o!==null)throw new Qs(a);return o},o=>{throw new Qs(`${e} rejected with ${o}`)});if(!Ou(n)&&n!==null)throw new Qs(a);return n}function lD(n,e,a,o){const{beforeSend:l,beforeSendTransaction:p,beforeSendSpan:f}=e;if(m0(a)&&l)return l(a,o);if(g0(a)){if(a.spans&&f){const d=[];for(const u of a.spans){const h=f(u);h?d.push(h):n.recordDroppedEvent("before_send","span")}a.spans=d}if(p){if(a.spans){const d=a.spans.length;a.sdkProcessingMetadata={...a.sdkProcessingMetadata,spanCountBeforeProcessing:d}}return p(a,o)}}return a}function m0(n){return n.type===void 0}function g0(n){return n.type==="transaction"}function uD(n,e){e.debug===!0&&(Xa?Un.enable():Uc(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),rl().update(e.initialScope);const o=new n(e);return cD(o),o.init(),o}function cD(n){rl().setClient(n)}const pD=64;function dD(n,e,a=MI(n.bufferSize||pD)){let o={};const l=f=>a.drain(f);function p(f){const d=[];if(Sb(f,(b,x)=>{const A=Tb(x);if(eN(o,A)){const j=zb(b,x);n.recordDroppedEvent("ratelimit_backoff",A,j)}else d.push(b)}),d.length===0)return Pl({});const u=$c(f[0],d),h=b=>{Sb(u,(x,A)=>{const j=zb(x,A);n.recordDroppedEvent(b,Tb(A),j)})},y=()=>e({body:HI(u)}).then(b=>(b.statusCode!==void 0&&(b.statusCode<200||b.statusCode>=300)&&Xa&&Un.warn(`Sentry responded with status code ${b.statusCode} to sent event.`),o=tN(o,b),b),b=>{throw h("network_error"),b});return a.add(y).then(b=>b,b=>{if(b instanceof Qs)return Xa&&Un.error("Skipped sending event because buffer is full."),h("queue_overflow"),Pl({});throw b})}return{send:p,flush:l}}function zb(n,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(n)?n[1]:void 0}function fD(n,e,a=[e],o="npm"){const l=n._metadata||{};l.sdk||(l.sdk={name:`sentry.javascript.${e}`,packages:a.map(p=>({name:`${o}:@sentry/${p}`,version:Bl})),version:Bl}),n._metadata=l}const hD=100;function Ul(n,e){const a=io(),o=Yu();if(!a)return;const{beforeBreadcrumb:l=null,maxBreadcrumbs:p=hD}=a.getOptions();if(p<=0)return;const d={timestamp:zc(),...n},u=l?Uc(()=>l(d,e)):d;u!==null&&(a.emit&&a.emit("beforeAddBreadcrumb",u,e),o.addBreadcrumb(u,p))}let $b;const mD="FunctionToString",Gb=new WeakMap,gD=()=>({name:mD,setupOnce(){$b=Function.prototype.toString;try{Function.prototype.toString=function(...n){const e=d1(this),a=Gb.has(io())&&e!==void 0?e:this;return $b.apply(a,n)}}catch{}},setup(n){Gb.set(n,!0)}}),yD=gD,bD=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],wD="InboundFilters",vD=(n={})=>({name:wD,processEvent(e,a,o){const l=o.getOptions(),p=_D(n,l);return kD(e,p)?null:e}}),xD=vD;function _D(n={},e={}){return{allowUrls:[...n.allowUrls||[],...e.allowUrls||[]],denyUrls:[...n.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...n.ignoreErrors||[],...e.ignoreErrors||[],...n.disableErrorDefaults?[]:bD],ignoreTransactions:[...n.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:n.ignoreInternal!==void 0?n.ignoreInternal:!0}}function kD(n,e){return e.ignoreInternal&&ID(n)?(Xa&&Un.warn(`Event dropped due to being internal Sentry Error.
Event: ${Zi(n)}`),!0):ED(n,e.ignoreErrors)?(Xa&&Un.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Zi(n)}`),!0):DD(n)?(Xa&&Un.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Zi(n)}`),!0):AD(n,e.ignoreTransactions)?(Xa&&Un.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Zi(n)}`),!0):SD(n,e.denyUrls)?(Xa&&Un.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Zi(n)}.
Url: ${Cd(n)}`),!0):TD(n,e.allowUrls)?!1:(Xa&&Un.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Zi(n)}.
Url: ${Cd(n)}`),!0)}function ED(n,e){return n.type||!e||!e.length?!1:jD(n).some(a=>Gd(a,e))}function AD(n,e){if(n.type!=="transaction"||!e||!e.length)return!1;const a=n.transaction;return a?Gd(a,e):!1}function SD(n,e){if(!e||!e.length)return!1;const a=Cd(n);return a?Gd(a,e):!1}function TD(n,e){if(!e||!e.length)return!0;const a=Cd(n);return a?Gd(a,e):!0}function jD(n){const e=[];n.message&&e.push(n.message);let a;try{a=n.exception.values[n.exception.values.length-1]}catch{}return a&&a.value&&(e.push(a.value),a.type&&e.push(`${a.type}: ${a.value}`)),e}function ID(n){try{return n.exception.values[0].type==="SentryError"}catch{}return!1}function ND(n=[]){for(let e=n.length-1;e>=0;e--){const a=n[e];if(a&&a.filename!=="<anonymous>"&&a.filename!=="[native code]")return a.filename||null}return null}function Cd(n){try{let e;try{e=n.exception.values[0].stacktrace.frames}catch{}return e?ND(e):null}catch{return Xa&&Un.error(`Cannot extract url for event ${Zi(n)}`),null}}function DD(n){return n.type||!n.exception||!n.exception.values||n.exception.values.length===0?!1:!n.message&&!n.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value)}const CD="Dedupe",OD=()=>{let n;return{name:CD,processEvent(e){if(e.type)return e;try{if(RD(e,n))return Xa&&Un.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return n=e}}},BD=OD;function RD(n,e){return e?!!(FD(n,e)||MD(n,e)):!1}function FD(n,e){const a=n.message,o=e.message;return!(!a&&!o||a&&!o||!a&&o||a!==o||!b0(n,e)||!y0(n,e))}function MD(n,e){const a=Vb(e),o=Vb(n);return!(!a||!o||a.type!==o.type||a.value!==o.value||!b0(n,e)||!y0(n,e))}function y0(n,e){let a=xb(n),o=xb(e);if(!a&&!o)return!0;if(a&&!o||!a&&o||(a=a,o=o,o.length!==a.length))return!1;for(let l=0;l<o.length;l++){const p=o[l],f=a[l];if(p.filename!==f.filename||p.lineno!==f.lineno||p.colno!==f.colno||p.function!==f.function)return!1}return!0}function b0(n,e){let a=n.fingerprint,o=e.fingerprint;if(!a&&!o)return!0;if(a&&!o||!a&&o)return!1;a=a,o=o;try{return a.join("")===o.join("")}catch{return!1}}function Vb(n){return n.exception&&n.exception.values&&n.exception.values[0]}const Ya=Ma;let Sm=0;function w0(){return Sm>0}function PD(){Sm++,setTimeout(()=>{Sm--})}function Fu(n,e={},a){if(typeof n!="function")return n;try{const l=n.__sentry_wrapped__;if(l)return typeof l=="function"?l:n;if(d1(n))return n}catch{return n}const o=function(){const l=Array.prototype.slice.call(arguments);try{const p=l.map(f=>Fu(f,e));return n.apply(this,p)}catch(p){throw PD(),hN(f=>{f.addEventProcessor(d=>(e.mechanism&&(xm(d,void 0),Rc(d,e.mechanism)),d.extra={...d.extra,arguments:l},d)),qN(p)}),p}};try{for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&(o[l]=n[l])}catch{}Qw(o,n),Fl(n,"__sentry_wrapped__",o);try{Object.getOwnPropertyDescriptor(o,"name").configurable&&Object.defineProperty(o,"name",{get(){return n.name}})}catch{}return o}const Gc=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function y1(n,e){const a=b1(n,e),o={type:e&&e.name,value:GD(e)};return a.length&&(o.stacktrace={frames:a}),o.type===void 0&&o.value===""&&(o.value="Unrecoverable error caught"),o}function LD(n,e,a,o){const l=io(),p=l&&l.getOptions().normalizeDepth,f=XD(e),d={__serialized__:i0(e,p)};if(f)return{exception:{values:[y1(n,f)]},extra:d};const u={exception:{values:[{type:zd(e)?e.constructor.name:o?"UnhandledRejection":"Error",value:WD(e,{isUnhandledRejection:o})}]},extra:d};if(a){const h=b1(n,a);h.length&&(u.exception.values[0].stacktrace={frames:h})}return u}function Jh(n,e){return{exception:{values:[y1(n,e)]}}}function b1(n,e){const a=e.stacktrace||e.stack||"",o=zD(e),l=$D(e);try{return n(a,o,l)}catch{}return[]}const UD=/Minified React error #\d+;/i;function zD(n){return n&&UD.test(n.message)?1:0}function $D(n){return typeof n.framesToPop=="number"?n.framesToPop:0}function GD(n){const e=n&&n.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function VD(n,e,a,o){const l=a&&a.syntheticException||void 0,p=w1(n,e,l,o);return Rc(p),p.level="error",a&&a.event_id&&(p.event_id=a.event_id),Pl(p)}function HD(n,e,a="info",o,l){const p=o&&o.syntheticException||void 0,f=Tm(n,e,p,l);return f.level=a,o&&o.event_id&&(f.event_id=o.event_id),Pl(f)}function w1(n,e,a,o,l){let p;if(Xw(e)&&e.error)return Jh(n,e.error);if(fb(e)||Z2(e)){const f=e;if("stack"in e)p=Jh(n,e);else{const d=f.name||(fb(f)?"DOMError":"DOMException"),u=f.message?`${d}: ${f.message}`:d;p=Tm(n,u,a,o),xm(p,u)}return"code"in f&&(p.tags={...p.tags,"DOMException.code":`${f.code}`}),p}return l1(e)?Jh(n,e):Ou(e)||zd(e)?(p=LD(n,e,a,l),Rc(p,{synthetic:!0}),p):(p=Tm(n,e,a,o),xm(p,`${e}`),Rc(p,{synthetic:!0}),p)}function Tm(n,e,a,o){const l={};if(o&&a){const p=b1(n,a);p.length&&(l.exception={values:[{value:e,stacktrace:{frames:p}}]})}if(u1(e)){const{__sentry_template_string__:p,__sentry_template_values__:f}=e;return l.logentry={message:p,params:f},l}return l.message=e,l}function WD(n,{isUnhandledRejection:e}){const a=gI(n),o=e?"promise rejection":"exception";return Xw(n)?`Event \`ErrorEvent\` captured as ${o} with message \`${n.message}\``:zd(n)?`Event \`${KD(n)}\` (type=${n.type}) captured as ${o}`:`Object captured as ${o} with keys: ${a}`}function KD(n){try{const e=Object.getPrototypeOf(n);return e?e.constructor.name:void 0}catch{}}function XD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const a=n[e];if(a instanceof Error)return a}}function YD(n,{metadata:e,tunnel:a,dsn:o}){const l={event_id:n.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!a&&!!o&&{dsn:Hd(o)}},p=qD(n);return $c(l,[p])}function qD(n){return[{type:"user_report"},n]}class ZD extends sD{constructor(e){const a={parentSpanIsAlwaysRootSpan:!0,...e},o=Ya.SENTRY_SDK_SOURCE||DI();fD(a,"browser",["browser"],o),super(a),a.sendClientReports&&Ya.document&&Ya.document.addEventListener("visibilitychange",()=>{Ya.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,a){return VD(this._options.stackParser,e,a,this._options.attachStacktrace)}eventFromMessage(e,a="info",o){return HD(this._options.stackParser,e,a,o,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){Gc&&Un.warn("SDK not enabled, will not capture user feedback.");return}const a=YD(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(a)}_prepareEvent(e,a,o){return e.platform=e.platform||"javascript",super._prepareEvent(e,a,o)}}const JD=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,oo=Ma,QD=1e3;let Hb,jm,Im;function eC(n){const e="dom";Gl(e,n),Vl(e,tC)}function tC(){if(!oo.document)return;const n=Ds.bind(null,"dom"),e=Wb(n,!0);oo.document.addEventListener("click",e,!1),oo.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(a=>{const o=oo[a]&&oo[a].prototype;!o||!o.hasOwnProperty||!o.hasOwnProperty("addEventListener")||(Go(o,"addEventListener",function(l){return function(p,f,d){if(p==="click"||p=="keypress")try{const u=this,h=u.__sentry_instrumentation_handlers__=u.__sentry_instrumentation_handlers__||{},y=h[p]=h[p]||{refCount:0};if(!y.handler){const b=Wb(n);y.handler=b,l.call(this,p,b,d)}y.refCount++}catch{}return l.call(this,p,f,d)}}),Go(o,"removeEventListener",function(l){return function(p,f,d){if(p==="click"||p=="keypress")try{const u=this,h=u.__sentry_instrumentation_handlers__||{},y=h[p];y&&(y.refCount--,y.refCount<=0&&(l.call(this,p,y.handler,d),y.handler=void 0,delete h[p]),Object.keys(h).length===0&&delete u.__sentry_instrumentation_handlers__)}catch{}return l.call(this,p,f,d)}}))})}function nC(n){if(n.type!==jm)return!1;try{if(!n.target||n.target._sentryId!==Im)return!1}catch{}return!0}function aC(n,e){return n!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}function Wb(n,e=!1){return a=>{if(!a||a._sentryCaptured)return;const o=rC(a);if(aC(a.type,o))return;Fl(a,"_sentryCaptured",!0),o&&!o._sentryId&&Fl(o,"_sentryId",is());const l=a.type==="keypress"?"input":a.type;nC(a)||(n({event:a,name:l,global:e}),jm=a.type,Im=o?o._sentryId:void 0),clearTimeout(Hb),Hb=oo.setTimeout(()=>{Im=void 0,jm=void 0},QD)}}function rC(n){try{return n.target}catch{return null}}let gd;function v0(n){const e="history";Gl(e,n),Vl(e,oC)}function oC(){if(!nN())return;const n=oo.onpopstate;oo.onpopstate=function(...a){const o=oo.location.href,l=gd;if(gd=o,Ds("history",{from:l,to:o}),n)try{return n.apply(this,a)}catch{}};function e(a){return function(...o){const l=o.length>2?o[2]:void 0;if(l){const p=gd,f=String(l);gd=f,Ds("history",{from:p,to:f})}return a.apply(this,o)}}Go(oo.history,"pushState",e),Go(oo.history,"replaceState",e)}const kd={};function sC(n){const e=kd[n];if(e)return e;let a=oo[n];if(wm(a))return kd[n]=a.bind(oo);const o=oo.document;if(o&&typeof o.createElement=="function")try{const l=o.createElement("iframe");l.hidden=!0,o.head.appendChild(l);const p=l.contentWindow;p&&p[n]&&(a=p[n]),o.head.removeChild(l)}catch(l){JD&&Un.warn(`Could not create sandbox iframe for ${n} check, bailing to window.${n}: `,l)}return a&&(kd[n]=a.bind(oo))}function Kb(n){kd[n]=void 0}const Nc="__sentry_xhr_v3__";function iC(n){const e="xhr";Gl(e,n),Vl(e,lC)}function lC(){if(!oo.XMLHttpRequest)return;const n=XMLHttpRequest.prototype;n.open=new Proxy(n.open,{apply(e,a,o){const l=vi()*1e3,p=wi(o[0])?o[0].toUpperCase():void 0,f=uC(o[1]);if(!p||!f)return e.apply(a,o);a[Nc]={method:p,url:f,request_headers:{}},p==="POST"&&f.match(/sentry_key/)&&(a.__sentry_own_request__=!0);const d=()=>{const u=a[Nc];if(u&&a.readyState===4){try{u.status_code=a.status}catch{}const h={endTimestamp:vi()*1e3,startTimestamp:l,xhr:a};Ds("xhr",h)}};return"onreadystatechange"in a&&typeof a.onreadystatechange=="function"?a.onreadystatechange=new Proxy(a.onreadystatechange,{apply(u,h,y){return d(),u.apply(h,y)}}):a.addEventListener("readystatechange",d),a.setRequestHeader=new Proxy(a.setRequestHeader,{apply(u,h,y){const[b,x]=y,A=h[Nc];return A&&wi(b)&&wi(x)&&(A.request_headers[b.toLowerCase()]=x),u.apply(h,y)}}),e.apply(a,o)}}),n.send=new Proxy(n.send,{apply(e,a,o){const l=a[Nc];if(!l)return e.apply(a,o);o[0]!==void 0&&(l.body=o[0]);const p={startTimestamp:vi()*1e3,xhr:a};return Ds("xhr",p),e.apply(a,o)}})}function uC(n){if(wi(n))return n;try{return n.toString()}catch{}}function cC(n,e=sC("fetch")){let a=0,o=0;function l(p){const f=p.body.length;a+=f,o++;const d={body:p.body,method:"POST",referrerPolicy:"origin",headers:n.headers,keepalive:a<=6e4&&o<15,...n.fetchOptions};if(!e)return Kb("fetch"),Nd("No fetch implementation available");try{return e(n.url,d).then(u=>(a-=f,o--,{statusCode:u.status,headers:{"x-sentry-rate-limits":u.headers.get("X-Sentry-Rate-Limits"),"retry-after":u.headers.get("Retry-After")}}))}catch(u){return Kb("fetch"),a-=f,o--,Nd(u)}}return dD(n,l)}const pC=30,dC=50;function Nm(n,e,a,o){const l={filename:n,function:e==="<anonymous>"?Ml:e,in_app:!0};return a!==void 0&&(l.lineno=a),o!==void 0&&(l.colno=o),l}const fC=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,hC=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,mC=/\((\S*)(?::(\d+))(?::(\d+))\)/,gC=n=>{const e=fC.exec(n);if(e){const[,o,l,p]=e;return Nm(o,Ml,+l,+p)}const a=hC.exec(n);if(a){if(a[2]&&a[2].indexOf("eval")===0){const f=mC.exec(a[2]);f&&(a[2]=f[1],a[3]=f[2],a[4]=f[3])}const[l,p]=x0(a[1]||Ml,a[2]);return Nm(p,l,a[3]?+a[3]:void 0,a[4]?+a[4]:void 0)}},yC=[pC,gC],bC=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,wC=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,vC=n=>{const e=bC.exec(n);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const p=wC.exec(e[3]);p&&(e[1]=e[1]||"eval",e[3]=p[1],e[4]=p[2],e[5]="")}let o=e[3],l=e[1]||Ml;return[l,o]=x0(l,o),Nm(o,l,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},xC=[dC,vC],_C=[yC,xC],kC=n0(..._C),x0=(n,e)=>{const a=n.indexOf("safari-extension")!==-1,o=n.indexOf("safari-web-extension")!==-1;return a||o?[n.indexOf("@")!==-1?n.split("@")[0]:Ml,a?`safari-extension:${e}`:`safari-web-extension:${e}`]:[n,e]},yd=1024,EC="Breadcrumbs",AC=(n={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...n};return{name:EC,setup(a){e.console&&vI(IC(a)),e.dom&&eC(jC(a,e.dom)),e.xhr&&iC(NC(a)),e.fetch&&EI(DC(a)),e.history&&v0(CC(a)),e.sentry&&a.on("beforeSendEvent",TC(a))}}},SC=AC;function TC(n){return function(a){io()===n&&Ul({category:`sentry.${a.type==="transaction"?"transaction":"event"}`,event_id:a.event_id,level:a.level,message:Zi(a)},{event:a})}}function jC(n,e){return function(o){if(io()!==n)return;let l,p,f=typeof e=="object"?e.serializeAttribute:void 0,d=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;d&&d>yd&&(Gc&&Un.warn(`\`dom.maxStringLength\` cannot exceed ${yd}, but a value of ${d} was configured. Sentry will use ${yd} instead.`),d=yd),typeof f=="string"&&(f=[f]);try{const h=o.event,y=OC(h)?h.target:h;l=Zw(y,{keyAttrs:f,maxStringLength:d}),p=iI(y)}catch{l="<unknown>"}if(l.length===0)return;const u={category:`ui.${o.name}`,message:l};p&&(u.data={"ui.component_name":p}),Ul(u,{event:o.event,name:o.name,global:o.global})}}function IC(n){return function(a){if(io()!==n)return;const o={category:"console",data:{arguments:a.args,logger:"console"},level:LI(a.level),message:hb(a.args," ")};if(a.level==="assert")if(a.args[0]===!1)o.message=`Assertion failed: ${hb(a.args.slice(1)," ")||"console.assert"}`,o.data.arguments=a.args.slice(1);else return;Ul(o,{input:a.args,level:a.level})}}function NC(n){return function(a){if(io()!==n)return;const{startTimestamp:o,endTimestamp:l}=a,p=a.xhr[Nc];if(!o||!l||!p)return;const{method:f,url:d,status_code:u,body:h}=p,y={method:f,url:d,status_code:u},b={xhr:a.xhr,input:h,startTimestamp:o,endTimestamp:l},x=qw(u);Ul({category:"xhr",data:y,type:"http",level:x},b)}}function DC(n){return function(a){if(io()!==n)return;const{startTimestamp:o,endTimestamp:l}=a;if(l&&!(a.fetchData.url.match(/sentry_key/)&&a.fetchData.method==="POST"))if(a.error){const p=a.fetchData,f={data:a.error,input:a.args,startTimestamp:o,endTimestamp:l};Ul({category:"fetch",data:p,level:"error",type:"http"},f)}else{const p=a.response,f={...a.fetchData,status_code:p&&p.status},d={input:a.args,response:p,startTimestamp:o,endTimestamp:l},u=qw(f.status_code);Ul({category:"fetch",data:f,type:"http",level:u},d)}}}function CC(n){return function(a){if(io()!==n)return;let o=a.from,l=a.to;const p=Zh(Ya.location.href);let f=o?Zh(o):void 0;const d=Zh(l);(!f||!f.path)&&(f=p),p.protocol===d.protocol&&p.host===d.host&&(l=d.relative),p.protocol===f.protocol&&p.host===f.host&&(o=f.relative),Ul({category:"navigation",data:{from:o,to:l}})}}function OC(n){return!!n&&!!n.target}const BC=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],RC="BrowserApiErrors",FC=(n={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...n};return{name:RC,setupOnce(){e.setTimeout&&Go(Ya,"setTimeout",Xb),e.setInterval&&Go(Ya,"setInterval",Xb),e.requestAnimationFrame&&Go(Ya,"requestAnimationFrame",PC),e.XMLHttpRequest&&"XMLHttpRequest"in Ya&&Go(XMLHttpRequest.prototype,"send",LC);const a=e.eventTarget;a&&(Array.isArray(a)?a:BC).forEach(UC)}}},MC=FC;function Xb(n){return function(...e){const a=e[0];return e[0]=Fu(a,{mechanism:{data:{function:nl(n)},handled:!1,type:"instrument"}}),n.apply(this,e)}}function PC(n){return function(e){return n.apply(this,[Fu(e,{mechanism:{data:{function:"requestAnimationFrame",handler:nl(n)},handled:!1,type:"instrument"}})])}}function LC(n){return function(...e){const a=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(l=>{l in a&&typeof a[l]=="function"&&Go(a,l,function(p){const f={mechanism:{data:{function:l,handler:nl(p)},handled:!1,type:"instrument"}},d=d1(p);return d&&(f.mechanism.data.handler=nl(d)),Fu(p,f)})}),n.apply(this,e)}}function UC(n){const e=Ya,a=e[n]&&e[n].prototype;!a||!a.hasOwnProperty||!a.hasOwnProperty("addEventListener")||(Go(a,"addEventListener",function(o){return function(l,p,f){try{typeof p.handleEvent=="function"&&(p.handleEvent=Fu(p.handleEvent,{mechanism:{data:{function:"handleEvent",handler:nl(p),target:n},handled:!1,type:"instrument"}}))}catch{}return o.apply(this,[l,Fu(p,{mechanism:{data:{function:"addEventListener",handler:nl(p),target:n},handled:!1,type:"instrument"}}),f])}}),Go(a,"removeEventListener",function(o){return function(l,p,f){const d=p;try{const u=d&&d.__sentry_wrapped__;u&&o.call(this,l,u,f)}catch{}return o.call(this,l,d,f)}}))}const zC="GlobalHandlers",$C=(n={})=>{const e={onerror:!0,onunhandledrejection:!0,...n};return{name:zC,setupOnce(){Error.stackTraceLimit=50},setup(a){e.onerror&&(VC(a),Yb("onerror")),e.onunhandledrejection&&(HC(a),Yb("onunhandledrejection"))}}},GC=$C;function VC(n){TI(e=>{const{stackParser:a,attachStacktrace:o}=_0();if(io()!==n||w0())return;const{msg:l,url:p,line:f,column:d,error:u}=e,h=XC(w1(a,u||l,void 0,o,!1),p,f,d);h.level="error",p0(h,{originalException:u,mechanism:{handled:!1,type:"onerror"}})})}function HC(n){II(e=>{const{stackParser:a,attachStacktrace:o}=_0();if(io()!==n||w0())return;const l=WC(e),p=c1(l)?KC(l):w1(a,l,void 0,o,!0);p.level="error",p0(p,{originalException:l,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function WC(n){if(c1(n))return n;try{if("reason"in n)return n.reason;if("detail"in n&&"reason"in n.detail)return n.detail.reason}catch{}return n}function KC(n){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(n)}`}]}}}function XC(n,e,a,o){const l=n.exception=n.exception||{},p=l.values=l.values||[],f=p[0]=p[0]||{},d=f.stacktrace=f.stacktrace||{},u=d.frames=d.frames||[],h=isNaN(parseInt(o,10))?void 0:o,y=isNaN(parseInt(a,10))?void 0:a,b=wi(e)&&e.length>0?e:sI();return u.length===0&&u.push({colno:h,filename:b,function:Ml,in_app:!0,lineno:y}),n}function Yb(n){Gc&&Un.log(`Global Handler attached: ${n}`)}function _0(){const n=io();return n&&n.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const YC=()=>({name:"HttpContext",preprocessEvent(n){if(!Ya.navigator&&!Ya.location&&!Ya.document)return;const e=n.request&&n.request.url||Ya.location&&Ya.location.href,{referrer:a}=Ya.document||{},{userAgent:o}=Ya.navigator||{},l={...n.request&&n.request.headers,...a&&{Referer:a},...o&&{"User-Agent":o}},p={...n.request,...e&&{url:e},headers:l};n.request=p}}),qC="cause",ZC=5,JC="LinkedErrors",QC=(n={})=>{const e=n.limit||ZC,a=n.key||qC;return{name:JC,preprocessEvent(o,l,p){const f=p.getOptions();nI(y1,f.stackParser,f.maxValueLength,a,e,o,l)}}},eO=QC;function tO(n){return[xD(),yD(),MC(),SC(),GC(),eO(),BD(),YC()]}function nO(n={}){const e={defaultIntegrations:tO(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Ya.SENTRY_RELEASE&&Ya.SENTRY_RELEASE.id?Ya.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return n.defaultIntegrations==null&&delete n.defaultIntegrations,{...e,...n}}function aO(){const n=typeof Ya.window<"u"&&Ya;if(!n)return!1;const e=n.chrome?"chrome":"browser",a=n[e],o=a&&a.runtime&&a.runtime.id,l=Ya.location&&Ya.location.href||"",p=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],f=!!o&&Ya===Ya.top&&p.some(u=>l.startsWith(`${u}//`)),d=typeof n.nw<"u";return!!o&&!f&&!d}function rO(n={}){const e=nO(n);if(aO()){Uc(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}Gc&&(a0()||Un.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const a={...e,stackParser:bI(e.stackParser||kC),integrations:rD(e),transport:e.transport||cC},o=uD(ZD,a);return e.autoSessionTracking&&oO(),o}function oO(){if(typeof Ya.document>"u"){Gc&&Un.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}Fb({ignoreDuration:!0}),Mb(),v0(({from:n,to:e})=>{n!==void 0&&n!==e&&(Fb({ignoreDuration:!0}),Mb())})}var k0={exports:{}};(function(n,e){(function(o,l){n.exports=l()})(self,()=>(()=>{var a={"./core/data/icannPublicSuffixList.js":(f,d)=>{d.icannPublicSuffixes={ac:1,"com.ac":1,"edu.ac":1,"gov.ac":1,"net.ac":1,"mil.ac":1,"org.ac":1,ad:1,"nom.ad":1,ae:1,"co.ae":1,"net.ae":1,"org.ae":1,"sch.ae":1,"ac.ae":1,"gov.ae":1,"mil.ae":1,aero:1,"accident-investigation.aero":1,"accident-prevention.aero":1,"aerobatic.aero":1,"aeroclub.aero":1,"aerodrome.aero":1,"agents.aero":1,"aircraft.aero":1,"airline.aero":1,"airport.aero":1,"air-surveillance.aero":1,"airtraffic.aero":1,"air-traffic-control.aero":1,"ambulance.aero":1,"amusement.aero":1,"association.aero":1,"author.aero":1,"ballooning.aero":1,"broker.aero":1,"caa.aero":1,"cargo.aero":1,"catering.aero":1,"certification.aero":1,"championship.aero":1,"charter.aero":1,"civilaviation.aero":1,"club.aero":1,"conference.aero":1,"consultant.aero":1,"consulting.aero":1,"control.aero":1,"council.aero":1,"crew.aero":1,"design.aero":1,"dgca.aero":1,"educator.aero":1,"emergency.aero":1,"engine.aero":1,"engineer.aero":1,"entertainment.aero":1,"equipment.aero":1,"exchange.aero":1,"express.aero":1,"federation.aero":1,"flight.aero":1,"fuel.aero":1,"gliding.aero":1,"government.aero":1,"groundhandling.aero":1,"group.aero":1,"hanggliding.aero":1,"homebuilt.aero":1,"insurance.aero":1,"journal.aero":1,"journalist.aero":1,"leasing.aero":1,"logistics.aero":1,"magazine.aero":1,"maintenance.aero":1,"media.aero":1,"microlight.aero":1,"modelling.aero":1,"navigation.aero":1,"parachuting.aero":1,"paragliding.aero":1,"passenger-association.aero":1,"pilot.aero":1,"press.aero":1,"production.aero":1,"recreation.aero":1,"repbody.aero":1,"res.aero":1,"research.aero":1,"rotorcraft.aero":1,"safety.aero":1,"scientist.aero":1,"services.aero":1,"show.aero":1,"skydiving.aero":1,"software.aero":1,"student.aero":1,"trader.aero":1,"trading.aero":1,"trainer.aero":1,"union.aero":1,"workinggroup.aero":1,"works.aero":1,af:1,"gov.af":1,"com.af":1,"org.af":1,"net.af":1,"edu.af":1,ag:1,"com.ag":1,"org.ag":1,"net.ag":1,"co.ag":1,"nom.ag":1,ai:1,"off.ai":1,"com.ai":1,"net.ai":1,"org.ai":1,al:1,"com.al":1,"edu.al":1,"gov.al":1,"mil.al":1,"net.al":1,"org.al":1,am:1,"co.am":1,"com.am":1,"commune.am":1,"net.am":1,"org.am":1,ao:1,"ed.ao":1,"gv.ao":1,"og.ao":1,"co.ao":1,"pb.ao":1,"it.ao":1,aq:1,ar:1,"bet.ar":1,"com.ar":1,"coop.ar":1,"edu.ar":1,"gob.ar":1,"gov.ar":1,"int.ar":1,"mil.ar":1,"musica.ar":1,"mutual.ar":1,"net.ar":1,"org.ar":1,"senasa.ar":1,"tur.ar":1,arpa:1,"e164.arpa":1,"in-addr.arpa":1,"ip6.arpa":1,"iris.arpa":1,"uri.arpa":1,"urn.arpa":1,as:1,"gov.as":1,asia:1,at:1,"ac.at":1,"co.at":1,"gv.at":1,"or.at":1,"sth.ac.at":1,au:1,"com.au":1,"net.au":1,"org.au":1,"edu.au":1,"gov.au":1,"asn.au":1,"id.au":1,"info.au":1,"conf.au":1,"oz.au":1,"act.au":1,"nsw.au":1,"nt.au":1,"qld.au":1,"sa.au":1,"tas.au":1,"vic.au":1,"wa.au":1,"act.edu.au":1,"catholic.edu.au":1,"nsw.edu.au":1,"nt.edu.au":1,"qld.edu.au":1,"sa.edu.au":1,"tas.edu.au":1,"vic.edu.au":1,"wa.edu.au":1,"qld.gov.au":1,"sa.gov.au":1,"tas.gov.au":1,"vic.gov.au":1,"wa.gov.au":1,"schools.nsw.edu.au":1,aw:1,"com.aw":1,ax:1,az:1,"com.az":1,"net.az":1,"int.az":1,"gov.az":1,"org.az":1,"edu.az":1,"info.az":1,"pp.az":1,"mil.az":1,"name.az":1,"pro.az":1,"biz.az":1,ba:1,"com.ba":1,"edu.ba":1,"gov.ba":1,"mil.ba":1,"net.ba":1,"org.ba":1,bb:1,"biz.bb":1,"co.bb":1,"com.bb":1,"edu.bb":1,"gov.bb":1,"info.bb":1,"net.bb":1,"org.bb":1,"store.bb":1,"tv.bb":1,bd:2,be:1,"ac.be":1,bf:1,"gov.bf":1,bg:1,"a.bg":1,"b.bg":1,"c.bg":1,"d.bg":1,"e.bg":1,"f.bg":1,"g.bg":1,"h.bg":1,"i.bg":1,"j.bg":1,"k.bg":1,"l.bg":1,"m.bg":1,"n.bg":1,"o.bg":1,"p.bg":1,"q.bg":1,"r.bg":1,"s.bg":1,"t.bg":1,"u.bg":1,"v.bg":1,"w.bg":1,"x.bg":1,"y.bg":1,"z.bg":1,"0.bg":1,"1.bg":1,"2.bg":1,"3.bg":1,"4.bg":1,"5.bg":1,"6.bg":1,"7.bg":1,"8.bg":1,"9.bg":1,bh:1,"com.bh":1,"edu.bh":1,"net.bh":1,"org.bh":1,"gov.bh":1,bi:1,"co.bi":1,"com.bi":1,"edu.bi":1,"or.bi":1,"org.bi":1,biz:1,bj:1,"africa.bj":1,"agro.bj":1,"architectes.bj":1,"assur.bj":1,"avocats.bj":1,"co.bj":1,"com.bj":1,"eco.bj":1,"econo.bj":1,"edu.bj":1,"info.bj":1,"loisirs.bj":1,"money.bj":1,"net.bj":1,"org.bj":1,"ote.bj":1,"resto.bj":1,"restaurant.bj":1,"tourism.bj":1,"univ.bj":1,bm:1,"com.bm":1,"edu.bm":1,"gov.bm":1,"net.bm":1,"org.bm":1,bn:1,"com.bn":1,"edu.bn":1,"gov.bn":1,"net.bn":1,"org.bn":1,bo:1,"com.bo":1,"edu.bo":1,"gob.bo":1,"int.bo":1,"org.bo":1,"net.bo":1,"mil.bo":1,"tv.bo":1,"web.bo":1,"academia.bo":1,"agro.bo":1,"arte.bo":1,"blog.bo":1,"bolivia.bo":1,"ciencia.bo":1,"cooperativa.bo":1,"democracia.bo":1,"deporte.bo":1,"ecologia.bo":1,"economia.bo":1,"empresa.bo":1,"indigena.bo":1,"industria.bo":1,"info.bo":1,"medicina.bo":1,"movimiento.bo":1,"musica.bo":1,"natural.bo":1,"nombre.bo":1,"noticias.bo":1,"patria.bo":1,"politica.bo":1,"profesional.bo":1,"plurinacional.bo":1,"pueblo.bo":1,"revista.bo":1,"salud.bo":1,"tecnologia.bo":1,"tksat.bo":1,"transporte.bo":1,"wiki.bo":1,br:1,"9guacu.br":1,"abc.br":1,"adm.br":1,"adv.br":1,"agr.br":1,"aju.br":1,"am.br":1,"anani.br":1,"aparecida.br":1,"app.br":1,"arq.br":1,"art.br":1,"ato.br":1,"b.br":1,"barueri.br":1,"belem.br":1,"bhz.br":1,"bib.br":1,"bio.br":1,"blog.br":1,"bmd.br":1,"boavista.br":1,"bsb.br":1,"campinagrande.br":1,"campinas.br":1,"caxias.br":1,"cim.br":1,"cng.br":1,"cnt.br":1,"com.br":1,"contagem.br":1,"coop.br":1,"coz.br":1,"cri.br":1,"cuiaba.br":1,"curitiba.br":1,"def.br":1,"des.br":1,"det.br":1,"dev.br":1,"ecn.br":1,"eco.br":1,"edu.br":1,"emp.br":1,"enf.br":1,"eng.br":1,"esp.br":1,"etc.br":1,"eti.br":1,"far.br":1,"feira.br":1,"flog.br":1,"floripa.br":1,"fm.br":1,"fnd.br":1,"fortal.br":1,"fot.br":1,"foz.br":1,"fst.br":1,"g12.br":1,"geo.br":1,"ggf.br":1,"goiania.br":1,"gov.br":1,"ac.gov.br":1,"al.gov.br":1,"am.gov.br":1,"ap.gov.br":1,"ba.gov.br":1,"ce.gov.br":1,"df.gov.br":1,"es.gov.br":1,"go.gov.br":1,"ma.gov.br":1,"mg.gov.br":1,"ms.gov.br":1,"mt.gov.br":1,"pa.gov.br":1,"pb.gov.br":1,"pe.gov.br":1,"pi.gov.br":1,"pr.gov.br":1,"rj.gov.br":1,"rn.gov.br":1,"ro.gov.br":1,"rr.gov.br":1,"rs.gov.br":1,"sc.gov.br":1,"se.gov.br":1,"sp.gov.br":1,"to.gov.br":1,"gru.br":1,"imb.br":1,"ind.br":1,"inf.br":1,"jab.br":1,"jampa.br":1,"jdf.br":1,"joinville.br":1,"jor.br":1,"jus.br":1,"leg.br":1,"lel.br":1,"log.br":1,"londrina.br":1,"macapa.br":1,"maceio.br":1,"manaus.br":1,"maringa.br":1,"mat.br":1,"med.br":1,"mil.br":1,"morena.br":1,"mp.br":1,"mus.br":1,"natal.br":1,"net.br":1,"niteroi.br":1,"nom.br":2,"not.br":1,"ntr.br":1,"odo.br":1,"ong.br":1,"org.br":1,"osasco.br":1,"palmas.br":1,"poa.br":1,"ppg.br":1,"pro.br":1,"psc.br":1,"psi.br":1,"pvh.br":1,"qsl.br":1,"radio.br":1,"rec.br":1,"recife.br":1,"rep.br":1,"ribeirao.br":1,"rio.br":1,"riobranco.br":1,"riopreto.br":1,"salvador.br":1,"sampa.br":1,"santamaria.br":1,"santoandre.br":1,"saobernardo.br":1,"saogonca.br":1,"seg.br":1,"sjc.br":1,"slg.br":1,"slz.br":1,"sorocaba.br":1,"srv.br":1,"taxi.br":1,"tc.br":1,"tec.br":1,"teo.br":1,"the.br":1,"tmp.br":1,"trd.br":1,"tur.br":1,"tv.br":1,"udi.br":1,"vet.br":1,"vix.br":1,"vlog.br":1,"wiki.br":1,"zlg.br":1,bs:1,"com.bs":1,"net.bs":1,"org.bs":1,"edu.bs":1,"gov.bs":1,bt:1,"com.bt":1,"edu.bt":1,"gov.bt":1,"net.bt":1,"org.bt":1,bv:1,bw:1,"co.bw":1,"org.bw":1,by:1,"gov.by":1,"mil.by":1,"com.by":1,"of.by":1,bz:1,"com.bz":1,"net.bz":1,"org.bz":1,"edu.bz":1,"gov.bz":1,ca:1,"ab.ca":1,"bc.ca":1,"mb.ca":1,"nb.ca":1,"nf.ca":1,"nl.ca":1,"ns.ca":1,"nt.ca":1,"nu.ca":1,"on.ca":1,"pe.ca":1,"qc.ca":1,"sk.ca":1,"yk.ca":1,"gc.ca":1,cat:1,cc:1,cd:1,"gov.cd":1,cf:1,cg:1,ch:1,ci:1,"org.ci":1,"or.ci":1,"com.ci":1,"co.ci":1,"edu.ci":1,"ed.ci":1,"ac.ci":1,"net.ci":1,"go.ci":1,"asso.ci":1,"xn--aroport-bya.ci":1,"int.ci":1,"presse.ci":1,"md.ci":1,"gouv.ci":1,ck:2,"www.ck":0,cl:1,"co.cl":1,"gob.cl":1,"gov.cl":1,"mil.cl":1,cm:1,"co.cm":1,"com.cm":1,"gov.cm":1,"net.cm":1,cn:1,"ac.cn":1,"com.cn":1,"edu.cn":1,"gov.cn":1,"net.cn":1,"org.cn":1,"mil.cn":1,"xn--55qx5d.cn":1,"xn--io0a7i.cn":1,"xn--od0alg.cn":1,"ah.cn":1,"bj.cn":1,"cq.cn":1,"fj.cn":1,"gd.cn":1,"gs.cn":1,"gz.cn":1,"gx.cn":1,"ha.cn":1,"hb.cn":1,"he.cn":1,"hi.cn":1,"hl.cn":1,"hn.cn":1,"jl.cn":1,"js.cn":1,"jx.cn":1,"ln.cn":1,"nm.cn":1,"nx.cn":1,"qh.cn":1,"sc.cn":1,"sd.cn":1,"sh.cn":1,"sn.cn":1,"sx.cn":1,"tj.cn":1,"xj.cn":1,"xz.cn":1,"yn.cn":1,"zj.cn":1,"hk.cn":1,"mo.cn":1,"tw.cn":1,co:1,"arts.co":1,"com.co":1,"edu.co":1,"firm.co":1,"gov.co":1,"info.co":1,"int.co":1,"mil.co":1,"net.co":1,"nom.co":1,"org.co":1,"rec.co":1,"web.co":1,com:1,coop:1,cr:1,"ac.cr":1,"co.cr":1,"ed.cr":1,"fi.cr":1,"go.cr":1,"or.cr":1,"sa.cr":1,cu:1,"com.cu":1,"edu.cu":1,"org.cu":1,"net.cu":1,"gov.cu":1,"inf.cu":1,cv:1,"com.cv":1,"edu.cv":1,"int.cv":1,"nome.cv":1,"org.cv":1,cw:1,"com.cw":1,"edu.cw":1,"net.cw":1,"org.cw":1,cx:1,"gov.cx":1,cy:1,"ac.cy":1,"biz.cy":1,"com.cy":1,"ekloges.cy":1,"gov.cy":1,"ltd.cy":1,"mil.cy":1,"net.cy":1,"org.cy":1,"press.cy":1,"pro.cy":1,"tm.cy":1,cz:1,de:1,dj:1,dk:1,dm:1,"com.dm":1,"net.dm":1,"org.dm":1,"edu.dm":1,"gov.dm":1,do:1,"art.do":1,"com.do":1,"edu.do":1,"gob.do":1,"gov.do":1,"mil.do":1,"net.do":1,"org.do":1,"sld.do":1,"web.do":1,dz:1,"art.dz":1,"asso.dz":1,"com.dz":1,"edu.dz":1,"gov.dz":1,"org.dz":1,"net.dz":1,"pol.dz":1,"soc.dz":1,"tm.dz":1,ec:1,"com.ec":1,"info.ec":1,"net.ec":1,"fin.ec":1,"k12.ec":1,"med.ec":1,"pro.ec":1,"org.ec":1,"edu.ec":1,"gov.ec":1,"gob.ec":1,"mil.ec":1,edu:1,ee:1,"edu.ee":1,"gov.ee":1,"riik.ee":1,"lib.ee":1,"med.ee":1,"com.ee":1,"pri.ee":1,"aip.ee":1,"org.ee":1,"fie.ee":1,eg:1,"com.eg":1,"edu.eg":1,"eun.eg":1,"gov.eg":1,"mil.eg":1,"name.eg":1,"net.eg":1,"org.eg":1,"sci.eg":1,er:2,es:1,"com.es":1,"nom.es":1,"org.es":1,"gob.es":1,"edu.es":1,et:1,"com.et":1,"gov.et":1,"org.et":1,"edu.et":1,"biz.et":1,"name.et":1,"info.et":1,"net.et":1,eu:1,fi:1,"aland.fi":1,fj:1,"ac.fj":1,"biz.fj":1,"com.fj":1,"gov.fj":1,"info.fj":1,"mil.fj":1,"name.fj":1,"net.fj":1,"org.fj":1,"pro.fj":1,fk:2,"com.fm":1,"edu.fm":1,"net.fm":1,"org.fm":1,fm:1,fo:1,fr:1,"asso.fr":1,"com.fr":1,"gouv.fr":1,"nom.fr":1,"prd.fr":1,"tm.fr":1,"avoues.fr":1,"cci.fr":1,"greta.fr":1,"huissier-justice.fr":1,ga:1,gb:1,"edu.gd":1,"gov.gd":1,gd:1,ge:1,"com.ge":1,"edu.ge":1,"gov.ge":1,"org.ge":1,"mil.ge":1,"net.ge":1,"pvt.ge":1,gf:1,gg:1,"co.gg":1,"net.gg":1,"org.gg":1,gh:1,"com.gh":1,"edu.gh":1,"gov.gh":1,"org.gh":1,"mil.gh":1,gi:1,"com.gi":1,"ltd.gi":1,"gov.gi":1,"mod.gi":1,"edu.gi":1,"org.gi":1,gl:1,"co.gl":1,"com.gl":1,"edu.gl":1,"net.gl":1,"org.gl":1,gm:1,gn:1,"ac.gn":1,"com.gn":1,"edu.gn":1,"gov.gn":1,"org.gn":1,"net.gn":1,gov:1,gp:1,"com.gp":1,"net.gp":1,"mobi.gp":1,"edu.gp":1,"org.gp":1,"asso.gp":1,gq:1,gr:1,"com.gr":1,"edu.gr":1,"net.gr":1,"org.gr":1,"gov.gr":1,gs:1,gt:1,"com.gt":1,"edu.gt":1,"gob.gt":1,"ind.gt":1,"mil.gt":1,"net.gt":1,"org.gt":1,gu:1,"com.gu":1,"edu.gu":1,"gov.gu":1,"guam.gu":1,"info.gu":1,"net.gu":1,"org.gu":1,"web.gu":1,gw:1,gy:1,"co.gy":1,"com.gy":1,"edu.gy":1,"gov.gy":1,"net.gy":1,"org.gy":1,hk:1,"com.hk":1,"edu.hk":1,"gov.hk":1,"idv.hk":1,"net.hk":1,"org.hk":1,"xn--55qx5d.hk":1,"xn--wcvs22d.hk":1,"xn--lcvr32d.hk":1,"xn--mxtq1m.hk":1,"xn--gmqw5a.hk":1,"xn--ciqpn.hk":1,"xn--gmq050i.hk":1,"xn--zf0avx.hk":1,"xn--io0a7i.hk":1,"xn--mk0axi.hk":1,"xn--od0alg.hk":1,"xn--od0aq3b.hk":1,"xn--tn0ag.hk":1,"xn--uc0atv.hk":1,"xn--uc0ay4a.hk":1,hm:1,hn:1,"com.hn":1,"edu.hn":1,"org.hn":1,"net.hn":1,"mil.hn":1,"gob.hn":1,hr:1,"iz.hr":1,"from.hr":1,"name.hr":1,"com.hr":1,ht:1,"com.ht":1,"shop.ht":1,"firm.ht":1,"info.ht":1,"adult.ht":1,"net.ht":1,"pro.ht":1,"org.ht":1,"med.ht":1,"art.ht":1,"coop.ht":1,"pol.ht":1,"asso.ht":1,"edu.ht":1,"rel.ht":1,"gouv.ht":1,"perso.ht":1,hu:1,"co.hu":1,"info.hu":1,"org.hu":1,"priv.hu":1,"sport.hu":1,"tm.hu":1,"2000.hu":1,"agrar.hu":1,"bolt.hu":1,"casino.hu":1,"city.hu":1,"erotica.hu":1,"erotika.hu":1,"film.hu":1,"forum.hu":1,"games.hu":1,"hotel.hu":1,"ingatlan.hu":1,"jogasz.hu":1,"konyvelo.hu":1,"lakas.hu":1,"media.hu":1,"news.hu":1,"reklam.hu":1,"sex.hu":1,"shop.hu":1,"suli.hu":1,"szex.hu":1,"tozsde.hu":1,"utazas.hu":1,"video.hu":1,id:1,"ac.id":1,"biz.id":1,"co.id":1,"desa.id":1,"go.id":1,"mil.id":1,"my.id":1,"net.id":1,"or.id":1,"ponpes.id":1,"sch.id":1,"web.id":1,ie:1,"gov.ie":1,il:1,"ac.il":1,"co.il":1,"gov.il":1,"idf.il":1,"k12.il":1,"muni.il":1,"net.il":1,"org.il":1,"xn--4dbrk0ce":1,"xn--4dbgdty6c.xn--4dbrk0ce":1,"xn--5dbhl8d.xn--4dbrk0ce":1,"xn--8dbq2a.xn--4dbrk0ce":1,"xn--hebda8b.xn--4dbrk0ce":1,im:1,"ac.im":1,"co.im":1,"com.im":1,"ltd.co.im":1,"net.im":1,"org.im":1,"plc.co.im":1,"tt.im":1,"tv.im":1,in:1,"5g.in":1,"6g.in":1,"ac.in":1,"ai.in":1,"am.in":1,"bihar.in":1,"biz.in":1,"business.in":1,"ca.in":1,"cn.in":1,"co.in":1,"com.in":1,"coop.in":1,"cs.in":1,"delhi.in":1,"dr.in":1,"edu.in":1,"er.in":1,"firm.in":1,"gen.in":1,"gov.in":1,"gujarat.in":1,"ind.in":1,"info.in":1,"int.in":1,"internet.in":1,"io.in":1,"me.in":1,"mil.in":1,"net.in":1,"nic.in":1,"org.in":1,"pg.in":1,"post.in":1,"pro.in":1,"res.in":1,"travel.in":1,"tv.in":1,"uk.in":1,"up.in":1,"us.in":1,info:1,int:1,"eu.int":1,io:1,"com.io":1,iq:1,"gov.iq":1,"edu.iq":1,"mil.iq":1,"com.iq":1,"org.iq":1,"net.iq":1,ir:1,"ac.ir":1,"co.ir":1,"gov.ir":1,"id.ir":1,"net.ir":1,"org.ir":1,"sch.ir":1,"xn--mgba3a4f16a.ir":1,"xn--mgba3a4fra.ir":1,is:1,"net.is":1,"com.is":1,"edu.is":1,"gov.is":1,"org.is":1,"int.is":1,it:1,"gov.it":1,"edu.it":1,"abr.it":1,"abruzzo.it":1,"aosta-valley.it":1,"aostavalley.it":1,"bas.it":1,"basilicata.it":1,"cal.it":1,"calabria.it":1,"cam.it":1,"campania.it":1,"emilia-romagna.it":1,"emiliaromagna.it":1,"emr.it":1,"friuli-v-giulia.it":1,"friuli-ve-giulia.it":1,"friuli-vegiulia.it":1,"friuli-venezia-giulia.it":1,"friuli-veneziagiulia.it":1,"friuli-vgiulia.it":1,"friuliv-giulia.it":1,"friulive-giulia.it":1,"friulivegiulia.it":1,"friulivenezia-giulia.it":1,"friuliveneziagiulia.it":1,"friulivgiulia.it":1,"fvg.it":1,"laz.it":1,"lazio.it":1,"lig.it":1,"liguria.it":1,"lom.it":1,"lombardia.it":1,"lombardy.it":1,"lucania.it":1,"mar.it":1,"marche.it":1,"mol.it":1,"molise.it":1,"piedmont.it":1,"piemonte.it":1,"pmn.it":1,"pug.it":1,"puglia.it":1,"sar.it":1,"sardegna.it":1,"sardinia.it":1,"sic.it":1,"sicilia.it":1,"sicily.it":1,"taa.it":1,"tos.it":1,"toscana.it":1,"trentin-sud-tirol.it":1,"xn--trentin-sd-tirol-rzb.it":1,"trentin-sudtirol.it":1,"xn--trentin-sdtirol-7vb.it":1,"trentin-sued-tirol.it":1,"trentin-suedtirol.it":1,"trentino-a-adige.it":1,"trentino-aadige.it":1,"trentino-alto-adige.it":1,"trentino-altoadige.it":1,"trentino-s-tirol.it":1,"trentino-stirol.it":1,"trentino-sud-tirol.it":1,"xn--trentino-sd-tirol-c3b.it":1,"trentino-sudtirol.it":1,"xn--trentino-sdtirol-szb.it":1,"trentino-sued-tirol.it":1,"trentino-suedtirol.it":1,"trentino.it":1,"trentinoa-adige.it":1,"trentinoaadige.it":1,"trentinoalto-adige.it":1,"trentinoaltoadige.it":1,"trentinos-tirol.it":1,"trentinostirol.it":1,"trentinosud-tirol.it":1,"xn--trentinosd-tirol-rzb.it":1,"trentinosudtirol.it":1,"xn--trentinosdtirol-7vb.it":1,"trentinosued-tirol.it":1,"trentinosuedtirol.it":1,"trentinsud-tirol.it":1,"xn--trentinsd-tirol-6vb.it":1,"trentinsudtirol.it":1,"xn--trentinsdtirol-nsb.it":1,"trentinsued-tirol.it":1,"trentinsuedtirol.it":1,"tuscany.it":1,"umb.it":1,"umbria.it":1,"val-d-aosta.it":1,"val-daosta.it":1,"vald-aosta.it":1,"valdaosta.it":1,"valle-aosta.it":1,"valle-d-aosta.it":1,"valle-daosta.it":1,"valleaosta.it":1,"valled-aosta.it":1,"valledaosta.it":1,"vallee-aoste.it":1,"xn--valle-aoste-ebb.it":1,"vallee-d-aoste.it":1,"xn--valle-d-aoste-ehb.it":1,"valleeaoste.it":1,"xn--valleaoste-e7a.it":1,"valleedaoste.it":1,"xn--valledaoste-ebb.it":1,"vao.it":1,"vda.it":1,"ven.it":1,"veneto.it":1,"ag.it":1,"agrigento.it":1,"al.it":1,"alessandria.it":1,"alto-adige.it":1,"altoadige.it":1,"an.it":1,"ancona.it":1,"andria-barletta-trani.it":1,"andria-trani-barletta.it":1,"andriabarlettatrani.it":1,"andriatranibarletta.it":1,"ao.it":1,"aosta.it":1,"aoste.it":1,"ap.it":1,"aq.it":1,"aquila.it":1,"ar.it":1,"arezzo.it":1,"ascoli-piceno.it":1,"ascolipiceno.it":1,"asti.it":1,"at.it":1,"av.it":1,"avellino.it":1,"ba.it":1,"balsan-sudtirol.it":1,"xn--balsan-sdtirol-nsb.it":1,"balsan-suedtirol.it":1,"balsan.it":1,"bari.it":1,"barletta-trani-andria.it":1,"barlettatraniandria.it":1,"belluno.it":1,"benevento.it":1,"bergamo.it":1,"bg.it":1,"bi.it":1,"biella.it":1,"bl.it":1,"bn.it":1,"bo.it":1,"bologna.it":1,"bolzano-altoadige.it":1,"bolzano.it":1,"bozen-sudtirol.it":1,"xn--bozen-sdtirol-2ob.it":1,"bozen-suedtirol.it":1,"bozen.it":1,"br.it":1,"brescia.it":1,"brindisi.it":1,"bs.it":1,"bt.it":1,"bulsan-sudtirol.it":1,"xn--bulsan-sdtirol-nsb.it":1,"bulsan-suedtirol.it":1,"bulsan.it":1,"bz.it":1,"ca.it":1,"cagliari.it":1,"caltanissetta.it":1,"campidano-medio.it":1,"campidanomedio.it":1,"campobasso.it":1,"carbonia-iglesias.it":1,"carboniaiglesias.it":1,"carrara-massa.it":1,"carraramassa.it":1,"caserta.it":1,"catania.it":1,"catanzaro.it":1,"cb.it":1,"ce.it":1,"cesena-forli.it":1,"xn--cesena-forl-mcb.it":1,"cesenaforli.it":1,"xn--cesenaforl-i8a.it":1,"ch.it":1,"chieti.it":1,"ci.it":1,"cl.it":1,"cn.it":1,"co.it":1,"como.it":1,"cosenza.it":1,"cr.it":1,"cremona.it":1,"crotone.it":1,"cs.it":1,"ct.it":1,"cuneo.it":1,"cz.it":1,"dell-ogliastra.it":1,"dellogliastra.it":1,"en.it":1,"enna.it":1,"fc.it":1,"fe.it":1,"fermo.it":1,"ferrara.it":1,"fg.it":1,"fi.it":1,"firenze.it":1,"florence.it":1,"fm.it":1,"foggia.it":1,"forli-cesena.it":1,"xn--forl-cesena-fcb.it":1,"forlicesena.it":1,"xn--forlcesena-c8a.it":1,"fr.it":1,"frosinone.it":1,"ge.it":1,"genoa.it":1,"genova.it":1,"go.it":1,"gorizia.it":1,"gr.it":1,"grosseto.it":1,"iglesias-carbonia.it":1,"iglesiascarbonia.it":1,"im.it":1,"imperia.it":1,"is.it":1,"isernia.it":1,"kr.it":1,"la-spezia.it":1,"laquila.it":1,"laspezia.it":1,"latina.it":1,"lc.it":1,"le.it":1,"lecce.it":1,"lecco.it":1,"li.it":1,"livorno.it":1,"lo.it":1,"lodi.it":1,"lt.it":1,"lu.it":1,"lucca.it":1,"macerata.it":1,"mantova.it":1,"massa-carrara.it":1,"massacarrara.it":1,"matera.it":1,"mb.it":1,"mc.it":1,"me.it":1,"medio-campidano.it":1,"mediocampidano.it":1,"messina.it":1,"mi.it":1,"milan.it":1,"milano.it":1,"mn.it":1,"mo.it":1,"modena.it":1,"monza-brianza.it":1,"monza-e-della-brianza.it":1,"monza.it":1,"monzabrianza.it":1,"monzaebrianza.it":1,"monzaedellabrianza.it":1,"ms.it":1,"mt.it":1,"na.it":1,"naples.it":1,"napoli.it":1,"no.it":1,"novara.it":1,"nu.it":1,"nuoro.it":1,"og.it":1,"ogliastra.it":1,"olbia-tempio.it":1,"olbiatempio.it":1,"or.it":1,"oristano.it":1,"ot.it":1,"pa.it":1,"padova.it":1,"padua.it":1,"palermo.it":1,"parma.it":1,"pavia.it":1,"pc.it":1,"pd.it":1,"pe.it":1,"perugia.it":1,"pesaro-urbino.it":1,"pesarourbino.it":1,"pescara.it":1,"pg.it":1,"pi.it":1,"piacenza.it":1,"pisa.it":1,"pistoia.it":1,"pn.it":1,"po.it":1,"pordenone.it":1,"potenza.it":1,"pr.it":1,"prato.it":1,"pt.it":1,"pu.it":1,"pv.it":1,"pz.it":1,"ra.it":1,"ragusa.it":1,"ravenna.it":1,"rc.it":1,"re.it":1,"reggio-calabria.it":1,"reggio-emilia.it":1,"reggiocalabria.it":1,"reggioemilia.it":1,"rg.it":1,"ri.it":1,"rieti.it":1,"rimini.it":1,"rm.it":1,"rn.it":1,"ro.it":1,"roma.it":1,"rome.it":1,"rovigo.it":1,"sa.it":1,"salerno.it":1,"sassari.it":1,"savona.it":1,"si.it":1,"siena.it":1,"siracusa.it":1,"so.it":1,"sondrio.it":1,"sp.it":1,"sr.it":1,"ss.it":1,"suedtirol.it":1,"xn--sdtirol-n2a.it":1,"sv.it":1,"ta.it":1,"taranto.it":1,"te.it":1,"tempio-olbia.it":1,"tempioolbia.it":1,"teramo.it":1,"terni.it":1,"tn.it":1,"to.it":1,"torino.it":1,"tp.it":1,"tr.it":1,"trani-andria-barletta.it":1,"trani-barletta-andria.it":1,"traniandriabarletta.it":1,"tranibarlettaandria.it":1,"trapani.it":1,"trento.it":1,"treviso.it":1,"trieste.it":1,"ts.it":1,"turin.it":1,"tv.it":1,"ud.it":1,"udine.it":1,"urbino-pesaro.it":1,"urbinopesaro.it":1,"va.it":1,"varese.it":1,"vb.it":1,"vc.it":1,"ve.it":1,"venezia.it":1,"venice.it":1,"verbania.it":1,"vercelli.it":1,"verona.it":1,"vi.it":1,"vibo-valentia.it":1,"vibovalentia.it":1,"vicenza.it":1,"viterbo.it":1,"vr.it":1,"vs.it":1,"vt.it":1,"vv.it":1,je:1,"co.je":1,"net.je":1,"org.je":1,jm:2,jo:1,"com.jo":1,"org.jo":1,"net.jo":1,"edu.jo":1,"sch.jo":1,"gov.jo":1,"mil.jo":1,"name.jo":1,jobs:1,jp:1,"ac.jp":1,"ad.jp":1,"co.jp":1,"ed.jp":1,"go.jp":1,"gr.jp":1,"lg.jp":1,"ne.jp":1,"or.jp":1,"aichi.jp":1,"akita.jp":1,"aomori.jp":1,"chiba.jp":1,"ehime.jp":1,"fukui.jp":1,"fukuoka.jp":1,"fukushima.jp":1,"gifu.jp":1,"gunma.jp":1,"hiroshima.jp":1,"hokkaido.jp":1,"hyogo.jp":1,"ibaraki.jp":1,"ishikawa.jp":1,"iwate.jp":1,"kagawa.jp":1,"kagoshima.jp":1,"kanagawa.jp":1,"kochi.jp":1,"kumamoto.jp":1,"kyoto.jp":1,"mie.jp":1,"miyagi.jp":1,"miyazaki.jp":1,"nagano.jp":1,"nagasaki.jp":1,"nara.jp":1,"niigata.jp":1,"oita.jp":1,"okayama.jp":1,"okinawa.jp":1,"osaka.jp":1,"saga.jp":1,"saitama.jp":1,"shiga.jp":1,"shimane.jp":1,"shizuoka.jp":1,"tochigi.jp":1,"tokushima.jp":1,"tokyo.jp":1,"tottori.jp":1,"toyama.jp":1,"wakayama.jp":1,"yamagata.jp":1,"yamaguchi.jp":1,"yamanashi.jp":1,"xn--4pvxs.jp":1,"xn--vgu402c.jp":1,"xn--c3s14m.jp":1,"xn--f6qx53a.jp":1,"xn--8pvr4u.jp":1,"xn--uist22h.jp":1,"xn--djrs72d6uy.jp":1,"xn--mkru45i.jp":1,"xn--0trq7p7nn.jp":1,"xn--8ltr62k.jp":1,"xn--2m4a15e.jp":1,"xn--efvn9s.jp":1,"xn--32vp30h.jp":1,"xn--4it797k.jp":1,"xn--1lqs71d.jp":1,"xn--5rtp49c.jp":1,"xn--5js045d.jp":1,"xn--ehqz56n.jp":1,"xn--1lqs03n.jp":1,"xn--qqqt11m.jp":1,"xn--kbrq7o.jp":1,"xn--pssu33l.jp":1,"xn--ntsq17g.jp":1,"xn--uisz3g.jp":1,"xn--6btw5a.jp":1,"xn--1ctwo.jp":1,"xn--6orx2r.jp":1,"xn--rht61e.jp":1,"xn--rht27z.jp":1,"xn--djty4k.jp":1,"xn--nit225k.jp":1,"xn--rht3d.jp":1,"xn--klty5x.jp":1,"xn--kltx9a.jp":1,"xn--kltp7d.jp":1,"xn--uuwu58a.jp":1,"xn--zbx025d.jp":1,"xn--ntso0iqx3a.jp":1,"xn--elqq16h.jp":1,"xn--4it168d.jp":1,"xn--klt787d.jp":1,"xn--rny31h.jp":1,"xn--7t0a264c.jp":1,"xn--5rtq34k.jp":1,"xn--k7yn95e.jp":1,"xn--tor131o.jp":1,"xn--d5qv7z876c.jp":1,"kawasaki.jp":2,"kitakyushu.jp":2,"kobe.jp":2,"nagoya.jp":2,"sapporo.jp":2,"sendai.jp":2,"yokohama.jp":2,"city.kawasaki.jp":0,"city.kitakyushu.jp":0,"city.kobe.jp":0,"city.nagoya.jp":0,"city.sapporo.jp":0,"city.sendai.jp":0,"city.yokohama.jp":0,"aisai.aichi.jp":1,"ama.aichi.jp":1,"anjo.aichi.jp":1,"asuke.aichi.jp":1,"chiryu.aichi.jp":1,"chita.aichi.jp":1,"fuso.aichi.jp":1,"gamagori.aichi.jp":1,"handa.aichi.jp":1,"hazu.aichi.jp":1,"hekinan.aichi.jp":1,"higashiura.aichi.jp":1,"ichinomiya.aichi.jp":1,"inazawa.aichi.jp":1,"inuyama.aichi.jp":1,"isshiki.aichi.jp":1,"iwakura.aichi.jp":1,"kanie.aichi.jp":1,"kariya.aichi.jp":1,"kasugai.aichi.jp":1,"kira.aichi.jp":1,"kiyosu.aichi.jp":1,"komaki.aichi.jp":1,"konan.aichi.jp":1,"kota.aichi.jp":1,"mihama.aichi.jp":1,"miyoshi.aichi.jp":1,"nishio.aichi.jp":1,"nisshin.aichi.jp":1,"obu.aichi.jp":1,"oguchi.aichi.jp":1,"oharu.aichi.jp":1,"okazaki.aichi.jp":1,"owariasahi.aichi.jp":1,"seto.aichi.jp":1,"shikatsu.aichi.jp":1,"shinshiro.aichi.jp":1,"shitara.aichi.jp":1,"tahara.aichi.jp":1,"takahama.aichi.jp":1,"tobishima.aichi.jp":1,"toei.aichi.jp":1,"togo.aichi.jp":1,"tokai.aichi.jp":1,"tokoname.aichi.jp":1,"toyoake.aichi.jp":1,"toyohashi.aichi.jp":1,"toyokawa.aichi.jp":1,"toyone.aichi.jp":1,"toyota.aichi.jp":1,"tsushima.aichi.jp":1,"yatomi.aichi.jp":1,"akita.akita.jp":1,"daisen.akita.jp":1,"fujisato.akita.jp":1,"gojome.akita.jp":1,"hachirogata.akita.jp":1,"happou.akita.jp":1,"higashinaruse.akita.jp":1,"honjo.akita.jp":1,"honjyo.akita.jp":1,"ikawa.akita.jp":1,"kamikoani.akita.jp":1,"kamioka.akita.jp":1,"katagami.akita.jp":1,"kazuno.akita.jp":1,"kitaakita.akita.jp":1,"kosaka.akita.jp":1,"kyowa.akita.jp":1,"misato.akita.jp":1,"mitane.akita.jp":1,"moriyoshi.akita.jp":1,"nikaho.akita.jp":1,"noshiro.akita.jp":1,"odate.akita.jp":1,"oga.akita.jp":1,"ogata.akita.jp":1,"semboku.akita.jp":1,"yokote.akita.jp":1,"yurihonjo.akita.jp":1,"aomori.aomori.jp":1,"gonohe.aomori.jp":1,"hachinohe.aomori.jp":1,"hashikami.aomori.jp":1,"hiranai.aomori.jp":1,"hirosaki.aomori.jp":1,"itayanagi.aomori.jp":1,"kuroishi.aomori.jp":1,"misawa.aomori.jp":1,"mutsu.aomori.jp":1,"nakadomari.aomori.jp":1,"noheji.aomori.jp":1,"oirase.aomori.jp":1,"owani.aomori.jp":1,"rokunohe.aomori.jp":1,"sannohe.aomori.jp":1,"shichinohe.aomori.jp":1,"shingo.aomori.jp":1,"takko.aomori.jp":1,"towada.aomori.jp":1,"tsugaru.aomori.jp":1,"tsuruta.aomori.jp":1,"abiko.chiba.jp":1,"asahi.chiba.jp":1,"chonan.chiba.jp":1,"chosei.chiba.jp":1,"choshi.chiba.jp":1,"chuo.chiba.jp":1,"funabashi.chiba.jp":1,"futtsu.chiba.jp":1,"hanamigawa.chiba.jp":1,"ichihara.chiba.jp":1,"ichikawa.chiba.jp":1,"ichinomiya.chiba.jp":1,"inzai.chiba.jp":1,"isumi.chiba.jp":1,"kamagaya.chiba.jp":1,"kamogawa.chiba.jp":1,"kashiwa.chiba.jp":1,"katori.chiba.jp":1,"katsuura.chiba.jp":1,"kimitsu.chiba.jp":1,"kisarazu.chiba.jp":1,"kozaki.chiba.jp":1,"kujukuri.chiba.jp":1,"kyonan.chiba.jp":1,"matsudo.chiba.jp":1,"midori.chiba.jp":1,"mihama.chiba.jp":1,"minamiboso.chiba.jp":1,"mobara.chiba.jp":1,"mutsuzawa.chiba.jp":1,"nagara.chiba.jp":1,"nagareyama.chiba.jp":1,"narashino.chiba.jp":1,"narita.chiba.jp":1,"noda.chiba.jp":1,"oamishirasato.chiba.jp":1,"omigawa.chiba.jp":1,"onjuku.chiba.jp":1,"otaki.chiba.jp":1,"sakae.chiba.jp":1,"sakura.chiba.jp":1,"shimofusa.chiba.jp":1,"shirako.chiba.jp":1,"shiroi.chiba.jp":1,"shisui.chiba.jp":1,"sodegaura.chiba.jp":1,"sosa.chiba.jp":1,"tako.chiba.jp":1,"tateyama.chiba.jp":1,"togane.chiba.jp":1,"tohnosho.chiba.jp":1,"tomisato.chiba.jp":1,"urayasu.chiba.jp":1,"yachimata.chiba.jp":1,"yachiyo.chiba.jp":1,"yokaichiba.chiba.jp":1,"yokoshibahikari.chiba.jp":1,"yotsukaido.chiba.jp":1,"ainan.ehime.jp":1,"honai.ehime.jp":1,"ikata.ehime.jp":1,"imabari.ehime.jp":1,"iyo.ehime.jp":1,"kamijima.ehime.jp":1,"kihoku.ehime.jp":1,"kumakogen.ehime.jp":1,"masaki.ehime.jp":1,"matsuno.ehime.jp":1,"matsuyama.ehime.jp":1,"namikata.ehime.jp":1,"niihama.ehime.jp":1,"ozu.ehime.jp":1,"saijo.ehime.jp":1,"seiyo.ehime.jp":1,"shikokuchuo.ehime.jp":1,"tobe.ehime.jp":1,"toon.ehime.jp":1,"uchiko.ehime.jp":1,"uwajima.ehime.jp":1,"yawatahama.ehime.jp":1,"echizen.fukui.jp":1,"eiheiji.fukui.jp":1,"fukui.fukui.jp":1,"ikeda.fukui.jp":1,"katsuyama.fukui.jp":1,"mihama.fukui.jp":1,"minamiechizen.fukui.jp":1,"obama.fukui.jp":1,"ohi.fukui.jp":1,"ono.fukui.jp":1,"sabae.fukui.jp":1,"sakai.fukui.jp":1,"takahama.fukui.jp":1,"tsuruga.fukui.jp":1,"wakasa.fukui.jp":1,"ashiya.fukuoka.jp":1,"buzen.fukuoka.jp":1,"chikugo.fukuoka.jp":1,"chikuho.fukuoka.jp":1,"chikujo.fukuoka.jp":1,"chikushino.fukuoka.jp":1,"chikuzen.fukuoka.jp":1,"chuo.fukuoka.jp":1,"dazaifu.fukuoka.jp":1,"fukuchi.fukuoka.jp":1,"hakata.fukuoka.jp":1,"higashi.fukuoka.jp":1,"hirokawa.fukuoka.jp":1,"hisayama.fukuoka.jp":1,"iizuka.fukuoka.jp":1,"inatsuki.fukuoka.jp":1,"kaho.fukuoka.jp":1,"kasuga.fukuoka.jp":1,"kasuya.fukuoka.jp":1,"kawara.fukuoka.jp":1,"keisen.fukuoka.jp":1,"koga.fukuoka.jp":1,"kurate.fukuoka.jp":1,"kurogi.fukuoka.jp":1,"kurume.fukuoka.jp":1,"minami.fukuoka.jp":1,"miyako.fukuoka.jp":1,"miyama.fukuoka.jp":1,"miyawaka.fukuoka.jp":1,"mizumaki.fukuoka.jp":1,"munakata.fukuoka.jp":1,"nakagawa.fukuoka.jp":1,"nakama.fukuoka.jp":1,"nishi.fukuoka.jp":1,"nogata.fukuoka.jp":1,"ogori.fukuoka.jp":1,"okagaki.fukuoka.jp":1,"okawa.fukuoka.jp":1,"oki.fukuoka.jp":1,"omuta.fukuoka.jp":1,"onga.fukuoka.jp":1,"onojo.fukuoka.jp":1,"oto.fukuoka.jp":1,"saigawa.fukuoka.jp":1,"sasaguri.fukuoka.jp":1,"shingu.fukuoka.jp":1,"shinyoshitomi.fukuoka.jp":1,"shonai.fukuoka.jp":1,"soeda.fukuoka.jp":1,"sue.fukuoka.jp":1,"tachiarai.fukuoka.jp":1,"tagawa.fukuoka.jp":1,"takata.fukuoka.jp":1,"toho.fukuoka.jp":1,"toyotsu.fukuoka.jp":1,"tsuiki.fukuoka.jp":1,"ukiha.fukuoka.jp":1,"umi.fukuoka.jp":1,"usui.fukuoka.jp":1,"yamada.fukuoka.jp":1,"yame.fukuoka.jp":1,"yanagawa.fukuoka.jp":1,"yukuhashi.fukuoka.jp":1,"aizubange.fukushima.jp":1,"aizumisato.fukushima.jp":1,"aizuwakamatsu.fukushima.jp":1,"asakawa.fukushima.jp":1,"bandai.fukushima.jp":1,"date.fukushima.jp":1,"fukushima.fukushima.jp":1,"furudono.fukushima.jp":1,"futaba.fukushima.jp":1,"hanawa.fukushima.jp":1,"higashi.fukushima.jp":1,"hirata.fukushima.jp":1,"hirono.fukushima.jp":1,"iitate.fukushima.jp":1,"inawashiro.fukushima.jp":1,"ishikawa.fukushima.jp":1,"iwaki.fukushima.jp":1,"izumizaki.fukushima.jp":1,"kagamiishi.fukushima.jp":1,"kaneyama.fukushima.jp":1,"kawamata.fukushima.jp":1,"kitakata.fukushima.jp":1,"kitashiobara.fukushima.jp":1,"koori.fukushima.jp":1,"koriyama.fukushima.jp":1,"kunimi.fukushima.jp":1,"miharu.fukushima.jp":1,"mishima.fukushima.jp":1,"namie.fukushima.jp":1,"nango.fukushima.jp":1,"nishiaizu.fukushima.jp":1,"nishigo.fukushima.jp":1,"okuma.fukushima.jp":1,"omotego.fukushima.jp":1,"ono.fukushima.jp":1,"otama.fukushima.jp":1,"samegawa.fukushima.jp":1,"shimogo.fukushima.jp":1,"shirakawa.fukushima.jp":1,"showa.fukushima.jp":1,"soma.fukushima.jp":1,"sukagawa.fukushima.jp":1,"taishin.fukushima.jp":1,"tamakawa.fukushima.jp":1,"tanagura.fukushima.jp":1,"tenei.fukushima.jp":1,"yabuki.fukushima.jp":1,"yamato.fukushima.jp":1,"yamatsuri.fukushima.jp":1,"yanaizu.fukushima.jp":1,"yugawa.fukushima.jp":1,"anpachi.gifu.jp":1,"ena.gifu.jp":1,"gifu.gifu.jp":1,"ginan.gifu.jp":1,"godo.gifu.jp":1,"gujo.gifu.jp":1,"hashima.gifu.jp":1,"hichiso.gifu.jp":1,"hida.gifu.jp":1,"higashishirakawa.gifu.jp":1,"ibigawa.gifu.jp":1,"ikeda.gifu.jp":1,"kakamigahara.gifu.jp":1,"kani.gifu.jp":1,"kasahara.gifu.jp":1,"kasamatsu.gifu.jp":1,"kawaue.gifu.jp":1,"kitagata.gifu.jp":1,"mino.gifu.jp":1,"minokamo.gifu.jp":1,"mitake.gifu.jp":1,"mizunami.gifu.jp":1,"motosu.gifu.jp":1,"nakatsugawa.gifu.jp":1,"ogaki.gifu.jp":1,"sakahogi.gifu.jp":1,"seki.gifu.jp":1,"sekigahara.gifu.jp":1,"shirakawa.gifu.jp":1,"tajimi.gifu.jp":1,"takayama.gifu.jp":1,"tarui.gifu.jp":1,"toki.gifu.jp":1,"tomika.gifu.jp":1,"wanouchi.gifu.jp":1,"yamagata.gifu.jp":1,"yaotsu.gifu.jp":1,"yoro.gifu.jp":1,"annaka.gunma.jp":1,"chiyoda.gunma.jp":1,"fujioka.gunma.jp":1,"higashiagatsuma.gunma.jp":1,"isesaki.gunma.jp":1,"itakura.gunma.jp":1,"kanna.gunma.jp":1,"kanra.gunma.jp":1,"katashina.gunma.jp":1,"kawaba.gunma.jp":1,"kiryu.gunma.jp":1,"kusatsu.gunma.jp":1,"maebashi.gunma.jp":1,"meiwa.gunma.jp":1,"midori.gunma.jp":1,"minakami.gunma.jp":1,"naganohara.gunma.jp":1,"nakanojo.gunma.jp":1,"nanmoku.gunma.jp":1,"numata.gunma.jp":1,"oizumi.gunma.jp":1,"ora.gunma.jp":1,"ota.gunma.jp":1,"shibukawa.gunma.jp":1,"shimonita.gunma.jp":1,"shinto.gunma.jp":1,"showa.gunma.jp":1,"takasaki.gunma.jp":1,"takayama.gunma.jp":1,"tamamura.gunma.jp":1,"tatebayashi.gunma.jp":1,"tomioka.gunma.jp":1,"tsukiyono.gunma.jp":1,"tsumagoi.gunma.jp":1,"ueno.gunma.jp":1,"yoshioka.gunma.jp":1,"asaminami.hiroshima.jp":1,"daiwa.hiroshima.jp":1,"etajima.hiroshima.jp":1,"fuchu.hiroshima.jp":1,"fukuyama.hiroshima.jp":1,"hatsukaichi.hiroshima.jp":1,"higashihiroshima.hiroshima.jp":1,"hongo.hiroshima.jp":1,"jinsekikogen.hiroshima.jp":1,"kaita.hiroshima.jp":1,"kui.hiroshima.jp":1,"kumano.hiroshima.jp":1,"kure.hiroshima.jp":1,"mihara.hiroshima.jp":1,"miyoshi.hiroshima.jp":1,"naka.hiroshima.jp":1,"onomichi.hiroshima.jp":1,"osakikamijima.hiroshima.jp":1,"otake.hiroshima.jp":1,"saka.hiroshima.jp":1,"sera.hiroshima.jp":1,"seranishi.hiroshima.jp":1,"shinichi.hiroshima.jp":1,"shobara.hiroshima.jp":1,"takehara.hiroshima.jp":1,"abashiri.hokkaido.jp":1,"abira.hokkaido.jp":1,"aibetsu.hokkaido.jp":1,"akabira.hokkaido.jp":1,"akkeshi.hokkaido.jp":1,"asahikawa.hokkaido.jp":1,"ashibetsu.hokkaido.jp":1,"ashoro.hokkaido.jp":1,"assabu.hokkaido.jp":1,"atsuma.hokkaido.jp":1,"bibai.hokkaido.jp":1,"biei.hokkaido.jp":1,"bifuka.hokkaido.jp":1,"bihoro.hokkaido.jp":1,"biratori.hokkaido.jp":1,"chippubetsu.hokkaido.jp":1,"chitose.hokkaido.jp":1,"date.hokkaido.jp":1,"ebetsu.hokkaido.jp":1,"embetsu.hokkaido.jp":1,"eniwa.hokkaido.jp":1,"erimo.hokkaido.jp":1,"esan.hokkaido.jp":1,"esashi.hokkaido.jp":1,"fukagawa.hokkaido.jp":1,"fukushima.hokkaido.jp":1,"furano.hokkaido.jp":1,"furubira.hokkaido.jp":1,"haboro.hokkaido.jp":1,"hakodate.hokkaido.jp":1,"hamatonbetsu.hokkaido.jp":1,"hidaka.hokkaido.jp":1,"higashikagura.hokkaido.jp":1,"higashikawa.hokkaido.jp":1,"hiroo.hokkaido.jp":1,"hokuryu.hokkaido.jp":1,"hokuto.hokkaido.jp":1,"honbetsu.hokkaido.jp":1,"horokanai.hokkaido.jp":1,"horonobe.hokkaido.jp":1,"ikeda.hokkaido.jp":1,"imakane.hokkaido.jp":1,"ishikari.hokkaido.jp":1,"iwamizawa.hokkaido.jp":1,"iwanai.hokkaido.jp":1,"kamifurano.hokkaido.jp":1,"kamikawa.hokkaido.jp":1,"kamishihoro.hokkaido.jp":1,"kamisunagawa.hokkaido.jp":1,"kamoenai.hokkaido.jp":1,"kayabe.hokkaido.jp":1,"kembuchi.hokkaido.jp":1,"kikonai.hokkaido.jp":1,"kimobetsu.hokkaido.jp":1,"kitahiroshima.hokkaido.jp":1,"kitami.hokkaido.jp":1,"kiyosato.hokkaido.jp":1,"koshimizu.hokkaido.jp":1,"kunneppu.hokkaido.jp":1,"kuriyama.hokkaido.jp":1,"kuromatsunai.hokkaido.jp":1,"kushiro.hokkaido.jp":1,"kutchan.hokkaido.jp":1,"kyowa.hokkaido.jp":1,"mashike.hokkaido.jp":1,"matsumae.hokkaido.jp":1,"mikasa.hokkaido.jp":1,"minamifurano.hokkaido.jp":1,"mombetsu.hokkaido.jp":1,"moseushi.hokkaido.jp":1,"mukawa.hokkaido.jp":1,"muroran.hokkaido.jp":1,"naie.hokkaido.jp":1,"nakagawa.hokkaido.jp":1,"nakasatsunai.hokkaido.jp":1,"nakatombetsu.hokkaido.jp":1,"nanae.hokkaido.jp":1,"nanporo.hokkaido.jp":1,"nayoro.hokkaido.jp":1,"nemuro.hokkaido.jp":1,"niikappu.hokkaido.jp":1,"niki.hokkaido.jp":1,"nishiokoppe.hokkaido.jp":1,"noboribetsu.hokkaido.jp":1,"numata.hokkaido.jp":1,"obihiro.hokkaido.jp":1,"obira.hokkaido.jp":1,"oketo.hokkaido.jp":1,"okoppe.hokkaido.jp":1,"otaru.hokkaido.jp":1,"otobe.hokkaido.jp":1,"otofuke.hokkaido.jp":1,"otoineppu.hokkaido.jp":1,"oumu.hokkaido.jp":1,"ozora.hokkaido.jp":1,"pippu.hokkaido.jp":1,"rankoshi.hokkaido.jp":1,"rebun.hokkaido.jp":1,"rikubetsu.hokkaido.jp":1,"rishiri.hokkaido.jp":1,"rishirifuji.hokkaido.jp":1,"saroma.hokkaido.jp":1,"sarufutsu.hokkaido.jp":1,"shakotan.hokkaido.jp":1,"shari.hokkaido.jp":1,"shibecha.hokkaido.jp":1,"shibetsu.hokkaido.jp":1,"shikabe.hokkaido.jp":1,"shikaoi.hokkaido.jp":1,"shimamaki.hokkaido.jp":1,"shimizu.hokkaido.jp":1,"shimokawa.hokkaido.jp":1,"shinshinotsu.hokkaido.jp":1,"shintoku.hokkaido.jp":1,"shiranuka.hokkaido.jp":1,"shiraoi.hokkaido.jp":1,"shiriuchi.hokkaido.jp":1,"sobetsu.hokkaido.jp":1,"sunagawa.hokkaido.jp":1,"taiki.hokkaido.jp":1,"takasu.hokkaido.jp":1,"takikawa.hokkaido.jp":1,"takinoue.hokkaido.jp":1,"teshikaga.hokkaido.jp":1,"tobetsu.hokkaido.jp":1,"tohma.hokkaido.jp":1,"tomakomai.hokkaido.jp":1,"tomari.hokkaido.jp":1,"toya.hokkaido.jp":1,"toyako.hokkaido.jp":1,"toyotomi.hokkaido.jp":1,"toyoura.hokkaido.jp":1,"tsubetsu.hokkaido.jp":1,"tsukigata.hokkaido.jp":1,"urakawa.hokkaido.jp":1,"urausu.hokkaido.jp":1,"uryu.hokkaido.jp":1,"utashinai.hokkaido.jp":1,"wakkanai.hokkaido.jp":1,"wassamu.hokkaido.jp":1,"yakumo.hokkaido.jp":1,"yoichi.hokkaido.jp":1,"aioi.hyogo.jp":1,"akashi.hyogo.jp":1,"ako.hyogo.jp":1,"amagasaki.hyogo.jp":1,"aogaki.hyogo.jp":1,"asago.hyogo.jp":1,"ashiya.hyogo.jp":1,"awaji.hyogo.jp":1,"fukusaki.hyogo.jp":1,"goshiki.hyogo.jp":1,"harima.hyogo.jp":1,"himeji.hyogo.jp":1,"ichikawa.hyogo.jp":1,"inagawa.hyogo.jp":1,"itami.hyogo.jp":1,"kakogawa.hyogo.jp":1,"kamigori.hyogo.jp":1,"kamikawa.hyogo.jp":1,"kasai.hyogo.jp":1,"kasuga.hyogo.jp":1,"kawanishi.hyogo.jp":1,"miki.hyogo.jp":1,"minamiawaji.hyogo.jp":1,"nishinomiya.hyogo.jp":1,"nishiwaki.hyogo.jp":1,"ono.hyogo.jp":1,"sanda.hyogo.jp":1,"sannan.hyogo.jp":1,"sasayama.hyogo.jp":1,"sayo.hyogo.jp":1,"shingu.hyogo.jp":1,"shinonsen.hyogo.jp":1,"shiso.hyogo.jp":1,"sumoto.hyogo.jp":1,"taishi.hyogo.jp":1,"taka.hyogo.jp":1,"takarazuka.hyogo.jp":1,"takasago.hyogo.jp":1,"takino.hyogo.jp":1,"tamba.hyogo.jp":1,"tatsuno.hyogo.jp":1,"toyooka.hyogo.jp":1,"yabu.hyogo.jp":1,"yashiro.hyogo.jp":1,"yoka.hyogo.jp":1,"yokawa.hyogo.jp":1,"ami.ibaraki.jp":1,"asahi.ibaraki.jp":1,"bando.ibaraki.jp":1,"chikusei.ibaraki.jp":1,"daigo.ibaraki.jp":1,"fujishiro.ibaraki.jp":1,"hitachi.ibaraki.jp":1,"hitachinaka.ibaraki.jp":1,"hitachiomiya.ibaraki.jp":1,"hitachiota.ibaraki.jp":1,"ibaraki.ibaraki.jp":1,"ina.ibaraki.jp":1,"inashiki.ibaraki.jp":1,"itako.ibaraki.jp":1,"iwama.ibaraki.jp":1,"joso.ibaraki.jp":1,"kamisu.ibaraki.jp":1,"kasama.ibaraki.jp":1,"kashima.ibaraki.jp":1,"kasumigaura.ibaraki.jp":1,"koga.ibaraki.jp":1,"miho.ibaraki.jp":1,"mito.ibaraki.jp":1,"moriya.ibaraki.jp":1,"naka.ibaraki.jp":1,"namegata.ibaraki.jp":1,"oarai.ibaraki.jp":1,"ogawa.ibaraki.jp":1,"omitama.ibaraki.jp":1,"ryugasaki.ibaraki.jp":1,"sakai.ibaraki.jp":1,"sakuragawa.ibaraki.jp":1,"shimodate.ibaraki.jp":1,"shimotsuma.ibaraki.jp":1,"shirosato.ibaraki.jp":1,"sowa.ibaraki.jp":1,"suifu.ibaraki.jp":1,"takahagi.ibaraki.jp":1,"tamatsukuri.ibaraki.jp":1,"tokai.ibaraki.jp":1,"tomobe.ibaraki.jp":1,"tone.ibaraki.jp":1,"toride.ibaraki.jp":1,"tsuchiura.ibaraki.jp":1,"tsukuba.ibaraki.jp":1,"uchihara.ibaraki.jp":1,"ushiku.ibaraki.jp":1,"yachiyo.ibaraki.jp":1,"yamagata.ibaraki.jp":1,"yawara.ibaraki.jp":1,"yuki.ibaraki.jp":1,"anamizu.ishikawa.jp":1,"hakui.ishikawa.jp":1,"hakusan.ishikawa.jp":1,"kaga.ishikawa.jp":1,"kahoku.ishikawa.jp":1,"kanazawa.ishikawa.jp":1,"kawakita.ishikawa.jp":1,"komatsu.ishikawa.jp":1,"nakanoto.ishikawa.jp":1,"nanao.ishikawa.jp":1,"nomi.ishikawa.jp":1,"nonoichi.ishikawa.jp":1,"noto.ishikawa.jp":1,"shika.ishikawa.jp":1,"suzu.ishikawa.jp":1,"tsubata.ishikawa.jp":1,"tsurugi.ishikawa.jp":1,"uchinada.ishikawa.jp":1,"wajima.ishikawa.jp":1,"fudai.iwate.jp":1,"fujisawa.iwate.jp":1,"hanamaki.iwate.jp":1,"hiraizumi.iwate.jp":1,"hirono.iwate.jp":1,"ichinohe.iwate.jp":1,"ichinoseki.iwate.jp":1,"iwaizumi.iwate.jp":1,"iwate.iwate.jp":1,"joboji.iwate.jp":1,"kamaishi.iwate.jp":1,"kanegasaki.iwate.jp":1,"karumai.iwate.jp":1,"kawai.iwate.jp":1,"kitakami.iwate.jp":1,"kuji.iwate.jp":1,"kunohe.iwate.jp":1,"kuzumaki.iwate.jp":1,"miyako.iwate.jp":1,"mizusawa.iwate.jp":1,"morioka.iwate.jp":1,"ninohe.iwate.jp":1,"noda.iwate.jp":1,"ofunato.iwate.jp":1,"oshu.iwate.jp":1,"otsuchi.iwate.jp":1,"rikuzentakata.iwate.jp":1,"shiwa.iwate.jp":1,"shizukuishi.iwate.jp":1,"sumita.iwate.jp":1,"tanohata.iwate.jp":1,"tono.iwate.jp":1,"yahaba.iwate.jp":1,"yamada.iwate.jp":1,"ayagawa.kagawa.jp":1,"higashikagawa.kagawa.jp":1,"kanonji.kagawa.jp":1,"kotohira.kagawa.jp":1,"manno.kagawa.jp":1,"marugame.kagawa.jp":1,"mitoyo.kagawa.jp":1,"naoshima.kagawa.jp":1,"sanuki.kagawa.jp":1,"tadotsu.kagawa.jp":1,"takamatsu.kagawa.jp":1,"tonosho.kagawa.jp":1,"uchinomi.kagawa.jp":1,"utazu.kagawa.jp":1,"zentsuji.kagawa.jp":1,"akune.kagoshima.jp":1,"amami.kagoshima.jp":1,"hioki.kagoshima.jp":1,"isa.kagoshima.jp":1,"isen.kagoshima.jp":1,"izumi.kagoshima.jp":1,"kagoshima.kagoshima.jp":1,"kanoya.kagoshima.jp":1,"kawanabe.kagoshima.jp":1,"kinko.kagoshima.jp":1,"kouyama.kagoshima.jp":1,"makurazaki.kagoshima.jp":1,"matsumoto.kagoshima.jp":1,"minamitane.kagoshima.jp":1,"nakatane.kagoshima.jp":1,"nishinoomote.kagoshima.jp":1,"satsumasendai.kagoshima.jp":1,"soo.kagoshima.jp":1,"tarumizu.kagoshima.jp":1,"yusui.kagoshima.jp":1,"aikawa.kanagawa.jp":1,"atsugi.kanagawa.jp":1,"ayase.kanagawa.jp":1,"chigasaki.kanagawa.jp":1,"ebina.kanagawa.jp":1,"fujisawa.kanagawa.jp":1,"hadano.kanagawa.jp":1,"hakone.kanagawa.jp":1,"hiratsuka.kanagawa.jp":1,"isehara.kanagawa.jp":1,"kaisei.kanagawa.jp":1,"kamakura.kanagawa.jp":1,"kiyokawa.kanagawa.jp":1,"matsuda.kanagawa.jp":1,"minamiashigara.kanagawa.jp":1,"miura.kanagawa.jp":1,"nakai.kanagawa.jp":1,"ninomiya.kanagawa.jp":1,"odawara.kanagawa.jp":1,"oi.kanagawa.jp":1,"oiso.kanagawa.jp":1,"sagamihara.kanagawa.jp":1,"samukawa.kanagawa.jp":1,"tsukui.kanagawa.jp":1,"yamakita.kanagawa.jp":1,"yamato.kanagawa.jp":1,"yokosuka.kanagawa.jp":1,"yugawara.kanagawa.jp":1,"zama.kanagawa.jp":1,"zushi.kanagawa.jp":1,"aki.kochi.jp":1,"geisei.kochi.jp":1,"hidaka.kochi.jp":1,"higashitsuno.kochi.jp":1,"ino.kochi.jp":1,"kagami.kochi.jp":1,"kami.kochi.jp":1,"kitagawa.kochi.jp":1,"kochi.kochi.jp":1,"mihara.kochi.jp":1,"motoyama.kochi.jp":1,"muroto.kochi.jp":1,"nahari.kochi.jp":1,"nakamura.kochi.jp":1,"nankoku.kochi.jp":1,"nishitosa.kochi.jp":1,"niyodogawa.kochi.jp":1,"ochi.kochi.jp":1,"okawa.kochi.jp":1,"otoyo.kochi.jp":1,"otsuki.kochi.jp":1,"sakawa.kochi.jp":1,"sukumo.kochi.jp":1,"susaki.kochi.jp":1,"tosa.kochi.jp":1,"tosashimizu.kochi.jp":1,"toyo.kochi.jp":1,"tsuno.kochi.jp":1,"umaji.kochi.jp":1,"yasuda.kochi.jp":1,"yusuhara.kochi.jp":1,"amakusa.kumamoto.jp":1,"arao.kumamoto.jp":1,"aso.kumamoto.jp":1,"choyo.kumamoto.jp":1,"gyokuto.kumamoto.jp":1,"kamiamakusa.kumamoto.jp":1,"kikuchi.kumamoto.jp":1,"kumamoto.kumamoto.jp":1,"mashiki.kumamoto.jp":1,"mifune.kumamoto.jp":1,"minamata.kumamoto.jp":1,"minamioguni.kumamoto.jp":1,"nagasu.kumamoto.jp":1,"nishihara.kumamoto.jp":1,"oguni.kumamoto.jp":1,"ozu.kumamoto.jp":1,"sumoto.kumamoto.jp":1,"takamori.kumamoto.jp":1,"uki.kumamoto.jp":1,"uto.kumamoto.jp":1,"yamaga.kumamoto.jp":1,"yamato.kumamoto.jp":1,"yatsushiro.kumamoto.jp":1,"ayabe.kyoto.jp":1,"fukuchiyama.kyoto.jp":1,"higashiyama.kyoto.jp":1,"ide.kyoto.jp":1,"ine.kyoto.jp":1,"joyo.kyoto.jp":1,"kameoka.kyoto.jp":1,"kamo.kyoto.jp":1,"kita.kyoto.jp":1,"kizu.kyoto.jp":1,"kumiyama.kyoto.jp":1,"kyotamba.kyoto.jp":1,"kyotanabe.kyoto.jp":1,"kyotango.kyoto.jp":1,"maizuru.kyoto.jp":1,"minami.kyoto.jp":1,"minamiyamashiro.kyoto.jp":1,"miyazu.kyoto.jp":1,"muko.kyoto.jp":1,"nagaokakyo.kyoto.jp":1,"nakagyo.kyoto.jp":1,"nantan.kyoto.jp":1,"oyamazaki.kyoto.jp":1,"sakyo.kyoto.jp":1,"seika.kyoto.jp":1,"tanabe.kyoto.jp":1,"uji.kyoto.jp":1,"ujitawara.kyoto.jp":1,"wazuka.kyoto.jp":1,"yamashina.kyoto.jp":1,"yawata.kyoto.jp":1,"asahi.mie.jp":1,"inabe.mie.jp":1,"ise.mie.jp":1,"kameyama.mie.jp":1,"kawagoe.mie.jp":1,"kiho.mie.jp":1,"kisosaki.mie.jp":1,"kiwa.mie.jp":1,"komono.mie.jp":1,"kumano.mie.jp":1,"kuwana.mie.jp":1,"matsusaka.mie.jp":1,"meiwa.mie.jp":1,"mihama.mie.jp":1,"minamiise.mie.jp":1,"misugi.mie.jp":1,"miyama.mie.jp":1,"nabari.mie.jp":1,"shima.mie.jp":1,"suzuka.mie.jp":1,"tado.mie.jp":1,"taiki.mie.jp":1,"taki.mie.jp":1,"tamaki.mie.jp":1,"toba.mie.jp":1,"tsu.mie.jp":1,"udono.mie.jp":1,"ureshino.mie.jp":1,"watarai.mie.jp":1,"yokkaichi.mie.jp":1,"furukawa.miyagi.jp":1,"higashimatsushima.miyagi.jp":1,"ishinomaki.miyagi.jp":1,"iwanuma.miyagi.jp":1,"kakuda.miyagi.jp":1,"kami.miyagi.jp":1,"kawasaki.miyagi.jp":1,"marumori.miyagi.jp":1,"matsushima.miyagi.jp":1,"minamisanriku.miyagi.jp":1,"misato.miyagi.jp":1,"murata.miyagi.jp":1,"natori.miyagi.jp":1,"ogawara.miyagi.jp":1,"ohira.miyagi.jp":1,"onagawa.miyagi.jp":1,"osaki.miyagi.jp":1,"rifu.miyagi.jp":1,"semine.miyagi.jp":1,"shibata.miyagi.jp":1,"shichikashuku.miyagi.jp":1,"shikama.miyagi.jp":1,"shiogama.miyagi.jp":1,"shiroishi.miyagi.jp":1,"tagajo.miyagi.jp":1,"taiwa.miyagi.jp":1,"tome.miyagi.jp":1,"tomiya.miyagi.jp":1,"wakuya.miyagi.jp":1,"watari.miyagi.jp":1,"yamamoto.miyagi.jp":1,"zao.miyagi.jp":1,"aya.miyazaki.jp":1,"ebino.miyazaki.jp":1,"gokase.miyazaki.jp":1,"hyuga.miyazaki.jp":1,"kadogawa.miyazaki.jp":1,"kawaminami.miyazaki.jp":1,"kijo.miyazaki.jp":1,"kitagawa.miyazaki.jp":1,"kitakata.miyazaki.jp":1,"kitaura.miyazaki.jp":1,"kobayashi.miyazaki.jp":1,"kunitomi.miyazaki.jp":1,"kushima.miyazaki.jp":1,"mimata.miyazaki.jp":1,"miyakonojo.miyazaki.jp":1,"miyazaki.miyazaki.jp":1,"morotsuka.miyazaki.jp":1,"nichinan.miyazaki.jp":1,"nishimera.miyazaki.jp":1,"nobeoka.miyazaki.jp":1,"saito.miyazaki.jp":1,"shiiba.miyazaki.jp":1,"shintomi.miyazaki.jp":1,"takaharu.miyazaki.jp":1,"takanabe.miyazaki.jp":1,"takazaki.miyazaki.jp":1,"tsuno.miyazaki.jp":1,"achi.nagano.jp":1,"agematsu.nagano.jp":1,"anan.nagano.jp":1,"aoki.nagano.jp":1,"asahi.nagano.jp":1,"azumino.nagano.jp":1,"chikuhoku.nagano.jp":1,"chikuma.nagano.jp":1,"chino.nagano.jp":1,"fujimi.nagano.jp":1,"hakuba.nagano.jp":1,"hara.nagano.jp":1,"hiraya.nagano.jp":1,"iida.nagano.jp":1,"iijima.nagano.jp":1,"iiyama.nagano.jp":1,"iizuna.nagano.jp":1,"ikeda.nagano.jp":1,"ikusaka.nagano.jp":1,"ina.nagano.jp":1,"karuizawa.nagano.jp":1,"kawakami.nagano.jp":1,"kiso.nagano.jp":1,"kisofukushima.nagano.jp":1,"kitaaiki.nagano.jp":1,"komagane.nagano.jp":1,"komoro.nagano.jp":1,"matsukawa.nagano.jp":1,"matsumoto.nagano.jp":1,"miasa.nagano.jp":1,"minamiaiki.nagano.jp":1,"minamimaki.nagano.jp":1,"minamiminowa.nagano.jp":1,"minowa.nagano.jp":1,"miyada.nagano.jp":1,"miyota.nagano.jp":1,"mochizuki.nagano.jp":1,"nagano.nagano.jp":1,"nagawa.nagano.jp":1,"nagiso.nagano.jp":1,"nakagawa.nagano.jp":1,"nakano.nagano.jp":1,"nozawaonsen.nagano.jp":1,"obuse.nagano.jp":1,"ogawa.nagano.jp":1,"okaya.nagano.jp":1,"omachi.nagano.jp":1,"omi.nagano.jp":1,"ookuwa.nagano.jp":1,"ooshika.nagano.jp":1,"otaki.nagano.jp":1,"otari.nagano.jp":1,"sakae.nagano.jp":1,"sakaki.nagano.jp":1,"saku.nagano.jp":1,"sakuho.nagano.jp":1,"shimosuwa.nagano.jp":1,"shinanomachi.nagano.jp":1,"shiojiri.nagano.jp":1,"suwa.nagano.jp":1,"suzaka.nagano.jp":1,"takagi.nagano.jp":1,"takamori.nagano.jp":1,"takayama.nagano.jp":1,"tateshina.nagano.jp":1,"tatsuno.nagano.jp":1,"togakushi.nagano.jp":1,"togura.nagano.jp":1,"tomi.nagano.jp":1,"ueda.nagano.jp":1,"wada.nagano.jp":1,"yamagata.nagano.jp":1,"yamanouchi.nagano.jp":1,"yasaka.nagano.jp":1,"yasuoka.nagano.jp":1,"chijiwa.nagasaki.jp":1,"futsu.nagasaki.jp":1,"goto.nagasaki.jp":1,"hasami.nagasaki.jp":1,"hirado.nagasaki.jp":1,"iki.nagasaki.jp":1,"isahaya.nagasaki.jp":1,"kawatana.nagasaki.jp":1,"kuchinotsu.nagasaki.jp":1,"matsuura.nagasaki.jp":1,"nagasaki.nagasaki.jp":1,"obama.nagasaki.jp":1,"omura.nagasaki.jp":1,"oseto.nagasaki.jp":1,"saikai.nagasaki.jp":1,"sasebo.nagasaki.jp":1,"seihi.nagasaki.jp":1,"shimabara.nagasaki.jp":1,"shinkamigoto.nagasaki.jp":1,"togitsu.nagasaki.jp":1,"tsushima.nagasaki.jp":1,"unzen.nagasaki.jp":1,"ando.nara.jp":1,"gose.nara.jp":1,"heguri.nara.jp":1,"higashiyoshino.nara.jp":1,"ikaruga.nara.jp":1,"ikoma.nara.jp":1,"kamikitayama.nara.jp":1,"kanmaki.nara.jp":1,"kashiba.nara.jp":1,"kashihara.nara.jp":1,"katsuragi.nara.jp":1,"kawai.nara.jp":1,"kawakami.nara.jp":1,"kawanishi.nara.jp":1,"koryo.nara.jp":1,"kurotaki.nara.jp":1,"mitsue.nara.jp":1,"miyake.nara.jp":1,"nara.nara.jp":1,"nosegawa.nara.jp":1,"oji.nara.jp":1,"ouda.nara.jp":1,"oyodo.nara.jp":1,"sakurai.nara.jp":1,"sango.nara.jp":1,"shimoichi.nara.jp":1,"shimokitayama.nara.jp":1,"shinjo.nara.jp":1,"soni.nara.jp":1,"takatori.nara.jp":1,"tawaramoto.nara.jp":1,"tenkawa.nara.jp":1,"tenri.nara.jp":1,"uda.nara.jp":1,"yamatokoriyama.nara.jp":1,"yamatotakada.nara.jp":1,"yamazoe.nara.jp":1,"yoshino.nara.jp":1,"aga.niigata.jp":1,"agano.niigata.jp":1,"gosen.niigata.jp":1,"itoigawa.niigata.jp":1,"izumozaki.niigata.jp":1,"joetsu.niigata.jp":1,"kamo.niigata.jp":1,"kariwa.niigata.jp":1,"kashiwazaki.niigata.jp":1,"minamiuonuma.niigata.jp":1,"mitsuke.niigata.jp":1,"muika.niigata.jp":1,"murakami.niigata.jp":1,"myoko.niigata.jp":1,"nagaoka.niigata.jp":1,"niigata.niigata.jp":1,"ojiya.niigata.jp":1,"omi.niigata.jp":1,"sado.niigata.jp":1,"sanjo.niigata.jp":1,"seiro.niigata.jp":1,"seirou.niigata.jp":1,"sekikawa.niigata.jp":1,"shibata.niigata.jp":1,"tagami.niigata.jp":1,"tainai.niigata.jp":1,"tochio.niigata.jp":1,"tokamachi.niigata.jp":1,"tsubame.niigata.jp":1,"tsunan.niigata.jp":1,"uonuma.niigata.jp":1,"yahiko.niigata.jp":1,"yoita.niigata.jp":1,"yuzawa.niigata.jp":1,"beppu.oita.jp":1,"bungoono.oita.jp":1,"bungotakada.oita.jp":1,"hasama.oita.jp":1,"hiji.oita.jp":1,"himeshima.oita.jp":1,"hita.oita.jp":1,"kamitsue.oita.jp":1,"kokonoe.oita.jp":1,"kuju.oita.jp":1,"kunisaki.oita.jp":1,"kusu.oita.jp":1,"oita.oita.jp":1,"saiki.oita.jp":1,"taketa.oita.jp":1,"tsukumi.oita.jp":1,"usa.oita.jp":1,"usuki.oita.jp":1,"yufu.oita.jp":1,"akaiwa.okayama.jp":1,"asakuchi.okayama.jp":1,"bizen.okayama.jp":1,"hayashima.okayama.jp":1,"ibara.okayama.jp":1,"kagamino.okayama.jp":1,"kasaoka.okayama.jp":1,"kibichuo.okayama.jp":1,"kumenan.okayama.jp":1,"kurashiki.okayama.jp":1,"maniwa.okayama.jp":1,"misaki.okayama.jp":1,"nagi.okayama.jp":1,"niimi.okayama.jp":1,"nishiawakura.okayama.jp":1,"okayama.okayama.jp":1,"satosho.okayama.jp":1,"setouchi.okayama.jp":1,"shinjo.okayama.jp":1,"shoo.okayama.jp":1,"soja.okayama.jp":1,"takahashi.okayama.jp":1,"tamano.okayama.jp":1,"tsuyama.okayama.jp":1,"wake.okayama.jp":1,"yakage.okayama.jp":1,"aguni.okinawa.jp":1,"ginowan.okinawa.jp":1,"ginoza.okinawa.jp":1,"gushikami.okinawa.jp":1,"haebaru.okinawa.jp":1,"higashi.okinawa.jp":1,"hirara.okinawa.jp":1,"iheya.okinawa.jp":1,"ishigaki.okinawa.jp":1,"ishikawa.okinawa.jp":1,"itoman.okinawa.jp":1,"izena.okinawa.jp":1,"kadena.okinawa.jp":1,"kin.okinawa.jp":1,"kitadaito.okinawa.jp":1,"kitanakagusuku.okinawa.jp":1,"kumejima.okinawa.jp":1,"kunigami.okinawa.jp":1,"minamidaito.okinawa.jp":1,"motobu.okinawa.jp":1,"nago.okinawa.jp":1,"naha.okinawa.jp":1,"nakagusuku.okinawa.jp":1,"nakijin.okinawa.jp":1,"nanjo.okinawa.jp":1,"nishihara.okinawa.jp":1,"ogimi.okinawa.jp":1,"okinawa.okinawa.jp":1,"onna.okinawa.jp":1,"shimoji.okinawa.jp":1,"taketomi.okinawa.jp":1,"tarama.okinawa.jp":1,"tokashiki.okinawa.jp":1,"tomigusuku.okinawa.jp":1,"tonaki.okinawa.jp":1,"urasoe.okinawa.jp":1,"uruma.okinawa.jp":1,"yaese.okinawa.jp":1,"yomitan.okinawa.jp":1,"yonabaru.okinawa.jp":1,"yonaguni.okinawa.jp":1,"zamami.okinawa.jp":1,"abeno.osaka.jp":1,"chihayaakasaka.osaka.jp":1,"chuo.osaka.jp":1,"daito.osaka.jp":1,"fujiidera.osaka.jp":1,"habikino.osaka.jp":1,"hannan.osaka.jp":1,"higashiosaka.osaka.jp":1,"higashisumiyoshi.osaka.jp":1,"higashiyodogawa.osaka.jp":1,"hirakata.osaka.jp":1,"ibaraki.osaka.jp":1,"ikeda.osaka.jp":1,"izumi.osaka.jp":1,"izumiotsu.osaka.jp":1,"izumisano.osaka.jp":1,"kadoma.osaka.jp":1,"kaizuka.osaka.jp":1,"kanan.osaka.jp":1,"kashiwara.osaka.jp":1,"katano.osaka.jp":1,"kawachinagano.osaka.jp":1,"kishiwada.osaka.jp":1,"kita.osaka.jp":1,"kumatori.osaka.jp":1,"matsubara.osaka.jp":1,"minato.osaka.jp":1,"minoh.osaka.jp":1,"misaki.osaka.jp":1,"moriguchi.osaka.jp":1,"neyagawa.osaka.jp":1,"nishi.osaka.jp":1,"nose.osaka.jp":1,"osakasayama.osaka.jp":1,"sakai.osaka.jp":1,"sayama.osaka.jp":1,"sennan.osaka.jp":1,"settsu.osaka.jp":1,"shijonawate.osaka.jp":1,"shimamoto.osaka.jp":1,"suita.osaka.jp":1,"tadaoka.osaka.jp":1,"taishi.osaka.jp":1,"tajiri.osaka.jp":1,"takaishi.osaka.jp":1,"takatsuki.osaka.jp":1,"tondabayashi.osaka.jp":1,"toyonaka.osaka.jp":1,"toyono.osaka.jp":1,"yao.osaka.jp":1,"ariake.saga.jp":1,"arita.saga.jp":1,"fukudomi.saga.jp":1,"genkai.saga.jp":1,"hamatama.saga.jp":1,"hizen.saga.jp":1,"imari.saga.jp":1,"kamimine.saga.jp":1,"kanzaki.saga.jp":1,"karatsu.saga.jp":1,"kashima.saga.jp":1,"kitagata.saga.jp":1,"kitahata.saga.jp":1,"kiyama.saga.jp":1,"kouhoku.saga.jp":1,"kyuragi.saga.jp":1,"nishiarita.saga.jp":1,"ogi.saga.jp":1,"omachi.saga.jp":1,"ouchi.saga.jp":1,"saga.saga.jp":1,"shiroishi.saga.jp":1,"taku.saga.jp":1,"tara.saga.jp":1,"tosu.saga.jp":1,"yoshinogari.saga.jp":1,"arakawa.saitama.jp":1,"asaka.saitama.jp":1,"chichibu.saitama.jp":1,"fujimi.saitama.jp":1,"fujimino.saitama.jp":1,"fukaya.saitama.jp":1,"hanno.saitama.jp":1,"hanyu.saitama.jp":1,"hasuda.saitama.jp":1,"hatogaya.saitama.jp":1,"hatoyama.saitama.jp":1,"hidaka.saitama.jp":1,"higashichichibu.saitama.jp":1,"higashimatsuyama.saitama.jp":1,"honjo.saitama.jp":1,"ina.saitama.jp":1,"iruma.saitama.jp":1,"iwatsuki.saitama.jp":1,"kamiizumi.saitama.jp":1,"kamikawa.saitama.jp":1,"kamisato.saitama.jp":1,"kasukabe.saitama.jp":1,"kawagoe.saitama.jp":1,"kawaguchi.saitama.jp":1,"kawajima.saitama.jp":1,"kazo.saitama.jp":1,"kitamoto.saitama.jp":1,"koshigaya.saitama.jp":1,"kounosu.saitama.jp":1,"kuki.saitama.jp":1,"kumagaya.saitama.jp":1,"matsubushi.saitama.jp":1,"minano.saitama.jp":1,"misato.saitama.jp":1,"miyashiro.saitama.jp":1,"miyoshi.saitama.jp":1,"moroyama.saitama.jp":1,"nagatoro.saitama.jp":1,"namegawa.saitama.jp":1,"niiza.saitama.jp":1,"ogano.saitama.jp":1,"ogawa.saitama.jp":1,"ogose.saitama.jp":1,"okegawa.saitama.jp":1,"omiya.saitama.jp":1,"otaki.saitama.jp":1,"ranzan.saitama.jp":1,"ryokami.saitama.jp":1,"saitama.saitama.jp":1,"sakado.saitama.jp":1,"satte.saitama.jp":1,"sayama.saitama.jp":1,"shiki.saitama.jp":1,"shiraoka.saitama.jp":1,"soka.saitama.jp":1,"sugito.saitama.jp":1,"toda.saitama.jp":1,"tokigawa.saitama.jp":1,"tokorozawa.saitama.jp":1,"tsurugashima.saitama.jp":1,"urawa.saitama.jp":1,"warabi.saitama.jp":1,"yashio.saitama.jp":1,"yokoze.saitama.jp":1,"yono.saitama.jp":1,"yorii.saitama.jp":1,"yoshida.saitama.jp":1,"yoshikawa.saitama.jp":1,"yoshimi.saitama.jp":1,"aisho.shiga.jp":1,"gamo.shiga.jp":1,"higashiomi.shiga.jp":1,"hikone.shiga.jp":1,"koka.shiga.jp":1,"konan.shiga.jp":1,"kosei.shiga.jp":1,"koto.shiga.jp":1,"kusatsu.shiga.jp":1,"maibara.shiga.jp":1,"moriyama.shiga.jp":1,"nagahama.shiga.jp":1,"nishiazai.shiga.jp":1,"notogawa.shiga.jp":1,"omihachiman.shiga.jp":1,"otsu.shiga.jp":1,"ritto.shiga.jp":1,"ryuoh.shiga.jp":1,"takashima.shiga.jp":1,"takatsuki.shiga.jp":1,"torahime.shiga.jp":1,"toyosato.shiga.jp":1,"yasu.shiga.jp":1,"akagi.shimane.jp":1,"ama.shimane.jp":1,"gotsu.shimane.jp":1,"hamada.shimane.jp":1,"higashiizumo.shimane.jp":1,"hikawa.shimane.jp":1,"hikimi.shimane.jp":1,"izumo.shimane.jp":1,"kakinoki.shimane.jp":1,"masuda.shimane.jp":1,"matsue.shimane.jp":1,"misato.shimane.jp":1,"nishinoshima.shimane.jp":1,"ohda.shimane.jp":1,"okinoshima.shimane.jp":1,"okuizumo.shimane.jp":1,"shimane.shimane.jp":1,"tamayu.shimane.jp":1,"tsuwano.shimane.jp":1,"unnan.shimane.jp":1,"yakumo.shimane.jp":1,"yasugi.shimane.jp":1,"yatsuka.shimane.jp":1,"arai.shizuoka.jp":1,"atami.shizuoka.jp":1,"fuji.shizuoka.jp":1,"fujieda.shizuoka.jp":1,"fujikawa.shizuoka.jp":1,"fujinomiya.shizuoka.jp":1,"fukuroi.shizuoka.jp":1,"gotemba.shizuoka.jp":1,"haibara.shizuoka.jp":1,"hamamatsu.shizuoka.jp":1,"higashiizu.shizuoka.jp":1,"ito.shizuoka.jp":1,"iwata.shizuoka.jp":1,"izu.shizuoka.jp":1,"izunokuni.shizuoka.jp":1,"kakegawa.shizuoka.jp":1,"kannami.shizuoka.jp":1,"kawanehon.shizuoka.jp":1,"kawazu.shizuoka.jp":1,"kikugawa.shizuoka.jp":1,"kosai.shizuoka.jp":1,"makinohara.shizuoka.jp":1,"matsuzaki.shizuoka.jp":1,"minamiizu.shizuoka.jp":1,"mishima.shizuoka.jp":1,"morimachi.shizuoka.jp":1,"nishiizu.shizuoka.jp":1,"numazu.shizuoka.jp":1,"omaezaki.shizuoka.jp":1,"shimada.shizuoka.jp":1,"shimizu.shizuoka.jp":1,"shimoda.shizuoka.jp":1,"shizuoka.shizuoka.jp":1,"susono.shizuoka.jp":1,"yaizu.shizuoka.jp":1,"yoshida.shizuoka.jp":1,"ashikaga.tochigi.jp":1,"bato.tochigi.jp":1,"haga.tochigi.jp":1,"ichikai.tochigi.jp":1,"iwafune.tochigi.jp":1,"kaminokawa.tochigi.jp":1,"kanuma.tochigi.jp":1,"karasuyama.tochigi.jp":1,"kuroiso.tochigi.jp":1,"mashiko.tochigi.jp":1,"mibu.tochigi.jp":1,"moka.tochigi.jp":1,"motegi.tochigi.jp":1,"nasu.tochigi.jp":1,"nasushiobara.tochigi.jp":1,"nikko.tochigi.jp":1,"nishikata.tochigi.jp":1,"nogi.tochigi.jp":1,"ohira.tochigi.jp":1,"ohtawara.tochigi.jp":1,"oyama.tochigi.jp":1,"sakura.tochigi.jp":1,"sano.tochigi.jp":1,"shimotsuke.tochigi.jp":1,"shioya.tochigi.jp":1,"takanezawa.tochigi.jp":1,"tochigi.tochigi.jp":1,"tsuga.tochigi.jp":1,"ujiie.tochigi.jp":1,"utsunomiya.tochigi.jp":1,"yaita.tochigi.jp":1,"aizumi.tokushima.jp":1,"anan.tokushima.jp":1,"ichiba.tokushima.jp":1,"itano.tokushima.jp":1,"kainan.tokushima.jp":1,"komatsushima.tokushima.jp":1,"matsushige.tokushima.jp":1,"mima.tokushima.jp":1,"minami.tokushima.jp":1,"miyoshi.tokushima.jp":1,"mugi.tokushima.jp":1,"nakagawa.tokushima.jp":1,"naruto.tokushima.jp":1,"sanagochi.tokushima.jp":1,"shishikui.tokushima.jp":1,"tokushima.tokushima.jp":1,"wajiki.tokushima.jp":1,"adachi.tokyo.jp":1,"akiruno.tokyo.jp":1,"akishima.tokyo.jp":1,"aogashima.tokyo.jp":1,"arakawa.tokyo.jp":1,"bunkyo.tokyo.jp":1,"chiyoda.tokyo.jp":1,"chofu.tokyo.jp":1,"chuo.tokyo.jp":1,"edogawa.tokyo.jp":1,"fuchu.tokyo.jp":1,"fussa.tokyo.jp":1,"hachijo.tokyo.jp":1,"hachioji.tokyo.jp":1,"hamura.tokyo.jp":1,"higashikurume.tokyo.jp":1,"higashimurayama.tokyo.jp":1,"higashiyamato.tokyo.jp":1,"hino.tokyo.jp":1,"hinode.tokyo.jp":1,"hinohara.tokyo.jp":1,"inagi.tokyo.jp":1,"itabashi.tokyo.jp":1,"katsushika.tokyo.jp":1,"kita.tokyo.jp":1,"kiyose.tokyo.jp":1,"kodaira.tokyo.jp":1,"koganei.tokyo.jp":1,"kokubunji.tokyo.jp":1,"komae.tokyo.jp":1,"koto.tokyo.jp":1,"kouzushima.tokyo.jp":1,"kunitachi.tokyo.jp":1,"machida.tokyo.jp":1,"meguro.tokyo.jp":1,"minato.tokyo.jp":1,"mitaka.tokyo.jp":1,"mizuho.tokyo.jp":1,"musashimurayama.tokyo.jp":1,"musashino.tokyo.jp":1,"nakano.tokyo.jp":1,"nerima.tokyo.jp":1,"ogasawara.tokyo.jp":1,"okutama.tokyo.jp":1,"ome.tokyo.jp":1,"oshima.tokyo.jp":1,"ota.tokyo.jp":1,"setagaya.tokyo.jp":1,"shibuya.tokyo.jp":1,"shinagawa.tokyo.jp":1,"shinjuku.tokyo.jp":1,"suginami.tokyo.jp":1,"sumida.tokyo.jp":1,"tachikawa.tokyo.jp":1,"taito.tokyo.jp":1,"tama.tokyo.jp":1,"toshima.tokyo.jp":1,"chizu.tottori.jp":1,"hino.tottori.jp":1,"kawahara.tottori.jp":1,"koge.tottori.jp":1,"kotoura.tottori.jp":1,"misasa.tottori.jp":1,"nanbu.tottori.jp":1,"nichinan.tottori.jp":1,"sakaiminato.tottori.jp":1,"tottori.tottori.jp":1,"wakasa.tottori.jp":1,"yazu.tottori.jp":1,"yonago.tottori.jp":1,"asahi.toyama.jp":1,"fuchu.toyama.jp":1,"fukumitsu.toyama.jp":1,"funahashi.toyama.jp":1,"himi.toyama.jp":1,"imizu.toyama.jp":1,"inami.toyama.jp":1,"johana.toyama.jp":1,"kamiichi.toyama.jp":1,"kurobe.toyama.jp":1,"nakaniikawa.toyama.jp":1,"namerikawa.toyama.jp":1,"nanto.toyama.jp":1,"nyuzen.toyama.jp":1,"oyabe.toyama.jp":1,"taira.toyama.jp":1,"takaoka.toyama.jp":1,"tateyama.toyama.jp":1,"toga.toyama.jp":1,"tonami.toyama.jp":1,"toyama.toyama.jp":1,"unazuki.toyama.jp":1,"uozu.toyama.jp":1,"yamada.toyama.jp":1,"arida.wakayama.jp":1,"aridagawa.wakayama.jp":1,"gobo.wakayama.jp":1,"hashimoto.wakayama.jp":1,"hidaka.wakayama.jp":1,"hirogawa.wakayama.jp":1,"inami.wakayama.jp":1,"iwade.wakayama.jp":1,"kainan.wakayama.jp":1,"kamitonda.wakayama.jp":1,"katsuragi.wakayama.jp":1,"kimino.wakayama.jp":1,"kinokawa.wakayama.jp":1,"kitayama.wakayama.jp":1,"koya.wakayama.jp":1,"koza.wakayama.jp":1,"kozagawa.wakayama.jp":1,"kudoyama.wakayama.jp":1,"kushimoto.wakayama.jp":1,"mihama.wakayama.jp":1,"misato.wakayama.jp":1,"nachikatsuura.wakayama.jp":1,"shingu.wakayama.jp":1,"shirahama.wakayama.jp":1,"taiji.wakayama.jp":1,"tanabe.wakayama.jp":1,"wakayama.wakayama.jp":1,"yuasa.wakayama.jp":1,"yura.wakayama.jp":1,"asahi.yamagata.jp":1,"funagata.yamagata.jp":1,"higashine.yamagata.jp":1,"iide.yamagata.jp":1,"kahoku.yamagata.jp":1,"kaminoyama.yamagata.jp":1,"kaneyama.yamagata.jp":1,"kawanishi.yamagata.jp":1,"mamurogawa.yamagata.jp":1,"mikawa.yamagata.jp":1,"murayama.yamagata.jp":1,"nagai.yamagata.jp":1,"nakayama.yamagata.jp":1,"nanyo.yamagata.jp":1,"nishikawa.yamagata.jp":1,"obanazawa.yamagata.jp":1,"oe.yamagata.jp":1,"oguni.yamagata.jp":1,"ohkura.yamagata.jp":1,"oishida.yamagata.jp":1,"sagae.yamagata.jp":1,"sakata.yamagata.jp":1,"sakegawa.yamagata.jp":1,"shinjo.yamagata.jp":1,"shirataka.yamagata.jp":1,"shonai.yamagata.jp":1,"takahata.yamagata.jp":1,"tendo.yamagata.jp":1,"tozawa.yamagata.jp":1,"tsuruoka.yamagata.jp":1,"yamagata.yamagata.jp":1,"yamanobe.yamagata.jp":1,"yonezawa.yamagata.jp":1,"yuza.yamagata.jp":1,"abu.yamaguchi.jp":1,"hagi.yamaguchi.jp":1,"hikari.yamaguchi.jp":1,"hofu.yamaguchi.jp":1,"iwakuni.yamaguchi.jp":1,"kudamatsu.yamaguchi.jp":1,"mitou.yamaguchi.jp":1,"nagato.yamaguchi.jp":1,"oshima.yamaguchi.jp":1,"shimonoseki.yamaguchi.jp":1,"shunan.yamaguchi.jp":1,"tabuse.yamaguchi.jp":1,"tokuyama.yamaguchi.jp":1,"toyota.yamaguchi.jp":1,"ube.yamaguchi.jp":1,"yuu.yamaguchi.jp":1,"chuo.yamanashi.jp":1,"doshi.yamanashi.jp":1,"fuefuki.yamanashi.jp":1,"fujikawa.yamanashi.jp":1,"fujikawaguchiko.yamanashi.jp":1,"fujiyoshida.yamanashi.jp":1,"hayakawa.yamanashi.jp":1,"hokuto.yamanashi.jp":1,"ichikawamisato.yamanashi.jp":1,"kai.yamanashi.jp":1,"kofu.yamanashi.jp":1,"koshu.yamanashi.jp":1,"kosuge.yamanashi.jp":1,"minami-alps.yamanashi.jp":1,"minobu.yamanashi.jp":1,"nakamichi.yamanashi.jp":1,"nanbu.yamanashi.jp":1,"narusawa.yamanashi.jp":1,"nirasaki.yamanashi.jp":1,"nishikatsura.yamanashi.jp":1,"oshino.yamanashi.jp":1,"otsuki.yamanashi.jp":1,"showa.yamanashi.jp":1,"tabayama.yamanashi.jp":1,"tsuru.yamanashi.jp":1,"uenohara.yamanashi.jp":1,"yamanakako.yamanashi.jp":1,"yamanashi.yamanashi.jp":1,ke:1,"ac.ke":1,"co.ke":1,"go.ke":1,"info.ke":1,"me.ke":1,"mobi.ke":1,"ne.ke":1,"or.ke":1,"sc.ke":1,kg:1,"org.kg":1,"net.kg":1,"com.kg":1,"edu.kg":1,"gov.kg":1,"mil.kg":1,kh:2,ki:1,"edu.ki":1,"biz.ki":1,"net.ki":1,"org.ki":1,"gov.ki":1,"info.ki":1,"com.ki":1,km:1,"org.km":1,"nom.km":1,"gov.km":1,"prd.km":1,"tm.km":1,"edu.km":1,"mil.km":1,"ass.km":1,"com.km":1,"coop.km":1,"asso.km":1,"presse.km":1,"medecin.km":1,"notaires.km":1,"pharmaciens.km":1,"veterinaire.km":1,"gouv.km":1,kn:1,"net.kn":1,"org.kn":1,"edu.kn":1,"gov.kn":1,kp:1,"com.kp":1,"edu.kp":1,"gov.kp":1,"org.kp":1,"rep.kp":1,"tra.kp":1,kr:1,"ac.kr":1,"co.kr":1,"es.kr":1,"go.kr":1,"hs.kr":1,"kg.kr":1,"mil.kr":1,"ms.kr":1,"ne.kr":1,"or.kr":1,"pe.kr":1,"re.kr":1,"sc.kr":1,"busan.kr":1,"chungbuk.kr":1,"chungnam.kr":1,"daegu.kr":1,"daejeon.kr":1,"gangwon.kr":1,"gwangju.kr":1,"gyeongbuk.kr":1,"gyeonggi.kr":1,"gyeongnam.kr":1,"incheon.kr":1,"jeju.kr":1,"jeonbuk.kr":1,"jeonnam.kr":1,"seoul.kr":1,"ulsan.kr":1,kw:1,"com.kw":1,"edu.kw":1,"emb.kw":1,"gov.kw":1,"ind.kw":1,"net.kw":1,"org.kw":1,ky:1,"com.ky":1,"edu.ky":1,"net.ky":1,"org.ky":1,kz:1,"org.kz":1,"edu.kz":1,"net.kz":1,"gov.kz":1,"mil.kz":1,"com.kz":1,la:1,"int.la":1,"net.la":1,"info.la":1,"edu.la":1,"gov.la":1,"per.la":1,"com.la":1,"org.la":1,lb:1,"com.lb":1,"edu.lb":1,"gov.lb":1,"net.lb":1,"org.lb":1,lc:1,"com.lc":1,"net.lc":1,"co.lc":1,"org.lc":1,"edu.lc":1,"gov.lc":1,li:1,lk:1,"gov.lk":1,"sch.lk":1,"net.lk":1,"int.lk":1,"com.lk":1,"org.lk":1,"edu.lk":1,"ngo.lk":1,"soc.lk":1,"web.lk":1,"ltd.lk":1,"assn.lk":1,"grp.lk":1,"hotel.lk":1,"ac.lk":1,lr:1,"com.lr":1,"edu.lr":1,"gov.lr":1,"org.lr":1,"net.lr":1,ls:1,"ac.ls":1,"biz.ls":1,"co.ls":1,"edu.ls":1,"gov.ls":1,"info.ls":1,"net.ls":1,"org.ls":1,"sc.ls":1,lt:1,"gov.lt":1,lu:1,lv:1,"com.lv":1,"edu.lv":1,"gov.lv":1,"org.lv":1,"mil.lv":1,"id.lv":1,"net.lv":1,"asn.lv":1,"conf.lv":1,ly:1,"com.ly":1,"net.ly":1,"gov.ly":1,"plc.ly":1,"edu.ly":1,"sch.ly":1,"med.ly":1,"org.ly":1,"id.ly":1,ma:1,"co.ma":1,"net.ma":1,"gov.ma":1,"org.ma":1,"ac.ma":1,"press.ma":1,mc:1,"tm.mc":1,"asso.mc":1,md:1,me:1,"co.me":1,"net.me":1,"org.me":1,"edu.me":1,"ac.me":1,"gov.me":1,"its.me":1,"priv.me":1,mg:1,"org.mg":1,"nom.mg":1,"gov.mg":1,"prd.mg":1,"tm.mg":1,"edu.mg":1,"mil.mg":1,"com.mg":1,"co.mg":1,mh:1,mil:1,mk:1,"com.mk":1,"org.mk":1,"net.mk":1,"edu.mk":1,"gov.mk":1,"inf.mk":1,"name.mk":1,ml:1,"com.ml":1,"edu.ml":1,"gouv.ml":1,"gov.ml":1,"net.ml":1,"org.ml":1,"presse.ml":1,mm:2,mn:1,"gov.mn":1,"edu.mn":1,"org.mn":1,mo:1,"com.mo":1,"net.mo":1,"org.mo":1,"edu.mo":1,"gov.mo":1,mobi:1,mp:1,mq:1,mr:1,"gov.mr":1,ms:1,"com.ms":1,"edu.ms":1,"gov.ms":1,"net.ms":1,"org.ms":1,mt:1,"com.mt":1,"edu.mt":1,"net.mt":1,"org.mt":1,mu:1,"com.mu":1,"net.mu":1,"org.mu":1,"gov.mu":1,"ac.mu":1,"co.mu":1,"or.mu":1,museum:1,mv:1,"aero.mv":1,"biz.mv":1,"com.mv":1,"coop.mv":1,"edu.mv":1,"gov.mv":1,"info.mv":1,"int.mv":1,"mil.mv":1,"museum.mv":1,"name.mv":1,"net.mv":1,"org.mv":1,"pro.mv":1,mw:1,"ac.mw":1,"biz.mw":1,"co.mw":1,"com.mw":1,"coop.mw":1,"edu.mw":1,"gov.mw":1,"int.mw":1,"museum.mw":1,"net.mw":1,"org.mw":1,mx:1,"com.mx":1,"org.mx":1,"gob.mx":1,"edu.mx":1,"net.mx":1,my:1,"biz.my":1,"com.my":1,"edu.my":1,"gov.my":1,"mil.my":1,"name.my":1,"net.my":1,"org.my":1,mz:1,"ac.mz":1,"adv.mz":1,"co.mz":1,"edu.mz":1,"gov.mz":1,"mil.mz":1,"net.mz":1,"org.mz":1,na:1,"info.na":1,"pro.na":1,"name.na":1,"school.na":1,"or.na":1,"dr.na":1,"us.na":1,"mx.na":1,"ca.na":1,"in.na":1,"cc.na":1,"tv.na":1,"ws.na":1,"mobi.na":1,"co.na":1,"com.na":1,"org.na":1,name:1,nc:1,"asso.nc":1,"nom.nc":1,ne:1,net:1,nf:1,"com.nf":1,"net.nf":1,"per.nf":1,"rec.nf":1,"web.nf":1,"arts.nf":1,"firm.nf":1,"info.nf":1,"other.nf":1,"store.nf":1,ng:1,"com.ng":1,"edu.ng":1,"gov.ng":1,"i.ng":1,"mil.ng":1,"mobi.ng":1,"name.ng":1,"net.ng":1,"org.ng":1,"sch.ng":1,ni:1,"ac.ni":1,"biz.ni":1,"co.ni":1,"com.ni":1,"edu.ni":1,"gob.ni":1,"in.ni":1,"info.ni":1,"int.ni":1,"mil.ni":1,"net.ni":1,"nom.ni":1,"org.ni":1,"web.ni":1,nl:1,no:1,"fhs.no":1,"vgs.no":1,"fylkesbibl.no":1,"folkebibl.no":1,"museum.no":1,"idrett.no":1,"priv.no":1,"mil.no":1,"stat.no":1,"dep.no":1,"kommune.no":1,"herad.no":1,"aa.no":1,"ah.no":1,"bu.no":1,"fm.no":1,"hl.no":1,"hm.no":1,"jan-mayen.no":1,"mr.no":1,"nl.no":1,"nt.no":1,"of.no":1,"ol.no":1,"oslo.no":1,"rl.no":1,"sf.no":1,"st.no":1,"svalbard.no":1,"tm.no":1,"tr.no":1,"va.no":1,"vf.no":1,"gs.aa.no":1,"gs.ah.no":1,"gs.bu.no":1,"gs.fm.no":1,"gs.hl.no":1,"gs.hm.no":1,"gs.jan-mayen.no":1,"gs.mr.no":1,"gs.nl.no":1,"gs.nt.no":1,"gs.of.no":1,"gs.ol.no":1,"gs.oslo.no":1,"gs.rl.no":1,"gs.sf.no":1,"gs.st.no":1,"gs.svalbard.no":1,"gs.tm.no":1,"gs.tr.no":1,"gs.va.no":1,"gs.vf.no":1,"akrehamn.no":1,"xn--krehamn-dxa.no":1,"algard.no":1,"xn--lgrd-poac.no":1,"arna.no":1,"brumunddal.no":1,"bryne.no":1,"bronnoysund.no":1,"xn--brnnysund-m8ac.no":1,"drobak.no":1,"xn--drbak-wua.no":1,"egersund.no":1,"fetsund.no":1,"floro.no":1,"xn--flor-jra.no":1,"fredrikstad.no":1,"hokksund.no":1,"honefoss.no":1,"xn--hnefoss-q1a.no":1,"jessheim.no":1,"jorpeland.no":1,"xn--jrpeland-54a.no":1,"kirkenes.no":1,"kopervik.no":1,"krokstadelva.no":1,"langevag.no":1,"xn--langevg-jxa.no":1,"leirvik.no":1,"mjondalen.no":1,"xn--mjndalen-64a.no":1,"mo-i-rana.no":1,"mosjoen.no":1,"xn--mosjen-eya.no":1,"nesoddtangen.no":1,"orkanger.no":1,"osoyro.no":1,"xn--osyro-wua.no":1,"raholt.no":1,"xn--rholt-mra.no":1,"sandnessjoen.no":1,"xn--sandnessjen-ogb.no":1,"skedsmokorset.no":1,"slattum.no":1,"spjelkavik.no":1,"stathelle.no":1,"stavern.no":1,"stjordalshalsen.no":1,"xn--stjrdalshalsen-sqb.no":1,"tananger.no":1,"tranby.no":1,"vossevangen.no":1,"afjord.no":1,"xn--fjord-lra.no":1,"agdenes.no":1,"al.no":1,"xn--l-1fa.no":1,"alesund.no":1,"xn--lesund-hua.no":1,"alstahaug.no":1,"alta.no":1,"xn--lt-liac.no":1,"alaheadju.no":1,"xn--laheadju-7ya.no":1,"alvdal.no":1,"amli.no":1,"xn--mli-tla.no":1,"amot.no":1,"xn--mot-tla.no":1,"andebu.no":1,"andoy.no":1,"xn--andy-ira.no":1,"andasuolo.no":1,"ardal.no":1,"xn--rdal-poa.no":1,"aremark.no":1,"arendal.no":1,"xn--s-1fa.no":1,"aseral.no":1,"xn--seral-lra.no":1,"asker.no":1,"askim.no":1,"askvoll.no":1,"askoy.no":1,"xn--asky-ira.no":1,"asnes.no":1,"xn--snes-poa.no":1,"audnedaln.no":1,"aukra.no":1,"aure.no":1,"aurland.no":1,"aurskog-holand.no":1,"xn--aurskog-hland-jnb.no":1,"austevoll.no":1,"austrheim.no":1,"averoy.no":1,"xn--avery-yua.no":1,"balestrand.no":1,"ballangen.no":1,"balat.no":1,"xn--blt-elab.no":1,"balsfjord.no":1,"bahccavuotna.no":1,"xn--bhccavuotna-k7a.no":1,"bamble.no":1,"bardu.no":1,"beardu.no":1,"beiarn.no":1,"bajddar.no":1,"xn--bjddar-pta.no":1,"baidar.no":1,"xn--bidr-5nac.no":1,"berg.no":1,"bergen.no":1,"berlevag.no":1,"xn--berlevg-jxa.no":1,"bearalvahki.no":1,"xn--bearalvhki-y4a.no":1,"bindal.no":1,"birkenes.no":1,"bjarkoy.no":1,"xn--bjarky-fya.no":1,"bjerkreim.no":1,"bjugn.no":1,"bodo.no":1,"xn--bod-2na.no":1,"badaddja.no":1,"xn--bdddj-mrabd.no":1,"budejju.no":1,"bokn.no":1,"bremanger.no":1,"bronnoy.no":1,"xn--brnny-wuac.no":1,"bygland.no":1,"bykle.no":1,"barum.no":1,"xn--brum-voa.no":1,"bo.telemark.no":1,"xn--b-5ga.telemark.no":1,"bo.nordland.no":1,"xn--b-5ga.nordland.no":1,"bievat.no":1,"xn--bievt-0qa.no":1,"bomlo.no":1,"xn--bmlo-gra.no":1,"batsfjord.no":1,"xn--btsfjord-9za.no":1,"bahcavuotna.no":1,"xn--bhcavuotna-s4a.no":1,"dovre.no":1,"drammen.no":1,"drangedal.no":1,"dyroy.no":1,"xn--dyry-ira.no":1,"donna.no":1,"xn--dnna-gra.no":1,"eid.no":1,"eidfjord.no":1,"eidsberg.no":1,"eidskog.no":1,"eidsvoll.no":1,"eigersund.no":1,"elverum.no":1,"enebakk.no":1,"engerdal.no":1,"etne.no":1,"etnedal.no":1,"evenes.no":1,"evenassi.no":1,"xn--eveni-0qa01ga.no":1,"evje-og-hornnes.no":1,"farsund.no":1,"fauske.no":1,"fuossko.no":1,"fuoisku.no":1,"fedje.no":1,"fet.no":1,"finnoy.no":1,"xn--finny-yua.no":1,"fitjar.no":1,"fjaler.no":1,"fjell.no":1,"flakstad.no":1,"flatanger.no":1,"flekkefjord.no":1,"flesberg.no":1,"flora.no":1,"fla.no":1,"xn--fl-zia.no":1,"folldal.no":1,"forsand.no":1,"fosnes.no":1,"frei.no":1,"frogn.no":1,"froland.no":1,"frosta.no":1,"frana.no":1,"xn--frna-woa.no":1,"froya.no":1,"xn--frya-hra.no":1,"fusa.no":1,"fyresdal.no":1,"forde.no":1,"xn--frde-gra.no":1,"gamvik.no":1,"gangaviika.no":1,"xn--ggaviika-8ya47h.no":1,"gaular.no":1,"gausdal.no":1,"gildeskal.no":1,"xn--gildeskl-g0a.no":1,"giske.no":1,"gjemnes.no":1,"gjerdrum.no":1,"gjerstad.no":1,"gjesdal.no":1,"gjovik.no":1,"xn--gjvik-wua.no":1,"gloppen.no":1,"gol.no":1,"gran.no":1,"grane.no":1,"granvin.no":1,"gratangen.no":1,"grimstad.no":1,"grong.no":1,"kraanghke.no":1,"xn--kranghke-b0a.no":1,"grue.no":1,"gulen.no":1,"hadsel.no":1,"halden.no":1,"halsa.no":1,"hamar.no":1,"hamaroy.no":1,"habmer.no":1,"xn--hbmer-xqa.no":1,"hapmir.no":1,"xn--hpmir-xqa.no":1,"hammerfest.no":1,"hammarfeasta.no":1,"xn--hmmrfeasta-s4ac.no":1,"haram.no":1,"hareid.no":1,"harstad.no":1,"hasvik.no":1,"aknoluokta.no":1,"xn--koluokta-7ya57h.no":1,"hattfjelldal.no":1,"aarborte.no":1,"haugesund.no":1,"hemne.no":1,"hemnes.no":1,"hemsedal.no":1,"heroy.more-og-romsdal.no":1,"xn--hery-ira.xn--mre-og-romsdal-qqb.no":1,"heroy.nordland.no":1,"xn--hery-ira.nordland.no":1,"hitra.no":1,"hjartdal.no":1,"hjelmeland.no":1,"hobol.no":1,"xn--hobl-ira.no":1,"hof.no":1,"hol.no":1,"hole.no":1,"holmestrand.no":1,"holtalen.no":1,"xn--holtlen-hxa.no":1,"hornindal.no":1,"horten.no":1,"hurdal.no":1,"hurum.no":1,"hvaler.no":1,"hyllestad.no":1,"hagebostad.no":1,"xn--hgebostad-g3a.no":1,"hoyanger.no":1,"xn--hyanger-q1a.no":1,"hoylandet.no":1,"xn--hylandet-54a.no":1,"ha.no":1,"xn--h-2fa.no":1,"ibestad.no":1,"inderoy.no":1,"xn--indery-fya.no":1,"iveland.no":1,"jevnaker.no":1,"jondal.no":1,"jolster.no":1,"xn--jlster-bya.no":1,"karasjok.no":1,"karasjohka.no":1,"xn--krjohka-hwab49j.no":1,"karlsoy.no":1,"galsa.no":1,"xn--gls-elac.no":1,"karmoy.no":1,"xn--karmy-yua.no":1,"kautokeino.no":1,"guovdageaidnu.no":1,"klepp.no":1,"klabu.no":1,"xn--klbu-woa.no":1,"kongsberg.no":1,"kongsvinger.no":1,"kragero.no":1,"xn--krager-gya.no":1,"kristiansand.no":1,"kristiansund.no":1,"krodsherad.no":1,"xn--krdsherad-m8a.no":1,"kvalsund.no":1,"rahkkeravju.no":1,"xn--rhkkervju-01af.no":1,"kvam.no":1,"kvinesdal.no":1,"kvinnherad.no":1,"kviteseid.no":1,"kvitsoy.no":1,"xn--kvitsy-fya.no":1,"kvafjord.no":1,"xn--kvfjord-nxa.no":1,"giehtavuoatna.no":1,"kvanangen.no":1,"xn--kvnangen-k0a.no":1,"navuotna.no":1,"xn--nvuotna-hwa.no":1,"kafjord.no":1,"xn--kfjord-iua.no":1,"gaivuotna.no":1,"xn--givuotna-8ya.no":1,"larvik.no":1,"lavangen.no":1,"lavagis.no":1,"loabat.no":1,"xn--loabt-0qa.no":1,"lebesby.no":1,"davvesiida.no":1,"leikanger.no":1,"leirfjord.no":1,"leka.no":1,"leksvik.no":1,"lenvik.no":1,"leangaviika.no":1,"xn--leagaviika-52b.no":1,"lesja.no":1,"levanger.no":1,"lier.no":1,"lierne.no":1,"lillehammer.no":1,"lillesand.no":1,"lindesnes.no":1,"lindas.no":1,"xn--linds-pra.no":1,"lom.no":1,"loppa.no":1,"lahppi.no":1,"xn--lhppi-xqa.no":1,"lund.no":1,"lunner.no":1,"luroy.no":1,"xn--lury-ira.no":1,"luster.no":1,"lyngdal.no":1,"lyngen.no":1,"ivgu.no":1,"lardal.no":1,"lerdal.no":1,"xn--lrdal-sra.no":1,"lodingen.no":1,"xn--ldingen-q1a.no":1,"lorenskog.no":1,"xn--lrenskog-54a.no":1,"loten.no":1,"xn--lten-gra.no":1,"malvik.no":1,"masoy.no":1,"xn--msy-ula0h.no":1,"muosat.no":1,"xn--muost-0qa.no":1,"mandal.no":1,"marker.no":1,"marnardal.no":1,"masfjorden.no":1,"meland.no":1,"meldal.no":1,"melhus.no":1,"meloy.no":1,"xn--mely-ira.no":1,"meraker.no":1,"xn--merker-kua.no":1,"moareke.no":1,"xn--moreke-jua.no":1,"midsund.no":1,"midtre-gauldal.no":1,"modalen.no":1,"modum.no":1,"molde.no":1,"moskenes.no":1,"moss.no":1,"mosvik.no":1,"malselv.no":1,"xn--mlselv-iua.no":1,"malatvuopmi.no":1,"xn--mlatvuopmi-s4a.no":1,"namdalseid.no":1,"aejrie.no":1,"namsos.no":1,"namsskogan.no":1,"naamesjevuemie.no":1,"xn--nmesjevuemie-tcba.no":1,"laakesvuemie.no":1,"nannestad.no":1,"narvik.no":1,"narviika.no":1,"naustdal.no":1,"nedre-eiker.no":1,"nes.akershus.no":1,"nes.buskerud.no":1,"nesna.no":1,"nesodden.no":1,"nesseby.no":1,"unjarga.no":1,"xn--unjrga-rta.no":1,"nesset.no":1,"nissedal.no":1,"nittedal.no":1,"nord-aurdal.no":1,"nord-fron.no":1,"nord-odal.no":1,"norddal.no":1,"nordkapp.no":1,"davvenjarga.no":1,"xn--davvenjrga-y4a.no":1,"nordre-land.no":1,"nordreisa.no":1,"raisa.no":1,"xn--risa-5na.no":1,"nore-og-uvdal.no":1,"notodden.no":1,"naroy.no":1,"xn--nry-yla5g.no":1,"notteroy.no":1,"xn--nttery-byae.no":1,"odda.no":1,"oksnes.no":1,"xn--ksnes-uua.no":1,"oppdal.no":1,"oppegard.no":1,"xn--oppegrd-ixa.no":1,"orkdal.no":1,"orland.no":1,"xn--rland-uua.no":1,"orskog.no":1,"xn--rskog-uua.no":1,"orsta.no":1,"xn--rsta-fra.no":1,"os.hedmark.no":1,"os.hordaland.no":1,"osen.no":1,"osteroy.no":1,"xn--ostery-fya.no":1,"ostre-toten.no":1,"xn--stre-toten-zcb.no":1,"overhalla.no":1,"ovre-eiker.no":1,"xn--vre-eiker-k8a.no":1,"oyer.no":1,"xn--yer-zna.no":1,"oygarden.no":1,"xn--ygarden-p1a.no":1,"oystre-slidre.no":1,"xn--ystre-slidre-ujb.no":1,"porsanger.no":1,"porsangu.no":1,"xn--porsgu-sta26f.no":1,"porsgrunn.no":1,"radoy.no":1,"xn--rady-ira.no":1,"rakkestad.no":1,"rana.no":1,"ruovat.no":1,"randaberg.no":1,"rauma.no":1,"rendalen.no":1,"rennebu.no":1,"rennesoy.no":1,"xn--rennesy-v1a.no":1,"rindal.no":1,"ringebu.no":1,"ringerike.no":1,"ringsaker.no":1,"rissa.no":1,"risor.no":1,"xn--risr-ira.no":1,"roan.no":1,"rollag.no":1,"rygge.no":1,"ralingen.no":1,"xn--rlingen-mxa.no":1,"rodoy.no":1,"xn--rdy-0nab.no":1,"romskog.no":1,"xn--rmskog-bya.no":1,"roros.no":1,"xn--rros-gra.no":1,"rost.no":1,"xn--rst-0na.no":1,"royken.no":1,"xn--ryken-vua.no":1,"royrvik.no":1,"xn--ryrvik-bya.no":1,"rade.no":1,"xn--rde-ula.no":1,"salangen.no":1,"siellak.no":1,"saltdal.no":1,"salat.no":1,"xn--slt-elab.no":1,"xn--slat-5na.no":1,"samnanger.no":1,"sande.more-og-romsdal.no":1,"sande.xn--mre-og-romsdal-qqb.no":1,"sande.vestfold.no":1,"sandefjord.no":1,"sandnes.no":1,"sandoy.no":1,"xn--sandy-yua.no":1,"sarpsborg.no":1,"sauda.no":1,"sauherad.no":1,"sel.no":1,"selbu.no":1,"selje.no":1,"seljord.no":1,"sigdal.no":1,"siljan.no":1,"sirdal.no":1,"skaun.no":1,"skedsmo.no":1,"ski.no":1,"skien.no":1,"skiptvet.no":1,"skjervoy.no":1,"xn--skjervy-v1a.no":1,"skierva.no":1,"xn--skierv-uta.no":1,"skjak.no":1,"xn--skjk-soa.no":1,"skodje.no":1,"skanland.no":1,"xn--sknland-fxa.no":1,"skanit.no":1,"xn--sknit-yqa.no":1,"smola.no":1,"xn--smla-hra.no":1,"snillfjord.no":1,"snasa.no":1,"xn--snsa-roa.no":1,"snoasa.no":1,"snaase.no":1,"xn--snase-nra.no":1,"sogndal.no":1,"sokndal.no":1,"sola.no":1,"solund.no":1,"songdalen.no":1,"sortland.no":1,"spydeberg.no":1,"stange.no":1,"stavanger.no":1,"steigen.no":1,"steinkjer.no":1,"stjordal.no":1,"xn--stjrdal-s1a.no":1,"stokke.no":1,"stor-elvdal.no":1,"stord.no":1,"stordal.no":1,"storfjord.no":1,"omasvuotna.no":1,"strand.no":1,"stranda.no":1,"stryn.no":1,"sula.no":1,"suldal.no":1,"sund.no":1,"sunndal.no":1,"surnadal.no":1,"sveio.no":1,"svelvik.no":1,"sykkylven.no":1,"sogne.no":1,"xn--sgne-gra.no":1,"somna.no":1,"xn--smna-gra.no":1,"sondre-land.no":1,"xn--sndre-land-0cb.no":1,"sor-aurdal.no":1,"xn--sr-aurdal-l8a.no":1,"sor-fron.no":1,"xn--sr-fron-q1a.no":1,"sor-odal.no":1,"xn--sr-odal-q1a.no":1,"sor-varanger.no":1,"xn--sr-varanger-ggb.no":1,"matta-varjjat.no":1,"xn--mtta-vrjjat-k7af.no":1,"sorfold.no":1,"xn--srfold-bya.no":1,"sorreisa.no":1,"xn--srreisa-q1a.no":1,"sorum.no":1,"xn--srum-gra.no":1,"tana.no":1,"deatnu.no":1,"time.no":1,"tingvoll.no":1,"tinn.no":1,"tjeldsund.no":1,"dielddanuorri.no":1,"tjome.no":1,"xn--tjme-hra.no":1,"tokke.no":1,"tolga.no":1,"torsken.no":1,"tranoy.no":1,"xn--trany-yua.no":1,"tromso.no":1,"xn--troms-zua.no":1,"tromsa.no":1,"romsa.no":1,"trondheim.no":1,"troandin.no":1,"trysil.no":1,"trana.no":1,"xn--trna-woa.no":1,"trogstad.no":1,"xn--trgstad-r1a.no":1,"tvedestrand.no":1,"tydal.no":1,"tynset.no":1,"tysfjord.no":1,"divtasvuodna.no":1,"divttasvuotna.no":1,"tysnes.no":1,"tysvar.no":1,"xn--tysvr-vra.no":1,"tonsberg.no":1,"xn--tnsberg-q1a.no":1,"ullensaker.no":1,"ullensvang.no":1,"ulvik.no":1,"utsira.no":1,"vadso.no":1,"xn--vads-jra.no":1,"cahcesuolo.no":1,"xn--hcesuolo-7ya35b.no":1,"vaksdal.no":1,"valle.no":1,"vang.no":1,"vanylven.no":1,"vardo.no":1,"xn--vard-jra.no":1,"varggat.no":1,"xn--vrggt-xqad.no":1,"vefsn.no":1,"vaapste.no":1,"vega.no":1,"vegarshei.no":1,"xn--vegrshei-c0a.no":1,"vennesla.no":1,"verdal.no":1,"verran.no":1,"vestby.no":1,"vestnes.no":1,"vestre-slidre.no":1,"vestre-toten.no":1,"vestvagoy.no":1,"xn--vestvgy-ixa6o.no":1,"vevelstad.no":1,"vik.no":1,"vikna.no":1,"vindafjord.no":1,"volda.no":1,"voss.no":1,"varoy.no":1,"xn--vry-yla5g.no":1,"vagan.no":1,"xn--vgan-qoa.no":1,"voagat.no":1,"vagsoy.no":1,"xn--vgsy-qoa0j.no":1,"vaga.no":1,"xn--vg-yiab.no":1,"valer.ostfold.no":1,"xn--vler-qoa.xn--stfold-9xa.no":1,"valer.hedmark.no":1,"xn--vler-qoa.hedmark.no":1,np:2,nr:1,"biz.nr":1,"info.nr":1,"gov.nr":1,"edu.nr":1,"org.nr":1,"net.nr":1,"com.nr":1,nu:1,nz:1,"ac.nz":1,"co.nz":1,"cri.nz":1,"geek.nz":1,"gen.nz":1,"govt.nz":1,"health.nz":1,"iwi.nz":1,"kiwi.nz":1,"maori.nz":1,"mil.nz":1,"xn--mori-qsa.nz":1,"net.nz":1,"org.nz":1,"parliament.nz":1,"school.nz":1,om:1,"co.om":1,"com.om":1,"edu.om":1,"gov.om":1,"med.om":1,"museum.om":1,"net.om":1,"org.om":1,"pro.om":1,onion:1,org:1,pa:1,"ac.pa":1,"gob.pa":1,"com.pa":1,"org.pa":1,"sld.pa":1,"edu.pa":1,"net.pa":1,"ing.pa":1,"abo.pa":1,"med.pa":1,"nom.pa":1,pe:1,"edu.pe":1,"gob.pe":1,"nom.pe":1,"mil.pe":1,"org.pe":1,"com.pe":1,"net.pe":1,pf:1,"com.pf":1,"org.pf":1,"edu.pf":1,pg:2,ph:1,"com.ph":1,"net.ph":1,"org.ph":1,"gov.ph":1,"edu.ph":1,"ngo.ph":1,"mil.ph":1,"i.ph":1,pk:1,"com.pk":1,"net.pk":1,"edu.pk":1,"org.pk":1,"fam.pk":1,"biz.pk":1,"web.pk":1,"gov.pk":1,"gob.pk":1,"gok.pk":1,"gon.pk":1,"gop.pk":1,"gos.pk":1,"info.pk":1,pl:1,"com.pl":1,"net.pl":1,"org.pl":1,"aid.pl":1,"agro.pl":1,"atm.pl":1,"auto.pl":1,"biz.pl":1,"edu.pl":1,"gmina.pl":1,"gsm.pl":1,"info.pl":1,"mail.pl":1,"miasta.pl":1,"media.pl":1,"mil.pl":1,"nieruchomosci.pl":1,"nom.pl":1,"pc.pl":1,"powiat.pl":1,"priv.pl":1,"realestate.pl":1,"rel.pl":1,"sex.pl":1,"shop.pl":1,"sklep.pl":1,"sos.pl":1,"szkola.pl":1,"targi.pl":1,"tm.pl":1,"tourism.pl":1,"travel.pl":1,"turystyka.pl":1,"gov.pl":1,"ap.gov.pl":1,"griw.gov.pl":1,"ic.gov.pl":1,"is.gov.pl":1,"kmpsp.gov.pl":1,"konsulat.gov.pl":1,"kppsp.gov.pl":1,"kwp.gov.pl":1,"kwpsp.gov.pl":1,"mup.gov.pl":1,"mw.gov.pl":1,"oia.gov.pl":1,"oirm.gov.pl":1,"oke.gov.pl":1,"oow.gov.pl":1,"oschr.gov.pl":1,"oum.gov.pl":1,"pa.gov.pl":1,"pinb.gov.pl":1,"piw.gov.pl":1,"po.gov.pl":1,"pr.gov.pl":1,"psp.gov.pl":1,"psse.gov.pl":1,"pup.gov.pl":1,"rzgw.gov.pl":1,"sa.gov.pl":1,"sdn.gov.pl":1,"sko.gov.pl":1,"so.gov.pl":1,"sr.gov.pl":1,"starostwo.gov.pl":1,"ug.gov.pl":1,"ugim.gov.pl":1,"um.gov.pl":1,"umig.gov.pl":1,"upow.gov.pl":1,"uppo.gov.pl":1,"us.gov.pl":1,"uw.gov.pl":1,"uzs.gov.pl":1,"wif.gov.pl":1,"wiih.gov.pl":1,"winb.gov.pl":1,"wios.gov.pl":1,"witd.gov.pl":1,"wiw.gov.pl":1,"wkz.gov.pl":1,"wsa.gov.pl":1,"wskr.gov.pl":1,"wsse.gov.pl":1,"wuoz.gov.pl":1,"wzmiuw.gov.pl":1,"zp.gov.pl":1,"zpisdn.gov.pl":1,"augustow.pl":1,"babia-gora.pl":1,"bedzin.pl":1,"beskidy.pl":1,"bialowieza.pl":1,"bialystok.pl":1,"bielawa.pl":1,"bieszczady.pl":1,"boleslawiec.pl":1,"bydgoszcz.pl":1,"bytom.pl":1,"cieszyn.pl":1,"czeladz.pl":1,"czest.pl":1,"dlugoleka.pl":1,"elblag.pl":1,"elk.pl":1,"glogow.pl":1,"gniezno.pl":1,"gorlice.pl":1,"grajewo.pl":1,"ilawa.pl":1,"jaworzno.pl":1,"jelenia-gora.pl":1,"jgora.pl":1,"kalisz.pl":1,"kazimierz-dolny.pl":1,"karpacz.pl":1,"kartuzy.pl":1,"kaszuby.pl":1,"katowice.pl":1,"kepno.pl":1,"ketrzyn.pl":1,"klodzko.pl":1,"kobierzyce.pl":1,"kolobrzeg.pl":1,"konin.pl":1,"konskowola.pl":1,"kutno.pl":1,"lapy.pl":1,"lebork.pl":1,"legnica.pl":1,"lezajsk.pl":1,"limanowa.pl":1,"lomza.pl":1,"lowicz.pl":1,"lubin.pl":1,"lukow.pl":1,"malbork.pl":1,"malopolska.pl":1,"mazowsze.pl":1,"mazury.pl":1,"mielec.pl":1,"mielno.pl":1,"mragowo.pl":1,"naklo.pl":1,"nowaruda.pl":1,"nysa.pl":1,"olawa.pl":1,"olecko.pl":1,"olkusz.pl":1,"olsztyn.pl":1,"opoczno.pl":1,"opole.pl":1,"ostroda.pl":1,"ostroleka.pl":1,"ostrowiec.pl":1,"ostrowwlkp.pl":1,"pila.pl":1,"pisz.pl":1,"podhale.pl":1,"podlasie.pl":1,"polkowice.pl":1,"pomorze.pl":1,"pomorskie.pl":1,"prochowice.pl":1,"pruszkow.pl":1,"przeworsk.pl":1,"pulawy.pl":1,"radom.pl":1,"rawa-maz.pl":1,"rybnik.pl":1,"rzeszow.pl":1,"sanok.pl":1,"sejny.pl":1,"slask.pl":1,"slupsk.pl":1,"sosnowiec.pl":1,"stalowa-wola.pl":1,"skoczow.pl":1,"starachowice.pl":1,"stargard.pl":1,"suwalki.pl":1,"swidnica.pl":1,"swiebodzin.pl":1,"swinoujscie.pl":1,"szczecin.pl":1,"szczytno.pl":1,"tarnobrzeg.pl":1,"tgory.pl":1,"turek.pl":1,"tychy.pl":1,"ustka.pl":1,"walbrzych.pl":1,"warmia.pl":1,"warszawa.pl":1,"waw.pl":1,"wegrow.pl":1,"wielun.pl":1,"wlocl.pl":1,"wloclawek.pl":1,"wodzislaw.pl":1,"wolomin.pl":1,"wroclaw.pl":1,"zachpomor.pl":1,"zagan.pl":1,"zarow.pl":1,"zgora.pl":1,"zgorzelec.pl":1,pm:1,pn:1,"gov.pn":1,"co.pn":1,"org.pn":1,"edu.pn":1,"net.pn":1,post:1,pr:1,"com.pr":1,"net.pr":1,"org.pr":1,"gov.pr":1,"edu.pr":1,"isla.pr":1,"pro.pr":1,"biz.pr":1,"info.pr":1,"name.pr":1,"est.pr":1,"prof.pr":1,"ac.pr":1,pro:1,"aaa.pro":1,"aca.pro":1,"acct.pro":1,"avocat.pro":1,"bar.pro":1,"cpa.pro":1,"eng.pro":1,"jur.pro":1,"law.pro":1,"med.pro":1,"recht.pro":1,ps:1,"edu.ps":1,"gov.ps":1,"sec.ps":1,"plo.ps":1,"com.ps":1,"org.ps":1,"net.ps":1,pt:1,"net.pt":1,"gov.pt":1,"org.pt":1,"edu.pt":1,"int.pt":1,"publ.pt":1,"com.pt":1,"nome.pt":1,pw:1,"co.pw":1,"ne.pw":1,"or.pw":1,"ed.pw":1,"go.pw":1,"belau.pw":1,py:1,"com.py":1,"coop.py":1,"edu.py":1,"gov.py":1,"mil.py":1,"net.py":1,"org.py":1,qa:1,"com.qa":1,"edu.qa":1,"gov.qa":1,"mil.qa":1,"name.qa":1,"net.qa":1,"org.qa":1,"sch.qa":1,re:1,"asso.re":1,"com.re":1,"nom.re":1,ro:1,"arts.ro":1,"com.ro":1,"firm.ro":1,"info.ro":1,"nom.ro":1,"nt.ro":1,"org.ro":1,"rec.ro":1,"store.ro":1,"tm.ro":1,"www.ro":1,rs:1,"ac.rs":1,"co.rs":1,"edu.rs":1,"gov.rs":1,"in.rs":1,"org.rs":1,ru:1,rw:1,"ac.rw":1,"co.rw":1,"coop.rw":1,"gov.rw":1,"mil.rw":1,"net.rw":1,"org.rw":1,sa:1,"com.sa":1,"net.sa":1,"org.sa":1,"gov.sa":1,"med.sa":1,"pub.sa":1,"edu.sa":1,"sch.sa":1,sb:1,"com.sb":1,"edu.sb":1,"gov.sb":1,"net.sb":1,"org.sb":1,sc:1,"com.sc":1,"gov.sc":1,"net.sc":1,"org.sc":1,"edu.sc":1,sd:1,"com.sd":1,"net.sd":1,"org.sd":1,"edu.sd":1,"med.sd":1,"tv.sd":1,"gov.sd":1,"info.sd":1,se:1,"a.se":1,"ac.se":1,"b.se":1,"bd.se":1,"brand.se":1,"c.se":1,"d.se":1,"e.se":1,"f.se":1,"fh.se":1,"fhsk.se":1,"fhv.se":1,"g.se":1,"h.se":1,"i.se":1,"k.se":1,"komforb.se":1,"kommunalforbund.se":1,"komvux.se":1,"l.se":1,"lanbib.se":1,"m.se":1,"n.se":1,"naturbruksgymn.se":1,"o.se":1,"org.se":1,"p.se":1,"parti.se":1,"pp.se":1,"press.se":1,"r.se":1,"s.se":1,"t.se":1,"tm.se":1,"u.se":1,"w.se":1,"x.se":1,"y.se":1,"z.se":1,sg:1,"com.sg":1,"net.sg":1,"org.sg":1,"gov.sg":1,"edu.sg":1,"per.sg":1,sh:1,"com.sh":1,"net.sh":1,"gov.sh":1,"org.sh":1,"mil.sh":1,si:1,sj:1,sk:1,sl:1,"com.sl":1,"net.sl":1,"edu.sl":1,"gov.sl":1,"org.sl":1,sm:1,sn:1,"art.sn":1,"com.sn":1,"edu.sn":1,"gouv.sn":1,"org.sn":1,"perso.sn":1,"univ.sn":1,so:1,"com.so":1,"edu.so":1,"gov.so":1,"me.so":1,"net.so":1,"org.so":1,sr:1,ss:1,"biz.ss":1,"com.ss":1,"edu.ss":1,"gov.ss":1,"me.ss":1,"net.ss":1,"org.ss":1,"sch.ss":1,st:1,"co.st":1,"com.st":1,"consulado.st":1,"edu.st":1,"embaixada.st":1,"mil.st":1,"net.st":1,"org.st":1,"principe.st":1,"saotome.st":1,"store.st":1,su:1,sv:1,"com.sv":1,"edu.sv":1,"gob.sv":1,"org.sv":1,"red.sv":1,sx:1,"gov.sx":1,sy:1,"edu.sy":1,"gov.sy":1,"net.sy":1,"mil.sy":1,"com.sy":1,"org.sy":1,sz:1,"co.sz":1,"ac.sz":1,"org.sz":1,tc:1,td:1,tel:1,tf:1,tg:1,th:1,"ac.th":1,"co.th":1,"go.th":1,"in.th":1,"mi.th":1,"net.th":1,"or.th":1,tj:1,"ac.tj":1,"biz.tj":1,"co.tj":1,"com.tj":1,"edu.tj":1,"go.tj":1,"gov.tj":1,"int.tj":1,"mil.tj":1,"name.tj":1,"net.tj":1,"nic.tj":1,"org.tj":1,"test.tj":1,"web.tj":1,tk:1,tl:1,"gov.tl":1,tm:1,"com.tm":1,"co.tm":1,"org.tm":1,"net.tm":1,"nom.tm":1,"gov.tm":1,"mil.tm":1,"edu.tm":1,tn:1,"com.tn":1,"ens.tn":1,"fin.tn":1,"gov.tn":1,"ind.tn":1,"info.tn":1,"intl.tn":1,"mincom.tn":1,"nat.tn":1,"net.tn":1,"org.tn":1,"perso.tn":1,"tourism.tn":1,to:1,"com.to":1,"gov.to":1,"net.to":1,"org.to":1,"edu.to":1,"mil.to":1,tr:1,"av.tr":1,"bbs.tr":1,"bel.tr":1,"biz.tr":1,"com.tr":1,"dr.tr":1,"edu.tr":1,"gen.tr":1,"gov.tr":1,"info.tr":1,"mil.tr":1,"k12.tr":1,"kep.tr":1,"name.tr":1,"net.tr":1,"org.tr":1,"pol.tr":1,"tel.tr":1,"tsk.tr":1,"tv.tr":1,"web.tr":1,"nc.tr":1,"gov.nc.tr":1,tt:1,"co.tt":1,"com.tt":1,"org.tt":1,"net.tt":1,"biz.tt":1,"info.tt":1,"pro.tt":1,"int.tt":1,"coop.tt":1,"jobs.tt":1,"mobi.tt":1,"travel.tt":1,"museum.tt":1,"aero.tt":1,"name.tt":1,"gov.tt":1,"edu.tt":1,tv:1,tw:1,"edu.tw":1,"gov.tw":1,"mil.tw":1,"com.tw":1,"net.tw":1,"org.tw":1,"idv.tw":1,"game.tw":1,"ebiz.tw":1,"club.tw":1,"xn--zf0ao64a.tw":1,"xn--uc0atv.tw":1,"xn--czrw28b.tw":1,tz:1,"ac.tz":1,"co.tz":1,"go.tz":1,"hotel.tz":1,"info.tz":1,"me.tz":1,"mil.tz":1,"mobi.tz":1,"ne.tz":1,"or.tz":1,"sc.tz":1,"tv.tz":1,ua:1,"com.ua":1,"edu.ua":1,"gov.ua":1,"in.ua":1,"net.ua":1,"org.ua":1,"cherkassy.ua":1,"cherkasy.ua":1,"chernigov.ua":1,"chernihiv.ua":1,"chernivtsi.ua":1,"chernovtsy.ua":1,"ck.ua":1,"cn.ua":1,"cr.ua":1,"crimea.ua":1,"cv.ua":1,"dn.ua":1,"dnepropetrovsk.ua":1,"dnipropetrovsk.ua":1,"donetsk.ua":1,"dp.ua":1,"if.ua":1,"ivano-frankivsk.ua":1,"kh.ua":1,"kharkiv.ua":1,"kharkov.ua":1,"kherson.ua":1,"khmelnitskiy.ua":1,"khmelnytskyi.ua":1,"kiev.ua":1,"kirovograd.ua":1,"km.ua":1,"kr.ua":1,"kropyvnytskyi.ua":1,"krym.ua":1,"ks.ua":1,"kv.ua":1,"kyiv.ua":1,"lg.ua":1,"lt.ua":1,"lugansk.ua":1,"luhansk.ua":1,"lutsk.ua":1,"lv.ua":1,"lviv.ua":1,"mk.ua":1,"mykolaiv.ua":1,"nikolaev.ua":1,"od.ua":1,"odesa.ua":1,"odessa.ua":1,"pl.ua":1,"poltava.ua":1,"rivne.ua":1,"rovno.ua":1,"rv.ua":1,"sb.ua":1,"sebastopol.ua":1,"sevastopol.ua":1,"sm.ua":1,"sumy.ua":1,"te.ua":1,"ternopil.ua":1,"uz.ua":1,"uzhgorod.ua":1,"uzhhorod.ua":1,"vinnica.ua":1,"vinnytsia.ua":1,"vn.ua":1,"volyn.ua":1,"yalta.ua":1,"zakarpattia.ua":1,"zaporizhzhe.ua":1,"zaporizhzhia.ua":1,"zhitomir.ua":1,"zhytomyr.ua":1,"zp.ua":1,"zt.ua":1,ug:1,"co.ug":1,"or.ug":1,"ac.ug":1,"sc.ug":1,"go.ug":1,"ne.ug":1,"com.ug":1,"org.ug":1,uk:1,"ac.uk":1,"co.uk":1,"gov.uk":1,"ltd.uk":1,"me.uk":1,"net.uk":1,"nhs.uk":1,"org.uk":1,"plc.uk":1,"police.uk":1,"sch.uk":2,us:1,"dni.us":1,"fed.us":1,"isa.us":1,"kids.us":1,"nsn.us":1,"ak.us":1,"al.us":1,"ar.us":1,"as.us":1,"az.us":1,"ca.us":1,"co.us":1,"ct.us":1,"dc.us":1,"de.us":1,"fl.us":1,"ga.us":1,"gu.us":1,"hi.us":1,"ia.us":1,"id.us":1,"il.us":1,"in.us":1,"ks.us":1,"ky.us":1,"la.us":1,"ma.us":1,"md.us":1,"me.us":1,"mi.us":1,"mn.us":1,"mo.us":1,"ms.us":1,"mt.us":1,"nc.us":1,"nd.us":1,"ne.us":1,"nh.us":1,"nj.us":1,"nm.us":1,"nv.us":1,"ny.us":1,"oh.us":1,"ok.us":1,"or.us":1,"pa.us":1,"pr.us":1,"ri.us":1,"sc.us":1,"sd.us":1,"tn.us":1,"tx.us":1,"ut.us":1,"vi.us":1,"vt.us":1,"va.us":1,"wa.us":1,"wi.us":1,"wv.us":1,"wy.us":1,"k12.ak.us":1,"k12.al.us":1,"k12.ar.us":1,"k12.as.us":1,"k12.az.us":1,"k12.ca.us":1,"k12.co.us":1,"k12.ct.us":1,"k12.dc.us":1,"k12.fl.us":1,"k12.ga.us":1,"k12.gu.us":1,"k12.ia.us":1,"k12.id.us":1,"k12.il.us":1,"k12.in.us":1,"k12.ks.us":1,"k12.ky.us":1,"k12.la.us":1,"k12.ma.us":1,"k12.md.us":1,"k12.me.us":1,"k12.mi.us":1,"k12.mn.us":1,"k12.mo.us":1,"k12.ms.us":1,"k12.mt.us":1,"k12.nc.us":1,"k12.ne.us":1,"k12.nh.us":1,"k12.nj.us":1,"k12.nm.us":1,"k12.nv.us":1,"k12.ny.us":1,"k12.oh.us":1,"k12.ok.us":1,"k12.or.us":1,"k12.pa.us":1,"k12.pr.us":1,"k12.sc.us":1,"k12.tn.us":1,"k12.tx.us":1,"k12.ut.us":1,"k12.vi.us":1,"k12.vt.us":1,"k12.va.us":1,"k12.wa.us":1,"k12.wi.us":1,"k12.wy.us":1,"cc.ak.us":1,"cc.al.us":1,"cc.ar.us":1,"cc.as.us":1,"cc.az.us":1,"cc.ca.us":1,"cc.co.us":1,"cc.ct.us":1,"cc.dc.us":1,"cc.de.us":1,"cc.fl.us":1,"cc.ga.us":1,"cc.gu.us":1,"cc.hi.us":1,"cc.ia.us":1,"cc.id.us":1,"cc.il.us":1,"cc.in.us":1,"cc.ks.us":1,"cc.ky.us":1,"cc.la.us":1,"cc.ma.us":1,"cc.md.us":1,"cc.me.us":1,"cc.mi.us":1,"cc.mn.us":1,"cc.mo.us":1,"cc.ms.us":1,"cc.mt.us":1,"cc.nc.us":1,"cc.nd.us":1,"cc.ne.us":1,"cc.nh.us":1,"cc.nj.us":1,"cc.nm.us":1,"cc.nv.us":1,"cc.ny.us":1,"cc.oh.us":1,"cc.ok.us":1,"cc.or.us":1,"cc.pa.us":1,"cc.pr.us":1,"cc.ri.us":1,"cc.sc.us":1,"cc.sd.us":1,"cc.tn.us":1,"cc.tx.us":1,"cc.ut.us":1,"cc.vi.us":1,"cc.vt.us":1,"cc.va.us":1,"cc.wa.us":1,"cc.wi.us":1,"cc.wv.us":1,"cc.wy.us":1,"lib.ak.us":1,"lib.al.us":1,"lib.ar.us":1,"lib.as.us":1,"lib.az.us":1,"lib.ca.us":1,"lib.co.us":1,"lib.ct.us":1,"lib.dc.us":1,"lib.fl.us":1,"lib.ga.us":1,"lib.gu.us":1,"lib.hi.us":1,"lib.ia.us":1,"lib.id.us":1,"lib.il.us":1,"lib.in.us":1,"lib.ks.us":1,"lib.ky.us":1,"lib.la.us":1,"lib.ma.us":1,"lib.md.us":1,"lib.me.us":1,"lib.mi.us":1,"lib.mn.us":1,"lib.mo.us":1,"lib.ms.us":1,"lib.mt.us":1,"lib.nc.us":1,"lib.nd.us":1,"lib.ne.us":1,"lib.nh.us":1,"lib.nj.us":1,"lib.nm.us":1,"lib.nv.us":1,"lib.ny.us":1,"lib.oh.us":1,"lib.ok.us":1,"lib.or.us":1,"lib.pa.us":1,"lib.pr.us":1,"lib.ri.us":1,"lib.sc.us":1,"lib.sd.us":1,"lib.tn.us":1,"lib.tx.us":1,"lib.ut.us":1,"lib.vi.us":1,"lib.vt.us":1,"lib.va.us":1,"lib.wa.us":1,"lib.wi.us":1,"lib.wy.us":1,"pvt.k12.ma.us":1,"chtr.k12.ma.us":1,"paroch.k12.ma.us":1,"ann-arbor.mi.us":1,"cog.mi.us":1,"dst.mi.us":1,"eaton.mi.us":1,"gen.mi.us":1,"mus.mi.us":1,"tec.mi.us":1,"washtenaw.mi.us":1,uy:1,"com.uy":1,"edu.uy":1,"gub.uy":1,"mil.uy":1,"net.uy":1,"org.uy":1,uz:1,"co.uz":1,"com.uz":1,"net.uz":1,"org.uz":1,va:1,vc:1,"com.vc":1,"net.vc":1,"org.vc":1,"gov.vc":1,"mil.vc":1,"edu.vc":1,ve:1,"arts.ve":1,"bib.ve":1,"co.ve":1,"com.ve":1,"e12.ve":1,"edu.ve":1,"firm.ve":1,"gob.ve":1,"gov.ve":1,"info.ve":1,"int.ve":1,"mil.ve":1,"net.ve":1,"nom.ve":1,"org.ve":1,"rar.ve":1,"rec.ve":1,"store.ve":1,"tec.ve":1,"web.ve":1,vg:1,vi:1,"co.vi":1,"com.vi":1,"k12.vi":1,"net.vi":1,"org.vi":1,vn:1,"ac.vn":1,"ai.vn":1,"biz.vn":1,"com.vn":1,"edu.vn":1,"gov.vn":1,"health.vn":1,"id.vn":1,"info.vn":1,"int.vn":1,"io.vn":1,"name.vn":1,"net.vn":1,"org.vn":1,"pro.vn":1,"angiang.vn":1,"bacgiang.vn":1,"backan.vn":1,"baclieu.vn":1,"bacninh.vn":1,"baria-vungtau.vn":1,"bentre.vn":1,"binhdinh.vn":1,"binhduong.vn":1,"binhphuoc.vn":1,"binhthuan.vn":1,"camau.vn":1,"cantho.vn":1,"caobang.vn":1,"daklak.vn":1,"daknong.vn":1,"danang.vn":1,"dienbien.vn":1,"dongnai.vn":1,"dongthap.vn":1,"gialai.vn":1,"hagiang.vn":1,"haiduong.vn":1,"haiphong.vn":1,"hanam.vn":1,"hanoi.vn":1,"hatinh.vn":1,"haugiang.vn":1,"hoabinh.vn":1,"hungyen.vn":1,"khanhhoa.vn":1,"kiengiang.vn":1,"kontum.vn":1,"laichau.vn":1,"lamdong.vn":1,"langson.vn":1,"laocai.vn":1,"longan.vn":1,"namdinh.vn":1,"nghean.vn":1,"ninhbinh.vn":1,"ninhthuan.vn":1,"phutho.vn":1,"phuyen.vn":1,"quangbinh.vn":1,"quangnam.vn":1,"quangngai.vn":1,"quangninh.vn":1,"quangtri.vn":1,"soctrang.vn":1,"sonla.vn":1,"tayninh.vn":1,"thaibinh.vn":1,"thainguyen.vn":1,"thanhhoa.vn":1,"thanhphohochiminh.vn":1,"thuathienhue.vn":1,"tiengiang.vn":1,"travinh.vn":1,"tuyenquang.vn":1,"vinhlong.vn":1,"vinhphuc.vn":1,"yenbai.vn":1,vu:1,"com.vu":1,"edu.vu":1,"net.vu":1,"org.vu":1,wf:1,ws:1,"com.ws":1,"net.ws":1,"org.ws":1,"gov.ws":1,"edu.ws":1,yt:1,"xn--mgbaam7a8h":1,"xn--y9a3aq":1,"xn--54b7fta0cc":1,"xn--90ae":1,"xn--mgbcpq6gpa1a":1,"xn--90ais":1,"xn--fiqs8s":1,"xn--fiqz9s":1,"xn--lgbbat1ad8j":1,"xn--wgbh1c":1,"xn--e1a4c":1,"xn--qxa6a":1,"xn--mgbah1a3hjkrd":1,"xn--node":1,"xn--qxam":1,"xn--j6w193g":1,"xn--55qx5d.xn--j6w193g":1,"xn--wcvs22d.xn--j6w193g":1,"xn--mxtq1m.xn--j6w193g":1,"xn--gmqw5a.xn--j6w193g":1,"xn--od0alg.xn--j6w193g":1,"xn--uc0atv.xn--j6w193g":1,"xn--2scrj9c":1,"xn--3hcrj9c":1,"xn--45br5cyl":1,"xn--h2breg3eve":1,"xn--h2brj9c8c":1,"xn--mgbgu82a":1,"xn--rvc1e0am3e":1,"xn--h2brj9c":1,"xn--mgbbh1a":1,"xn--mgbbh1a71e":1,"xn--fpcrj9c3d":1,"xn--gecrj9c":1,"xn--s9brj9c":1,"xn--45brj9c":1,"xn--xkc2dl3a5ee0h":1,"xn--mgba3a4f16a":1,"xn--mgba3a4fra":1,"xn--mgbtx2b":1,"xn--mgbayh7gpa":1,"xn--3e0b707e":1,"xn--80ao21a":1,"xn--q7ce6a":1,"xn--fzc2c9e2c":1,"xn--xkc2al3hye2a":1,"xn--mgbc0a9azcg":1,"xn--d1alf":1,"xn--l1acc":1,"xn--mix891f":1,"xn--mix082f":1,"xn--mgbx4cd0ab":1,"xn--mgb9awbf":1,"xn--mgbai9azgqp6j":1,"xn--mgbai9a5eva00b":1,"xn--ygbi2ammx":1,"xn--90a3ac":1,"xn--o1ac.xn--90a3ac":1,"xn--c1avg.xn--90a3ac":1,"xn--90azh.xn--90a3ac":1,"xn--d1at.xn--90a3ac":1,"xn--o1ach.xn--90a3ac":1,"xn--80au.xn--90a3ac":1,"xn--p1ai":1,"xn--wgbl6a":1,"xn--mgberp4a5d4ar":1,"xn--mgberp4a5d4a87g":1,"xn--mgbqly7c0a67fbc":1,"xn--mgbqly7cvafr":1,"xn--mgbpl2fh":1,"xn--yfro4i67o":1,"xn--clchc0ea0b2g2a9gcd":1,"xn--ogbpf8fl":1,"xn--mgbtf8fl":1,"xn--o3cw4h":1,"xn--12c1fe0br.xn--o3cw4h":1,"xn--12co0c3b4eva.xn--o3cw4h":1,"xn--h3cuzk1di.xn--o3cw4h":1,"xn--o3cyx2a.xn--o3cw4h":1,"xn--m3ch0j3a.xn--o3cw4h":1,"xn--12cfi8ixb8l.xn--o3cw4h":1,"xn--pgbs0dh":1,"xn--kpry57d":1,"xn--kprw13d":1,"xn--nnx388a":1,"xn--j1amh":1,"xn--mgb2ddes":1,xxx:1,ye:1,"com.ye":1,"edu.ye":1,"gov.ye":1,"net.ye":1,"mil.ye":1,"org.ye":1,"ac.za":1,"agric.za":1,"alt.za":1,"co.za":1,"edu.za":1,"gov.za":1,"grondar.za":1,"law.za":1,"mil.za":1,"net.za":1,"ngo.za":1,"nic.za":1,"nis.za":1,"nom.za":1,"org.za":1,"school.za":1,"tm.za":1,"web.za":1,zm:1,"ac.zm":1,"biz.zm":1,"co.zm":1,"com.zm":1,"edu.zm":1,"gov.zm":1,"info.zm":1,"mil.zm":1,"net.zm":1,"org.zm":1,"sch.zm":1,zw:1,"ac.zw":1,"co.zw":1,"gov.zw":1,"mil.zw":1,"org.zw":1,aaa:1,aarp:1,abb:1,abbott:1,abbvie:1,abc:1,able:1,abogado:1,abudhabi:1,academy:1,accenture:1,accountant:1,accountants:1,aco:1,actor:1,ads:1,adult:1,aeg:1,aetna:1,afl:1,africa:1,agakhan:1,agency:1,aig:1,airbus:1,airforce:1,airtel:1,akdn:1,alibaba:1,alipay:1,allfinanz:1,allstate:1,ally:1,alsace:1,alstom:1,amazon:1,americanexpress:1,americanfamily:1,amex:1,amfam:1,amica:1,amsterdam:1,analytics:1,android:1,anquan:1,anz:1,aol:1,apartments:1,app:1,apple:1,aquarelle:1,arab:1,aramco:1,archi:1,army:1,art:1,arte:1,asda:1,associates:1,athleta:1,attorney:1,auction:1,audi:1,audible:1,audio:1,auspost:1,author:1,auto:1,autos:1,avianca:1,aws:1,axa:1,azure:1,baby:1,baidu:1,banamex:1,bananarepublic:1,band:1,bank:1,bar:1,barcelona:1,barclaycard:1,barclays:1,barefoot:1,bargains:1,baseball:1,basketball:1,bauhaus:1,bayern:1,bbc:1,bbt:1,bbva:1,bcg:1,bcn:1,beats:1,beauty:1,beer:1,bentley:1,berlin:1,best:1,bestbuy:1,bet:1,bharti:1,bible:1,bid:1,bike:1,bing:1,bingo:1,bio:1,black:1,blackfriday:1,blockbuster:1,blog:1,bloomberg:1,blue:1,bms:1,bmw:1,bnpparibas:1,boats:1,boehringer:1,bofa:1,bom:1,bond:1,boo:1,book:1,booking:1,bosch:1,bostik:1,boston:1,bot:1,boutique:1,box:1,bradesco:1,bridgestone:1,broadway:1,broker:1,brother:1,brussels:1,build:1,builders:1,business:1,buy:1,buzz:1,bzh:1,cab:1,cafe:1,cal:1,call:1,calvinklein:1,cam:1,camera:1,camp:1,canon:1,capetown:1,capital:1,capitalone:1,car:1,caravan:1,cards:1,care:1,career:1,careers:1,cars:1,casa:1,case:1,cash:1,casino:1,catering:1,catholic:1,cba:1,cbn:1,cbre:1,center:1,ceo:1,cern:1,cfa:1,cfd:1,chanel:1,channel:1,charity:1,chase:1,chat:1,cheap:1,chintai:1,christmas:1,chrome:1,church:1,cipriani:1,circle:1,cisco:1,citadel:1,citi:1,citic:1,city:1,claims:1,cleaning:1,click:1,clinic:1,clinique:1,clothing:1,cloud:1,club:1,clubmed:1,coach:1,codes:1,coffee:1,college:1,cologne:1,comcast:1,commbank:1,community:1,company:1,compare:1,computer:1,comsec:1,condos:1,construction:1,consulting:1,contact:1,contractors:1,cooking:1,cool:1,corsica:1,country:1,coupon:1,coupons:1,courses:1,cpa:1,credit:1,creditcard:1,creditunion:1,cricket:1,crown:1,crs:1,cruise:1,cruises:1,cuisinella:1,cymru:1,cyou:1,dabur:1,dad:1,dance:1,data:1,date:1,dating:1,datsun:1,day:1,dclk:1,dds:1,deal:1,dealer:1,deals:1,degree:1,delivery:1,dell:1,deloitte:1,delta:1,democrat:1,dental:1,dentist:1,desi:1,design:1,dev:1,dhl:1,diamonds:1,diet:1,digital:1,direct:1,directory:1,discount:1,discover:1,dish:1,diy:1,dnp:1,docs:1,doctor:1,dog:1,domains:1,dot:1,download:1,drive:1,dtv:1,dubai:1,dunlop:1,dupont:1,durban:1,dvag:1,dvr:1,earth:1,eat:1,eco:1,edeka:1,education:1,email:1,emerck:1,energy:1,engineer:1,engineering:1,enterprises:1,epson:1,equipment:1,ericsson:1,erni:1,esq:1,estate:1,eurovision:1,eus:1,events:1,exchange:1,expert:1,exposed:1,express:1,extraspace:1,fage:1,fail:1,fairwinds:1,faith:1,family:1,fan:1,fans:1,farm:1,farmers:1,fashion:1,fast:1,fedex:1,feedback:1,ferrari:1,ferrero:1,fidelity:1,fido:1,film:1,final:1,finance:1,financial:1,fire:1,firestone:1,firmdale:1,fish:1,fishing:1,fit:1,fitness:1,flickr:1,flights:1,flir:1,florist:1,flowers:1,fly:1,foo:1,food:1,football:1,ford:1,forex:1,forsale:1,forum:1,foundation:1,fox:1,free:1,fresenius:1,frl:1,frogans:1,frontier:1,ftr:1,fujitsu:1,fun:1,fund:1,furniture:1,futbol:1,fyi:1,gal:1,gallery:1,gallo:1,gallup:1,game:1,games:1,gap:1,garden:1,gay:1,gbiz:1,gdn:1,gea:1,gent:1,genting:1,george:1,ggee:1,gift:1,gifts:1,gives:1,giving:1,glass:1,gle:1,global:1,globo:1,gmail:1,gmbh:1,gmo:1,gmx:1,godaddy:1,gold:1,goldpoint:1,golf:1,goo:1,goodyear:1,goog:1,google:1,gop:1,got:1,grainger:1,graphics:1,gratis:1,green:1,gripe:1,grocery:1,group:1,guardian:1,gucci:1,guge:1,guide:1,guitars:1,guru:1,hair:1,hamburg:1,hangout:1,haus:1,hbo:1,hdfc:1,hdfcbank:1,health:1,healthcare:1,help:1,helsinki:1,here:1,hermes:1,hiphop:1,hisamitsu:1,hitachi:1,hiv:1,hkt:1,hockey:1,holdings:1,holiday:1,homedepot:1,homegoods:1,homes:1,homesense:1,honda:1,horse:1,hospital:1,host:1,hosting:1,hot:1,hotels:1,hotmail:1,house:1,how:1,hsbc:1,hughes:1,hyatt:1,hyundai:1,ibm:1,icbc:1,ice:1,icu:1,ieee:1,ifm:1,ikano:1,imamat:1,imdb:1,immo:1,immobilien:1,inc:1,industries:1,infiniti:1,ing:1,ink:1,institute:1,insurance:1,insure:1,international:1,intuit:1,investments:1,ipiranga:1,irish:1,ismaili:1,ist:1,istanbul:1,itau:1,itv:1,jaguar:1,java:1,jcb:1,jeep:1,jetzt:1,jewelry:1,jio:1,jll:1,jmp:1,jnj:1,joburg:1,jot:1,joy:1,jpmorgan:1,jprs:1,juegos:1,juniper:1,kaufen:1,kddi:1,kerryhotels:1,kerrylogistics:1,kerryproperties:1,kfh:1,kia:1,kids:1,kim:1,kindle:1,kitchen:1,kiwi:1,koeln:1,komatsu:1,kosher:1,kpmg:1,kpn:1,krd:1,kred:1,kuokgroup:1,kyoto:1,lacaixa:1,lamborghini:1,lamer:1,lancaster:1,land:1,landrover:1,lanxess:1,lasalle:1,lat:1,latino:1,latrobe:1,law:1,lawyer:1,lds:1,lease:1,leclerc:1,lefrak:1,legal:1,lego:1,lexus:1,lgbt:1,lidl:1,life:1,lifeinsurance:1,lifestyle:1,lighting:1,like:1,lilly:1,limited:1,limo:1,lincoln:1,link:1,lipsy:1,live:1,living:1,llc:1,llp:1,loan:1,loans:1,locker:1,locus:1,lol:1,london:1,lotte:1,lotto:1,love:1,lpl:1,lplfinancial:1,ltd:1,ltda:1,lundbeck:1,luxe:1,luxury:1,madrid:1,maif:1,maison:1,makeup:1,man:1,management:1,mango:1,map:1,market:1,marketing:1,markets:1,marriott:1,marshalls:1,mattel:1,mba:1,mckinsey:1,med:1,media:1,meet:1,melbourne:1,meme:1,memorial:1,men:1,menu:1,merckmsd:1,miami:1,microsoft:1,mini:1,mint:1,mit:1,mitsubishi:1,mlb:1,mls:1,mma:1,mobile:1,moda:1,moe:1,moi:1,mom:1,monash:1,money:1,monster:1,mormon:1,mortgage:1,moscow:1,moto:1,motorcycles:1,mov:1,movie:1,msd:1,mtn:1,mtr:1,music:1,nab:1,nagoya:1,natura:1,navy:1,nba:1,nec:1,netbank:1,netflix:1,network:1,neustar:1,new:1,news:1,next:1,nextdirect:1,nexus:1,nfl:1,ngo:1,nhk:1,nico:1,nike:1,nikon:1,ninja:1,nissan:1,nissay:1,nokia:1,norton:1,now:1,nowruz:1,nowtv:1,nra:1,nrw:1,ntt:1,nyc:1,obi:1,observer:1,office:1,okinawa:1,olayan:1,olayangroup:1,oldnavy:1,ollo:1,omega:1,one:1,ong:1,onl:1,online:1,ooo:1,open:1,oracle:1,orange:1,organic:1,origins:1,osaka:1,otsuka:1,ott:1,ovh:1,page:1,panasonic:1,paris:1,pars:1,partners:1,parts:1,party:1,pay:1,pccw:1,pet:1,pfizer:1,pharmacy:1,phd:1,philips:1,phone:1,photo:1,photography:1,photos:1,physio:1,pics:1,pictet:1,pictures:1,pid:1,pin:1,ping:1,pink:1,pioneer:1,pizza:1,place:1,play:1,playstation:1,plumbing:1,plus:1,pnc:1,pohl:1,poker:1,politie:1,porn:1,pramerica:1,praxi:1,press:1,prime:1,prod:1,productions:1,prof:1,progressive:1,promo:1,properties:1,property:1,protection:1,pru:1,prudential:1,pub:1,pwc:1,qpon:1,quebec:1,quest:1,racing:1,radio:1,read:1,realestate:1,realtor:1,realty:1,recipes:1,red:1,redstone:1,redumbrella:1,rehab:1,reise:1,reisen:1,reit:1,reliance:1,ren:1,rent:1,rentals:1,repair:1,report:1,republican:1,rest:1,restaurant:1,review:1,reviews:1,rexroth:1,rich:1,richardli:1,ricoh:1,ril:1,rio:1,rip:1,rocks:1,rodeo:1,rogers:1,room:1,rsvp:1,rugby:1,ruhr:1,run:1,rwe:1,ryukyu:1,saarland:1,safe:1,safety:1,sakura:1,sale:1,salon:1,samsclub:1,samsung:1,sandvik:1,sandvikcoromant:1,sanofi:1,sap:1,sarl:1,sas:1,save:1,saxo:1,sbi:1,sbs:1,sca:1,scb:1,schaeffler:1,schmidt:1,scholarships:1,school:1,schule:1,schwarz:1,science:1,scot:1,search:1,seat:1,secure:1,security:1,seek:1,select:1,sener:1,services:1,seven:1,sew:1,sex:1,sexy:1,sfr:1,shangrila:1,sharp:1,shaw:1,shell:1,shia:1,shiksha:1,shoes:1,shop:1,shopping:1,shouji:1,show:1,silk:1,sina:1,singles:1,site:1,ski:1,skin:1,sky:1,skype:1,sling:1,smart:1,smile:1,sncf:1,soccer:1,social:1,softbank:1,software:1,sohu:1,solar:1,solutions:1,song:1,sony:1,soy:1,spa:1,space:1,sport:1,spot:1,srl:1,stada:1,staples:1,star:1,statebank:1,statefarm:1,stc:1,stcgroup:1,stockholm:1,storage:1,store:1,stream:1,studio:1,study:1,style:1,sucks:1,supplies:1,supply:1,support:1,surf:1,surgery:1,suzuki:1,swatch:1,swiss:1,sydney:1,systems:1,tab:1,taipei:1,talk:1,taobao:1,target:1,tatamotors:1,tatar:1,tattoo:1,tax:1,taxi:1,tci:1,tdk:1,team:1,tech:1,technology:1,temasek:1,tennis:1,teva:1,thd:1,theater:1,theatre:1,tiaa:1,tickets:1,tienda:1,tips:1,tires:1,tirol:1,tjmaxx:1,tjx:1,tkmaxx:1,tmall:1,today:1,tokyo:1,tools:1,top:1,toray:1,toshiba:1,total:1,tours:1,town:1,toyota:1,toys:1,trade:1,trading:1,training:1,travel:1,travelers:1,travelersinsurance:1,trust:1,trv:1,tube:1,tui:1,tunes:1,tushu:1,tvs:1,ubank:1,ubs:1,unicom:1,university:1,uno:1,uol:1,ups:1,vacations:1,vana:1,vanguard:1,vegas:1,ventures:1,verisign:1,versicherung:1,vet:1,viajes:1,video:1,vig:1,viking:1,villas:1,vin:1,vip:1,virgin:1,visa:1,vision:1,viva:1,vivo:1,vlaanderen:1,vodka:1,volvo:1,vote:1,voting:1,voto:1,voyage:1,wales:1,walmart:1,walter:1,wang:1,wanggou:1,watch:1,watches:1,weather:1,weatherchannel:1,webcam:1,weber:1,website:1,wed:1,wedding:1,weibo:1,weir:1,whoswho:1,wien:1,wiki:1,williamhill:1,win:1,windows:1,wine:1,winners:1,wme:1,wolterskluwer:1,woodside:1,work:1,works:1,world:1,wow:1,wtc:1,wtf:1,xbox:1,xerox:1,xfinity:1,xihuan:1,xin:1,"xn--11b4c3d":1,"xn--1ck2e1b":1,"xn--1qqw23a":1,"xn--30rr7y":1,"xn--3bst00m":1,"xn--3ds443g":1,"xn--3pxu8k":1,"xn--42c2d9a":1,"xn--45q11c":1,"xn--4gbrim":1,"xn--55qw42g":1,"xn--55qx5d":1,"xn--5su34j936bgsg":1,"xn--5tzm5g":1,"xn--6frz82g":1,"xn--6qq986b3xl":1,"xn--80adxhks":1,"xn--80aqecdr1a":1,"xn--80asehdb":1,"xn--80aswg":1,"xn--8y0a063a":1,"xn--9dbq2a":1,"xn--9et52u":1,"xn--9krt00a":1,"xn--b4w605ferd":1,"xn--bck1b9a5dre4c":1,"xn--c1avg":1,"xn--c2br7g":1,"xn--cck2b3b":1,"xn--cckwcxetd":1,"xn--cg4bki":1,"xn--czr694b":1,"xn--czrs0t":1,"xn--czru2d":1,"xn--d1acj3b":1,"xn--eckvdtc9d":1,"xn--efvy88h":1,"xn--fct429k":1,"xn--fhbei":1,"xn--fiq228c5hs":1,"xn--fiq64b":1,"xn--fjq720a":1,"xn--flw351e":1,"xn--fzys8d69uvgm":1,"xn--g2xx48c":1,"xn--gckr3f0f":1,"xn--gk3at1e":1,"xn--hxt814e":1,"xn--i1b6b1a6a2e":1,"xn--imr513n":1,"xn--io0a7i":1,"xn--j1aef":1,"xn--jlq480n2rg":1,"xn--jvr189m":1,"xn--kcrx77d1x4a":1,"xn--kput3i":1,"xn--mgba3a3ejt":1,"xn--mgba7c0bbn0a":1,"xn--mgbab2bd":1,"xn--mgbca7dzdo":1,"xn--mgbi4ecexp":1,"xn--mgbt3dhd":1,"xn--mk1bu44c":1,"xn--mxtq1m":1,"xn--ngbc5azd":1,"xn--ngbe9e0a":1,"xn--ngbrx":1,"xn--nqv7f":1,"xn--nqv7fs00ema":1,"xn--nyqy26a":1,"xn--otu796d":1,"xn--p1acf":1,"xn--pssy2u":1,"xn--q9jyb4c":1,"xn--qcka1pmc":1,"xn--rhqv96g":1,"xn--rovu88b":1,"xn--ses554g":1,"xn--t60b56a":1,"xn--tckwe":1,"xn--tiq49xqyj":1,"xn--unup4y":1,"xn--vermgensberater-ctb":1,"xn--vermgensberatung-pwb":1,"xn--vhquv":1,"xn--vuq861b":1,"xn--w4r85el8fhu5dnra":1,"xn--w4rs40l":1,"xn--xhq521b":1,"xn--zfr164b":1,xyz:1,yachts:1,yahoo:1,yamaxun:1,yandex:1,yodobashi:1,yoga:1,yokohama:1,you:1,youtube:1,yun:1,zappos:1,zara:1,zero:1,zip:1,zone:1,zuerich:1}},"./core/data/nonIcannPublicSuffixList.js":(f,d)=>{d.nonIcannPublicSuffixes={"cc.ua":1,"inf.ua":1,"ltd.ua":1,"611.to":1,"graphox.us":1,"devcdnaccesso.com":2,"on-acorn.io":2,"activetrail.biz":1,"adobeaemcloud.com":1,"dev.adobeaemcloud.com":2,"hlx.live":1,"adobeaemcloud.net":1,"hlx.page":1,"hlx3.page":1,"adobeio-static.net":1,"adobeioruntime.net":1,"beep.pl":1,"airkitapps.com":1,"airkitapps-au.com":1,"airkitapps.eu":1,"aivencloud.com":1,"akadns.net":1,"akamai.net":1,"akamai-staging.net":1,"akamaiedge.net":1,"akamaiedge-staging.net":1,"akamaihd.net":1,"akamaihd-staging.net":1,"akamaiorigin.net":1,"akamaiorigin-staging.net":1,"akamaized.net":1,"akamaized-staging.net":1,"edgekey.net":1,"edgekey-staging.net":1,"edgesuite.net":1,"edgesuite-staging.net":1,"barsy.ca":1,"compute.estate":2,"alces.network":2,"kasserver.com":1,"altervista.org":1,"alwaysdata.net":1,"myamaze.net":1,"execute-api.cn-north-1.amazonaws.com.cn":1,"execute-api.cn-northwest-1.amazonaws.com.cn":1,"execute-api.af-south-1.amazonaws.com":1,"execute-api.ap-east-1.amazonaws.com":1,"execute-api.ap-northeast-1.amazonaws.com":1,"execute-api.ap-northeast-2.amazonaws.com":1,"execute-api.ap-northeast-3.amazonaws.com":1,"execute-api.ap-south-1.amazonaws.com":1,"execute-api.ap-south-2.amazonaws.com":1,"execute-api.ap-southeast-1.amazonaws.com":1,"execute-api.ap-southeast-2.amazonaws.com":1,"execute-api.ap-southeast-3.amazonaws.com":1,"execute-api.ap-southeast-4.amazonaws.com":1,"execute-api.ca-central-1.amazonaws.com":1,"execute-api.eu-central-1.amazonaws.com":1,"execute-api.eu-central-2.amazonaws.com":1,"execute-api.eu-north-1.amazonaws.com":1,"execute-api.eu-south-1.amazonaws.com":1,"execute-api.eu-south-2.amazonaws.com":1,"execute-api.eu-west-1.amazonaws.com":1,"execute-api.eu-west-2.amazonaws.com":1,"execute-api.eu-west-3.amazonaws.com":1,"execute-api.il-central-1.amazonaws.com":1,"execute-api.me-central-1.amazonaws.com":1,"execute-api.me-south-1.amazonaws.com":1,"execute-api.sa-east-1.amazonaws.com":1,"execute-api.us-east-1.amazonaws.com":1,"execute-api.us-east-2.amazonaws.com":1,"execute-api.us-gov-east-1.amazonaws.com":1,"execute-api.us-gov-west-1.amazonaws.com":1,"execute-api.us-west-1.amazonaws.com":1,"execute-api.us-west-2.amazonaws.com":1,"cloudfront.net":1,"auth.af-south-1.amazoncognito.com":1,"auth.ap-northeast-1.amazoncognito.com":1,"auth.ap-northeast-2.amazoncognito.com":1,"auth.ap-northeast-3.amazoncognito.com":1,"auth.ap-south-1.amazoncognito.com":1,"auth.ap-southeast-1.amazoncognito.com":1,"auth.ap-southeast-2.amazoncognito.com":1,"auth.ap-southeast-3.amazoncognito.com":1,"auth.ca-central-1.amazoncognito.com":1,"auth.eu-central-1.amazoncognito.com":1,"auth.eu-north-1.amazoncognito.com":1,"auth.eu-south-1.amazoncognito.com":1,"auth.eu-west-1.amazoncognito.com":1,"auth.eu-west-2.amazoncognito.com":1,"auth.eu-west-3.amazoncognito.com":1,"auth.il-central-1.amazoncognito.com":1,"auth.me-south-1.amazoncognito.com":1,"auth.sa-east-1.amazoncognito.com":1,"auth.us-east-1.amazoncognito.com":1,"auth-fips.us-east-1.amazoncognito.com":1,"auth.us-east-2.amazoncognito.com":1,"auth-fips.us-east-2.amazoncognito.com":1,"auth-fips.us-gov-west-1.amazoncognito.com":1,"auth.us-west-1.amazoncognito.com":1,"auth-fips.us-west-1.amazoncognito.com":1,"auth.us-west-2.amazoncognito.com":1,"auth-fips.us-west-2.amazoncognito.com":1,"compute.amazonaws.com":2,"compute-1.amazonaws.com":2,"compute.amazonaws.com.cn":2,"us-east-1.amazonaws.com":1,"emrappui-prod.cn-north-1.amazonaws.com.cn":1,"emrnotebooks-prod.cn-north-1.amazonaws.com.cn":1,"emrstudio-prod.cn-north-1.amazonaws.com.cn":1,"emrappui-prod.cn-northwest-1.amazonaws.com.cn":1,"emrnotebooks-prod.cn-northwest-1.amazonaws.com.cn":1,"emrstudio-prod.cn-northwest-1.amazonaws.com.cn":1,"emrappui-prod.af-south-1.amazonaws.com":1,"emrnotebooks-prod.af-south-1.amazonaws.com":1,"emrstudio-prod.af-south-1.amazonaws.com":1,"emrappui-prod.ap-east-1.amazonaws.com":1,"emrnotebooks-prod.ap-east-1.amazonaws.com":1,"emrstudio-prod.ap-east-1.amazonaws.com":1,"emrappui-prod.ap-northeast-1.amazonaws.com":1,"emrnotebooks-prod.ap-northeast-1.amazonaws.com":1,"emrstudio-prod.ap-northeast-1.amazonaws.com":1,"emrappui-prod.ap-northeast-2.amazonaws.com":1,"emrnotebooks-prod.ap-northeast-2.amazonaws.com":1,"emrstudio-prod.ap-northeast-2.amazonaws.com":1,"emrappui-prod.ap-northeast-3.amazonaws.com":1,"emrnotebooks-prod.ap-northeast-3.amazonaws.com":1,"emrstudio-prod.ap-northeast-3.amazonaws.com":1,"emrappui-prod.ap-south-1.amazonaws.com":1,"emrnotebooks-prod.ap-south-1.amazonaws.com":1,"emrstudio-prod.ap-south-1.amazonaws.com":1,"emrappui-prod.ap-southeast-1.amazonaws.com":1,"emrnotebooks-prod.ap-southeast-1.amazonaws.com":1,"emrstudio-prod.ap-southeast-1.amazonaws.com":1,"emrappui-prod.ap-southeast-2.amazonaws.com":1,"emrnotebooks-prod.ap-southeast-2.amazonaws.com":1,"emrstudio-prod.ap-southeast-2.amazonaws.com":1,"emrappui-prod.ap-southeast-3.amazonaws.com":1,"emrnotebooks-prod.ap-southeast-3.amazonaws.com":1,"emrstudio-prod.ap-southeast-3.amazonaws.com":1,"emrappui-prod.ca-central-1.amazonaws.com":1,"emrnotebooks-prod.ca-central-1.amazonaws.com":1,"emrstudio-prod.ca-central-1.amazonaws.com":1,"emrappui-prod.eu-central-1.amazonaws.com":1,"emrnotebooks-prod.eu-central-1.amazonaws.com":1,"emrstudio-prod.eu-central-1.amazonaws.com":1,"emrappui-prod.eu-north-1.amazonaws.com":1,"emrnotebooks-prod.eu-north-1.amazonaws.com":1,"emrstudio-prod.eu-north-1.amazonaws.com":1,"emrappui-prod.eu-south-1.amazonaws.com":1,"emrnotebooks-prod.eu-south-1.amazonaws.com":1,"emrstudio-prod.eu-south-1.amazonaws.com":1,"emrappui-prod.eu-west-1.amazonaws.com":1,"emrnotebooks-prod.eu-west-1.amazonaws.com":1,"emrstudio-prod.eu-west-1.amazonaws.com":1,"emrappui-prod.eu-west-2.amazonaws.com":1,"emrnotebooks-prod.eu-west-2.amazonaws.com":1,"emrstudio-prod.eu-west-2.amazonaws.com":1,"emrappui-prod.eu-west-3.amazonaws.com":1,"emrnotebooks-prod.eu-west-3.amazonaws.com":1,"emrstudio-prod.eu-west-3.amazonaws.com":1,"emrappui-prod.me-central-1.amazonaws.com":1,"emrnotebooks-prod.me-central-1.amazonaws.com":1,"emrstudio-prod.me-central-1.amazonaws.com":1,"emrappui-prod.me-south-1.amazonaws.com":1,"emrnotebooks-prod.me-south-1.amazonaws.com":1,"emrstudio-prod.me-south-1.amazonaws.com":1,"emrappui-prod.sa-east-1.amazonaws.com":1,"emrnotebooks-prod.sa-east-1.amazonaws.com":1,"emrstudio-prod.sa-east-1.amazonaws.com":1,"emrappui-prod.us-east-1.amazonaws.com":1,"emrnotebooks-prod.us-east-1.amazonaws.com":1,"emrstudio-prod.us-east-1.amazonaws.com":1,"emrappui-prod.us-east-2.amazonaws.com":1,"emrnotebooks-prod.us-east-2.amazonaws.com":1,"emrstudio-prod.us-east-2.amazonaws.com":1,"emrappui-prod.us-gov-east-1.amazonaws.com":1,"emrnotebooks-prod.us-gov-east-1.amazonaws.com":1,"emrstudio-prod.us-gov-east-1.amazonaws.com":1,"emrappui-prod.us-gov-west-1.amazonaws.com":1,"emrnotebooks-prod.us-gov-west-1.amazonaws.com":1,"emrstudio-prod.us-gov-west-1.amazonaws.com":1,"emrappui-prod.us-west-1.amazonaws.com":1,"emrnotebooks-prod.us-west-1.amazonaws.com":1,"emrstudio-prod.us-west-1.amazonaws.com":1,"emrappui-prod.us-west-2.amazonaws.com":1,"emrnotebooks-prod.us-west-2.amazonaws.com":1,"emrstudio-prod.us-west-2.amazonaws.com":1,"cn-north-1.airflow.amazonaws.com.cn":2,"cn-northwest-1.airflow.amazonaws.com.cn":2,"ap-northeast-1.airflow.amazonaws.com":2,"ap-northeast-2.airflow.amazonaws.com":2,"ap-south-1.airflow.amazonaws.com":2,"ap-southeast-1.airflow.amazonaws.com":2,"ap-southeast-2.airflow.amazonaws.com":2,"ca-central-1.airflow.amazonaws.com":2,"eu-central-1.airflow.amazonaws.com":2,"eu-north-1.airflow.amazonaws.com":2,"eu-west-1.airflow.amazonaws.com":2,"eu-west-2.airflow.amazonaws.com":2,"eu-west-3.airflow.amazonaws.com":2,"sa-east-1.airflow.amazonaws.com":2,"us-east-1.airflow.amazonaws.com":2,"us-east-2.airflow.amazonaws.com":2,"us-west-2.airflow.amazonaws.com":2,"s3.dualstack.cn-north-1.amazonaws.com.cn":1,"s3-accesspoint.dualstack.cn-north-1.amazonaws.com.cn":1,"s3-website.dualstack.cn-north-1.amazonaws.com.cn":1,"s3.cn-north-1.amazonaws.com.cn":1,"s3-accesspoint.cn-north-1.amazonaws.com.cn":1,"s3-deprecated.cn-north-1.amazonaws.com.cn":1,"s3-object-lambda.cn-north-1.amazonaws.com.cn":1,"s3-website.cn-north-1.amazonaws.com.cn":1,"s3.dualstack.cn-northwest-1.amazonaws.com.cn":1,"s3-accesspoint.dualstack.cn-northwest-1.amazonaws.com.cn":1,"s3.cn-northwest-1.amazonaws.com.cn":1,"s3-accesspoint.cn-northwest-1.amazonaws.com.cn":1,"s3-object-lambda.cn-northwest-1.amazonaws.com.cn":1,"s3-website.cn-northwest-1.amazonaws.com.cn":1,"s3.dualstack.af-south-1.amazonaws.com":1,"s3-accesspoint.dualstack.af-south-1.amazonaws.com":1,"s3-website.dualstack.af-south-1.amazonaws.com":1,"s3.af-south-1.amazonaws.com":1,"s3-accesspoint.af-south-1.amazonaws.com":1,"s3-object-lambda.af-south-1.amazonaws.com":1,"s3-website.af-south-1.amazonaws.com":1,"s3.dualstack.ap-east-1.amazonaws.com":1,"s3-accesspoint.dualstack.ap-east-1.amazonaws.com":1,"s3.ap-east-1.amazonaws.com":1,"s3-accesspoint.ap-east-1.amazonaws.com":1,"s3-object-lambda.ap-east-1.amazonaws.com":1,"s3-website.ap-east-1.amazonaws.com":1,"s3.dualstack.ap-northeast-1.amazonaws.com":1,"s3-accesspoint.dualstack.ap-northeast-1.amazonaws.com":1,"s3-website.dualstack.ap-northeast-1.amazonaws.com":1,"s3.ap-northeast-1.amazonaws.com":1,"s3-accesspoint.ap-northeast-1.amazonaws.com":1,"s3-object-lambda.ap-northeast-1.amazonaws.com":1,"s3-website.ap-northeast-1.amazonaws.com":1,"s3.dualstack.ap-northeast-2.amazonaws.com":1,"s3-accesspoint.dualstack.ap-northeast-2.amazonaws.com":1,"s3-website.dualstack.ap-northeast-2.amazonaws.com":1,"s3.ap-northeast-2.amazonaws.com":1,"s3-accesspoint.ap-northeast-2.amazonaws.com":1,"s3-object-lambda.ap-northeast-2.amazonaws.com":1,"s3-website.ap-northeast-2.amazonaws.com":1,"s3.dualstack.ap-northeast-3.amazonaws.com":1,"s3-accesspoint.dualstack.ap-northeast-3.amazonaws.com":1,"s3-website.dualstack.ap-northeast-3.amazonaws.com":1,"s3.ap-northeast-3.amazonaws.com":1,"s3-accesspoint.ap-northeast-3.amazonaws.com":1,"s3-object-lambda.ap-northeast-3.amazonaws.com":1,"s3-website.ap-northeast-3.amazonaws.com":1,"s3.dualstack.ap-south-1.amazonaws.com":1,"s3-accesspoint.dualstack.ap-south-1.amazonaws.com":1,"s3-website.dualstack.ap-south-1.amazonaws.com":1,"s3.ap-south-1.amazonaws.com":1,"s3-accesspoint.ap-south-1.amazonaws.com":1,"s3-object-lambda.ap-south-1.amazonaws.com":1,"s3-website.ap-south-1.amazonaws.com":1,"s3.dualstack.ap-south-2.amazonaws.com":1,"s3-accesspoint.dualstack.ap-south-2.amazonaws.com":1,"s3.ap-south-2.amazonaws.com":1,"s3-accesspoint.ap-south-2.amazonaws.com":1,"s3-object-lambda.ap-south-2.amazonaws.com":1,"s3-website.ap-south-2.amazonaws.com":1,"s3.dualstack.ap-southeast-1.amazonaws.com":1,"s3-accesspoint.dualstack.ap-southeast-1.amazonaws.com":1,"s3-website.dualstack.ap-southeast-1.amazonaws.com":1,"s3.ap-southeast-1.amazonaws.com":1,"s3-accesspoint.ap-southeast-1.amazonaws.com":1,"s3-object-lambda.ap-southeast-1.amazonaws.com":1,"s3-website.ap-southeast-1.amazonaws.com":1,"s3.dualstack.ap-southeast-2.amazonaws.com":1,"s3-accesspoint.dualstack.ap-southeast-2.amazonaws.com":1,"s3-website.dualstack.ap-southeast-2.amazonaws.com":1,"s3.ap-southeast-2.amazonaws.com":1,"s3-accesspoint.ap-southeast-2.amazonaws.com":1,"s3-object-lambda.ap-southeast-2.amazonaws.com":1,"s3-website.ap-southeast-2.amazonaws.com":1,"s3.dualstack.ap-southeast-3.amazonaws.com":1,"s3-accesspoint.dualstack.ap-southeast-3.amazonaws.com":1,"s3.ap-southeast-3.amazonaws.com":1,"s3-accesspoint.ap-southeast-3.amazonaws.com":1,"s3-object-lambda.ap-southeast-3.amazonaws.com":1,"s3-website.ap-southeast-3.amazonaws.com":1,"s3.dualstack.ap-southeast-4.amazonaws.com":1,"s3-accesspoint.dualstack.ap-southeast-4.amazonaws.com":1,"s3.ap-southeast-4.amazonaws.com":1,"s3-accesspoint.ap-southeast-4.amazonaws.com":1,"s3-object-lambda.ap-southeast-4.amazonaws.com":1,"s3-website.ap-southeast-4.amazonaws.com":1,"s3.dualstack.ca-central-1.amazonaws.com":1,"s3-accesspoint.dualstack.ca-central-1.amazonaws.com":1,"s3-accesspoint-fips.dualstack.ca-central-1.amazonaws.com":1,"s3-fips.dualstack.ca-central-1.amazonaws.com":1,"s3-website.dualstack.ca-central-1.amazonaws.com":1,"s3.ca-central-1.amazonaws.com":1,"s3-accesspoint.ca-central-1.amazonaws.com":1,"s3-accesspoint-fips.ca-central-1.amazonaws.com":1,"s3-fips.ca-central-1.amazonaws.com":1,"s3-object-lambda.ca-central-1.amazonaws.com":1,"s3-website.ca-central-1.amazonaws.com":1,"s3.dualstack.eu-central-1.amazonaws.com":1,"s3-accesspoint.dualstack.eu-central-1.amazonaws.com":1,"s3-website.dualstack.eu-central-1.amazonaws.com":1,"s3.eu-central-1.amazonaws.com":1,"s3-accesspoint.eu-central-1.amazonaws.com":1,"s3-object-lambda.eu-central-1.amazonaws.com":1,"s3-website.eu-central-1.amazonaws.com":1,"s3.dualstack.eu-central-2.amazonaws.com":1,"s3-accesspoint.dualstack.eu-central-2.amazonaws.com":1,"s3.eu-central-2.amazonaws.com":1,"s3-accesspoint.eu-central-2.amazonaws.com":1,"s3-object-lambda.eu-central-2.amazonaws.com":1,"s3-website.eu-central-2.amazonaws.com":1,"s3.dualstack.eu-north-1.amazonaws.com":1,"s3-accesspoint.dualstack.eu-north-1.amazonaws.com":1,"s3.eu-north-1.amazonaws.com":1,"s3-accesspoint.eu-north-1.amazonaws.com":1,"s3-object-lambda.eu-north-1.amazonaws.com":1,"s3-website.eu-north-1.amazonaws.com":1,"s3.dualstack.eu-south-1.amazonaws.com":1,"s3-accesspoint.dualstack.eu-south-1.amazonaws.com":1,"s3-website.dualstack.eu-south-1.amazonaws.com":1,"s3.eu-south-1.amazonaws.com":1,"s3-accesspoint.eu-south-1.amazonaws.com":1,"s3-object-lambda.eu-south-1.amazonaws.com":1,"s3-website.eu-south-1.amazonaws.com":1,"s3.dualstack.eu-south-2.amazonaws.com":1,"s3-accesspoint.dualstack.eu-south-2.amazonaws.com":1,"s3.eu-south-2.amazonaws.com":1,"s3-accesspoint.eu-south-2.amazonaws.com":1,"s3-object-lambda.eu-south-2.amazonaws.com":1,"s3-website.eu-south-2.amazonaws.com":1,"s3.dualstack.eu-west-1.amazonaws.com":1,"s3-accesspoint.dualstack.eu-west-1.amazonaws.com":1,"s3-website.dualstack.eu-west-1.amazonaws.com":1,"s3.eu-west-1.amazonaws.com":1,"s3-accesspoint.eu-west-1.amazonaws.com":1,"s3-deprecated.eu-west-1.amazonaws.com":1,"s3-object-lambda.eu-west-1.amazonaws.com":1,"s3-website.eu-west-1.amazonaws.com":1,"s3.dualstack.eu-west-2.amazonaws.com":1,"s3-accesspoint.dualstack.eu-west-2.amazonaws.com":1,"s3.eu-west-2.amazonaws.com":1,"s3-accesspoint.eu-west-2.amazonaws.com":1,"s3-object-lambda.eu-west-2.amazonaws.com":1,"s3-website.eu-west-2.amazonaws.com":1,"s3.dualstack.eu-west-3.amazonaws.com":1,"s3-accesspoint.dualstack.eu-west-3.amazonaws.com":1,"s3-website.dualstack.eu-west-3.amazonaws.com":1,"s3.eu-west-3.amazonaws.com":1,"s3-accesspoint.eu-west-3.amazonaws.com":1,"s3-object-lambda.eu-west-3.amazonaws.com":1,"s3-website.eu-west-3.amazonaws.com":1,"s3.dualstack.il-central-1.amazonaws.com":1,"s3-accesspoint.dualstack.il-central-1.amazonaws.com":1,"s3.il-central-1.amazonaws.com":1,"s3-accesspoint.il-central-1.amazonaws.com":1,"s3-object-lambda.il-central-1.amazonaws.com":1,"s3-website.il-central-1.amazonaws.com":1,"s3.dualstack.me-central-1.amazonaws.com":1,"s3-accesspoint.dualstack.me-central-1.amazonaws.com":1,"s3.me-central-1.amazonaws.com":1,"s3-accesspoint.me-central-1.amazonaws.com":1,"s3-object-lambda.me-central-1.amazonaws.com":1,"s3-website.me-central-1.amazonaws.com":1,"s3.dualstack.me-south-1.amazonaws.com":1,"s3-accesspoint.dualstack.me-south-1.amazonaws.com":1,"s3.me-south-1.amazonaws.com":1,"s3-accesspoint.me-south-1.amazonaws.com":1,"s3-object-lambda.me-south-1.amazonaws.com":1,"s3-website.me-south-1.amazonaws.com":1,"s3.amazonaws.com":1,"s3-1.amazonaws.com":1,"s3-ap-east-1.amazonaws.com":1,"s3-ap-northeast-1.amazonaws.com":1,"s3-ap-northeast-2.amazonaws.com":1,"s3-ap-northeast-3.amazonaws.com":1,"s3-ap-south-1.amazonaws.com":1,"s3-ap-southeast-1.amazonaws.com":1,"s3-ap-southeast-2.amazonaws.com":1,"s3-ca-central-1.amazonaws.com":1,"s3-eu-central-1.amazonaws.com":1,"s3-eu-north-1.amazonaws.com":1,"s3-eu-west-1.amazonaws.com":1,"s3-eu-west-2.amazonaws.com":1,"s3-eu-west-3.amazonaws.com":1,"s3-external-1.amazonaws.com":1,"s3-fips-us-gov-east-1.amazonaws.com":1,"s3-fips-us-gov-west-1.amazonaws.com":1,"mrap.accesspoint.s3-global.amazonaws.com":1,"s3-me-south-1.amazonaws.com":1,"s3-sa-east-1.amazonaws.com":1,"s3-us-east-2.amazonaws.com":1,"s3-us-gov-east-1.amazonaws.com":1,"s3-us-gov-west-1.amazonaws.com":1,"s3-us-west-1.amazonaws.com":1,"s3-us-west-2.amazonaws.com":1,"s3-website-ap-northeast-1.amazonaws.com":1,"s3-website-ap-southeast-1.amazonaws.com":1,"s3-website-ap-southeast-2.amazonaws.com":1,"s3-website-eu-west-1.amazonaws.com":1,"s3-website-sa-east-1.amazonaws.com":1,"s3-website-us-east-1.amazonaws.com":1,"s3-website-us-gov-west-1.amazonaws.com":1,"s3-website-us-west-1.amazonaws.com":1,"s3-website-us-west-2.amazonaws.com":1,"s3.dualstack.sa-east-1.amazonaws.com":1,"s3-accesspoint.dualstack.sa-east-1.amazonaws.com":1,"s3-website.dualstack.sa-east-1.amazonaws.com":1,"s3.sa-east-1.amazonaws.com":1,"s3-accesspoint.sa-east-1.amazonaws.com":1,"s3-object-lambda.sa-east-1.amazonaws.com":1,"s3-website.sa-east-1.amazonaws.com":1,"s3.dualstack.us-east-1.amazonaws.com":1,"s3-accesspoint.dualstack.us-east-1.amazonaws.com":1,"s3-accesspoint-fips.dualstack.us-east-1.amazonaws.com":1,"s3-fips.dualstack.us-east-1.amazonaws.com":1,"s3-website.dualstack.us-east-1.amazonaws.com":1,"s3.us-east-1.amazonaws.com":1,"s3-accesspoint.us-east-1.amazonaws.com":1,"s3-accesspoint-fips.us-east-1.amazonaws.com":1,"s3-deprecated.us-east-1.amazonaws.com":1,"s3-fips.us-east-1.amazonaws.com":1,"s3-object-lambda.us-east-1.amazonaws.com":1,"s3-website.us-east-1.amazonaws.com":1,"s3.dualstack.us-east-2.amazonaws.com":1,"s3-accesspoint.dualstack.us-east-2.amazonaws.com":1,"s3-accesspoint-fips.dualstack.us-east-2.amazonaws.com":1,"s3-fips.dualstack.us-east-2.amazonaws.com":1,"s3.us-east-2.amazonaws.com":1,"s3-accesspoint.us-east-2.amazonaws.com":1,"s3-accesspoint-fips.us-east-2.amazonaws.com":1,"s3-deprecated.us-east-2.amazonaws.com":1,"s3-fips.us-east-2.amazonaws.com":1,"s3-object-lambda.us-east-2.amazonaws.com":1,"s3-website.us-east-2.amazonaws.com":1,"s3.dualstack.us-gov-east-1.amazonaws.com":1,"s3-accesspoint.dualstack.us-gov-east-1.amazonaws.com":1,"s3-accesspoint-fips.dualstack.us-gov-east-1.amazonaws.com":1,"s3-fips.dualstack.us-gov-east-1.amazonaws.com":1,"s3.us-gov-east-1.amazonaws.com":1,"s3-accesspoint.us-gov-east-1.amazonaws.com":1,"s3-accesspoint-fips.us-gov-east-1.amazonaws.com":1,"s3-fips.us-gov-east-1.amazonaws.com":1,"s3-object-lambda.us-gov-east-1.amazonaws.com":1,"s3-website.us-gov-east-1.amazonaws.com":1,"s3.dualstack.us-gov-west-1.amazonaws.com":1,"s3-accesspoint.dualstack.us-gov-west-1.amazonaws.com":1,"s3-accesspoint-fips.dualstack.us-gov-west-1.amazonaws.com":1,"s3-fips.dualstack.us-gov-west-1.amazonaws.com":1,"s3.us-gov-west-1.amazonaws.com":1,"s3-accesspoint.us-gov-west-1.amazonaws.com":1,"s3-accesspoint-fips.us-gov-west-1.amazonaws.com":1,"s3-fips.us-gov-west-1.amazonaws.com":1,"s3-object-lambda.us-gov-west-1.amazonaws.com":1,"s3-website.us-gov-west-1.amazonaws.com":1,"s3.dualstack.us-west-1.amazonaws.com":1,"s3-accesspoint.dualstack.us-west-1.amazonaws.com":1,"s3-accesspoint-fips.dualstack.us-west-1.amazonaws.com":1,"s3-fips.dualstack.us-west-1.amazonaws.com":1,"s3-website.dualstack.us-west-1.amazonaws.com":1,"s3.us-west-1.amazonaws.com":1,"s3-accesspoint.us-west-1.amazonaws.com":1,"s3-accesspoint-fips.us-west-1.amazonaws.com":1,"s3-fips.us-west-1.amazonaws.com":1,"s3-object-lambda.us-west-1.amazonaws.com":1,"s3-website.us-west-1.amazonaws.com":1,"s3.dualstack.us-west-2.amazonaws.com":1,"s3-accesspoint.dualstack.us-west-2.amazonaws.com":1,"s3-accesspoint-fips.dualstack.us-west-2.amazonaws.com":1,"s3-fips.dualstack.us-west-2.amazonaws.com":1,"s3-website.dualstack.us-west-2.amazonaws.com":1,"s3.us-west-2.amazonaws.com":1,"s3-accesspoint.us-west-2.amazonaws.com":1,"s3-accesspoint-fips.us-west-2.amazonaws.com":1,"s3-deprecated.us-west-2.amazonaws.com":1,"s3-fips.us-west-2.amazonaws.com":1,"s3-object-lambda.us-west-2.amazonaws.com":1,"s3-website.us-west-2.amazonaws.com":1,"notebook.af-south-1.sagemaker.aws":1,"notebook.ap-east-1.sagemaker.aws":1,"notebook.ap-northeast-1.sagemaker.aws":1,"notebook.ap-northeast-2.sagemaker.aws":1,"notebook.ap-northeast-3.sagemaker.aws":1,"notebook.ap-south-1.sagemaker.aws":1,"notebook.ap-south-2.sagemaker.aws":1,"notebook.ap-southeast-1.sagemaker.aws":1,"notebook.ap-southeast-2.sagemaker.aws":1,"notebook.ap-southeast-3.sagemaker.aws":1,"notebook.ap-southeast-4.sagemaker.aws":1,"notebook.ca-central-1.sagemaker.aws":1,"notebook.eu-central-1.sagemaker.aws":1,"notebook.eu-central-2.sagemaker.aws":1,"notebook.eu-north-1.sagemaker.aws":1,"notebook.eu-south-1.sagemaker.aws":1,"notebook.eu-south-2.sagemaker.aws":1,"notebook.eu-west-1.sagemaker.aws":1,"notebook.eu-west-2.sagemaker.aws":1,"notebook.eu-west-3.sagemaker.aws":1,"notebook.il-central-1.sagemaker.aws":1,"notebook.me-central-1.sagemaker.aws":1,"notebook.me-south-1.sagemaker.aws":1,"notebook.sa-east-1.sagemaker.aws":1,"notebook.us-east-1.sagemaker.aws":1,"notebook-fips.us-east-1.sagemaker.aws":1,"notebook.us-east-2.sagemaker.aws":1,"notebook-fips.us-east-2.sagemaker.aws":1,"notebook.us-gov-east-1.sagemaker.aws":1,"notebook-fips.us-gov-east-1.sagemaker.aws":1,"notebook.us-gov-west-1.sagemaker.aws":1,"notebook-fips.us-gov-west-1.sagemaker.aws":1,"notebook.us-west-1.sagemaker.aws":1,"notebook.us-west-2.sagemaker.aws":1,"notebook-fips.us-west-2.sagemaker.aws":1,"notebook.cn-north-1.sagemaker.com.cn":1,"notebook.cn-northwest-1.sagemaker.com.cn":1,"studio.af-south-1.sagemaker.aws":1,"studio.ap-east-1.sagemaker.aws":1,"studio.ap-northeast-1.sagemaker.aws":1,"studio.ap-northeast-2.sagemaker.aws":1,"studio.ap-northeast-3.sagemaker.aws":1,"studio.ap-south-1.sagemaker.aws":1,"studio.ap-southeast-1.sagemaker.aws":1,"studio.ap-southeast-2.sagemaker.aws":1,"studio.ap-southeast-3.sagemaker.aws":1,"studio.ca-central-1.sagemaker.aws":1,"studio.eu-central-1.sagemaker.aws":1,"studio.eu-north-1.sagemaker.aws":1,"studio.eu-south-1.sagemaker.aws":1,"studio.eu-west-1.sagemaker.aws":1,"studio.eu-west-2.sagemaker.aws":1,"studio.eu-west-3.sagemaker.aws":1,"studio.il-central-1.sagemaker.aws":1,"studio.me-central-1.sagemaker.aws":1,"studio.me-south-1.sagemaker.aws":1,"studio.sa-east-1.sagemaker.aws":1,"studio.us-east-1.sagemaker.aws":1,"studio.us-east-2.sagemaker.aws":1,"studio.us-gov-east-1.sagemaker.aws":1,"studio-fips.us-gov-east-1.sagemaker.aws":1,"studio.us-gov-west-1.sagemaker.aws":1,"studio-fips.us-gov-west-1.sagemaker.aws":1,"studio.us-west-1.sagemaker.aws":1,"studio.us-west-2.sagemaker.aws":1,"studio.cn-north-1.sagemaker.com.cn":1,"studio.cn-northwest-1.sagemaker.com.cn":1,"analytics-gateway.ap-northeast-1.amazonaws.com":1,"analytics-gateway.ap-northeast-2.amazonaws.com":1,"analytics-gateway.ap-south-1.amazonaws.com":1,"analytics-gateway.ap-southeast-1.amazonaws.com":1,"analytics-gateway.ap-southeast-2.amazonaws.com":1,"analytics-gateway.eu-central-1.amazonaws.com":1,"analytics-gateway.eu-west-1.amazonaws.com":1,"analytics-gateway.us-east-1.amazonaws.com":1,"analytics-gateway.us-east-2.amazonaws.com":1,"analytics-gateway.us-west-2.amazonaws.com":1,"amplifyapp.com":2,"awsapprunner.com":2,"webview-assets.aws-cloud9.af-south-1.amazonaws.com":1,"vfs.cloud9.af-south-1.amazonaws.com":1,"webview-assets.cloud9.af-south-1.amazonaws.com":1,"webview-assets.aws-cloud9.ap-east-1.amazonaws.com":1,"vfs.cloud9.ap-east-1.amazonaws.com":1,"webview-assets.cloud9.ap-east-1.amazonaws.com":1,"webview-assets.aws-cloud9.ap-northeast-1.amazonaws.com":1,"vfs.cloud9.ap-northeast-1.amazonaws.com":1,"webview-assets.cloud9.ap-northeast-1.amazonaws.com":1,"webview-assets.aws-cloud9.ap-northeast-2.amazonaws.com":1,"vfs.cloud9.ap-northeast-2.amazonaws.com":1,"webview-assets.cloud9.ap-northeast-2.amazonaws.com":1,"webview-assets.aws-cloud9.ap-northeast-3.amazonaws.com":1,"vfs.cloud9.ap-northeast-3.amazonaws.com":1,"webview-assets.cloud9.ap-northeast-3.amazonaws.com":1,"webview-assets.aws-cloud9.ap-south-1.amazonaws.com":1,"vfs.cloud9.ap-south-1.amazonaws.com":1,"webview-assets.cloud9.ap-south-1.amazonaws.com":1,"webview-assets.aws-cloud9.ap-southeast-1.amazonaws.com":1,"vfs.cloud9.ap-southeast-1.amazonaws.com":1,"webview-assets.cloud9.ap-southeast-1.amazonaws.com":1,"webview-assets.aws-cloud9.ap-southeast-2.amazonaws.com":1,"vfs.cloud9.ap-southeast-2.amazonaws.com":1,"webview-assets.cloud9.ap-southeast-2.amazonaws.com":1,"webview-assets.aws-cloud9.ca-central-1.amazonaws.com":1,"vfs.cloud9.ca-central-1.amazonaws.com":1,"webview-assets.cloud9.ca-central-1.amazonaws.com":1,"webview-assets.aws-cloud9.eu-central-1.amazonaws.com":1,"vfs.cloud9.eu-central-1.amazonaws.com":1,"webview-assets.cloud9.eu-central-1.amazonaws.com":1,"webview-assets.aws-cloud9.eu-north-1.amazonaws.com":1,"vfs.cloud9.eu-north-1.amazonaws.com":1,"webview-assets.cloud9.eu-north-1.amazonaws.com":1,"webview-assets.aws-cloud9.eu-south-1.amazonaws.com":1,"vfs.cloud9.eu-south-1.amazonaws.com":1,"webview-assets.cloud9.eu-south-1.amazonaws.com":1,"webview-assets.aws-cloud9.eu-west-1.amazonaws.com":1,"vfs.cloud9.eu-west-1.amazonaws.com":1,"webview-assets.cloud9.eu-west-1.amazonaws.com":1,"webview-assets.aws-cloud9.eu-west-2.amazonaws.com":1,"vfs.cloud9.eu-west-2.amazonaws.com":1,"webview-assets.cloud9.eu-west-2.amazonaws.com":1,"webview-assets.aws-cloud9.eu-west-3.amazonaws.com":1,"vfs.cloud9.eu-west-3.amazonaws.com":1,"webview-assets.cloud9.eu-west-3.amazonaws.com":1,"webview-assets.aws-cloud9.me-south-1.amazonaws.com":1,"vfs.cloud9.me-south-1.amazonaws.com":1,"webview-assets.cloud9.me-south-1.amazonaws.com":1,"webview-assets.aws-cloud9.sa-east-1.amazonaws.com":1,"vfs.cloud9.sa-east-1.amazonaws.com":1,"webview-assets.cloud9.sa-east-1.amazonaws.com":1,"webview-assets.aws-cloud9.us-east-1.amazonaws.com":1,"vfs.cloud9.us-east-1.amazonaws.com":1,"webview-assets.cloud9.us-east-1.amazonaws.com":1,"webview-assets.aws-cloud9.us-east-2.amazonaws.com":1,"vfs.cloud9.us-east-2.amazonaws.com":1,"webview-assets.cloud9.us-east-2.amazonaws.com":1,"webview-assets.aws-cloud9.us-west-1.amazonaws.com":1,"vfs.cloud9.us-west-1.amazonaws.com":1,"webview-assets.cloud9.us-west-1.amazonaws.com":1,"webview-assets.aws-cloud9.us-west-2.amazonaws.com":1,"vfs.cloud9.us-west-2.amazonaws.com":1,"webview-assets.cloud9.us-west-2.amazonaws.com":1,"cn-north-1.eb.amazonaws.com.cn":1,"cn-northwest-1.eb.amazonaws.com.cn":1,"elasticbeanstalk.com":1,"af-south-1.elasticbeanstalk.com":1,"ap-east-1.elasticbeanstalk.com":1,"ap-northeast-1.elasticbeanstalk.com":1,"ap-northeast-2.elasticbeanstalk.com":1,"ap-northeast-3.elasticbeanstalk.com":1,"ap-south-1.elasticbeanstalk.com":1,"ap-southeast-1.elasticbeanstalk.com":1,"ap-southeast-2.elasticbeanstalk.com":1,"ap-southeast-3.elasticbeanstalk.com":1,"ca-central-1.elasticbeanstalk.com":1,"eu-central-1.elasticbeanstalk.com":1,"eu-north-1.elasticbeanstalk.com":1,"eu-south-1.elasticbeanstalk.com":1,"eu-west-1.elasticbeanstalk.com":1,"eu-west-2.elasticbeanstalk.com":1,"eu-west-3.elasticbeanstalk.com":1,"il-central-1.elasticbeanstalk.com":1,"me-south-1.elasticbeanstalk.com":1,"sa-east-1.elasticbeanstalk.com":1,"us-east-1.elasticbeanstalk.com":1,"us-east-2.elasticbeanstalk.com":1,"us-gov-east-1.elasticbeanstalk.com":1,"us-gov-west-1.elasticbeanstalk.com":1,"us-west-1.elasticbeanstalk.com":1,"us-west-2.elasticbeanstalk.com":1,"elb.amazonaws.com.cn":2,"elb.amazonaws.com":2,"awsglobalaccelerator.com":1,"eero.online":1,"eero-stage.online":1,"t3l3p0rt.net":1,"tele.amune.org":1,"apigee.io":1,"siiites.com":1,"appspacehosted.com":1,"appspaceusercontent.com":1,"appudo.net":1,"on-aptible.com":1,"user.aseinet.ne.jp":1,"gv.vc":1,"d.gv.vc":1,"user.party.eus":1,"pimienta.org":1,"poivron.org":1,"potager.org":1,"sweetpepper.org":1,"myasustor.com":1,"cdn.prod.atlassian-dev.net":1,"translated.page":1,"autocode.dev":1,"myfritz.net":1,"onavstack.net":1,"awdev.ca":2,"advisor.ws":2,"ecommerce-shop.pl":1,"b-data.io":1,"backplaneapp.io":1,"balena-devices.com":1,"rs.ba":1,"banzai.cloud":2,"app.banzaicloud.io":1,"backyards.banzaicloud.io":2,"base.ec":1,"official.ec":1,"buyshop.jp":1,"fashionstore.jp":1,"handcrafted.jp":1,"kawaiishop.jp":1,"supersale.jp":1,"theshop.jp":1,"shopselect.net":1,"base.shop":1,"beagleboard.io":1,"beget.app":2,"betainabox.com":1,"bnr.la":1,"bitbucket.io":1,"blackbaudcdn.net":1,"of.je":1,"bluebite.io":1,"boomla.net":1,"boutir.com":1,"boxfuse.io":1,"square7.ch":1,"bplaced.com":1,"bplaced.de":1,"square7.de":1,"bplaced.net":1,"square7.net":1,"shop.brendly.rs":1,"browsersafetymark.io":1,"uk0.bigv.io":1,"dh.bytemark.co.uk":1,"vm.bytemark.co.uk":1,"cafjs.com":1,"mycd.eu":1,"canva-apps.cn":1,"canva-apps.com":1,"drr.ac":1,"uwu.ai":1,"carrd.co":1,"crd.co":1,"ju.mp":1,"ae.org":1,"br.com":1,"cn.com":1,"com.de":1,"com.se":1,"de.com":1,"eu.com":1,"gb.net":1,"hu.net":1,"jp.net":1,"jpn.com":1,"mex.com":1,"ru.com":1,"sa.com":1,"se.net":1,"uk.com":1,"uk.net":1,"us.com":1,"za.bz":1,"za.com":1,"ar.com":1,"hu.com":1,"kr.com":1,"no.com":1,"qc.com":1,"uy.com":1,"africa.com":1,"gr.com":1,"in.net":1,"web.in":1,"us.org":1,"co.com":1,"aus.basketball":1,"nz.basketball":1,"radio.am":1,"radio.fm":1,"c.la":1,"certmgr.org":1,"cx.ua":1,"discourse.group":1,"discourse.team":1,"cleverapps.io":1,"clerk.app":1,"clerkstage.app":1,"lcl.dev":2,"lclstage.dev":2,"stg.dev":2,"stgstage.dev":2,"clickrising.net":1,"c66.me":1,"cloud66.ws":1,"cloud66.zone":1,"jdevcloud.com":1,"wpdevcloud.com":1,"cloudaccess.host":1,"freesite.host":1,"cloudaccess.net":1,"cloudcontrolled.com":1,"cloudcontrolapp.com":1,"cloudera.site":2,"cf-ipfs.com":1,"cloudflare-ipfs.com":1,"trycloudflare.com":1,"pages.dev":1,"r2.dev":1,"workers.dev":1,"wnext.app":1,"co.ca":1,"otap.co":2,"co.cz":1,"c.cdn77.org":1,"cdn77-ssl.net":1,"r.cdn77.net":1,"rsc.cdn77.org":1,"ssl.origin.cdn77-secure.org":1,"cloudns.asia":1,"cloudns.biz":1,"cloudns.club":1,"cloudns.cc":1,"cloudns.eu":1,"cloudns.in":1,"cloudns.info":1,"cloudns.org":1,"cloudns.pro":1,"cloudns.pw":1,"cloudns.us":1,"cnpy.gdn":1,"codeberg.page":1,"co.nl":1,"co.no":1,"webhosting.be":1,"hosting-cluster.nl":1,"ac.ru":1,"edu.ru":1,"gov.ru":1,"int.ru":1,"mil.ru":1,"test.ru":1,"dyn.cosidns.de":1,"dynamisches-dns.de":1,"dnsupdater.de":1,"internet-dns.de":1,"l-o-g-i-n.de":1,"dynamic-dns.info":1,"feste-ip.net":1,"knx-server.net":1,"static-access.net":1,"realm.cz":1,"cryptonomic.net":2,"cupcake.is":1,"curv.dev":1,"customer-oci.com":2,"oci.customer-oci.com":2,"ocp.customer-oci.com":2,"ocs.customer-oci.com":2,"cyon.link":1,"cyon.site":1,"fnwk.site":1,"folionetwork.site":1,"platform0.app":1,"daplie.me":1,"localhost.daplie.me":1,"dattolocal.com":1,"dattorelay.com":1,"dattoweb.com":1,"mydatto.com":1,"dattolocal.net":1,"mydatto.net":1,"biz.dk":1,"co.dk":1,"firm.dk":1,"reg.dk":1,"store.dk":1,"dyndns.dappnode.io":1,"dapps.earth":2,"bzz.dapps.earth":2,"builtwithdark.com":1,"demo.datadetect.com":1,"instance.datadetect.com":1,"edgestack.me":1,"ddns5.com":1,"debian.net":1,"deno.dev":1,"deno-staging.dev":1,"dedyn.io":1,"deta.app":1,"deta.dev":1,"rss.my.id":2,"diher.solutions":2,"discordsays.com":1,"discordsez.com":1,"jozi.biz":1,"dnshome.de":1,"online.th":1,"shop.th":1,"drayddns.com":1,"shoparena.pl":1,"dreamhosters.com":1,"mydrobo.com":1,"drud.io":1,"drud.us":1,"duckdns.org":1,"bip.sh":1,"bitbridge.net":1,"dy.fi":1,"tunk.org":1,"dyndns-at-home.com":1,"dyndns-at-work.com":1,"dyndns-blog.com":1,"dyndns-free.com":1,"dyndns-home.com":1,"dyndns-ip.com":1,"dyndns-mail.com":1,"dyndns-office.com":1,"dyndns-pics.com":1,"dyndns-remote.com":1,"dyndns-server.com":1,"dyndns-web.com":1,"dyndns-wiki.com":1,"dyndns-work.com":1,"dyndns.biz":1,"dyndns.info":1,"dyndns.org":1,"dyndns.tv":1,"at-band-camp.net":1,"ath.cx":1,"barrel-of-knowledge.info":1,"barrell-of-knowledge.info":1,"better-than.tv":1,"blogdns.com":1,"blogdns.net":1,"blogdns.org":1,"blogsite.org":1,"boldlygoingnowhere.org":1,"broke-it.net":1,"buyshouses.net":1,"cechire.com":1,"dnsalias.com":1,"dnsalias.net":1,"dnsalias.org":1,"dnsdojo.com":1,"dnsdojo.net":1,"dnsdojo.org":1,"does-it.net":1,"doesntexist.com":1,"doesntexist.org":1,"dontexist.com":1,"dontexist.net":1,"dontexist.org":1,"doomdns.com":1,"doomdns.org":1,"dvrdns.org":1,"dyn-o-saur.com":1,"dynalias.com":1,"dynalias.net":1,"dynalias.org":1,"dynathome.net":1,"dyndns.ws":1,"endofinternet.net":1,"endofinternet.org":1,"endoftheinternet.org":1,"est-a-la-maison.com":1,"est-a-la-masion.com":1,"est-le-patron.com":1,"est-mon-blogueur.com":1,"for-better.biz":1,"for-more.biz":1,"for-our.info":1,"for-some.biz":1,"for-the.biz":1,"forgot.her.name":1,"forgot.his.name":1,"from-ak.com":1,"from-al.com":1,"from-ar.com":1,"from-az.net":1,"from-ca.com":1,"from-co.net":1,"from-ct.com":1,"from-dc.com":1,"from-de.com":1,"from-fl.com":1,"from-ga.com":1,"from-hi.com":1,"from-ia.com":1,"from-id.com":1,"from-il.com":1,"from-in.com":1,"from-ks.com":1,"from-ky.com":1,"from-la.net":1,"from-ma.com":1,"from-md.com":1,"from-me.org":1,"from-mi.com":1,"from-mn.com":1,"from-mo.com":1,"from-ms.com":1,"from-mt.com":1,"from-nc.com":1,"from-nd.com":1,"from-ne.com":1,"from-nh.com":1,"from-nj.com":1,"from-nm.com":1,"from-nv.com":1,"from-ny.net":1,"from-oh.com":1,"from-ok.com":1,"from-or.com":1,"from-pa.com":1,"from-pr.com":1,"from-ri.com":1,"from-sc.com":1,"from-sd.com":1,"from-tn.com":1,"from-tx.com":1,"from-ut.com":1,"from-va.com":1,"from-vt.com":1,"from-wa.com":1,"from-wi.com":1,"from-wv.com":1,"from-wy.com":1,"ftpaccess.cc":1,"fuettertdasnetz.de":1,"game-host.org":1,"game-server.cc":1,"getmyip.com":1,"gets-it.net":1,"go.dyndns.org":1,"gotdns.com":1,"gotdns.org":1,"groks-the.info":1,"groks-this.info":1,"ham-radio-op.net":1,"here-for-more.info":1,"hobby-site.com":1,"hobby-site.org":1,"home.dyndns.org":1,"homedns.org":1,"homeftp.net":1,"homeftp.org":1,"homeip.net":1,"homelinux.com":1,"homelinux.net":1,"homelinux.org":1,"homeunix.com":1,"homeunix.net":1,"homeunix.org":1,"iamallama.com":1,"in-the-band.net":1,"is-a-anarchist.com":1,"is-a-blogger.com":1,"is-a-bookkeeper.com":1,"is-a-bruinsfan.org":1,"is-a-bulls-fan.com":1,"is-a-candidate.org":1,"is-a-caterer.com":1,"is-a-celticsfan.org":1,"is-a-chef.com":1,"is-a-chef.net":1,"is-a-chef.org":1,"is-a-conservative.com":1,"is-a-cpa.com":1,"is-a-cubicle-slave.com":1,"is-a-democrat.com":1,"is-a-designer.com":1,"is-a-doctor.com":1,"is-a-financialadvisor.com":1,"is-a-geek.com":1,"is-a-geek.net":1,"is-a-geek.org":1,"is-a-green.com":1,"is-a-guru.com":1,"is-a-hard-worker.com":1,"is-a-hunter.com":1,"is-a-knight.org":1,"is-a-landscaper.com":1,"is-a-lawyer.com":1,"is-a-liberal.com":1,"is-a-libertarian.com":1,"is-a-linux-user.org":1,"is-a-llama.com":1,"is-a-musician.com":1,"is-a-nascarfan.com":1,"is-a-nurse.com":1,"is-a-painter.com":1,"is-a-patsfan.org":1,"is-a-personaltrainer.com":1,"is-a-photographer.com":1,"is-a-player.com":1,"is-a-republican.com":1,"is-a-rockstar.com":1,"is-a-socialist.com":1,"is-a-soxfan.org":1,"is-a-student.com":1,"is-a-teacher.com":1,"is-a-techie.com":1,"is-a-therapist.com":1,"is-an-accountant.com":1,"is-an-actor.com":1,"is-an-actress.com":1,"is-an-anarchist.com":1,"is-an-artist.com":1,"is-an-engineer.com":1,"is-an-entertainer.com":1,"is-by.us":1,"is-certified.com":1,"is-found.org":1,"is-gone.com":1,"is-into-anime.com":1,"is-into-cars.com":1,"is-into-cartoons.com":1,"is-into-games.com":1,"is-leet.com":1,"is-lost.org":1,"is-not-certified.com":1,"is-saved.org":1,"is-slick.com":1,"is-uberleet.com":1,"is-very-bad.org":1,"is-very-evil.org":1,"is-very-good.org":1,"is-very-nice.org":1,"is-very-sweet.org":1,"is-with-theband.com":1,"isa-geek.com":1,"isa-geek.net":1,"isa-geek.org":1,"isa-hockeynut.com":1,"issmarterthanyou.com":1,"isteingeek.de":1,"istmein.de":1,"kicks-ass.net":1,"kicks-ass.org":1,"knowsitall.info":1,"land-4-sale.us":1,"lebtimnetz.de":1,"leitungsen.de":1,"likes-pie.com":1,"likescandy.com":1,"merseine.nu":1,"mine.nu":1,"misconfused.org":1,"mypets.ws":1,"myphotos.cc":1,"neat-url.com":1,"office-on-the.net":1,"on-the-web.tv":1,"podzone.net":1,"podzone.org":1,"readmyblog.org":1,"saves-the-whales.com":1,"scrapper-site.net":1,"scrapping.cc":1,"selfip.biz":1,"selfip.com":1,"selfip.info":1,"selfip.net":1,"selfip.org":1,"sells-for-less.com":1,"sells-for-u.com":1,"sells-it.net":1,"sellsyourhome.org":1,"servebbs.com":1,"servebbs.net":1,"servebbs.org":1,"serveftp.net":1,"serveftp.org":1,"servegame.org":1,"shacknet.nu":1,"simple-url.com":1,"space-to-rent.com":1,"stuff-4-sale.org":1,"stuff-4-sale.us":1,"teaches-yoga.com":1,"thruhere.net":1,"traeumtgerade.de":1,"webhop.biz":1,"webhop.info":1,"webhop.net":1,"webhop.org":1,"worse-than.tv":1,"writesthisblog.com":1,"ddnss.de":1,"dyn.ddnss.de":1,"dyndns.ddnss.de":1,"dyndns1.de":1,"dyn-ip24.de":1,"home-webserver.de":1,"dyn.home-webserver.de":1,"myhome-server.de":1,"ddnss.org":1,"definima.net":1,"definima.io":1,"ondigitalocean.app":1,"digitaloceanspaces.com":2,"bci.dnstrace.pro":1,"ddnsfree.com":1,"ddnsgeek.com":1,"giize.com":1,"gleeze.com":1,"kozow.com":1,"loseyourip.com":1,"ooguy.com":1,"theworkpc.com":1,"casacam.net":1,"dynu.net":1,"accesscam.org":1,"camdvr.org":1,"freeddns.org":1,"mywire.org":1,"webredirect.org":1,"myddns.rocks":1,"blogsite.xyz":1,"dynv6.net":1,"e4.cz":1,"easypanel.app":1,"easypanel.host":1,"elementor.cloud":1,"elementor.cool":1,"en-root.fr":1,"mytuleap.com":1,"tuleap-partners.com":1,"encr.app":1,"encoreapi.com":1,"onred.one":1,"staging.onred.one":1,"eu.encoway.cloud":1,"eu.org":1,"al.eu.org":1,"asso.eu.org":1,"at.eu.org":1,"au.eu.org":1,"be.eu.org":1,"bg.eu.org":1,"ca.eu.org":1,"cd.eu.org":1,"ch.eu.org":1,"cn.eu.org":1,"cy.eu.org":1,"cz.eu.org":1,"de.eu.org":1,"dk.eu.org":1,"edu.eu.org":1,"ee.eu.org":1,"es.eu.org":1,"fi.eu.org":1,"fr.eu.org":1,"gr.eu.org":1,"hr.eu.org":1,"hu.eu.org":1,"ie.eu.org":1,"il.eu.org":1,"in.eu.org":1,"int.eu.org":1,"is.eu.org":1,"it.eu.org":1,"jp.eu.org":1,"kr.eu.org":1,"lt.eu.org":1,"lu.eu.org":1,"lv.eu.org":1,"mc.eu.org":1,"me.eu.org":1,"mk.eu.org":1,"mt.eu.org":1,"my.eu.org":1,"net.eu.org":1,"ng.eu.org":1,"nl.eu.org":1,"no.eu.org":1,"nz.eu.org":1,"paris.eu.org":1,"pl.eu.org":1,"pt.eu.org":1,"q-a.eu.org":1,"ro.eu.org":1,"ru.eu.org":1,"se.eu.org":1,"si.eu.org":1,"sk.eu.org":1,"tr.eu.org":1,"uk.eu.org":1,"us.eu.org":1,"eurodir.ru":1,"eu-1.evennode.com":1,"eu-2.evennode.com":1,"eu-3.evennode.com":1,"eu-4.evennode.com":1,"us-1.evennode.com":1,"us-2.evennode.com":1,"us-3.evennode.com":1,"us-4.evennode.com":1,"twmail.cc":1,"twmail.net":1,"twmail.org":1,"mymailer.com.tw":1,"url.tw":1,"onfabrica.com":1,"apps.fbsbx.com":1,"ru.net":1,"adygeya.ru":1,"bashkiria.ru":1,"bir.ru":1,"cbg.ru":1,"com.ru":1,"dagestan.ru":1,"grozny.ru":1,"kalmykia.ru":1,"kustanai.ru":1,"marine.ru":1,"mordovia.ru":1,"msk.ru":1,"mytis.ru":1,"nalchik.ru":1,"nov.ru":1,"pyatigorsk.ru":1,"spb.ru":1,"vladikavkaz.ru":1,"vladimir.ru":1,"abkhazia.su":1,"adygeya.su":1,"aktyubinsk.su":1,"arkhangelsk.su":1,"armenia.su":1,"ashgabad.su":1,"azerbaijan.su":1,"balashov.su":1,"bashkiria.su":1,"bryansk.su":1,"bukhara.su":1,"chimkent.su":1,"dagestan.su":1,"east-kazakhstan.su":1,"exnet.su":1,"georgia.su":1,"grozny.su":1,"ivanovo.su":1,"jambyl.su":1,"kalmykia.su":1,"kaluga.su":1,"karacol.su":1,"karaganda.su":1,"karelia.su":1,"khakassia.su":1,"krasnodar.su":1,"kurgan.su":1,"kustanai.su":1,"lenug.su":1,"mangyshlak.su":1,"mordovia.su":1,"msk.su":1,"murmansk.su":1,"nalchik.su":1,"navoi.su":1,"north-kazakhstan.su":1,"nov.su":1,"obninsk.su":1,"penza.su":1,"pokrovsk.su":1,"sochi.su":1,"spb.su":1,"tashkent.su":1,"termez.su":1,"togliatti.su":1,"troitsk.su":1,"tselinograd.su":1,"tula.su":1,"tuva.su":1,"vladikavkaz.su":1,"vladimir.su":1,"vologda.su":1,"channelsdvr.net":1,"u.channelsdvr.net":1,"edgecompute.app":1,"fastly-edge.com":1,"fastly-terrarium.com":1,"fastlylb.net":1,"map.fastlylb.net":1,"freetls.fastly.net":1,"map.fastly.net":1,"a.prod.fastly.net":1,"global.prod.fastly.net":1,"a.ssl.fastly.net":1,"b.ssl.fastly.net":1,"global.ssl.fastly.net":1,"user.fm":2,"fastvps-server.com":1,"fastvps.host":1,"myfast.host":1,"fastvps.site":1,"myfast.space":1,"fedorainfracloud.org":1,"fedorapeople.org":1,"cloud.fedoraproject.org":1,"app.os.fedoraproject.org":1,"app.os.stg.fedoraproject.org":1,"conn.uk":1,"copro.uk":1,"hosp.uk":1,"mydobiss.com":1,"fh-muenster.io":1,"filegear.me":1,"filegear-au.me":1,"filegear-de.me":1,"filegear-gb.me":1,"filegear-ie.me":1,"filegear-jp.me":1,"filegear-sg.me":1,"firebaseapp.com":1,"fireweb.app":1,"flap.id":1,"onflashdrive.app":1,"fldrv.com":1,"fly.dev":1,"edgeapp.net":1,"shw.io":1,"flynnhosting.net":1,"forgeblocks.com":1,"id.forgerock.io":1,"framer.app":1,"framercanvas.com":1,"framer.media":1,"framer.photos":1,"framer.website":1,"framer.wiki":1,"frusky.de":2,"ravpage.co.il":1,"0e.vc":1,"freebox-os.com":1,"freeboxos.com":1,"fbx-os.fr":1,"fbxos.fr":1,"freebox-os.fr":1,"freeboxos.fr":1,"freedesktop.org":1,"freemyip.com":1,"wien.funkfeuer.at":1,"futurecms.at":2,"ex.futurecms.at":2,"in.futurecms.at":2,"futurehosting.at":1,"futuremailing.at":1,"ex.ortsinfo.at":2,"kunden.ortsinfo.at":2,"statics.cloud":2,"independent-commission.uk":1,"independent-inquest.uk":1,"independent-inquiry.uk":1,"independent-panel.uk":1,"independent-review.uk":1,"public-inquiry.uk":1,"royal-commission.uk":1,"campaign.gov.uk":1,"service.gov.uk":1,"api.gov.uk":1,"gehirn.ne.jp":1,"usercontent.jp":1,"gentapps.com":1,"gentlentapis.com":1,"lab.ms":1,"cdn-edges.net":1,"ghost.io":1,"gsj.bz":1,"githubusercontent.com":1,"githubpreview.dev":1,"github.io":1,"gitlab.io":1,"gitapp.si":1,"gitpage.si":1,"glitch.me":1,"nog.community":1,"co.ro":1,"shop.ro":1,"lolipop.io":1,"angry.jp":1,"babyblue.jp":1,"babymilk.jp":1,"backdrop.jp":1,"bambina.jp":1,"bitter.jp":1,"blush.jp":1,"boo.jp":1,"boy.jp":1,"boyfriend.jp":1,"but.jp":1,"candypop.jp":1,"capoo.jp":1,"catfood.jp":1,"cheap.jp":1,"chicappa.jp":1,"chillout.jp":1,"chips.jp":1,"chowder.jp":1,"chu.jp":1,"ciao.jp":1,"cocotte.jp":1,"coolblog.jp":1,"cranky.jp":1,"cutegirl.jp":1,"daa.jp":1,"deca.jp":1,"deci.jp":1,"digick.jp":1,"egoism.jp":1,"fakefur.jp":1,"fem.jp":1,"flier.jp":1,"floppy.jp":1,"fool.jp":1,"frenchkiss.jp":1,"girlfriend.jp":1,"girly.jp":1,"gloomy.jp":1,"gonna.jp":1,"greater.jp":1,"hacca.jp":1,"heavy.jp":1,"her.jp":1,"hiho.jp":1,"hippy.jp":1,"holy.jp":1,"hungry.jp":1,"icurus.jp":1,"itigo.jp":1,"jellybean.jp":1,"kikirara.jp":1,"kill.jp":1,"kilo.jp":1,"kuron.jp":1,"littlestar.jp":1,"lolipopmc.jp":1,"lolitapunk.jp":1,"lomo.jp":1,"lovepop.jp":1,"lovesick.jp":1,"main.jp":1,"mods.jp":1,"mond.jp":1,"mongolian.jp":1,"moo.jp":1,"namaste.jp":1,"nikita.jp":1,"nobushi.jp":1,"noor.jp":1,"oops.jp":1,"parallel.jp":1,"parasite.jp":1,"pecori.jp":1,"peewee.jp":1,"penne.jp":1,"pepper.jp":1,"perma.jp":1,"pigboat.jp":1,"pinoko.jp":1,"punyu.jp":1,"pupu.jp":1,"pussycat.jp":1,"pya.jp":1,"raindrop.jp":1,"readymade.jp":1,"sadist.jp":1,"schoolbus.jp":1,"secret.jp":1,"staba.jp":1,"stripper.jp":1,"sub.jp":1,"sunnyday.jp":1,"thick.jp":1,"tonkotsu.jp":1,"under.jp":1,"upper.jp":1,"velvet.jp":1,"verse.jp":1,"versus.jp":1,"vivian.jp":1,"watson.jp":1,"weblike.jp":1,"whitesnow.jp":1,"zombie.jp":1,"heteml.net":1,"cloudapps.digital":1,"london.cloudapps.digital":1,"pymnt.uk":1,"homeoffice.gov.uk":1,"ro.im":1,"goip.de":1,"run.app":1,"a.run.app":1,"web.app":1,"0emm.com":2,"appspot.com":1,"r.appspot.com":2,"codespot.com":1,"googleapis.com":1,"googlecode.com":1,"pagespeedmobilizer.com":1,"publishproxy.com":1,"withgoogle.com":1,"withyoutube.com":1,"gateway.dev":2,"cloud.goog":1,"translate.goog":1,"usercontent.goog":2,"cloudfunctions.net":1,"blogspot.ae":1,"blogspot.al":1,"blogspot.am":1,"blogspot.ba":1,"blogspot.be":1,"blogspot.bg":1,"blogspot.bj":1,"blogspot.ca":1,"blogspot.cf":1,"blogspot.ch":1,"blogspot.cl":1,"blogspot.co.at":1,"blogspot.co.id":1,"blogspot.co.il":1,"blogspot.co.ke":1,"blogspot.co.nz":1,"blogspot.co.uk":1,"blogspot.co.za":1,"blogspot.com":1,"blogspot.com.ar":1,"blogspot.com.au":1,"blogspot.com.br":1,"blogspot.com.by":1,"blogspot.com.co":1,"blogspot.com.cy":1,"blogspot.com.ee":1,"blogspot.com.eg":1,"blogspot.com.es":1,"blogspot.com.mt":1,"blogspot.com.ng":1,"blogspot.com.tr":1,"blogspot.com.uy":1,"blogspot.cv":1,"blogspot.cz":1,"blogspot.de":1,"blogspot.dk":1,"blogspot.fi":1,"blogspot.fr":1,"blogspot.gr":1,"blogspot.hk":1,"blogspot.hr":1,"blogspot.hu":1,"blogspot.ie":1,"blogspot.in":1,"blogspot.is":1,"blogspot.it":1,"blogspot.jp":1,"blogspot.kr":1,"blogspot.li":1,"blogspot.lt":1,"blogspot.lu":1,"blogspot.md":1,"blogspot.mk":1,"blogspot.mr":1,"blogspot.mx":1,"blogspot.my":1,"blogspot.nl":1,"blogspot.no":1,"blogspot.pe":1,"blogspot.pt":1,"blogspot.qa":1,"blogspot.re":1,"blogspot.ro":1,"blogspot.rs":1,"blogspot.ru":1,"blogspot.se":1,"blogspot.sg":1,"blogspot.si":1,"blogspot.sk":1,"blogspot.sn":1,"blogspot.td":1,"blogspot.tw":1,"blogspot.ug":1,"blogspot.vn":1,"goupile.fr":1,"gov.nl":1,"awsmppl.com":1,"xn--gnstigbestellen-zvb.de":1,"xn--gnstigliefern-wob.de":1,"fin.ci":1,"free.hr":1,"caa.li":1,"ua.rs":1,"conf.se":1,"hs.zone":1,"hs.run":1,"hashbang.sh":1,"hasura.app":1,"hasura-app.io":1,"pages.it.hs-heilbronn.de":1,"hepforge.org":1,"herokuapp.com":1,"herokussl.com":1,"ravendb.cloud":1,"ravendb.community":1,"ravendb.me":1,"development.run":1,"ravendb.run":1,"homesklep.pl":1,"secaas.hk":1,"hoplix.shop":1,"orx.biz":1,"biz.gl":1,"col.ng":1,"firm.ng":1,"gen.ng":1,"ltd.ng":1,"ngo.ng":1,"edu.scot":1,"sch.so":1,"ie.ua":1,"hostyhosting.io":1,"xn--hkkinen-5wa.fi":1,"moonscale.io":2,"moonscale.net":1,"iki.fi":1,"ibxos.it":1,"iliadboxos.it":1,"impertrixcdn.com":1,"impertrix.com":1,"smushcdn.com":1,"wphostedmail.com":1,"wpmucdn.com":1,"tempurl.host":1,"wpmudev.host":1,"dyn-berlin.de":1,"in-berlin.de":1,"in-brb.de":1,"in-butter.de":1,"in-dsl.de":1,"in-dsl.net":1,"in-dsl.org":1,"in-vpn.de":1,"in-vpn.net":1,"in-vpn.org":1,"biz.at":1,"info.at":1,"info.cx":1,"ac.leg.br":1,"al.leg.br":1,"am.leg.br":1,"ap.leg.br":1,"ba.leg.br":1,"ce.leg.br":1,"df.leg.br":1,"es.leg.br":1,"go.leg.br":1,"ma.leg.br":1,"mg.leg.br":1,"ms.leg.br":1,"mt.leg.br":1,"pa.leg.br":1,"pb.leg.br":1,"pe.leg.br":1,"pi.leg.br":1,"pr.leg.br":1,"rj.leg.br":1,"rn.leg.br":1,"ro.leg.br":1,"rr.leg.br":1,"rs.leg.br":1,"sc.leg.br":1,"se.leg.br":1,"sp.leg.br":1,"to.leg.br":1,"pixolino.com":1,"na4u.ru":1,"iopsys.se":1,"ipifony.net":1,"iservschule.de":1,"mein-iserv.de":1,"schulplattform.de":1,"schulserver.de":1,"test-iserv.de":1,"iserv.dev":1,"iobb.net":1,"mel.cloudlets.com.au":1,"cloud.interhostsolutions.be":1,"mycloud.by":1,"alp1.ae.flow.ch":1,"appengine.flow.ch":1,"es-1.axarnet.cloud":1,"diadem.cloud":1,"vip.jelastic.cloud":1,"jele.cloud":1,"it1.eur.aruba.jenv-aruba.cloud":1,"it1.jenv-aruba.cloud":1,"keliweb.cloud":1,"cs.keliweb.cloud":1,"oxa.cloud":1,"tn.oxa.cloud":1,"uk.oxa.cloud":1,"primetel.cloud":1,"uk.primetel.cloud":1,"ca.reclaim.cloud":1,"uk.reclaim.cloud":1,"us.reclaim.cloud":1,"ch.trendhosting.cloud":1,"de.trendhosting.cloud":1,"jele.club":1,"amscompute.com":1,"dopaas.com":1,"paas.hosted-by-previder.com":1,"rag-cloud.hosteur.com":1,"rag-cloud-ch.hosteur.com":1,"jcloud.ik-server.com":1,"jcloud-ver-jpc.ik-server.com":1,"demo.jelastic.com":1,"kilatiron.com":1,"paas.massivegrid.com":1,"jed.wafaicloud.com":1,"lon.wafaicloud.com":1,"ryd.wafaicloud.com":1,"j.scaleforce.com.cy":1,"jelastic.dogado.eu":1,"fi.cloudplatform.fi":1,"demo.datacenter.fi":1,"paas.datacenter.fi":1,"jele.host":1,"mircloud.host":1,"paas.beebyte.io":1,"sekd1.beebyteapp.io":1,"jele.io":1,"cloud-fr1.unispace.io":1,"jc.neen.it":1,"cloud.jelastic.open.tim.it":1,"jcloud.kz":1,"upaas.kazteleport.kz":1,"cloudjiffy.net":1,"fra1-de.cloudjiffy.net":1,"west1-us.cloudjiffy.net":1,"jls-sto1.elastx.net":1,"jls-sto2.elastx.net":1,"jls-sto3.elastx.net":1,"faststacks.net":1,"fr-1.paas.massivegrid.net":1,"lon-1.paas.massivegrid.net":1,"lon-2.paas.massivegrid.net":1,"ny-1.paas.massivegrid.net":1,"ny-2.paas.massivegrid.net":1,"sg-1.paas.massivegrid.net":1,"jelastic.saveincloud.net":1,"nordeste-idc.saveincloud.net":1,"j.scaleforce.net":1,"jelastic.tsukaeru.net":1,"sdscloud.pl":1,"unicloud.pl":1,"mircloud.ru":1,"jelastic.regruhosting.ru":1,"enscaled.sg":1,"jele.site":1,"jelastic.team":1,"orangecloud.tn":1,"j.layershift.co.uk":1,"phx.enscaled.us":1,"mircloud.us":1,"myjino.ru":1,"hosting.myjino.ru":2,"landing.myjino.ru":2,"spectrum.myjino.ru":2,"vps.myjino.ru":2,"jotelulu.cloud":1,"triton.zone":2,"cns.joyent.com":2,"js.org":1,"kaas.gg":1,"khplay.nl":1,"ktistory.com":1,"kapsi.fi":1,"keymachine.de":1,"kinghost.net":1,"uni5.net":1,"knightpoint.systems":1,"koobin.events":1,"oya.to":1,"kuleuven.cloud":1,"ezproxy.kuleuven.be":1,"co.krd":1,"edu.krd":1,"krellian.net":1,"webthings.io":1,"git-repos.de":1,"lcube-server.de":1,"svn-repos.de":1,"leadpages.co":1,"lpages.co":1,"lpusercontent.com":1,"lelux.site":1,"co.business":1,"co.education":1,"co.events":1,"co.financial":1,"co.network":1,"co.place":1,"co.technology":1,"app.lmpm.com":1,"linkyard.cloud":1,"linkyard-cloud.ch":1,"members.linode.com":1,"nodebalancer.linode.com":2,"linodeobjects.com":2,"ip.linodeusercontent.com":1,"we.bs":1,"user.localcert.dev":2,"localzone.xyz":1,"loginline.app":1,"loginline.dev":1,"loginline.io":1,"loginline.services":1,"loginline.site":1,"servers.run":1,"lohmus.me":1,"krasnik.pl":1,"leczna.pl":1,"lubartow.pl":1,"lublin.pl":1,"poniatowa.pl":1,"swidnik.pl":1,"glug.org.uk":1,"lug.org.uk":1,"lugs.org.uk":1,"barsy.bg":1,"barsy.co.uk":1,"barsyonline.co.uk":1,"barsycenter.com":1,"barsyonline.com":1,"barsy.club":1,"barsy.de":1,"barsy.eu":1,"barsy.in":1,"barsy.info":1,"barsy.io":1,"barsy.me":1,"barsy.menu":1,"barsy.mobi":1,"barsy.net":1,"barsy.online":1,"barsy.org":1,"barsy.pro":1,"barsy.pub":1,"barsy.ro":1,"barsy.shop":1,"barsy.site":1,"barsy.support":1,"barsy.uk":1,"magentosite.cloud":2,"mayfirst.info":1,"mayfirst.org":1,"hb.cldmail.ru":1,"cn.vu":1,"mazeplay.com":1,"mcpe.me":1,"mcdir.me":1,"mcdir.ru":1,"mcpre.ru":1,"vps.mcdir.ru":1,"mediatech.by":1,"mediatech.dev":1,"hra.health":1,"miniserver.com":1,"memset.net":1,"messerli.app":1,"cloud.metacentrum.cz":2,"custom.metacentrum.cz":1,"flt.cloud.muni.cz":1,"usr.cloud.muni.cz":1,"meteorapp.com":1,"eu.meteorapp.com":1,"co.pl":1,"azurecontainer.io":2,"azurewebsites.net":1,"azure-mobile.net":1,"cloudapp.net":1,"azurestaticapps.net":1,"1.azurestaticapps.net":1,"2.azurestaticapps.net":1,"3.azurestaticapps.net":1,"4.azurestaticapps.net":1,"5.azurestaticapps.net":1,"6.azurestaticapps.net":1,"7.azurestaticapps.net":1,"centralus.azurestaticapps.net":1,"eastasia.azurestaticapps.net":1,"eastus2.azurestaticapps.net":1,"westeurope.azurestaticapps.net":1,"westus2.azurestaticapps.net":1,"csx.cc":1,"mintere.site":1,"forte.id":1,"mozilla-iot.org":1,"bmoattachments.org":1,"net.ru":1,"org.ru":1,"pp.ru":1,"hostedpi.com":1,"customer.mythic-beasts.com":1,"caracal.mythic-beasts.com":1,"fentiger.mythic-beasts.com":1,"lynx.mythic-beasts.com":1,"ocelot.mythic-beasts.com":1,"oncilla.mythic-beasts.com":1,"onza.mythic-beasts.com":1,"sphinx.mythic-beasts.com":1,"vs.mythic-beasts.com":1,"x.mythic-beasts.com":1,"yali.mythic-beasts.com":1,"cust.retrosnub.co.uk":1,"ui.nabu.casa":1,"cloud.nospamproxy.com":1,"netlify.app":1,"4u.com":1,"ngrok.app":1,"ngrok-free.app":1,"ngrok.dev":1,"ngrok-free.dev":1,"ngrok.io":1,"ap.ngrok.io":1,"au.ngrok.io":1,"eu.ngrok.io":1,"in.ngrok.io":1,"jp.ngrok.io":1,"sa.ngrok.io":1,"us.ngrok.io":1,"ngrok.pizza":1,"torun.pl":1,"nh-serv.co.uk":1,"nfshost.com":1,"developer.app":2,"noop.app":1,"northflank.app":2,"build.run":2,"code.run":2,"database.run":2,"migration.run":2,"noticeable.news":1,"dnsking.ch":1,"mypi.co":1,"n4t.co":1,"001www.com":1,"ddnslive.com":1,"myiphost.com":1,"forumz.info":1,"16-b.it":1,"32-b.it":1,"64-b.it":1,"soundcast.me":1,"tcp4.me":1,"dnsup.net":1,"hicam.net":1,"now-dns.net":1,"ownip.net":1,"vpndns.net":1,"dynserv.org":1,"now-dns.org":1,"x443.pw":1,"now-dns.top":1,"ntdll.top":1,"freeddns.us":1,"crafting.xyz":1,"zapto.xyz":1,"nsupdate.info":1,"nerdpol.ovh":1,"blogsyte.com":1,"brasilia.me":1,"cable-modem.org":1,"ciscofreak.com":1,"collegefan.org":1,"couchpotatofries.org":1,"damnserver.com":1,"ddns.me":1,"ditchyourip.com":1,"dnsfor.me":1,"dnsiskinky.com":1,"dvrcam.info":1,"dynns.com":1,"eating-organic.net":1,"fantasyleague.cc":1,"geekgalaxy.com":1,"golffan.us":1,"health-carereform.com":1,"homesecuritymac.com":1,"homesecuritypc.com":1,"hopto.me":1,"ilovecollege.info":1,"loginto.me":1,"mlbfan.org":1,"mmafan.biz":1,"myactivedirectory.com":1,"mydissent.net":1,"myeffect.net":1,"mymediapc.net":1,"mypsx.net":1,"mysecuritycamera.com":1,"mysecuritycamera.net":1,"mysecuritycamera.org":1,"net-freaks.com":1,"nflfan.org":1,"nhlfan.net":1,"no-ip.ca":1,"no-ip.co.uk":1,"no-ip.net":1,"noip.us":1,"onthewifi.com":1,"pgafan.net":1,"point2this.com":1,"pointto.us":1,"privatizehealthinsurance.net":1,"quicksytes.com":1,"read-books.org":1,"securitytactics.com":1,"serveexchange.com":1,"servehumour.com":1,"servep2p.com":1,"servesarcasm.com":1,"stufftoread.com":1,"ufcfan.org":1,"unusualperson.com":1,"workisboring.com":1,"3utilities.com":1,"bounceme.net":1,"ddns.net":1,"ddnsking.com":1,"gotdns.ch":1,"hopto.org":1,"myftp.biz":1,"myftp.org":1,"myvnc.com":1,"no-ip.biz":1,"no-ip.info":1,"no-ip.org":1,"noip.me":1,"redirectme.net":1,"servebeer.com":1,"serveblog.net":1,"servecounterstrike.com":1,"serveftp.com":1,"servegame.com":1,"servehalflife.com":1,"servehttp.com":1,"serveirc.com":1,"serveminecraft.net":1,"servemp3.com":1,"servepics.com":1,"servequake.com":1,"sytes.net":1,"webhop.me":1,"zapto.org":1,"stage.nodeart.io":1,"pcloud.host":1,"nyc.mn":1,"static.observableusercontent.com":1,"cya.gg":1,"omg.lol":1,"cloudycluster.net":1,"omniwe.site":1,"123hjemmeside.dk":1,"123hjemmeside.no":1,"123homepage.it":1,"123kotisivu.fi":1,"123minsida.se":1,"123miweb.es":1,"123paginaweb.pt":1,"123sait.ru":1,"123siteweb.fr":1,"123webseite.at":1,"123webseite.de":1,"123website.be":1,"123website.ch":1,"123website.lu":1,"123website.nl":1,"service.one":1,"simplesite.com":1,"simplesite.com.br":1,"simplesite.gr":1,"simplesite.pl":1,"nid.io":1,"opensocial.site":1,"opencraft.hosting":1,"orsites.com":1,"operaunite.com":1,"tech.orange":1,"authgear-staging.com":1,"authgearapps.com":1,"skygearapp.com":1,"outsystemscloud.com":1,"webpaas.ovh.net":2,"hosting.ovh.net":2,"ownprovider.com":1,"own.pm":1,"owo.codes":2,"ox.rs":1,"oy.lc":1,"pgfog.com":1,"pagefrontapp.com":1,"pagexl.com":1,"paywhirl.com":2,"bar0.net":1,"bar1.net":1,"bar2.net":1,"rdv.to":1,"art.pl":1,"gliwice.pl":1,"krakow.pl":1,"poznan.pl":1,"wroc.pl":1,"zakopane.pl":1,"pantheonsite.io":1,"gotpantheon.com":1,"mypep.link":1,"perspecta.cloud":1,"lk3.ru":1,"on-web.fr":1,"bc.platform.sh":1,"ent.platform.sh":1,"eu.platform.sh":1,"us.platform.sh":1,"platformsh.site":2,"tst.site":2,"platter-app.com":1,"platter-app.dev":1,"platterp.us":1,"pdns.page":1,"plesk.page":1,"pleskns.com":1,"dyn53.io":1,"onporter.run":1,"co.bn":1,"postman-echo.com":1,"pstmn.io":1,"mock.pstmn.io":1,"httpbin.org":1,"prequalifyme.today":1,"xen.prgmr.com":1,"priv.at":1,"prvcy.page":1,"dweb.link":2,"protonet.io":1,"chirurgiens-dentistes-en-france.fr":1,"byen.site":1,"pubtls.org":1,"pythonanywhere.com":1,"eu.pythonanywhere.com":1,"qoto.io":1,"qualifioapp.com":1,"ladesk.com":1,"qbuser.com":1,"cloudsite.builders":1,"instances.spawn.cc":1,"instantcloud.cn":1,"ras.ru":1,"qa2.com":1,"qcx.io":1,"sys.qcx.io":2,"dev-myqnapcloud.com":1,"alpha-myqnapcloud.com":1,"myqnapcloud.com":1,"quipelements.com":2,"vapor.cloud":1,"vaporcloud.io":1,"rackmaze.com":1,"rackmaze.net":1,"g.vbrplsbx.io":1,"on-k3s.io":2,"on-rancher.cloud":2,"on-rio.io":2,"readthedocs.io":1,"rhcloud.com":1,"app.render.com":1,"onrender.com":1,"firewalledreplit.co":1,"id.firewalledreplit.co":1,"repl.co":1,"id.repl.co":1,"repl.run":1,"resindevice.io":1,"devices.resinstaging.io":1,"hzc.io":1,"wellbeingzone.eu":1,"wellbeingzone.co.uk":1,"adimo.co.uk":1,"itcouldbewor.se":1,"git-pages.rit.edu":1,"rocky.page":1,"xn--90amc.xn--p1acf":1,"xn--j1aef.xn--p1acf":1,"xn--j1ael8b.xn--p1acf":1,"xn--h1ahn.xn--p1acf":1,"xn--j1adp.xn--p1acf":1,"xn--c1avg.xn--p1acf":1,"xn--80aaa0cvac.xn--p1acf":1,"xn--h1aliz.xn--p1acf":1,"xn--90a1af.xn--p1acf":1,"xn--41a.xn--p1acf":1,"180r.com":1,"dojin.com":1,"sakuratan.com":1,"sakuraweb.com":1,"x0.com":1,"2-d.jp":1,"bona.jp":1,"crap.jp":1,"daynight.jp":1,"eek.jp":1,"flop.jp":1,"halfmoon.jp":1,"jeez.jp":1,"matrix.jp":1,"mimoza.jp":1,"ivory.ne.jp":1,"mail-box.ne.jp":1,"mints.ne.jp":1,"mokuren.ne.jp":1,"opal.ne.jp":1,"sakura.ne.jp":1,"sumomo.ne.jp":1,"topaz.ne.jp":1,"netgamers.jp":1,"nyanta.jp":1,"o0o0.jp":1,"rdy.jp":1,"rgr.jp":1,"rulez.jp":1,"s3.isk01.sakurastorage.jp":1,"s3.isk02.sakurastorage.jp":1,"saloon.jp":1,"sblo.jp":1,"skr.jp":1,"tank.jp":1,"uh-oh.jp":1,"undo.jp":1,"rs.webaccel.jp":1,"user.webaccel.jp":1,"websozai.jp":1,"xii.jp":1,"squares.net":1,"jpn.org":1,"kirara.st":1,"x0.to":1,"from.tv":1,"sakura.tv":1,"builder.code.com":2,"dev-builder.code.com":2,"stg-builder.code.com":2,"sandcats.io":1,"logoip.de":1,"logoip.com":1,"fr-par-1.baremetal.scw.cloud":1,"fr-par-2.baremetal.scw.cloud":1,"nl-ams-1.baremetal.scw.cloud":1,"fnc.fr-par.scw.cloud":1,"functions.fnc.fr-par.scw.cloud":1,"k8s.fr-par.scw.cloud":1,"nodes.k8s.fr-par.scw.cloud":1,"s3.fr-par.scw.cloud":1,"s3-website.fr-par.scw.cloud":1,"whm.fr-par.scw.cloud":1,"priv.instances.scw.cloud":1,"pub.instances.scw.cloud":1,"k8s.scw.cloud":1,"k8s.nl-ams.scw.cloud":1,"nodes.k8s.nl-ams.scw.cloud":1,"s3.nl-ams.scw.cloud":1,"s3-website.nl-ams.scw.cloud":1,"whm.nl-ams.scw.cloud":1,"k8s.pl-waw.scw.cloud":1,"nodes.k8s.pl-waw.scw.cloud":1,"s3.pl-waw.scw.cloud":1,"s3-website.pl-waw.scw.cloud":1,"scalebook.scw.cloud":1,"smartlabeling.scw.cloud":1,"dedibox.fr":1,"schokokeks.net":1,"gov.scot":1,"service.gov.scot":1,"scrysec.com":1,"firewall-gateway.com":1,"firewall-gateway.de":1,"my-gateway.de":1,"my-router.de":1,"spdns.de":1,"spdns.eu":1,"firewall-gateway.net":1,"my-firewall.org":1,"myfirewall.org":1,"spdns.org":1,"seidat.net":1,"sellfy.store":1,"senseering.net":1,"minisite.ms":1,"magnet.page":1,"biz.ua":1,"co.ua":1,"pp.ua":1,"shiftcrypto.dev":1,"shiftcrypto.io":1,"shiftedit.io":1,"myshopblocks.com":1,"myshopify.com":1,"shopitsite.com":1,"shopware.store":1,"mo-siemens.io":1,"1kapp.com":1,"appchizi.com":1,"applinzi.com":1,"sinaapp.com":1,"vipsinaapp.com":1,"siteleaf.net":1,"bounty-full.com":1,"alpha.bounty-full.com":1,"beta.bounty-full.com":1,"aeroport.fr":1,"avocat.fr":1,"chambagri.fr":1,"chirurgiens-dentistes.fr":1,"experts-comptables.fr":1,"medecin.fr":1,"notaires.fr":1,"pharmacien.fr":1,"port.fr":1,"veterinaire.fr":1,"small-web.org":1,"vp4.me":1,"snowflake.app":1,"privatelink.snowflake.app":1,"streamlit.app":1,"streamlitapp.com":1,"try-snowplow.com":1,"srht.site":1,"stackhero-network.com":1,"musician.io":1,"novecore.site":1,"static.land":1,"dev.static.land":1,"sites.static.land":1,"storebase.store":1,"vps-host.net":1,"atl.jelastic.vps-host.net":1,"njs.jelastic.vps-host.net":1,"ric.jelastic.vps-host.net":1,"playstation-cloud.com":1,"apps.lair.io":1,"stolos.io":2,"spacekit.io":1,"customer.speedpartner.de":1,"myspreadshop.at":1,"myspreadshop.com.au":1,"myspreadshop.be":1,"myspreadshop.ca":1,"myspreadshop.ch":1,"myspreadshop.com":1,"myspreadshop.de":1,"myspreadshop.dk":1,"myspreadshop.es":1,"myspreadshop.fi":1,"myspreadshop.fr":1,"myspreadshop.ie":1,"myspreadshop.it":1,"myspreadshop.net":1,"myspreadshop.nl":1,"myspreadshop.no":1,"myspreadshop.pl":1,"myspreadshop.se":1,"myspreadshop.co.uk":1,"api.stdlib.com":1,"storipress.app":1,"storj.farm":1,"utwente.io":1,"soc.srcf.net":1,"user.srcf.net":1,"temp-dns.com":1,"supabase.co":1,"supabase.in":1,"supabase.net":1,"su.paba.se":1,"s5y.io":2,"sensiosite.cloud":2,"syncloud.it":1,"dscloud.biz":1,"direct.quickconnect.cn":1,"dsmynas.com":1,"familyds.com":1,"diskstation.me":1,"dscloud.me":1,"i234.me":1,"myds.me":1,"synology.me":1,"dscloud.mobi":1,"dsmynas.net":1,"familyds.net":1,"dsmynas.org":1,"familyds.org":1,"vpnplus.to":1,"direct.quickconnect.to":1,"tabitorder.co.il":1,"mytabit.co.il":1,"mytabit.com":1,"taifun-dns.de":1,"beta.tailscale.net":1,"ts.net":1,"gda.pl":1,"gdansk.pl":1,"gdynia.pl":1,"med.pl":1,"sopot.pl":1,"site.tb-hosting.com":1,"edugit.io":1,"s3.teckids.org":1,"telebit.app":1,"telebit.io":1,"telebit.xyz":2,"firenet.ch":2,"svc.firenet.ch":2,"reservd.com":1,"thingdustdata.com":1,"cust.dev.thingdust.io":1,"cust.disrec.thingdust.io":1,"cust.prod.thingdust.io":1,"cust.testing.thingdust.io":1,"reservd.dev.thingdust.io":1,"reservd.disrec.thingdust.io":1,"reservd.testing.thingdust.io":1,"tickets.io":1,"arvo.network":1,"azimuth.network":1,"tlon.network":1,"torproject.net":1,"pages.torproject.net":1,"bloxcms.com":1,"townnews-staging.com":1,"12hp.at":1,"2ix.at":1,"4lima.at":1,"lima-city.at":1,"12hp.ch":1,"2ix.ch":1,"4lima.ch":1,"lima-city.ch":1,"trafficplex.cloud":1,"de.cool":1,"12hp.de":1,"2ix.de":1,"4lima.de":1,"lima-city.de":1,"1337.pictures":1,"clan.rip":1,"lima-city.rocks":1,"webspace.rocks":1,"lima.zone":1,"transurl.be":2,"transurl.eu":2,"transurl.nl":2,"site.transip.me":1,"tuxfamily.org":1,"dd-dns.de":1,"diskstation.eu":1,"diskstation.org":1,"dray-dns.de":1,"draydns.de":1,"dyn-vpn.de":1,"dynvpn.de":1,"mein-vigor.de":1,"my-vigor.de":1,"my-wan.de":1,"syno-ds.de":1,"synology-diskstation.de":1,"synology-ds.de":1,"typedream.app":1,"pro.typeform.com":1,"uber.space":1,"uberspace.de":2,"hk.com":1,"hk.org":1,"ltd.hk":1,"inc.hk":1,"it.com":1,"name.pm":1,"sch.tf":1,"biz.wf":1,"sch.wf":1,"org.yt":1,"virtualuser.de":1,"virtual-user.de":1,"upli.io":1,"urown.cloud":1,"dnsupdate.info":1,"lib.de.us":1,"2038.io":1,"vercel.app":1,"vercel.dev":1,"now.sh":1,"router.management":1,"v-info.info":1,"voorloper.cloud":1,"neko.am":1,"nyaa.am":1,"be.ax":1,"cat.ax":1,"es.ax":1,"eu.ax":1,"gg.ax":1,"mc.ax":1,"us.ax":1,"xy.ax":1,"nl.ci":1,"xx.gl":1,"app.gp":1,"blog.gt":1,"de.gt":1,"to.gt":1,"be.gy":1,"cc.hn":1,"blog.kg":1,"io.kg":1,"jp.kg":1,"tv.kg":1,"uk.kg":1,"us.kg":1,"de.ls":1,"at.md":1,"de.md":1,"jp.md":1,"to.md":1,"indie.porn":1,"vxl.sh":1,"ch.tc":1,"me.tc":1,"we.tc":1,"nyan.to":1,"at.vg":1,"blog.vu":1,"dev.vu":1,"me.vu":1,"v.ua":1,"vultrobjects.com":2,"wafflecell.com":1,"webhare.dev":2,"reserve-online.net":1,"reserve-online.com":1,"bookonline.app":1,"hotelwithflight.com":1,"wedeploy.io":1,"wedeploy.me":1,"wedeploy.sh":1,"remotewd.com":1,"pages.wiardweb.com":1,"wmflabs.org":1,"toolforge.org":1,"wmcloud.org":1,"panel.gg":1,"daemon.panel.gg":1,"messwithdns.com":1,"woltlab-demo.com":1,"myforum.community":1,"community-pro.de":1,"diskussionsbereich.de":1,"community-pro.net":1,"meinforum.net":1,"affinitylottery.org.uk":1,"raffleentry.org.uk":1,"weeklylottery.org.uk":1,"wpenginepowered.com":1,"js.wpenginepowered.com":1,"wixsite.com":1,"editorx.io":1,"wixstudio.io":1,"wix.run":1,"half.host":1,"xnbay.com":1,"u2.xnbay.com":1,"u2-local.xnbay.com":1,"cistron.nl":1,"demon.nl":1,"xs4all.space":1,"yandexcloud.net":1,"storage.yandexcloud.net":1,"website.yandexcloud.net":1,"official.academy":1,"yolasite.com":1,"ybo.faith":1,"yombo.me":1,"homelink.one":1,"ybo.party":1,"ybo.review":1,"ybo.science":1,"ybo.trade":1,"ynh.fr":1,"nohost.me":1,"noho.st":1,"za.net":1,"za.org":1,"bss.design":1,"basicserver.io":1,"virtualserver.io":1,"enterprisecloud.nu":1}},"./core/data/resources.js":(f,d)=>{d.resources={"blank-text":"data:text/plain,","blank-css":"data:text/css,","blank-js":"data:application/javascript,","blank-html":"data:text/html,<!DOCTYPE html><html><head></head><body></body></html>","blank-mp3":"data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjIwLjEwMAAAAAAAAAAAAAAA//tUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAGAAADAABgYGBgYGBgYGBgYGBgYGBggICAgICAgICAgICAgICAgICgoKCgoKCgoKCgoKCgoKCgwMDAwMDAwMDAwMDAwMDAwMDg4ODg4ODg4ODg4ODg4ODg4P////////////////////8AAAAATGF2YzU4LjM1AAAAAAAAAAAAAAAAJAYAAAAAAAAAAwDVxttG//sUZAAP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAETEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZB4P8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZDwP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZFoP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZHgP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZJYP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","blank-mp4":"data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAAuJtZGF0AAACrwYF//+r3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE2MCByMzAxMU0gY2RlOWE5MyAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjAgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MCB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz0yIGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yNSBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAACNliIQAK//+9dvzLK5umjbe9jc2CT9EPcfnoOYC2tjtP+go4QAAAwRtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAAKAABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACLnRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAZAAAADgAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAACgAAAAAAAEAAAAAAaZtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAADIAAAACAFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAFRbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABEXN0YmwAAACtc3RzZAAAAAAAAAABAAAAnWF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAZAA4AEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAA3YXZjQwFkAAr/4QAaZ2QACvNlHJ42JwEQAAADABAAAAMDIPEiWWABAAZo6+PLIsD8+PgAAAAAEHBhc3AAAAABAAAAAQAAABhzdHRzAAAAAAAAAAEAAAABAAACAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAALaAAAAAQAAABRzdGNvAAAAAAAAAAEAAAAwAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1OC40NS4xMDA=","1x1-transparent-gif":"data:image/gif;base64,R0lGODlhAQABAIABAAAAAP///yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==","2x2-transparent-png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAYAAABytg0kAAAAC0lEQVQI12NgQAcAABIAAe+JVKQAAAAASUVORK5CYII=","3x2-transparent-png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAACCAYAAACddGYaAAAAC0lEQVQI12NgwAUAABoAASRETuUAAAAASUVORK5CYII=","32x32-transparent-png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGklEQVRYw+3BAQEAAACCIP+vbkhAAQAAAO8GECAAAZf3V9cAAAAASUVORK5CYII="}},"./core/lib/analytics.js":(f,d,u)=>{const{Prefs:h}=u("./sdk/background/prefs.js"),{MILLIS_IN_DAY:y}=u("./core/lib/time.js");function b(T){if(T=="0")return new Date(0);let I=T.substring(0,4),S=T.substring(4,6),G=T.substring(6,8),D=T.substring(8,10)||"00",X=T.substring(10,12)||"00";return new Date(`${I}-${S}-${G}T${D}:${X}Z`)}function x(T,I){let S=T.endsWith("-E");S&&(T=T.slice(0,-2));try{let G=b(T),D=b(I);D-G>365*y?T=T.substring(0,4):D-G>30*y?T=T.substring(0,6):T=T.substring(0,8)}catch{return null}return S&&(T+="-E"),T}function A(){return!("data"in h.notificationdata)}class j{constructor(){}isTrusted(I){let{trustedHosts:S}=h.analytics||{};if(Array.isArray(S))try{return S.includes(new URL(I).host)}catch{}return!1}getFirstVersion(){let{analytics:I}=h;if(I){let{firstVersion:S="0",currentVersion:G="0"}=I.data||{},D=x(S,G);if(D)return D=="0"&&!A()&&(D="0-E"),D}return null}recordVersion(I){if(!/^(\d{8}|\d{10}|\d{12})$/.test(I))return;let{analytics:S}=h;if(S){S.data||(S.data={});let{data:G}=S;G.currentVersion=I,typeof G.firstVersion>"u"&&(A()||(I+="-E"),G.firstVersion=I),h.analytics=JSON.parse(JSON.stringify(S))}}}d.analytics=new j},"./core/lib/caching.js":(f,d)=>{d.Cache=class extends Map{constructor(h){if(!(h>=1))throw new Error("capacity must be a positive number.");super(),this._capacity=h}set(h,y){if(typeof h>"u")throw new Error("key must not be undefined.");if(typeof y>"u")throw new Error("value must not be undefined.");this.size==this._capacity&&!this.has(h)&&this.clear(),super.set(h,y)}}},"./core/lib/contentTypes.js":(f,d)=>{let u=d.contentTypes={OTHER:1,SCRIPT:2,IMAGE:4,STYLESHEET:8,OBJECT:16,SUBDOCUMENT:32,WEBSOCKET:128,WEBRTC:256,WEBBUNDLE:512,PING:1024,XMLHTTPREQUEST:2048,MEDIA:16384,FONT:32768,POPUP:16777216,CSP:33554432,HEADER:67108864,DOCUMENT:134217728,GENERICBLOCK:268435456,ELEMHIDE:536870912,GENERICHIDE:1073741824};u.BACKGROUND=u.IMAGE,u.XBL=u.OTHER,u.DTD=u.OTHER;const y=~(d.RESOURCE_TYPES=(1<<24)-1)&(1<<31)-1;d.SPECIAL_TYPES=y;const b=u.HEADER|u.CSP;d.CONTEXT_TYPES=b,d.ALLOWING_TYPES=u.DOCUMENT|u.GENERICBLOCK|u.ELEMHIDE|u.GENERICHIDE,d.enumerateTypes=function*(A,j=-1){for(let T=A&j,I=0;T!=0;T>>>=1,I++)T&1&&(yield 1<<I>>>0)}},"./core/lib/date.js":(f,d)=>{const u=d.toLocalISODateString=function(h){let y=String(h.getFullYear()).padStart(4,"0"),b=String(h.getMonth()+1).padStart(2,"0"),x=String(h.getDate()).padStart(2,"0");return`${y}-${b}-${x}`};d.toLocalISODateStringWithCutoffTime=function(h,y){let b=h.getHours()*60+h.getMinutes(),x=h;return b<y&&x.setDate(x.getDate()-1),u(x)}},"./core/lib/dnr/index.js":(f,d,u)=>{const{Pattern:h}=u("./core/lib/patterns.js"),{parseDomains:y,hasWildcard:b}=u("./core/lib/url.js"),{contentTypes:x,RESOURCE_TYPES:A}=u("./core/lib/contentTypes.js"),{generateCSPRules:j,generateAllowingRules:T,generateRedirectRules:I,generateBlockingRules:S,validateRule:G}=u("./core/lib/dnr/rules.js"),{parse:D,FilterParsingError:X}=u("./core/lib/filters/index.js");d.createConverter=V=>L.bind({...V,isRegexSupported:V.isRegexSupported||(()=>!1),modifyRule:V.modifyRule||((P,R)=>P)});async function L(V){const P=D(V);return P instanceof X?P:await F.call(this,P)}async function F(V){let{blocking:P,text:R,regexpSource:N,contentType:E,matchCase:O,domains:B,thirdParty:M,sitekeys:U,header:Y,rewrite:$,csp:ee}=V;if(U||Y)return new X("filter_unknown_option",{option:U?"sitekey":"header",text:R});try{const ae=new h(N,O);let{pattern:re}=ae,J=!0,ue;if(O=ae.matchCase,re){let oe=/^(\|\||[a-zA-Z]*:\/\/)([^*^?/|]*)(.*)$/.exec(re);oe&&(ue=oe[2].toLowerCase(),re=oe[1]+ue+oe[3]),re.startsWith("||*")&&(re=re.substr(2))}else ae.regexp&&(J=await this.isRegexSupported({regex:ae.regexp.source,isCaseSensitive:O}));if(!J)return new X("filter_invalid_regexp",{regexp:ae.regexp.source,text:R});const Q={blocking:P,regexp:ae.regexp,contentType:E||A,thirdParty:M,rewrite:$,csp:ee,domains:B===null?null:y(B.toLowerCase(),"|")};if(Q.domains){for(let oe of Q.domains.keys())if(b(oe))return[]}let be;E&x.CSP?be=j(Q,re,O):P?$?be=I(Q,re,O):be=S(Q,re,O):be=T(Q,re,O);let Re={text:V.text};return be.map(oe=>this.modifyRule(oe,Re)).map(G)}catch{return new X("filter_invalid_regexp",{regexp:N,text:R})}}d.asDNR=F},"./core/lib/dnr/mapper.js":(f,d)=>{d.DnrMapper=class{constructor(h){this.loader=h,this.map=null}async _loadMapper(){this.map=new Map(await this.loader())}async load(){this.map===null&&await this._loadMapper()}get(h){if(this.map===null)throw new Error("Mapper not loaded.");return this.map.get(h)}}},"./core/lib/dnr/rules.js":(f,d,u)=>{const{contentTypes:h}=u("./core/lib/contentTypes.js"),{resources:y}=u("./core/data/resources.js"),b=1e3;d.GENERIC_PRIORITY=b;const x=1001;d.GENERIC_ALLOW_ALL_PRIORITY=x;const A=2e3;d.SPECIFIC_PRIORITY=A;const j=2001;d.SPECIFIC_ALLOW_ALL_PRIORITY=j;const T=new Map([[h.OTHER,["other","csp_report"]],[h.SCRIPT,["script"]],[h.IMAGE,["image"]],[h.STYLESHEET,["stylesheet"]],[h.OBJECT,["object"]],[h.SUBDOCUMENT,["sub_frame"]],[h.WEBSOCKET,["websocket"]],[h.WEBBUNDLE,["webbundle"]],[h.PING,["ping"]],[h.XMLHTTPREQUEST,["xmlhttprequest"]],[h.MEDIA,["media"]],[h.FONT,["font"]]]);d.requestTypes=T;const I=Array.from(T.keys()).reduce((V,P)=>V|P);d.supportedRequestTypes=I;function S(V){if((V&I)==I)return;let P=[];for(let[R,N]of T)V&R&&(P=P.concat(N));return P}function G(V){let P=[],R=[],N=!0;if(V)for(let[E,O]of V)E==""?N=O:(O?P:R).push(E);return{domains:P,excludedDomains:R,isGenericFilter:N}}function D(V,P,R,N){let E={};P?E.urlFilter=P:V.regexp&&(E.regexFilter=V.regexp.source),N&&(E.isUrlFilterCaseSensitive=N),V.thirdParty!=null&&(E.domainType=V.thirdParty?"thirdParty":"firstParty");let{domains:O,excludedDomains:B,isGenericFilter:M}=G(V.domains),U=[];if(R&&(O.length||B.length)){let Y=R.filter(ee=>ee=="main_frame"),$=R.filter(ee=>ee!="main_frame");if(Y.length){let ee={resourceTypes:Y,...E};O.length&&(ee.requestDomains=O),B.length&&(ee.excludedRequestDomains=B),U.push(ee)}if($.length){let ee={resourceTypes:$,...E};O.length&&(ee.initiatorDomains=O),B.length&&(ee.excludedInitiatorDomains=B),U.push(ee)}}else{let Y={...E};R&&(Y.resourceTypes=R),O.length&&(Y.initiatorDomains=O),B.length&&(Y.excludedInitiatorDomains=B),U.push(Y)}return{conditions:U,isGenericFilter:M}}d.generateRedirectRules=function(V,P,R){let N=y[V.rewrite];if(!N)return[];let E=S(V.contentType);if(E&&E.length==0)return[];let{conditions:O,isGenericFilter:B}=D(V,P,E,R);return O.map(M=>({priority:B?b:A,condition:M,action:{type:"redirect",redirect:{url:N}}}))},d.generateCSPRules=function(V,P,R){let{conditions:N,isGenericFilter:E}=D(V,P,["main_frame","sub_frame"],R),O;return V.blocking?O=N.map(B=>({action:{type:"modifyHeaders",responseHeaders:[{header:"Content-Security-Policy",operation:"append",value:V.csp}]},condition:B,priority:E?b:A})):O=N.map(B=>({action:{type:"allow"},condition:B,priority:V.contentType&h.GENERICBLOCK?b:A})),O},d.generateBlockingRules=function(V,P,R){let N=S(V.contentType);if(N&&N.length==0)return[];let{conditions:E,isGenericFilter:O}=D(V,P,N,R);return E.map(B=>({priority:O?b:A,condition:B,action:{type:"block"}}))},d.generateAllowingRules=function(V,P,R){let N=[],{contentType:E}=V,O=E&h.GENERICBLOCK;if(E&h.DOCUMENT||O){E&=~h.SUBDOCUMENT;let{conditions:M}=D(V,P,["main_frame","sub_frame"],R);for(let U of M)N.push({priority:O?x:j,condition:U,action:{type:"allowAllRequests"}})}let B=S(E);if(!B||B.length){let{conditions:M}=D(V,P,B,R);for(let U of M)N.push({priority:O?b:A,condition:U,action:{type:"allow"}})}return N};function X(V){if(!/^[\x00-\x7F]*$/.test(V))throw new Error(`Invalid ASCII characters found in: "${V}"`)}d.validateIsAsciiOnly=X;function L(V){if(V)for(let P of V)X(P)}function F(V){V.urlFilter&&X(V.urlFilter),V.regexFilter&&X(V.regexFilter),L(V.initiatorDomains),L(V.requestDomains),L(V.domains),L(V.excludedDomains),L(V.excludedInitiatorDomains),L(V.excludedRequestDomains)}d.validateRule=function(V){try{return F(V.condition),V}catch(P){return P}}},"./core/lib/downloader.js":(f,d,u)=>{const{MILLIS_IN_DAY:h}=u("./core/lib/time.js"),{isLocalhost:y}=u("./core/lib/url.js");d.Downloader=class E0{constructor(x){this.maxAbsenceInterval=1*h,this.minRetryInterval=1*h,this.maxExpirationInterval=14*h,this.maxRedirects=5,this.onExpirationChange=null,this.onDownloadStarted=null,this.onDownloadSuccess=null,this.onDownloadError=null,this.dataSource=x,this._downloading=new Set,this._timeout=0}scheduleChecks(x,A){this.unscheduleChecks();let j=()=>{try{this._doCheck()}finally{this._timeout=setTimeout(j,x)}};this._timeout=setTimeout(j,A)}unscheduleChecks(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0)}_doCheck(){let x=Date.now();for(let A of this.dataSource())A.lastCheck&&x-A.lastCheck>this.maxAbsenceInterval&&(A.softExpiration+=x-A.lastCheck),A.lastCheck=x,A.hardExpiration-x>this.maxExpirationInterval&&(A.hardExpiration=x+this.maxExpirationInterval),A.softExpiration-x>this.maxExpirationInterval&&(A.softExpiration=x+this.maxExpirationInterval),this.onExpirationChange&&this.onExpirationChange(A),!(A.softExpiration>x&&A.hardExpiration>x)&&(A.lastError&&x-A.lastError<this.minRetryInterval||this._download(A,0))}isDownloading(x){return this._downloading.has(x)}download(x){this._download(x,0)}getDownloadUrl(x){const{addonName:A,addonVersion:j,application:T,applicationVersion:I,platform:S,platformVersion:G,manifestVersion:D}=u("./sdk/background/info.js");let X=x.redirectURL||x.url;X.includes("?")?X+="&":X+="?";let{downloadCount:L,disabled:F}=x;return L>4&&(L="4+"),typeof F>"u"&&(F=!1),X+="addonName="+encodeURIComponent(A)+"&addonVersion="+encodeURIComponent(j)+"&application="+encodeURIComponent(T)+"&applicationVersion="+encodeURIComponent(I)+"&platform="+encodeURIComponent(S)+"&platformVersion="+encodeURIComponent(G)+"&lastVersion="+encodeURIComponent(x.lastVersion)+"&downloadCount="+encodeURIComponent(L)+"&disabled="+String(F)+"&manifestVersion="+encodeURIComponent(D),x.firstVersion&&!x.redirectURL&&(X+="&firstVersion="+encodeURIComponent(x.firstVersion)),X}_download(x,A){if(this.isDownloading(x.originalUrl||x.url))return;let j=this.getDownloadUrl(x),T=0,I=L=>{if(console.warn("Adblock Plus: Downloading URL "+x.url+" failed ("+L+`)
Download address: `+j+`
Server response: `+T),this.onDownloadError){let F=null;A<=this.maxRedirects&&(F=V=>{x.redirectURL=V,this._download(x,A+1)}),this.onDownloadError(x,j,L,T,F)}};if(!E0.isValidURL(j)){I("synchronize_invalid_url");return}let S=new URL(j),G={cache:"no-store",credentials:"omit",referrer:"no-referrer",method:x.method},D=()=>{this._downloading.delete(x.originalUrl||x.url),I("synchronize_connection_error")},X=L=>{if(this._downloading.delete(x.originalUrl||x.url),typeof L.url=="string"&&S.protocol=="https:"&&new URL(L.url).protocol!=S.protocol){I("synchronize_connection_error");return}if(T=L.status,T!=200){(function(V){let P=new Date(V),N=new Date-P;const E=6*7*24*60*60*1e3;return N>E})(x.lastModified)?I("synchronize_diff_too_old"):I("synchronize_connection_error");return}if(x.method==="HEAD"||x.originalUrl){let F=L.headers.get("Date")||L.headers.get("date");F&&(x.lastVersion=new Date(F).toISOString().replace(/\D/g,"").slice(0,12))}x.disabled||x.downloadCount++,L.text().then(F=>{this.onDownloadSuccess(x,F,I,V=>{if(A>=this.maxRedirects){I("synchronize_connection_error");return}x.redirectURL=V,this._download(x,A+1)})},()=>{I("synchronize_connection_error")})};fetch(S.href,G).then(X,D),this._downloading.add(x.originalUrl||x.url),this.onDownloadStarted&&this.onDownloadStarted(x)}processExpirationInterval(x){x=Math.min(Math.max(x,0),this.maxExpirationInterval);let A=Math.round(x*(Math.random()*.4+.8)),j=x*2,T=Date.now();return[T+A,T+j]}},d.Downloader.isValidURL=function(x){try{x=new URL(x)}catch{return!1}return!(!["https:","data:"].includes(x.protocol)&&!y(x.hostname))},d.Downloadable=class{constructor(x){this.redirectURL=null,this.lastError=0,this.lastCheck=0,this.lastVersion=0,this.firstVersion=null,this.softExpiration=0,this.hardExpiration=0,this.downloadCount=0,this.method="GET",this.url=x,this.originalUrl=null}}},"./core/lib/elemHide.js":(f,d,u)=>{const{domainSuffixes:h,hasWildcard:y,matchesWildcards:b}=u("./core/lib/url.js"),{FiltersByDomain:x,FilterMap:A}=u("./core/lib/filtersByDomain.js"),{Cache:j}=u("./core/lib/caching.js"),{ElemHideExceptions:T}=u("./core/lib/elemHideExceptions.js");class I{constructor(L){if(!(L instanceof T))throw new Error("elemHideExceptions must be an ElemHideExceptions");this.elemHideExceptions=L,this._filtersByDomain=new x,this._filterBySelector=new Map,this._unconditionalSelectors=null,this._defaultStyleSheet=null,this._commonStyleSheet=null,this._styleSheetCache=new j(100),this._filters=new Set,this._exceptionDomains=new Set,this._exceptionDomainsWithWildcards=new Set,this.elemHideExceptions.on("added",this._onExceptionAdded.bind(this))}clear(){this._commonStyleSheet=null;for(let L of[this._styleSheetCache,this._filtersByDomain,this._filterBySelector,this._filters,this._exceptionDomains,this._exceptionDomainsWithWildcards])L.clear();this._unconditionalSelectors=null,this._defaultStyleSheet=null}add(L){if(this._filters.has(L))return;this._styleSheetCache.clear(),this._commonStyleSheet=null;let{domains:F,selector:V}=L;F||this.elemHideExceptions.hasExceptions(V)?this._filtersByDomain.add(L,F):(this._filterBySelector.set(V,L),this._unconditionalSelectors=null,this._defaultStyleSheet=null),this._filters.add(L)}remove(L){if(!this._filters.has(L))return;this._styleSheetCache.clear(),this._commonStyleSheet=null;let{selector:F}=L;this._filterBySelector.get(F)==L?(this._filterBySelector.delete(F),this._unconditionalSelectors=null,this._defaultStyleSheet=null):this._filtersByDomain.remove(L),this._filters.delete(L)}has(L){return this._filters.has(L)}getStyleSheet(L,F=!1,V=!1){let P=null,R=null,N=null;if(F){if(V){let E=this._getConditionalSelectorsWithExceptions(L,!0);R=E.selectors,N=E.exceptions}else R=this._getConditionalSelectors(L,!0);P=D(R)}else{let E=this._getKnownSuffix(L),O=this._getConditionalSelectorsWithExceptions(E,!1);R=O.selectors,N=O.exceptions,P=E==""?this._getCommonStyleSheet():this._getDefaultStyleSheet()+D(R),R=this._getUnconditionalSelectors().concat(R)}return{code:P,selectors:R,exceptions:V?N:null}}_getKnownSuffix(L){for(let F of h(L)){if(this._filtersByDomain.has(F)||this._exceptionDomains.has(F))return F;for(let V of this._exceptionDomainsWithWildcards)if(b(F,V))return F}return""}_getUnconditionalSelectors(){return this._unconditionalSelectors||(this._unconditionalSelectors=[...this._filterBySelector.keys()]),this._unconditionalSelectors}_getConditionalSelectors(L,F){let V=[],P=new Set;for(let R of h(L,!F)){let N=this._filtersByDomain.get(R);if(N)for(let[E,O]of N instanceof A?N.entries():[[N,!0]])if(!O)P.add(E);else{let{selector:B}=E;(P.size==0||!P.has(E))&&!this.elemHideExceptions.getException(B,L)&&V.push(B)}}return V}_getConditionalSelectorsWithExceptions(L,F){let V=[],P=[],R=new Set;for(let N of h(L,!F)){let E=this._filtersByDomain.get(N);if(E){for(let[O,B]of E instanceof A?E.entries():[[E,!0]])if(!B)R.add(O);else if(R.size==0||!R.has(O)){let{selector:M}=O,U=this.elemHideExceptions.getException(M,L);U?P.push(U):V.push(M)}}}return{selectors:V,exceptions:P}}_getDefaultStyleSheet(){return this._defaultStyleSheet||(this._defaultStyleSheet=D(this._getUnconditionalSelectors())),this._defaultStyleSheet}_getCommonStyleSheet(){return this._commonStyleSheet||(this._commonStyleSheet=this._getDefaultStyleSheet()+D(this._getConditionalSelectors("",!1))),this._commonStyleSheet}_getDomainSpecificStyleSheet(L){let F=this._styleSheetCache.get(L);return typeof F>"u"&&(F=D(this._getConditionalSelectors(L,!1)),this._styleSheetCache.set(L,F)),F}_onExceptionAdded(L){let{domains:F,selector:V}=L;if(this._styleSheetCache.clear(),this._commonStyleSheet=null,F)for(let R of F.keys())R!=""&&(y(R)?this._exceptionDomainsWithWildcards.add(R):this._exceptionDomains.add(R));let P=this._filterBySelector.get(V);P&&(this._filtersByDomain.add(P),this._filterBySelector.delete(V),this._unconditionalSelectors=null,this._defaultStyleSheet=null)}}d.ElemHide=I,d.rulesFromStyleSheet=function*(L){let F=0;for(;F<L.length;){let V=L.indexOf(`
`,F);yield L.substring(F,V),F=V+1}};function S(X){return X.replace(/[{}]/g,L=>`\\${L.charCodeAt().toString(16)} `)}function G(X,L="{display: none !important;}"){return`${S(X)} ${L}
`}let D=d.createStyleSheet=function(L,F){let V="";for(let P of L)V+=G(P,F);return V}},"./core/lib/elemHideEmulation.js":(f,d,u)=>{const{ElemHideExceptions:h}=u("./core/lib/elemHideExceptions.js");class y extends Set{constructor(x){if(super(),!(x instanceof h))throw new Error("elemHideExceptions must be an ElemHideExceptions");this.elemHideExceptions=x}remove(x){this.delete(x)}getFilters(x){let A=[];for(let j of this)j.isActiveOnDomain(x)&&!this.elemHideExceptions.getException(j.selector,x)&&A.push(j);return A}getRulesForDomain(x){return this.getFilters(x)}}d.ElemHideEmulation=y},"./core/lib/elemHideExceptions.js":(f,d,u)=>{const{EventEmitter:h}=u("./core/lib/events.js");class y extends h{constructor(){super(),this._exceptionsBySelector=new Map,this._exceptions=new Set}clear(){this._exceptionsBySelector.clear(),this._exceptions.clear()}add(x){if(this._exceptions.has(x))return;let{selector:A}=x,j=this._exceptionsBySelector.get(A);j?j.add(x):this._exceptionsBySelector.set(A,new Set([x])),this._exceptions.add(x),this.emit("added",x)}remove(x){if(!this._exceptions.has(x))return;let{selector:A}=x,j=this._exceptionsBySelector.get(A);j.delete(x),j.size==0&&this._exceptionsBySelector.delete(A),this._exceptions.delete(x),this.emit("removed",x)}has(x){return this._exceptions.has(x)}hasExceptions(x){return this._exceptionsBySelector.has(x)}getException(x,A){let j=this._exceptionsBySelector.get(x);if(j){for(let T of j)if(T.isActiveOnDomain(A))return T}return null}}d.ElemHideExceptions=y},"./core/lib/events.js":(f,d)=>{d.EventEmitter=class{constructor(){this._listeners=new Map}on(h,y){let b=this._listeners.get(h);b?b.push(y):this._listeners.set(h,[y])}off(h,y){let b=this._listeners.get(h);if(b)if(b.length>1){let x=b.indexOf(y);x!=-1&&b.splice(x,1)}else b[0]===y&&this._listeners.delete(h)}listeners(h){let y=this._listeners.size>0?this._listeners.get(h):null;return y?y.slice():[]}hasListeners(h){return this._listeners.size>0&&(typeof h>"u"||this._listeners.has(h))}emit(h,...y){let b=this._listeners.size>0?this._listeners.get(h):null;if(b)for(let x of b.slice())x(...y)}}},"./core/lib/features.js":(f,d)=>{d.Features={DEFAULT:0,DNR:1};let u={};(d.resetFeatureFlags=function(){u.example=!1,u.inlineCss=!1,u.eyeometryUcid=!1,u.cdpPhase3=!1,u.debugCdp=!1})(),d.setFeatureFlags=function(y){let b=[];for(let x in y)Object.hasOwnProperty.call(u,x)?u[x]=y[x]:b.push(x);if(b.length>0)throw new Error(`Unknown feature flags: ${b.join(", ")}`)},d.isFeatureEnabled=function(y){if(typeof u[y]>"u")throw new Error(`Unknown feature flag: ${y}`);return u[y]}},"./core/lib/filterClasses.js":(f,d,u)=>{const{contentTypes:h,RESOURCE_TYPES:y,CONTEXT_TYPES:b}=u("./core/lib/contentTypes.js"),{CONTENT_FILTER:x,parse:A,FilterParsingError:j}=u("./core/lib/filters/index.js"),{Pattern:T}=u("./core/lib/patterns.js"),{parseDomains:I,domainSuffixes:S,isValidDomainWildcard:G,hasWildcard:D,matchesWildcards:X}=u("./core/lib/url.js"),{isFeatureEnabled:L}=u("./core/lib/features.js"),{verifyCSSProperties:F}=u("./core/lib/filters/inlineCssValidation.js"),{resources:V}=u("./core/data/resources.js"),P=3;let R=null,N=new Map(Object.keys(V).map(me=>[me,V[me]])),E=d.isActiveFilter=function(se){return se instanceof $},O=d.Filter=class{constructor(se){this.text=se}static useFilterState(se){R=se}get type(){throw new Error("Please define filter type in the subclass")}get requiresPrivilegedSubscription(){return!1}*serialize(){let{text:se}=this;yield"[Filter]",yield"text="+se}toString(){return this.text}},B=new Map;d.Filter.fromText=function(me){let se=B.get(me);if(se)return se;if(me.length===0)se=new U(me,"filter_empty");else if(me[0]=="!")se=new Y(me);else{let Ae=me.includes("#")?x.exec(me):null;Ae?se=J.fromText(me,Ae[1],Ae[2],Ae[3]):se=ee.fromText(me)}if(se.domains)for(let Ae of se.domains.keys())Ae!=""&&(G(Ae)||(se=new U(me,"filter_invalid_wildcard")));return se.type!=="invalid"&&B.set(se.text,se),se},d.Filter.fromObject=function(me){let se=O.fromText(me.text);return E(se)&&R&&R.fromObject(se.text,me),se};let{normalize:M}=u("./core/lib/filters/index.js");d.Filter.normalize=M;let U=d.InvalidFilter=class extends O{constructor(se,Ae,Le=null){super(se),this.reason=Ae,this.option=Le}get type(){return"invalid"}*serialize(){}},Y=d.CommentFilter=class extends O{constructor(se){super(se)}get type(){return"comment"}*serialize(){}},$=d.ActiveFilter=class extends O{constructor(se,Ae){super(se),this.domainSource=Ae||null,this._domains=Ae?void 0:null}get size(){return 1}*serialize(){R&&(yield*R.serialize(this.text))}get disabled(){return R&&!R.isEnabled(this.text)}set disabled(se){R&&R.setEnabled(this.text,!se)}get disabledSubscriptions(){return R?R.disabledSubscriptions(this.text):new Set}isDisabledForSubscription(se){return R&&R.isDisabledForSubscription(this.text,se)}setDisabledForSubscription(se,Ae){R&&R.setDisabledForSubscription(this.text,se,Ae)}get domainSeparator(){return","}get hitCount(){return R?R.getHitCount(this.text):0}set hitCount(se){R&&R.setHitCount(this.text,se)}get lastHit(){return R?R.getLastHit(this.text):0}set lastHit(se){R&&R.setLastHit(this.text,se)}get domains(){if(typeof this._domains>"u"){let{domainSource:se,domainSeparator:Ae}=this;this._domains=I(se.toLowerCase(),Ae)}return this._domains}get sitekeys(){return null}get sitekeySource(){return null}isActiveOnDomain(se,Ae){if(this.sitekeys&&(!Ae||!this.sitekeys.includes(Ae)))return!1;let{domains:Le}=this;if(!Le)return!0;if(se==null?se="":se[se.length-1]=="."&&(se=se.substring(0,se.length-1)),!se)return Le.get("");for(se of S(se)){let ve=Le.get(se);if(typeof ve<"u")return ve;for(let[Ie,Ue]of Le.entries())if(D(Ie)&&X(se,Ie))return Ue}return Le.get("")}isActiveOnlyOnDomain(se){let{domains:Ae}=this;if(!Ae||Ae.get("")||(se==null?se="":se[se.length-1]=="."&&(se=se.substring(0,se.length-1)),!se))return!1;for(let[Le,ve]of Ae)if(ve&&Le!=se&&(Le.length<=se.length||!Le.endsWith("."+se)))return!1;return!0}isGeneric(){let{sitekeys:se,domains:Ae}=this;return!(se&&se.length)&&(!Ae||Ae.get(""))}*[Symbol.iterator](){yield this}},ee=d.URLFilter=class extends ${constructor(se,Ae,Le,ve,Ie,Ue,tt,Be,Ne){super(se,Ie),this._sitekeySource=tt??null,this._sitekeys=tt==null?null:void 0,this.contentType=Le??y,this.thirdParty=Ue??null,this.header=Be??null,this.rewrite=Ne??null,this.urlPattern=new T(Ae,ve)}get pattern(){return this.urlPattern.pattern}get regexp(){return this.urlPattern.regexp}get matchCase(){return this.urlPattern.matchCase}get domainSeparator(){return"|"}get sitekeys(){return typeof this._sitekeys>"u"&&(this._sitekeys=this._sitekeySource.split("|")),this._sitekeys}get sitekeySource(){return this._sitekeySource}matches(se,Ae,Le){let ve=Ae&b,Ie=Ae&~b;return(this.contentType&Ie)!=0&&(ve==0?(this.contentType&b)==0:(this.contentType&ve)!=0)&&(this.thirdParty==null||this.thirdParty==se.thirdParty)&&(this.urlPattern.regexp?this.isActiveOnDomain(se.documentHostname,Le)&&this.urlPattern.matchesLocation(se):this.urlPattern.matchesLocation(se)&&this.isActiveOnDomain(se.documentHostname,Le))}};d.URLFilter.fromText=function(me){let se=A(me);if(se instanceof j){let fe=null;return se.message=="filter_unknown_option"&&se.detail&&(fe=se.detail.option),new U(me,se.message,fe)}let{blocking:Ae,text:Le,regexpSource:ve,contentType:Ie,matchCase:Ue,domains:tt,thirdParty:Be,sitekeys:Ne,header:Ze,rewrite:ot,csp:It}=se;try{return Ae?new ae(Le,ve,Ie,Ue,tt,Be,Ne,Ze,ot,It):new re(Le,ve,Ie,Ue,tt,Be,Ne,Ze)}catch{return new U(me,"filter_invalid_regexp")}},ee.typeMap=h;let ae=d.BlockingFilter=class extends ee{constructor(se,Ae,Le,ve,Ie,Ue,tt,Be,Ne,Ze){super(se,Ae,Le,ve,Ie,Ue,tt,Be,Ne),this.csp=Ze??null}get type(){return"blocking"}get requiresPrivilegedSubscription(){return(this.contentType&h.HEADER)!=0}rewriteUrl(se){return N.get(this.rewrite)||se}filterHeaders(se){if(!this.header)return!0;for(let Ae of se)if(Ae.name.toLowerCase()==this.header.name)if(this.header.value){if(Ae.value.includes(this.header.value))return!0}else return!0;return!1}},re=d.AllowingFilter=class extends ee{get type(){return"allowing"}},J=d.ContentFilter=class extends ${constructor(se,Ae,Le){super(se,Ae||null),this.body=Le}};d.ContentFilter.fromText=function(me,se,Ae,Le){if(se&&/(^|,)~?(,|$)/.test(se))return new U(me,"filter_invalid_domain");let ve=/,[^~][^,.]*\.[^,]/.test(","+se)||(","+se+",").includes(",localhost,");if(Ae=="$"){let Ze=new ge(me,se,Le);return!ve&&!Ze.script.startsWith("hide-if-classifies")?new U(me,"filter_snippet_nodomain"):Ze}let Ie=Le,Ue,tt=null,Be=!1;if(Ie.startsWith("@")&&L("inlineCss"))return new U(me,"filter_elemhide_invalid_selector");let Ne=/^(.*[^ ]) +{([^{]*)}$/.exec(Le);if(Ne&&([,Ie,Ue]=Ne,Ue=Ue.toLowerCase(),Be=Ue.includes("remove:true;"),!Be)){if(!L("inlineCss"))return new U(me,"filter_unknown_option");if(tt=ue(Ue),!F(tt))return new U(me,"filter_elemhide_invalid_inline_css")}return Ae=="?"?ve?new oe(me,se,Ie,Be,tt):new U(me,"filter_elemhideemulation_nodomain"):!ve&&Le.length<P?new U(me,"filter_elemhide_not_specific_enough"):Ae=="@"?new Re(me,se,Ie):Be||tt?new oe(me,se,Ie,Be,tt):new be(me,se,Ie)};function ue(me){const se="!important",Ae=me.split(";");let Le=Object.create(null);for(const ve of Ae){if(!ve)continue;let Ie=ve.indexOf(":"),Ue,tt;Ie<0?(Ue=ve,tt=""):(Ue=ve.substring(0,Ie),tt=ve.substring(Ie+1)),Ue=Ue.trim(),tt=tt.trim(),tt.endsWith(se)&&(tt=tt.substring(0,tt.length-se.length).trimEnd()),Le[Ue]=tt}return Le}let Q=d.ElemHideBase=class extends J{get selector(){return this.body}},be=d.ElemHideFilter=class extends Q{constructor(se,Ae,Le){super(se,Ae,Le)}get type(){return"elemhide"}},Re=d.ElemHideException=class extends Q{constructor(se,Ae,Le){super(se,Ae,Le)}get type(){return"elemhideexception"}},oe=d.ElemHideEmulationFilter=class extends Q{constructor(se,Ae,Le,ve,Ie=null){super(se,Ae,Le),this._remove=ve,this._css=Ie}get type(){return"elemhideemulation"}get remove(){return this._remove}get css(){return this._css}get requiresPrivilegedSubscription(){return this._css}},ge=d.SnippetFilter=class extends J{get type(){return"snippet"}get requiresPrivilegedSubscription(){return!0}get script(){return this.body}}},"./core/lib/filterEngine.js":(f,d,u)=>{u("./core/lib/polyfill.js");const{parseURL:h}=u("./core/lib/url.js"),{Filter:y}=u("./core/lib/filterClasses.js"),{newDefaultMatcher:b}=u("./core/lib/matcher.js"),{ElemHide:x}=u("./core/lib/elemHide.js"),{ElemHideEmulation:A}=u("./core/lib/elemHideEmulation.js"),{ElemHideExceptions:j}=u("./core/lib/elemHideExceptions.js"),{setRecommendations:T}=u("./core/lib/recommendations.js"),{Snippets:I}=u("./core/lib/snippets.js"),{Features:S}=u("./core/lib/features.js");class G{constructor(X){this.features=X?X.features:S.DEFAULT,X&&X.recommendations&&T(X.recommendations),this.elemHideExceptions=new j,this.elemHide=new x(this.elemHideExceptions),this.elemHideEmulation=new A(this.elemHideExceptions),this.snippets=new I,this.defaultMatcher=b(),this._filterListener=null,this._filterStorage=null,this._initializationPromise=null}initialize(X){if(!this._initializationPromise)if(typeof X>"u"){const{FilterStorage:L}=u("./core/lib/filterStorage.js"),{FilterListener:F}=u("./core/lib/filterListener.js");this._filterStorage=new L({features:this.features}),this._filterListener=new F,this._initializationPromise=this._filterListener.initialize(this,this._filterStorage)}else this._initializationPromise=Promise.resolve().then(()=>{for(let L of X)if(L=y.normalize(L,!0),L){let F=y.fromText(L);F.type!=="invalid"&&this.add(F)}});return this._initializationPromise}get filterStorage(){return this._filterStorage}selectModule(X){switch(X){case"blocking":case"allowing":return this.defaultMatcher;case"elemhide":return this.elemHide;case"elemhideemulation":return this.elemHideEmulation;case"elemhideexception":return this.elemHideExceptions;case"snippet":return this.snippets}return null}add(X){let L=this.selectModule(X.type);L&&L.add(X)}remove(X){let L=this.selectModule(X.type);L&&L.remove(X)}has(X){let L=this.selectModule(X.type);return L?L.has(X):!1}clear(){this.defaultMatcher.clear(),this.elemHide.clear(),this.elemHideEmulation.clear(),this.elemHideExceptions.clear(),this.snippets.clear()}match(X,L,F,V=null,P=!1){typeof X=="string"&&(X=h(X));let R=this.defaultMatcher.match(X,L,F,V,P);return R?R.text:null}}d.FilterEngine=G},"./core/lib/filterListener.js":(f,d,u)=>{const{filterNotifier:h}=u("./core/lib/filterNotifier.js"),{isActiveFilter:y,Filter:b}=u("./core/lib/filterClasses.js");function x(I){return I.valid&&!I.disabled}function A(I,S,G,D=null){if(!y(G))return;let X=!1,L=!1,F=G.requiresPrivilegedSubscription;for(let V of D||S.subscriptions(G.text))if(x(V)&&!G.isDisabledForSubscription(V.url)){if(X=!0,!F)break;if(V.privileged){L=!0;break}}X&&(F&&!L||I.add(G))}function j(I,S,G){if(!y(G))return;let D=G.requiresPrivilegedSubscription;for(let X of S.subscriptions(G.text))if(x(X)&&!G.isDisabledForSubscription(X.url)&&(!D||D&&X.privileged))return;I.remove(G)}class T{constructor(){this._engine=null,this._storage=null,this._isDirty=0}async initialize(S,G){if(S==null||typeof S!="object")throw new Error("engine must be a non-null object.");if(G==null||typeof G!="object")throw new Error("filterStorage must be a non-null object.");if(this._engine!=null||this._storage!=null)throw new Error("Filter listener already initialized.");this._engine=S,this._storage=G,await G.loadFromDisk();let D=Promise.resolve();for(let X of G.subscriptions())x(X)&&await D.then(()=>{for(let L of X.filterText())A(this._engine,G,b.fromText(L),[X])});h.on("filter.added",this._onFilterAdded.bind(this)),h.on("filter.removed",this._onFilterRemoved.bind(this)),h.on("filter.moved",this._onGenericChange.bind(this)),h.on("filterState.enabled",this._onFilterStateEnabled.bind(this)),h.on("filterState.disabledSubscriptions",this._onFilterStateEnabled.bind(this)),h.on("filterState.hitCount",this._onFilterStateHitCount.bind(this)),h.on("filterState.lastHit",this._onFilterStateLastHit.bind(this)),h.on("subscription.added",this._onSubscriptionAdded.bind(this)),h.on("subscription.removed",this._onSubscriptionRemoved.bind(this)),h.on("subscription.disabled",this._onSubscriptionDisabled.bind(this)),h.on("subscription.updated",this._onSubscriptionUpdated.bind(this)),h.on("subscription.title",this._onGenericChange.bind(this)),h.on("subscription.fixedTitle",this._onGenericChange.bind(this)),h.on("subscription.homepage",this._onGenericChange.bind(this)),h.on("subscription.downloadStatus",this._onGenericChange.bind(this)),h.on("subscription.lastCheck",this._onGenericChange.bind(this)),h.on("subscription.errors",this._onGenericChange.bind(this)),h.on("subscription.privileged",this._onGenericChange.bind(this)),h.on("load",this._onLoad.bind(this)),h.on("save",this._onSave.bind(this)),h.emit("ready")}_setDirty(S){S==0&&this._isDirty>0?this._isDirty=1:this._isDirty+=S,this._isDirty>=1&&(this._isDirty=0,this._storage.saveToDisk())}_onSubscriptionAdded(S){if(this._setDirty(1),x(S))for(let G of S.filterText())A(this._engine,this._storage,b.fromText(G),[S])}_onSubscriptionRemoved(S){if(this._setDirty(1),x(S))for(let G of S.filterText())j(this._engine,this._storage,b.fromText(G))}_onSubscriptionDisabled(S,G){if(this._setDirty(1),this._storage.hasSubscription(S))if(G==!1)for(let D of S.filterText())A(this._engine,this._storage,b.fromText(D),[S]);else for(let D of S.filterText())j(this._engine,this._storage,b.fromText(D))}_onSubscriptionUpdated(S,G){if(this._setDirty(1),G&&x(S)&&this._storage.hasSubscription(S)){for(let D of G.removed)j(this._engine,this._storage,b.fromText(D));for(let D of G.added)A(this._engine,this._storage,b.fromText(D),[S])}}_onFilterAdded(S){this._setDirty(1),A(this._engine,this._storage,S)}_onFilterRemoved(S){this._setDirty(1),j(this._engine,this._storage,S)}_onFilterStateEnabled(S,G){this._setDirty(1);let D=b.fromText(S);this._engine.has(D)?j(this._engine,this._storage,D):A(this._engine,this._storage,D)}_onFilterStateHitCount(S,G){G==0?this._setDirty(0):this._setDirty(.002)}_onFilterStateLastHit(){this._setDirty(.002)}_onGenericChange(){this._setDirty(1)}_onLoad(){this._isDirty=0,this._engine.clear();for(let S of this._storage.subscriptions())if(x(S))for(let G of S.filterText())A(this._engine,this._storage,b.fromText(G),[S])}_onSave(){this._isDirty=0}}d.FilterListener=T},"./core/lib/filterNotifier.js":(f,d,u)=>{const{EventEmitter:h}=u("./core/lib/events.js");d.filterNotifier=new h},"./core/lib/filterState.js":(f,d,u)=>{const{filterNotifier:h}=u("./core/lib/filterNotifier.js"),{Filter:y}=u("./core/lib/filterClasses.js");class b{constructor(){this.map=new Map,y.useFilterState(this)}disabledSubscriptions(T){let I=this.map.get(T);return!I||typeof I.disabledSubscriptions!="object"?new Set:I.disabledSubscriptions}resetEnabled(T){this._updateStateObject(T,I=>{I.resetEnabled()})}isDisabledForSubscription(T,I){let S=this.map.get(T);return S?S.isDisabledForSubscription(I):!1}setDisabledForSubscription(T,I,S){this._updateStateObject(T,G=>{G.setDisabledForSubscription(I,S)})}isEnabled(T){let I=this.map.get(T);return I?I.enabled:!0}setEnabled(T,I){this._updateStateObject(T,S=>{S.enabled=I})}toggleEnabled(T){let I=!this.isEnabled(T);this.setEnabled(T,I)}getHitCount(T){let I=this.map.get(T);return I?I.hitCount:0}setHitCount(T,I){this._updateStateObject(T,S=>{S.hitCount=I})}resetHitCount(T){this.setHitCount(T,0)}getLastHit(T){let I=this.map.get(T);return I?I.lastHit:0}setLastHit(T,I){this._updateStateObject(T,S=>{S.lastHit=I})}resetLastHit(T){this.setLastHit(T,0)}registerHit(T){let I=Date.now();this._updateStateObject(T,S=>{S.hitCount++,S.lastHit=I})}resetHits(T){this._updateStateObject(T,I=>{I.hitCount=0,I.lastHit=0})}reset(T){let I=this.map.get(T);I&&(this.map.delete(T),I.enabled!==!0&&h.emit("filterState.enabled",T,!0,I.enabled),I.disabledSubscriptions&&I.disabledSubscriptions.size>0&&h.emit("filterState.disabledSubscriptions",T,new Set,I.disabledSubscriptions),I.hitCount!=0&&h.emit("filterState.hitCount",T,0,I.hitCount),I.lastHit!=0&&h.emit("filterState.lastHit",T,0,I.lastHit))}*serialize(T){let I=this.map.get(T);if(I){if(yield"[Filter]",yield"text="+T,I.disabled)yield"disabled=true";else if(typeof I.disabledSubscriptions=="object")for(let S of I.disabledSubscriptions)yield"disabledSubscriptions[]="+S;I.hitCount!=0&&(yield"hitCount="+I.hitCount),I.lastHit!=0&&(yield"lastHit="+I.lastHit)}}fromObject(T,I){if(!("disabled"in I||"disabledSubscriptions"in I||"hitCount"in I||"lastHit"in I))return;let S=new x;String(I.disabled)=="true"?S.disabled=!0:typeof I.disabledSubscriptions=="object"&&(S.disabledSubscriptions=new Set(I.disabledSubscriptions)),S.hitCount=parseInt(I.hitCount,10)||0,S.lastHit=parseInt(I.lastHit,10)||0,S.isEmpty()||this.map.set(T,S)}_updateStateObject(T,I){let S=this.map.get(T);S||(S=new x,this.map.set(T,S));let G=S.hitCount,D=S.lastHit,X=S.enabled,L=new Set(S.disabledSubscriptions);I(S);let F=S.hitCount,V=S.lastHit,P=S.enabled,R=new Set(S.disabledSubscriptions);S.isEmpty()&&this.map.delete(T),G!==F&&h.emit("filterState.hitCount",T,F,G),D!==V&&h.emit("filterState.lastHit",T,V,D),X!==P&&h.emit("filterState.enabled",T,P,X),A(L,R)||h.emit("filterState.disabledSubscriptions",T,R,L)}}class x{constructor(){this.hitCount=0,this.lastHit=0}isEmpty(){return this.hitCount===0&&this.lastHit===0&&!this.disabled&&!this.disabledSubscriptions}isDisabledForSubscription(T){return this.disabled===!0?!0:this.disabledSubscriptions&&this.disabledSubscriptions.has(T)}setDisabledForSubscription(T,I){delete this.disabled,!(!this.disabledSubscriptions&&!I)&&(this.disabledSubscriptions||(this.disabledSubscriptions=new Set),I?this.disabledSubscriptions.add(T):(this.disabledSubscriptions.delete(T),this.disabledSubscriptions.size===0&&delete this.disabledSubscriptions))}resetEnabled(){delete this.disabled,delete this.disabledSubscriptions}get enabled(){return!this.disabled}set enabled(T){delete this.disabledSubscriptions,this.disabled=!T}}function A(j,T){if(j.size!==T.size)return!1;for(let I of j)if(!T.has(I))return!1;return!0}d.FilterState=b},"./core/lib/filterStorage.js":(f,d,u)=>{const{IO:h}=u("./sdk/background/io.js"),{Prefs:y}=u("./sdk/background/prefs.js"),{isActiveFilter:b}=u("./core/lib/filterClasses.js"),{Subscription:x,SpecialSubscription:A}=u("./core/lib/subscriptionClasses.js"),{filterNotifier:j}=u("./core/lib/filterNotifier.js"),{INIParser:T}=u("./core/lib/iniParser.js"),{FilterState:I}=u("./core/lib/filterState.js"),{Synchronizer:S}=u("./core/lib/synchronizer.js"),{Features:G}=u("./core/lib/features.js");class D extends Error{constructor(E,O){super(E),this.detail=O}}d.FilterStorageError=D;let X=new Map,L=Promise.resolve();const F=5;class V{constructor(E){this.initialized=!1,this.firstRun=!1,this.features=E?E.features:G.DEFAULT,x.dnr=(this.features&G.DNR)!=0,this.fileProperties=Object.create(null),this._knownSubscriptions=new Map,this._metadataSubscriptions=new Map,this._saving=!1,this._initSaving(),this._needsSave=!1,this._stats=X,this.synchronizer=new S(this),this.filterState=new I}_initSaving(){if(this._saving){const E=this;this._savingPromise=new Promise((O,B)=>{E._savingPromiseResolve=O,E._savingPromiseReject=B})}else this._savingPromiseResolve&&this._savingPromiseResolve(),this._savingPromise=null,this._savingPromiseResolve=null,this._savingPromiseReject=null}setSaving(E,O=!1){E!=this._saving&&(this._saving=E,O||this._initSaving())}get formatVersion(){return F}static get sourceFile(){return"patterns.ini"}*subscriptions(E=null){if(E==null)yield*this._knownSubscriptions.values();else for(let O of this._knownSubscriptions.values())O.hasFilterText(E)&&(yield O)}getSubscriptionCount(E=null){if(E==null)return this._knownSubscriptions.size;let O=0;for(let B of this._knownSubscriptions.values())B.hasFilterText(E)&&O++;return O}getGroupForFilter(E){let O=null;for(let B of this._knownSubscriptions.values())if(B instanceof A&&!B.disabled&&!B.metadata){if(B.isDefaultFor(E))return B;!O&&(!B.defaults||!B.defaults.length)&&(O=B)}return O}hasSubscription(E){return typeof E=="string"?this._knownSubscriptions.has(E):this._knownSubscriptions.has(E.url)}getSubscription(E){return this._knownSubscriptions.get(E)}addSubscription(E){this._knownSubscriptions.has(E.url)||(this._knownSubscriptions.set(E.url,E),j.emit("subscription.added",E))}removeSubscription(E){this._knownSubscriptions.has(E.url)&&(this._knownSubscriptions.delete(E.url),this._metadataSubscriptions.delete(E.url),x.knownSubscriptions.delete(E.url),j.emit("subscription.removed",E))}_clear(){this._knownSubscriptions.clear(),this._metadataSubscriptions.clear(),x.knownSubscriptions.clear(),this._stats.clear(),this._saving=!1,this._initSaving(),this._needsSave=!1,this.filterState=new I}updateSubscriptionFilters(E,O){let B=E.updateFilterText(O);j.emit("subscription.updated",E,B)}filterExists(E){for(let O of this._knownSubscriptions.values())if(O instanceof A&&!O.disabled&&O.hasFilterText(E.text))return!0;return!1}async addFiltersWithMetadata(E,O){let M=(Array.isArray(E)?E:[E]).filter(Y=>!this.filterExists(Y));if(M.length==0)return null;let U=null;for(let Y of M)U?U.hasFilterText(Y.text)||U.addFilterText(Y.text):U=A.createForFilter(Y);this._metadataSubscriptions.set(U.url,U),this.addSubscription(U);for(let Y of M)this.filterState.isDisabledForSubscription(Y.text,U.url)&&this.filterState.setDisabledForSubscription(Y.text,U.url,!1);return U.metadata=O,U}async getMetadataForFilter(E){for(let O of this._metadataSubscriptions.values())if(O.hasFilterText(E))return O.metadata;return null}async setMetadataForFilter(E,O){for(let B of this._metadataSubscriptions.values())if(B.hasFilterText(E))return B.metadata=O,B;throw new D("filter_not_found",{text:E})}enableFilter(E,O){this.filterState.isDisabledForSubscription(E,O)&&this.filterState.setDisabledForSubscription(E,O,!1)}async addFilter(E,O,B){if(!O){for(let M of this._knownSubscriptions.values())if(M instanceof A&&!M.disabled&&M.hasFilterText(E.text))return M;O=this.getGroupForFilter(E)}return O?(typeof B>"u"&&(B=O.filterCount),O.insertFilterTextAt(E.text,B),this.enableFilter(E.text,O.url),j.emit("filter.added",E,O,B),O):(O=A.createForFilter(E),this.addSubscription(O),this.enableFilter(E.text,O.url),O)}removeFilter(E,O,B){let M=O?[O]:this._knownSubscriptions.values();for(let U of M)if(U instanceof A&&(U==O||U.hasFilterText(E.text))){let Y=[];if(typeof B>"u"){let $=-1;do $=U.findFilterTextIndex(E.text,$+1),$>=0&&Y.push($);while($>=0)}else Y.push(B);for(let $=Y.length-1;$>=0;$--){let ee=Y[$],ae=U.filterTextAt(ee);ae&&ae==E.text&&(U.deleteFilterAt(ee),j.emit("filter.removed",E,U,ee))}}}moveFilter(E,O,B,M){if(!(O instanceof A))return;let U=O.filterTextAt(B);!U||U!=E.text||(M=Math.min(Math.max(M,0),O.filterCount-1),B!=M&&(O.deleteFilterAt(B),O.insertFilterTextAt(E.text,M),j.emit("filter.moved",E,O,B,M)))}increaseHitCount(E){!y.savestats||!b(E)||this.filterState.registerHit(E.text)}resetHitCounts(E){if(E)for(let O of E)this.filterState.resetHits(O.text);else for(let O of this.filterState.map.keys())this.filterState.resetHits(O)}importData(E){let O=new T(this.filterState);return B=>{if(O.process(B),B===null){let M=new Map,U=new Map;for(let Y of O.subscriptions)Array.isArray(Y.defaults)&&Y.defaults.forEach(($,ee,ae)=>{$=="whitelist"&&(ae[ee]="allowing")}),M.set(Y.url,Y),Y.metadata&&U.set(Y.url,Y);this.fileProperties=O.fileProperties,this._knownSubscriptions=M,this._metadataSubscriptions=U,E||j.emit("load")}}}async loadFromDisk(){let E=async O=>{try{await this.restoreBackup(O,!0)}catch{}};try{if(!(await P(V.sourceFile)).exists){this.firstRun=!0;return}let B=this.importData(!0);await h.readFromFile(V.sourceFile,B),B(null)}catch(O){console.warn(O),await E(1)}this.initialized=!0,j.emit("load")}static getBackupName(E){let[O,B]=V.sourceFile.split(".",2);return O+"-backup"+E+"."+B}async restoreBackup(E,O){let B=V.getBackupName(E),M=this.importData(O);return await h.readFromFile(B,M),M(null),this.saveToDisk()}*exportData(){let E=[];for(let B of this._knownSubscriptions.values())B instanceof A&&B.filterCount==0||E.push(B);yield"# Adblock Plus preferences",yield"version="+this.formatVersion;let O=new Set;for(let B of E)yield*B.serialize(),yield*B.serializeFilters();for(let B of E)for(let M of B.filterText())O.has(M)||(yield*this.filterState.serialize(M),O.add(M))}async saveToDisk(E=!1){if(this._saving){this._needsSave=!0;return}this.setSaving(!0,E);try{let{patternsbackups:O}=y;if(await(async()=>{if(O<=0||!(await P(V.sourceFile)).exists)return!1;let U=await P(V.getBackupName(1));return!(U.exists&&(Date.now()-U.lastModified)/36e5<y.patternsbackupinterval)})())try{let M=O>1?0:1;await R(V.sourceFile,V.getBackupName(M)),O>1&&(L=L.then(()=>new Promise(U=>{let Y=async $=>{if($>0){try{let ee=V.getBackupName($-1),ae=V.getBackupName($);await R(ee,ae)}catch{}Y($-1)}else U()};Y(O)})))}catch(M){console.warn(M)}}catch(O){console.warn(O)}try{await h.writeToFile(V.sourceFile,this.exportData()),X.set(V.sourceFile,{exists:!0,lastModified:Date.now()}),j.emit("save")}catch(O){console.warn(O),X.delete(V.sourceFile)}this.setSaving(!1,this._needsSave),this._needsSave&&(this._needsSave=!1,this.saveToDisk(!0))}async awaitSavingComplete(){this._saving&&await this._savingPromise}async getBackupFiles(){let E=[],O=async B=>{try{let M=await P(V.getBackupName(B));return M.exists?(E.push({index:B,lastModified:M.lastModified}),O(B+1)):E}catch(M){return console.warn(M),E}};return O(1)}clearStats(){this._stats.clear()}}d.FilterStorage=V;async function P(N){let E=X.get(N);if(E)return E;try{E=await h.statFile(N)}catch{E={exists:!1,lastModified:0}}return X.set(N,E),E}async function R(N,E){await h.renameFile(N,E),X.delete(N),X.set(E,{exists:!0,lastModified:Date.now()})}},"./core/lib/filters/index.js":(f,d,u)=>{const{contentTypes:h,RESOURCE_TYPES:y}=u("./core/lib/contentTypes.js"),b=/^([^/|@"!]*?)#([@?$])?#(.+)$/;d.CONTENT_FILTER=b;const x=/\$(~?[\w-]+(?:=[^,]*)?(?:,~?[\w-]+(?:=[^,]*)?)*)$/;d.FILTER_OPTIONS=x;const A=4,j=/(;|^) ?(base-uri|referrer|report-to|report-uri|upgrade-insecure-requests)\b/i;d.INVALID_CSP=j;class T extends Error{constructor(S,G){super(S),this.detail=G}}d.FilterParsingError=T,d.parse=function(S){if(S.length<1)return new T("filter_empty",{text:S});if(S[0]==="!"||b.test(S))return new T("invalid",{text:S});let G=!0,D=S;S.startsWith("@@")&&(G=!1,S=S.substring(2));let X=null,L=null,F=null,V=null,P=null,R=null,N=null,E=null,O,B=S.includes("$")?x.exec(S):null;if(B){S=B.input.substring(0,B.index),O=B[1].split(",");let U=!1,Y=!1;for(let $ of O){let ee=null,ae=$.indexOf("=");ae>=0&&(ee=$.substring(ae+1),$=$.substring(0,ae));let re=$[0]=="~";re&&($=$.substring(1));let J=$.toUpperCase(),ue=h[J.replace(/-/,"_")];if(ue)if(re)X==null&&(X=y),X&=~ue;else if(ue===h.CSP){if(G&&!ee)return new T("filter_invalid_csp",{text:D});U=!0,R=ee}else if(ue===h.HEADER){if(G&&!ee)return new T("filter_invalid_header",{text:D});if(Y=!0,ee){let Q=ee.replace(/([^\\])\\x2c/g,"$1,").replace(/\\\\x2c/g,"\\x2c"),be=Q.indexOf("=");if(be==Q.length-1?E={name:Q.substring(0,be).toLowerCase()}:be>=0?E={name:Q.substring(0,be).toLowerCase(),value:Q.substring(be+1)}:E={name:Q.toLowerCase()},E.name.length==0)return new T("filter_invalid_header",{text:D});if(/^\/[\s\S]*\/$/.test(E.value))return new T("filter_invalid_header",{text:D})}}else X|=ue;else switch(J){case"MATCH-CASE":L=!re;break;case"DOMAIN":if(!ee)return new T("filter_unknown_option",{option:$,text:D});F=ee;break;case"THIRD-PARTY":P=!re;break;case"SITEKEY":if(!ee)return new T("filter_unknown_option",{option:$,text:D});V=ee;break;case"REWRITE":if(ee==null)return new T("filter_unknown_option",{option:$,text:D});if(!ee.startsWith("abp-resource:"))return new T("filter_invalid_rewrite",{text:D});N=ee.substring(13);break;default:return new T("filter_unknown_option",{option:$,text:D})}}(U||Y)&&(X==null&&(X=y),U&&(X|=h.CSP),Y&&(X|=h.HEADER))}if(!V&&!F){let U=A,{length:Y}=S;if(Y>0&&S[0]==="|"&&(U++,Y>1&&S[1]==="|"&&U++),Y<U&&!S.includes("*"))return new T("filter_url_not_specific_enough",{text:D})}else if(F&&/[^\x00-\x7F]/.test(F))return new T("filter_invalid_domain",{text:D});if(G){if(R&&j.test(R))return new T("filter_invalid_csp",{text:D});if(N)if(S.startsWith("||")){if(!F&&P!=!1)return new T("filter_invalid_rewrite",{text:D})}else if(S.startsWith("*")){if(!F)return new T("filter_invalid_rewrite",{text:D})}else return new T("filter_invalid_rewrite",{text:D})}return{blocking:G,text:D,regexpSource:S,contentType:X,matchCase:L,domains:F,thirdParty:P,sitekeys:V,header:E,rewrite:N,csp:R}},d.normalize=function(I,S=!1){if(I==="")return I;I=I.replace(/[^\S ]+/g,"");const G=O=>O.replace(/ +/g,""),D=O=>{if(!O.includes(":"))return"";let[B,M]=O.split(":");return M=M.replace("!important",""),B.trimStart().trimEnd()+":"+M.trimStart().trimEnd()+";"},X=O=>{const B=O.split(";");let M="";for(const U of B)U&&(M+=D(U));return M};if(S)return I.trim();if(!I.includes(" "))return I;if(/^ *!/.test(I))return I.trim();if(b.test(I)){const O=/^(.*?)(#[@?]?#)(.*) +\{( *.* *: *[^;]+ *(;)? *)\} *$/.exec(I);if(O){const[,Y,$,ee,ae]=O;return G(Y)+$+ee.trim()+" {"+X(ae)+"}"}const[,B,M,U]=/^(.*?)(#[@?$]?#?)(.*)$/.exec(I);return G(B)+M+U.trim()}let L=G(I);if(!L.includes("$")||!/\b(csp|header)=/i.test(L))return L;let F=x.exec(L);if(!F)return L;let V=L.substring(0,F.index),P=-1,R=-1;do P=V.indexOf("$",P+1),R=I.indexOf("$",R+1);while(P!=-1);let E=I.substring(R+1).split(",");for(let O=0;O<E.length;O++){let B=E[O],M=/^ *(c *s *p|h *e *a *d *e *r) *=/i.exec(B);M?E[O]=G(M[0])+B.substring(M[0].length).trim().replace(/ +/g," "):E[O]=G(B)}return V+"$"+E.join()}},"./core/lib/filters/inlineCssValidation.js":(f,d)=>{d.verifyCSSProperties=function(x){if(Object.keys(x).length==0)return!1;for(let A in x)if(!u(A)||!h(x[A]))return!1;return!0};function u(b){return/^(-?[a-z]+)+$/.test(b)}function h(b){let x=b.split(" ").filter(A=>A.length>0);return x.length==0?!1:x.every(A=>y.some(j=>j instanceof RegExp?j.test(A):j==A))}const y=["inherit","initial","none","revert","revert-layer","unset",/^#[0-9a-f]{3,8}$/,"currentcolor",/^[+-]?(\d+(\.\d+)?|\.\d+)(e[+-]?\d+)?(cm|mm|q|in|pc|pt|px|em|ex|ch|rem|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|%|fr)?$/,"absolute","all","auto","block","both","clip","collapse","contain","dashed","default","dotted","double","element","fit-content","fixed","flex","flow-root","flow","grid","groove","hidden","inline-block","inline-flex","inline-grid","inline-table","inline","inset","left","list-item","max-content","min-content","outset","pointer","relative","ridge","right","ruby","scroll","solid","static","sticky","table-row","table","text","thin","transparent","true","visible"]},"./core/lib/filters/lists.js":(f,d)=>{function u(h){let y=h.split(/[\r\n]+/),b=/\[Adblock(?:\s*Plus\s*([\d.]+)?)?\]/i.exec(y[0]);if(!b)return{error:"synchronize_invalid_data"};let x=b[1],A={redirect:null,homepage:null,title:null,version:null,expires:null,abtest:null,diffurl:null,lastmodified:null};for(let{hasOwnProperty:j}=Object.prototype,T=1;T<y.length;T++){let I=/^\s*!\s*(.*?)\s*:\s*(.*)/.exec(y[T]);if(!I)break;let S=I[1].toLowerCase().replace(/\s/g,"");j.call(A,S)&&(A[S]=I[2],y.splice(T--,1))}return A.lastModified=A.lastmodified,delete A.lastmodified,{lines:y,params:A,minVersion:x}}d.parseFilterList=u},"./core/lib/filtersByDomain.js":(f,d,u)=>{const{hasWildcard:h,matchesWildcards:y}=u("./core/lib/url.js");let b=new Map([["",!0]]),x=d.FilterMap=class extends Map{};d.FiltersByDomain=class extends Map{constructor(j){super(j),this.domainsWithWildcards=new Map}add(j,T=j.domains){for(let[I,S]of T||b)!S&&I==""||(h(I)?this._addToMap(j,I,S,this.domainsWithWildcards):this._addToMap(j,I,S,this))}_addToMap(j,T,I,S){let G=S.get(T,!0);G?G.size==1&&!(G instanceof x)?j!=G&&S.set(T,new x([[G,!0],[j,I]])):G.set(j,I):S.set(T,I?j:new x([[j,!1]]))}has(j){let T=super.has(j);if(!T){for(let I of this.domainsWithWildcards.keys())if(y(j,I)){T=!0;break}}return T}get(j,T){let I=[],S=super.get(j);if(S&&I.push(S),!T)for(let[G,D]of this.domainsWithWildcards.entries())y(j,G)&&I.push(D);if(I.length==0)I=void 0;else if(I.length==1)I=I[0];else{let G=new x;for(let D of I){let X=D instanceof Map?D:new Map([[D,!0]]);for(let[L,F]of X.entries())G.set(L,F)}I=G}return I}clear(){super.clear(),this.domainsWithWildcards.clear()}remove(j,T=j.domains){for(let I of(T||b).keys())h(I)?this._removeFromMap(j,I,this.domainsWithWildcards):this._removeFromMap(j,I,this)}_removeFromMap(j,T,I){let S=I.get(T);if(S)if(S.size>1||S instanceof x){if(S.delete(j),S.size==0)I.delete(T);else if(S.size==1)for(let[G,D]of S.entries()){D&&I.set(T,G);break}}else j==S&&I.delete(T)}}},"./core/lib/index.js":(f,d,u)=>{const{contentTypes:h}=u("./core/lib/contentTypes.js"),{Features:y}=u("./core/lib/features.js"),{FilterEngine:b}=u("./core/lib/filterEngine.js"),{Synchronizer:x}=u("./core/lib/synchronizer.js"),{parseURL:A}=u("./core/lib/url.js");f.exports={contentTypes:h,Features:y,FilterEngine:b,Synchronizer:x,parseURL:A}},"./core/lib/iniParser.js":(f,d,u)=>{const{isActiveFilter:h,Filter:y}=u("./core/lib/filterClasses.js"),{FilterState:b}=u("./core/lib/filterState.js"),{Subscription:x}=u("./core/lib/subscriptionClasses.js");d.INIParser=class{constructor(j){if(!(j instanceof b))throw new Error("filterState must be a FilterState object");this.fileProperties={},this.subscriptions=[],this.filterState=j,this._wantObj=!0,this._curObj=this.fileProperties,this._curSection=null}process(j){let T=null;if(this._wantObj===!0&&(T=/^(\w+)=(.*)$/.exec(j)))this._curObj[T[1]]=T[2];else if(this._wantObj===!0&&(T=/^(\w+)\[]=(.*)$/.exec(j)))this._curObj[T[1]]||(this._curObj[T[1]]=[]),this._curObj[T[1]].push(T[2]);else if(j===null||(T=/^\s*\[(.+)\]\s*$/.exec(j))){if(this._curObj)switch(this._curSection){case"filter":if("text"in this._curObj){let{text:S}=this._curObj;h(y.fromText(S))&&this.filterState.fromObject(S,this._curObj)}break;case"subscription":let I=x.fromObject(this._curObj);I&&this.subscriptions.push(I);break;case"subscription filters":this.subscriptions.length&&this.subscriptions[this.subscriptions.length-1].updateFilterText(this._curObj);break}if(j===null)return;switch(this._curSection=T[1].toLowerCase(),this._curSection){case"filter":case"subscription":this._wantObj=!0,this._curObj={};break;case"subscription filters":this._wantObj=!1,this._curObj=[];break;default:this._wantObj=null,this._curObj=null}}else this._wantObj===!1&&j&&this._curObj.push(j.replace(/\\\[/g,"["))}}},"./core/lib/jsbn.js":(f,d)=>{var u;let h=d.BigInteger=function(ie,xe,st){ie!=null&&(typeof ie=="number"?this.fromNumber(ie,xe,st):xe==null&&typeof ie!="string"?this.fromString(ie,256):this.fromString(ie,xe))};function y(){return new h(null)}function b(fe,ie,xe,st,At,le){for(;--le>=0;){var zt=ie*this[fe++]+xe[st]+At;At=Math.floor(zt/67108864),xe[st++]=zt&67108863}return At}function x(fe,ie,xe,st,At,le){for(var zt=ie&32767,Wt=ie>>15;--le>=0;){var Bn=this[fe]&32767,qn=this[fe++]>>15,ke=Wt*Bn+qn*zt;Bn=zt*Bn+((ke&32767)<<15)+xe[st]+(At&1073741823),At=(Bn>>>30)+(ke>>>15)+Wt*qn+(At>>>30),xe[st++]=Bn&1073741823}return At}function A(fe,ie,xe,st,At,le){for(var zt=ie&16383,Wt=ie>>14;--le>=0;){var Bn=this[fe]&16383,qn=this[fe++]>>14,ke=Wt*Bn+qn*zt;Bn=zt*Bn+((ke&16383)<<14)+xe[st]+At,At=(Bn>>28)+(ke>>14)+Wt*qn,xe[st++]=Bn&268435455}return At}typeof navigator<"u"&&navigator.appName=="Microsoft Internet Explorer"?(h.prototype.am=x,u=30):typeof navigator<"u"&&navigator.appName!="Netscape"?(h.prototype.am=b,u=26):(h.prototype.am=A,u=28),h.prototype.DB=u,h.prototype.DM=(1<<u)-1,h.prototype.DV=1<<u;var j=52;h.prototype.FV=Math.pow(2,j),h.prototype.F1=j-u,h.prototype.F2=2*u-j;var T="0123456789abcdefghijklmnopqrstuvwxyz",I=new Array,S,G;for(S=48,G=0;G<=9;++G)I[S++]=G;for(S=97,G=10;G<36;++G)I[S++]=G;for(S=65,G=10;G<36;++G)I[S++]=G;function D(fe){return T.charAt(fe)}function X(fe,ie){var xe=I[fe.charCodeAt(ie)];return xe??-1}function L(fe){for(var ie=this.t-1;ie>=0;--ie)fe[ie]=this[ie];fe.t=this.t,fe.s=this.s}function F(fe){this.t=1,this.s=fe<0?-1:0,fe>0?this[0]=fe:fe<-1?this[0]=fe+DV:this.t=0}function V(fe){var ie=y();return ie.fromInt(fe),ie}function P(fe,ie){var xe;if(ie==16)xe=4;else if(ie==8)xe=3;else if(ie==256)xe=8;else if(ie==2)xe=1;else if(ie==32)xe=5;else if(ie==4)xe=2;else{this.fromRadix(fe,ie);return}this.t=0,this.s=0;for(var st=fe.length,At=!1,le=0;--st>=0;){var zt=xe==8?fe.charCodeAt(st)&255:X(fe,st);if(zt<0){fe.charAt(st)=="-"&&(At=!0);continue}At=!1,le==0?this[this.t++]=zt:le+xe>this.DB?(this[this.t-1]|=(zt&(1<<this.DB-le)-1)<<le,this[this.t++]=zt>>this.DB-le):this[this.t-1]|=zt<<le,le+=xe,le>=this.DB&&(le-=this.DB)}xe==8&&fe[0]&128&&(this.s=-1,le>0&&(this[this.t-1]|=(1<<this.DB-le)-1<<le)),this.clamp(),At&&h.ZERO.subTo(this,this)}function R(){for(var fe=this.s&this.DM;this.t>0&&this[this.t-1]==fe;)--this.t}function N(fe){if(this.s<0)return"-"+this.negate().toString(fe);var ie;if(fe==16)ie=4;else if(fe==8)ie=3;else if(fe==256)ie=8;else if(fe==2)ie=1;else if(fe==32)ie=5;else if(fe==4)ie=2;else return this.toRadix(fe);var xe=(1<<ie)-1,st,At=!1,le="",zt=this.t,Wt=this.DB-zt*this.DB%ie;if(zt-- >0)for(Wt<this.DB&&(st=this[zt]>>Wt)>0&&(At=!0,le=ie==8?String.fromCharCode(st):D(st));zt>=0;)Wt<ie?(st=(this[zt]&(1<<Wt)-1)<<ie-Wt,st|=this[--zt]>>(Wt+=this.DB-ie)):(st=this[zt]>>(Wt-=ie)&xe,Wt<=0&&(Wt+=this.DB,--zt)),st>0&&(At=!0),At&&(le+=ie==8?String.fromCharCode(st):D(st));return At?le:"0"}function E(){var fe=y();return h.ZERO.subTo(this,fe),fe}function O(){return this.s<0?this.negate():this}function B(fe){var ie=this.s-fe.s;if(ie!=0)return ie;var xe=this.t;if(ie=xe-fe.t,ie!=0)return ie;for(;--xe>=0;)if((ie=this[xe]-fe[xe])!=0)return ie;return 0}function M(fe){var ie=1,xe;return(xe=fe>>>16)!=0&&(fe=xe,ie+=16),(xe=fe>>8)!=0&&(fe=xe,ie+=8),(xe=fe>>4)!=0&&(fe=xe,ie+=4),(xe=fe>>2)!=0&&(fe=xe,ie+=2),(xe=fe>>1)!=0&&(fe=xe,ie+=1),ie}function U(){return this.t<=0?0:this.DB*(this.t-1)+M(this[this.t-1]^this.s&this.DM)}function Y(fe,ie){var xe;for(xe=this.t-1;xe>=0;--xe)ie[xe+fe]=this[xe];for(xe=fe-1;xe>=0;--xe)ie[xe]=0;ie.t=this.t+fe,ie.s=this.s}function $(fe,ie){for(var xe=fe;xe<this.t;++xe)ie[xe-fe]=this[xe];ie.t=Math.max(this.t-fe,0),ie.s=this.s}function ee(fe,ie){var xe=fe%this.DB,st=this.DB-xe,At=(1<<st)-1,le=Math.floor(fe/this.DB),zt=this.s<<xe&this.DM,Wt;for(Wt=this.t-1;Wt>=0;--Wt)ie[Wt+le+1]=this[Wt]>>st|zt,zt=(this[Wt]&At)<<xe;for(Wt=le-1;Wt>=0;--Wt)ie[Wt]=0;ie[le]=zt,ie.t=this.t+le+1,ie.s=this.s,ie.clamp()}function ae(fe,ie){ie.s=this.s;var xe=Math.floor(fe/this.DB);if(xe>=this.t){ie.t=0;return}var st=fe%this.DB,At=this.DB-st,le=(1<<st)-1;ie[0]=this[xe]>>st;for(var zt=xe+1;zt<this.t;++zt)ie[zt-xe-1]|=(this[zt]&le)<<At,ie[zt-xe]=this[zt]>>st;st>0&&(ie[this.t-xe-1]|=(this.s&le)<<At),ie.t=this.t-xe,ie.clamp()}function re(fe,ie){for(var xe=0,st=0,At=Math.min(fe.t,this.t);xe<At;)st+=this[xe]-fe[xe],ie[xe++]=st&this.DM,st>>=this.DB;if(fe.t<this.t){for(st-=fe.s;xe<this.t;)st+=this[xe],ie[xe++]=st&this.DM,st>>=this.DB;st+=this.s}else{for(st+=this.s;xe<fe.t;)st-=fe[xe],ie[xe++]=st&this.DM,st>>=this.DB;st-=fe.s}ie.s=st<0?-1:0,st<-1?ie[xe++]=this.DV+st:st>0&&(ie[xe++]=st),ie.t=xe,ie.clamp()}function J(fe,ie){var xe=this.abs(),st=fe.abs(),At=xe.t;for(ie.t=At+st.t;--At>=0;)ie[At]=0;for(At=0;At<st.t;++At)ie[At+xe.t]=xe.am(0,st[At],ie,At,0,xe.t);ie.s=0,ie.clamp(),this.s!=fe.s&&h.ZERO.subTo(ie,ie)}function ue(fe){for(var ie=this.abs(),xe=fe.t=2*ie.t;--xe>=0;)fe[xe]=0;for(xe=0;xe<ie.t-1;++xe){var st=ie.am(xe,ie[xe],fe,2*xe,0,1);(fe[xe+ie.t]+=ie.am(xe+1,2*ie[xe],fe,2*xe+1,st,ie.t-xe-1))>=ie.DV&&(fe[xe+ie.t]-=ie.DV,fe[xe+ie.t+1]=1)}fe.t>0&&(fe[fe.t-1]+=ie.am(xe,ie[xe],fe,2*xe,0,1)),fe.s=0,fe.clamp()}function Q(fe,ie,xe){var st=fe.abs();if(!(st.t<=0)){var At=this.abs();if(At.t<st.t){ie!=null&&ie.fromInt(0),xe!=null&&this.copyTo(xe);return}xe==null&&(xe=y());var le=y(),zt=this.s,Wt=fe.s,Bn=this.DB-M(st[st.t-1]);Bn>0?(st.lShiftTo(Bn,le),At.lShiftTo(Bn,xe)):(st.copyTo(le),At.copyTo(xe));var qn=le.t,ke=le[qn-1];if(ke!=0){var Ce=ke*(1<<this.F1)+(qn>1?le[qn-2]>>this.F2:0),lt=this.FV/Ce,Z=(1<<this.F1)/Ce,Ot=1<<this.F2,Gt=xe.t,Xe=Gt-qn,pe=ie??y();for(le.dlShiftTo(Xe,pe),xe.compareTo(pe)>=0&&(xe[xe.t++]=1,xe.subTo(pe,xe)),h.ONE.dlShiftTo(qn,pe),pe.subTo(le,le);le.t<qn;)le[le.t++]=0;for(;--Xe>=0;){var je=xe[--Gt]==ke?this.DM:Math.floor(xe[Gt]*lt+(xe[Gt-1]+Ot)*Z);if((xe[Gt]+=le.am(0,je,xe,Xe,0,qn))<je)for(le.dlShiftTo(Xe,pe),xe.subTo(pe,xe);xe[Gt]<--je;)xe.subTo(pe,xe)}ie!=null&&(xe.drShiftTo(qn,ie),zt!=Wt&&h.ZERO.subTo(ie,ie)),xe.t=qn,xe.clamp(),Bn>0&&xe.rShiftTo(Bn,xe),zt<0&&h.ZERO.subTo(xe,xe)}}}function be(fe){var ie=y();return this.abs().divRemTo(fe,null,ie),this.s<0&&ie.compareTo(h.ZERO)>0&&fe.subTo(ie,ie),ie}function Re(fe){this.m=fe}function oe(fe){return fe.s<0||fe.compareTo(this.m)>=0?fe.mod(this.m):fe}function ge(fe){return fe}function me(fe){fe.divRemTo(this.m,null,fe)}function se(fe,ie,xe){fe.multiplyTo(ie,xe),this.reduce(xe)}function Ae(fe,ie){fe.squareTo(ie),this.reduce(ie)}Re.prototype.convert=oe,Re.prototype.revert=ge,Re.prototype.reduce=me,Re.prototype.mulTo=se,Re.prototype.sqrTo=Ae;function Le(){if(this.t<1)return 0;var fe=this[0];if(!(fe&1))return 0;var ie=fe&3;return ie=ie*(2-(fe&15)*ie)&15,ie=ie*(2-(fe&255)*ie)&255,ie=ie*(2-((fe&65535)*ie&65535))&65535,ie=ie*(2-fe*ie%this.DV)%this.DV,ie>0?this.DV-ie:-ie}function ve(fe){this.m=fe,this.mp=fe.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<fe.DB-15)-1,this.mt2=2*fe.t}function Ie(fe){var ie=y();return fe.abs().dlShiftTo(this.m.t,ie),ie.divRemTo(this.m,null,ie),fe.s<0&&ie.compareTo(h.ZERO)>0&&this.m.subTo(ie,ie),ie}function Ue(fe){var ie=y();return fe.copyTo(ie),this.reduce(ie),ie}function tt(fe){for(;fe.t<=this.mt2;)fe[fe.t++]=0;for(var ie=0;ie<this.m.t;++ie){var xe=fe[ie]&32767,st=xe*this.mpl+((xe*this.mph+(fe[ie]>>15)*this.mpl&this.um)<<15)&fe.DM;for(xe=ie+this.m.t,fe[xe]+=this.m.am(0,st,fe,ie,0,this.m.t);fe[xe]>=fe.DV;)fe[xe]-=fe.DV,fe[++xe]++}fe.clamp(),fe.drShiftTo(this.m.t,fe),fe.compareTo(this.m)>=0&&fe.subTo(this.m,fe)}function Be(fe,ie){fe.squareTo(ie),this.reduce(ie)}function Ne(fe,ie,xe){fe.multiplyTo(ie,xe),this.reduce(xe)}ve.prototype.convert=Ie,ve.prototype.revert=Ue,ve.prototype.reduce=tt,ve.prototype.mulTo=Ne,ve.prototype.sqrTo=Be;function Ze(){return(this.t>0?this[0]&1:this.s)==0}function ot(fe,ie){if(fe>4294967295||fe<1)return h.ONE;var xe=y(),st=y(),At=ie.convert(this),le=M(fe)-1;for(At.copyTo(xe);--le>=0;)if(ie.sqrTo(xe,st),(fe&1<<le)>0)ie.mulTo(st,At,xe);else{var zt=xe;xe=st,st=zt}return ie.revert(xe)}function It(fe,ie){var xe;return fe<256||ie.isEven()?xe=new Re(ie):xe=new ve(ie),this.exp(fe,xe)}h.prototype.copyTo=L,h.prototype.fromInt=F,h.prototype.fromString=P,h.prototype.clamp=R,h.prototype.dlShiftTo=Y,h.prototype.drShiftTo=$,h.prototype.lShiftTo=ee,h.prototype.rShiftTo=ae,h.prototype.subTo=re,h.prototype.multiplyTo=J,h.prototype.squareTo=ue,h.prototype.divRemTo=Q,h.prototype.invDigit=Le,h.prototype.isEven=Ze,h.prototype.exp=ot,h.prototype.toString=N,h.prototype.negate=E,h.prototype.abs=O,h.prototype.compareTo=B,h.prototype.bitLength=U,h.prototype.mod=be,h.prototype.modPowInt=It,h.ZERO=V(0),h.ONE=V(1)},"./core/lib/matcher.js":(f,d,u)=>{const{RESOURCE_TYPES:h,SPECIAL_TYPES:y,ALLOWING_TYPES:b,contentTypes:x,enumerateTypes:A}=u("./core/lib/contentTypes.js"),{compilePatterns:j}=u("./core/lib/patterns.js"),{domainSuffixes:T,URLRequest:I}=u("./core/lib/url.js"),{Filter:S}=u("./core/lib/filterClasses.js"),{FiltersByDomain:G,FilterMap:D}=u("./core/lib/filtersByDomain.js"),{Cache:X}=u("./core/lib/caching.js");let L=(B,M)=>{let U=B.get(M);return U?U instanceof S?1:U.length:0},F=(B,M)=>{let U=B.get(M);return U?U instanceof S?[U]:U:Array.prototype};function V(B){return B=="https"||B=="http"||B=="com"||B=="js"}function P(B,M,U){let Y=U.get(M);Y?Y instanceof S?U.set(M,[Y,B]):Y.push(B):U.set(M,B)}function R(B,M,U){let Y=U.get(M);if(Y)if(Y instanceof S)Y==B&&U.delete(M);else{let $=Y.findIndex(ee=>ee===B);$>=0&&(Y.splice($,1),Y.length===1&&U.set(M,Y[0]))}}function N(B,M,U,Y,$){if(B.matches(M,U,Y)){if(!$)return B;$.push(B)}return null}d.isSlowFilter=function(M){return!M.urlPattern.hasKeywords()};let E=d.Matcher=class{constructor(){this._keywordByFilter=new Map,this._simpleFiltersByKeyword=new Map,this._complexFiltersByKeyword=new Map,this._compiledPatternsByKeyword=new Map,this._keywordlessCompiledPatterns=!1,this._filterDomainMapsByKeyword=new Map,this._filterMapsByType=new Map}clear(){this._keywordByFilter.clear(),this._simpleFiltersByKeyword.clear(),this._complexFiltersByKeyword.clear(),this._compiledPatternsByKeyword.clear(),this._keywordlessCompiledPatterns=!1,this._filterDomainMapsByKeyword.clear(),this._filterMapsByType.clear()}add(M){if(this._keywordByFilter.has(M))return;let U=this.findKeyword(M),Y=M.contentType==h&&M.isGeneric();if(P(M,U,Y?this._simpleFiltersByKeyword:this._complexFiltersByKeyword),this._keywordByFilter.set(M,U),Y){this._compiledPatternsByKeyword.size>0&&this._compiledPatternsByKeyword.delete(U);return}U==""&&(this._keywordlessCompiledPatterns=!1);for(let ae of A(M.contentType,y)){let re=this._filterMapsByType.get(ae);re||this._filterMapsByType.set(ae,re=new Map),P(M,U,re)}let{domains:$}=M,ee=this._filterDomainMapsByKeyword.get(U);if(ee)ee instanceof G||(ee=new G([["",ee]]),this._filterDomainMapsByKeyword.set(U,ee));else{if(!$){this._filterDomainMapsByKeyword.set(U,M);return}ee=new G,this._filterDomainMapsByKeyword.set(U,ee)}ee.add(M,$)}remove(M){let U=this._keywordByFilter.get(M);if(typeof U>"u")return;let Y=M.contentType==h&&M.isGeneric();if(R(M,U,Y?this._simpleFiltersByKeyword:this._complexFiltersByKeyword),this._keywordByFilter.delete(M),Y){this._compiledPatternsByKeyword.size>0&&this._compiledPatternsByKeyword.delete(U);return}U==""&&(this._keywordlessCompiledPatterns=!1);for(let ee of A(M.contentType,y)){let ae=this._filterMapsByType.get(ee);ae&&R(M,U,ae)}let $=this._filterDomainMapsByKeyword.get(U);if($){if(!($ instanceof G)){this._filterDomainMapsByKeyword.delete(U);return}if($.remove(M),$.size==0)this._filterDomainMapsByKeyword.delete(U);else if($.size==1)for(let[ee,ae]of $.entries()){ee==""&&!(ae instanceof D)&&this._filterDomainMapsByKeyword.set(U,ae);break}}}has(M){return this._keywordByFilter.has(M)}findKeyword(M){let U="",Y=M.urlPattern.keywordCandidates();if(!Y)return U;let $=16777215,ee=0;for(let ae=0,re=Y.length;ae<re;ae++){let J=Y[ae].substring(1);if(V(J))continue;let ue=L(this._simpleFiltersByKeyword,J),Q=L(this._complexFiltersByKeyword,J),be=ue+Q;(be<$||be==$&&J.length>ee)&&(U=J,$=be,ee=J.length)}return U}_matchFiltersByDomain(M,U,Y,$,ee,ae){let re=null,J=U.documentHostname||"";for(let ue of T(J,!ee)){let Q=M.get(ue);if(Q){if(Q instanceof D){for(let[be,Re]of Q.entries())if(!Re)re?re.add(be):re=new Set([be]);else if((!re||!re.has(be))&&N(be,U,Y,$,ae))return be}else if((!re||!re.has(Q))&&N(Q,U,Y,$,ae))return Q}}return null}_checkEntryMatchSimpleQuickCheck(M,U,Y){let $=this._compiledPatternsByKeyword.get(M);return typeof $>"u"&&($=j(Y),this._compiledPatternsByKeyword.set(M,$)),!$||$.test(U)}_checkEntryMatchSimple(M,U,Y){let $=F(this._simpleFiltersByKeyword,M),{length:ee}=$;if(ee&&(ee===1||this._checkEntryMatchSimpleQuickCheck(M,U,$))){for(let ae of $)if(N(ae,U,h,null,Y))return ae}return null}_checkEntryMatchForType(M,U,Y,$,ee,ae){let re=this._filterMapsByType.get(Y&y);if(re){for(let J of F(re,M))if(!(ee&&J.isGeneric())&&N(J,U,Y,$,ae))return J}return null}_checkEntryMatchByDomain(M,U,Y,$,ee,ae){let re=this._filterDomainMapsByKeyword.get(M);if(re){if(re instanceof G){if(M==""&&!ee){let J=this._keywordlessCompiledPatterns;if(J==!1){let ue=re.get("");ue instanceof D&&(J=j([...ue.keys()])),this._keywordlessCompiledPatterns=J||null}J&&!J.test(U)&&(ee=!0)}return this._matchFiltersByDomain(re,U,Y,$,ee,ae)}if(!ee)return N(re,U,Y,$,ae)}return null}checkEntryMatch(M,U,Y,$,ee,ae){if(!ee&&Y&h){let re=this._checkEntryMatchSimple(M,U,ae);if(re)return re}return Y&y&&(!(Y&Y-1)||(Y&h)==x.OTHER)?this._checkEntryMatchForType(M,U,Y,$,ee,ae):this._checkEntryMatchByDomain(M,U,Y,$,ee,ae)}matchesAny(M,U,Y,$,ee){return this.match(M,U,Y,$,ee)}match(M,U,Y,$,ee){let ae=I.from(M,Y),re=ae.lowerCaseHref.match(/[a-z0-9%]{2,}|$/g);for(let J=0,ue=re.length;J<ue;J++){if(V(re[J]))continue;let Q=this.checkEntryMatch(re[J],ae,U,$,ee);if(Q)return Q}return null}};class O{constructor(){this._blocking=new E,this._allowing=new E,this._resultCache=new X(1e4)}clear(){this._blocking.clear(),this._allowing.clear(),this._resultCache.clear()}add(M){M.type=="allowing"?this._allowing.add(M):this._blocking.add(M),this._resultCache.clear()}remove(M){M.type=="allowing"?this._allowing.remove(M):this._blocking.remove(M),this._resultCache.clear()}has(M){return M.type=="allowing"?this._allowing.has(M):this._blocking.has(M)}findKeyword(M){return M.type=="allowing"?this._allowing.findKeyword(M):this._blocking.findKeyword(M)}_matchInternal(M,U,Y,$,ee,ae){let re=I.from(M,Y),J=re.lowerCaseHref.match(/[a-z0-9%]{2,}|$/g).filter(ge=>!V(ge)),ue=(U&~b)==0,Q=null,be=null,Re=()=>{for(let ge=0,me=J.length;!Q&&ge<me;ge++)Q=this._allowing.checkEntryMatch(J[ge],re,U,$)},oe=()=>{for(let ge=0,me=J.length;!be&&ge<me;ge++)be=this._blocking.checkEntryMatch(J[ge],re,U,$,ee)};return ae?(Re(),!Q&&!ue&&oe()):ue?Re():(oe(),be&&Re()),Q||be}_searchInternal(M,U,Y,$,ee,ae){let re={},J=ae=="blocking"||ae=="all",ue=ae=="allowing"||ae=="all";J&&(re.blocking=[]),ue&&(re.allowing=[]),U&~b||(J=!1);let Q=I.from(M,Y),be=Q.lowerCaseHref.match(/[a-z0-9%]{2,}|$/g);for(let Re=0,oe=be.length;Re<oe;Re++)V(be[Re])||(J&&this._blocking.checkEntryMatch(be[Re],Q,U,$,ee,re.blocking),ue&&this._allowing.checkEntryMatch(be[Re],Q,U,$,!1,re.allowing));return re}matchesAny(M,U,Y,$,ee){return this.match(M,U,Y,$,ee)}match(M,U,Y,$,ee,ae=!1){let re=`${M} ${U} ${Y} ${$} ${ee} ${ae}`,J=this._resultCache.get(re);return typeof J<"u"||(J=this._matchInternal(M,U,Y,$,ee,ae),this._resultCache.set(re,J)),J}search(M,U,Y,$,ee,ae="all"){let re=`* ${M} ${U} ${Y} ${$} ${ee} ${ae}`,J=this._resultCache.get(re);return typeof J<"u"||(J=this._searchInternal(M,U,Y,$,ee,ae),this._resultCache.set(re,J)),J}isAllowlisted(M,U,Y,$){return!!this._allowing.match(M,U,Y,$)}}d.CombinedMatcher=O,d.newDefaultMatcher=function(){return new O}},"./core/lib/notifications.js":(f,d,u)=>{const{Prefs:h}=u("./sdk/background/prefs.js"),{MILLIS_IN_MINUTE:y,MILLIS_IN_HOUR:b,MILLIS_IN_DAY:x}=u("./core/lib/time.js"),{Downloader:A,Downloadable:j}=u("./core/lib/downloader.js"),{compareVersions:T}=u("./core/lib/versions.js"),{analytics:I}=u("./core/lib/analytics.js"),{EventEmitter:S}=u("./core/lib/events.js"),G=1*y,D=1*b,X=1*x;let L=(O,B)=>O in h?h[O]:B;const F="en-US";function V(O){switch(O.type){case"information":return 0;case"newtab":case"relentless":return 1;case"critical":return 2}return 0}function P(O="notificationdata"){h[O]=JSON.parse(JSON.stringify(h[O]))}function R(O,B){if(B in O)return O[B];let M=B.substring(0,B.indexOf("-"));return M&&M in O?O[M]:O[F]}function N(O){return!(O.type=="newtab"&&!(O.links&&O.links.length>0))}class E extends S{constructor(){super(),this._started=!1,this.ignored=!1,this.locale=F,this.numBlocked=null,this._showListeners=new Set,this._localNotifications=new Set,this._downloader=new A(this._getDownloadables.bind(this)),this._downloader.onExpirationChange=this._onExpirationChange.bind(this),this._downloader.onDownloadSuccess=this._onDownloadSuccess.bind(this),this._downloader.onDownloadError=this._onDownloadError.bind(this),this._onBlockedTotal=this._onBlockedTotal.bind(this)}start(){this._started||(h.on("blocked_total",this._onBlockedTotal),this._downloader.scheduleChecks(L("notifications_check_interval",D),L("notifications_initial_delay",G)),this._started=!0)}stop(){this._started=!1,this._downloader.unscheduleChecks(),h.off("blocked_total",this._onBlockedTotal)}setLocalNotificationStorage(B){if(this._localNotifications!=B){for(let M of this._localNotifications)B.add(M);this._localNotifications=B}}*_getDownloadables(){let{notificationurl:B,notificationdata:M}=h,U=new j(B);I.isTrusted(B)&&(U.firstVersion=I.getFirstVersion()),typeof M.lastError=="number"&&(U.lastError=M.lastError),typeof M.lastCheck=="number"&&(U.lastCheck=M.lastCheck),typeof M.data=="object"&&"version"in M.data&&(U.lastVersion=M.data.version),typeof M.softExpiration=="number"&&(U.softExpiration=M.softExpiration),typeof M.hardExpiration=="number"&&(U.hardExpiration=M.hardExpiration),typeof M.downloadCount=="number"&&(U.downloadCount=M.downloadCount),yield U}_onExpirationChange(B){h.notificationdata.lastCheck=B.lastCheck,h.notificationdata.softExpiration=B.softExpiration,h.notificationdata.hardExpiration=B.hardExpiration,P()}_onDownloadSuccess(B,M,U,Y){try{let ee=JSON.parse(M);typeof ee.version=="string"&&I.isTrusted(B.redirectURL||B.url)&&I.recordVersion(ee.version);let ae=[];for(let re of ee.notifications){if(!N(re)){console.warn(`Invalid notification with ID "${re.id}"`);continue}"severity"in re&&("type"in re||(re.type=re.severity),delete re.severity),ae.push(re)}ee.notifications=ae,h.notificationdata.data=ee}catch(ee){console.warn(ee),U("synchronize_invalid_data");return}let $=L("notifications_expiration_interval",X);h.notificationdata.lastError=0,h.notificationdata.downloadStatus="synchronize_ok",[h.notificationdata.softExpiration,h.notificationdata.hardExpiration]=this._downloader.processExpirationInterval($),h.notificationdata.downloadCount=B.downloadCount,P(),this.emit("downloaded"),this.showNext()}_onDownloadError(B,M,U,Y,$){h.notificationdata.lastError=Date.now(),h.notificationdata.downloadStatus=U,P()}_onBlockedTotal(){this.showNext()}addShowListener(B){this._showListeners.add(B)}removeShowListener(B){this._showListeners.delete(B)}shouldIgnoreNotifications(){return this.ignored||h.notifications_ignoredcategories.includes("*")}_getNotifications(){let B=[];return typeof h.notificationdata.data=="object"&&h.notificationdata.data.notifications instanceof Array&&(B=h.notificationdata.data.notifications),[...this._localNotifications,...B]}_getNextToShow(){let B=this._getNotifications();if(B.length==0)return null;const{addonName:M,addonVersion:U,application:Y,applicationVersion:$,platform:ee,platformVersion:ae}=u("./sdk/background/info.js");let{numBlocked:re}=this;"blocked_total"in h&&(re=h.blocked_total),h.show_statsinpopup===!1&&(re=null);let J={extension:Q=>Q==M,extensionMinVersion:Q=>T(U,Q)>=0,extensionMaxVersion:Q=>T(U,Q)<=0,application:Q=>Q==Y,applicationMinVersion:Q=>T($,Q)>=0,applicationMaxVersion:Q=>T($,Q)<=0,platform:Q=>Q==ee,platformMinVersion:Q=>T(ae,Q)>=0,platformMaxVersion:Q=>T(ae,Q)<=0,blockedTotalMin:Q=>re!=null&&re>=Q,blockedTotalMax:Q=>re!=null&&re<=Q,locales:Q=>Q.includes(this.locale)},ue=null;for(let Q of B){if(Q.type!="critical"){let be;if(typeof h.notificationdata.shown=="object"&&(be=h.notificationdata.shown[Q.id]),typeof be<"u"){if(typeof Q.interval=="number"){if(be+Q.interval>Date.now())continue}else if(be)continue}if(Q.type!="relentless"&&this.shouldIgnoreNotifications())continue}if(Q.targets instanceof Array){let be=!1;for(let Re of Q.targets)if(Object.keys(Re).every(ge=>Object.prototype.hasOwnProperty.call(J,ge)&&J[ge](Re[ge]))){be=!0;break}if(!be)continue}(!ue||V(Q)>V(ue))&&(ue=Q)}return ue}showNotification(B,M={}){if(!(M.ignorable&&this.shouldIgnoreNotifications()))for(let U of this._showListeners)U(B)}showNext(){let B=this._getNextToShow();if(B)for(let M of this._showListeners)M(B)}markAsShown(B){if(!this._getNotifications().some($=>$.id==B))return;let U=Date.now(),Y=h.notificationdata;if(Y.shown instanceof Array){let $={};for(let ee of Y.shown)$[ee]=U;Y.shown=$}typeof Y.shown!="object"&&(Y.shown={}),Y.shown[B]=U,P()}getLocalizedTexts(B){let M=["title","message"],U={};for(let Y of M)Y in B&&(typeof B[Y]=="string"?U[Y]=B[Y]:U[Y]=R(B[Y],this.locale));return U}addNotification(B){if(!N(B))throw new Error(`Invalid notification with ID "${B.id}"`);this._localNotifications.add(B)}removeNotification(B){this._localNotifications.delete(B)}toggleIgnoreCategory(B,M){let U=h.notifications_ignoredcategories,Y=U.indexOf(B);Y==-1&&M!=!1?(U.push(B),h.notifications_ignoredcategories=U,this.emit("ignored-category-added",B)):Y!=-1&&M!=!0&&(U.splice(Y,1),h.notifications_ignoredcategories=U,this.emit("ignored-category-removed",B)),P("notifications_ignoredcategories")}getDownloadCount(){return h.notificationdata.downloadCount||0}getIgnoredCategories(){return h.notifications_ignoredcategories}}d.notifications=new E},"./core/lib/patterns.js":(f,d)=>{let h=/[\x00-\x24\x26-\x2C\x2F\x3A-\x40\x5B-\x5E\x60\x7B-\x7F]/,y=d.filterToRegExp=function(I){return I=I.replace(/\*+/g,"*"),I[0]=="*"&&(I=I.substring(1)),I[I.length-1]=="*"&&(I=I.substring(0,I.length-1)),I.replace(/\^\|$/,"^").replace(/\W/g,"\\$&").replace(/\\\*/g,".*").replace(/\\\^/g,`(?:${h.source}|$)`).replace(/^\\\|\\\|/,"^[\\w\\-]+:\\/+(?:[^\\/]+\\.)?").replace(/^\\\|/,"^").replace(/\\\|$/,"$")},b=new RegExp(y("||")+"$"),x=/[^a-z0-9%*][a-z0-9%]{2,}(?=[^a-z0-9%*])/,A=new RegExp(x,"g");class j{constructor(I,S){this._caseSensitive=I,this._caseInsensitive=S}test(I){return this._caseSensitive&&this._caseSensitive.test(I.href)||this._caseInsensitive&&this._caseInsensitive.test(I.lowerCaseHref)}}d.compilePatterns=function(I){if((Array.isArray(I)?I:[I]).length>100)return null;let G="",D="";for(let F of I){let V=F.urlPattern.regexpSource;F.matchCase?G+=V+"|":D+=V+"|"}let X=null,L=null;try{G&&(X=new RegExp(G.slice(0,-1))),D&&(L=new RegExp(D.slice(0,-1)))}catch{return null}return new j(X,L)},d.Pattern=class{constructor(I,S){this.matchCase=S||!1,this.matchCase||(I=I.toLowerCase()),I.length>=2&&I[0]=="/"&&I[I.length-1]=="/"?(I=I.substring(1,I.length-1),this._regexp=new RegExp(I)):(I=I.replace(/^\*+/,"").replace(/\*+$/,""),this.pattern=I)}isLiteralPattern(){return typeof this.pattern<"u"&&!/[*^|]/.test(this.pattern.replace(/^\|{1,2}/,"").replace(/[|^]$/,""))}get regexp(){return typeof this._regexp>"u"&&(this._regexp=this.isLiteralPattern()?null:new RegExp(y(this.pattern))),this._regexp}get regexpSource(){return this._regexp?this._regexp.source:y(this.pattern)}matchesLocation(I){let S=this.matchCase?I.href:I.lowerCaseHref,G=this.regexp;if(G)return G.test(S);let D=this.pattern,X=D[0]=="|",L=X&&D[1]=="|",F=D[D.length-1]=="^",V=!F&&D[D.length-1]=="|";L?D=D.substr(2):X&&(D=D.substr(1)),(F||V)&&(D=D.slice(0,-1));let P=S.indexOf(D);for(;P!=-1;){if((L?S[P]!="/"&&b.test(S.substring(0,P)):!X||P==0)&&(F?!S[P+D.length]||h.test(S[P+D.length]):!V||P==S.length-D.length)||D=="")return!0;P=S.indexOf(D,P+1)}return!1}hasKeywords(){return this.pattern&&x.test(this.pattern)}keywordCandidates(){return this.pattern?this.pattern.toLowerCase().match(A):null}}},"./core/lib/polyfill.js":()=>{Promise.prototype.finally||(Promise.prototype.finally=function(f){return this.then(f,f)})},"./core/lib/random.js":(f,d)=>{d.randomInteger=function(u,h){if(u>h)throw new Error(`Cannot generate random integer in range, min (${u}) must be less than max (${h})`);let y=h-u;return Math.floor(Math.random()*y+u)}},"./core/lib/recommendations.js":(f,d,u)=>{class h{constructor(x){this._source=x}get id(){return this._source.id}get requires(){return this._source.requires}get type(){return this._source.type}get languages(){return this._source.languages?[...this._source.languages]:[]}get title(){return this._source.title}get url(){return this._source.url}get homepage(){return this._source.homepage}get mv2URL(){return this._source.mv2_url}get diffURL(){return this._source.diff_url}get expires(){return this._source.expires}get privileged(){return this._source.privileged}}let y=null;d.setRecommendations=function(b){y=b},d.recommendations=function(){return y||(y=u("./core/data/subscriptions.json")),y.map(x=>new h(x))},d.Recommendation=h},"./core/lib/rsa.js":(f,d,u)=>{const h=u("./core/lib/rusha.js"),{BigInteger:y}=u("./core/lib/jsbn.js");let b=d.base64ToArrayBuffer=function(V){let P=atob(V);return Uint8Array.from(P,R=>R.charCodeAt(0))};d.arrayBufferToBase64=function(V){let P="",R=new Uint8Array(V);for(let N=0;N<R.byteLength;N++)P+=String.fromCharCode(R[N]);return btoa(P)},d.verifySignature=async function(V,P,R){let N={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};try{return await crypto.subtle.verify(N,await crypto.subtle.importKey("spki",b(V),N,!0,["verify"]),b(P),new TextEncoder().encode(R))}catch({message:E}){return console.warn("Invalid encrypted signature: "+E),!1}};function x(...F){return{type:48,children:F}}function A(F){return{type:6,content:F}}function j(F){return{type:3,encapsulates:F}}function T(F){return{type:2,out:F}}function I(F){return{type:4,out:F}}let S=x(x(A("*H÷\r"),{}),j(x(T("n"),T("e")))),G=x(x(A("+"),{}),I("sha1"));function D(F,V){let P=0;function R(){return F.charCodeAt(P++)}function N(){let B=R();if(B&128){let M=B&127;if(M>2||M==0)throw"Unsupported length";B=0;for(let U=0;U<M;U++)B+=R()<<(M-1-U)*8;return B}return B}function E(B){let M=R(),U=N();if("type"in B&&B.type!=M)throw"Unexpected type";if("content"in B&&B.content!=F.substring(P,P+U))throw"Unexpected content";if("out"in B&&(O[B.out]=new y(F.substring(P,P+U),256)),"children"in B){let Y,$;for(Y=0,$=P+U;P<$;Y++){if(Y>=B.children.length)throw"Too many children";E(B.children[Y])}if(Y<B.children.length)throw"Too few children";if(P>$)throw"Children too large"}else if("encapsulates"in B){if(R()!=0)throw"Encapsulation expected";E(B.encapsulates)}else P+=U}let O={};if(E(V),P!=F.length)throw"Too much data";return O}function X(F){try{return D(atob(F),S)}catch(V){return console.warn("Invalid RSA public key: "+V),null}}let L;d.verifySignatureSync=function(V,P,R){typeof L>"u"&&(L=new h);let N=X(V);if(!N)return!1;N.e=parseInt(N.e.toString(16),16);let O=new y(atob(P),256).modPowInt(N.e,N.n).toString(256);try{let B=0,M=()=>O.charCodeAt(B++);if(M()!=1)throw"Wrong padding in signature digest";for(;M()==255;);if(O.charCodeAt(B-1)!=0)throw"Wrong padding in signature digest";let{sha1:U}=D(O.substring(B),G),Y=new y(L.digest(R),16);return U.compareTo(Y)==0}catch(B){return console.warn("Invalid encrypted signature: "+B),!1}}},"./core/lib/rusha.js":(f,d,u)=>{(function(){var h={getDataType:function(A){if(typeof A=="string")return"string";if(A instanceof Array)return"array";if(typeof u.g<"u"&&u.g.Buffer&&u.g.Buffer.isBuffer(A))return"buffer";if(A instanceof ArrayBuffer)return"arraybuffer";if(A.buffer instanceof ArrayBuffer)return"view";if(A instanceof Blob)return"blob";throw new Error("Unsupported data type.")}};function y(A){for(var j={fill:0},T=function($){for($+=9;$%64>0;$+=1);return $},I=function($,ee){for(var ae=ee>>2;ae<$.length;ae++)$[ae]=0},S=function($,ee,ae){$[ee>>2]|=128<<24-(ee%4<<3),$[((ee>>2)+2&-16)+14]=ae/(1<<29)|0,$[((ee>>2)+2&-16)+15]=ae<<3},G=function($,ee,ae,re,J){var ue=this,Q,be=J%4,Re=re%4,oe=re-Re;if(oe>0)switch(be){case 0:$[J+3|0]=ue.charCodeAt(ae);case 1:$[J+2|0]=ue.charCodeAt(ae+1);case 2:$[J+1|0]=ue.charCodeAt(ae+2);case 3:$[J|0]=ue.charCodeAt(ae+3)}for(Q=be;Q<oe;Q=Q+4|0)ee[J+Q>>2]=ue.charCodeAt(ae+Q)<<24|ue.charCodeAt(ae+Q+1)<<16|ue.charCodeAt(ae+Q+2)<<8|ue.charCodeAt(ae+Q+3);switch(Re){case 3:$[J+oe+1|0]=ue.charCodeAt(ae+oe+2);case 2:$[J+oe+2|0]=ue.charCodeAt(ae+oe+1);case 1:$[J+oe+3|0]=ue.charCodeAt(ae+oe)}},D=function($,ee,ae,re,J){var ue=this,Q,be=J%4,Re=re%4,oe=re-Re;if(oe>0)switch(be){case 0:$[J+3|0]=ue[ae];case 1:$[J+2|0]=ue[ae+1];case 2:$[J+1|0]=ue[ae+2];case 3:$[J|0]=ue[ae+3]}for(Q=4-be;Q<oe;Q=Q+=4)ee[J+Q>>2]=ue[ae+Q]<<24|ue[ae+Q+1]<<16|ue[ae+Q+2]<<8|ue[ae+Q+3];switch(Re){case 3:$[J+oe+1|0]=ue[ae+oe+2];case 2:$[J+oe+2|0]=ue[ae+oe+1];case 1:$[J+oe+3|0]=ue[ae+oe]}},X=function($,ee,ae,re,J){var ue=this,Q,be=J%4,Re=re%4,oe=re-Re,ge=new Uint8Array(b.readAsArrayBuffer(ue.slice(ae,ae+re)));if(oe>0)switch(be){case 0:$[J+3|0]=ge[0];case 1:$[J+2|0]=ge[1];case 2:$[J+1|0]=ge[2];case 3:$[J|0]=ge[3]}for(Q=4-be;Q<oe;Q=Q+=4)ee[J+Q>>2]=ge[Q]<<24|ge[Q+1]<<16|ge[Q+2]<<8|ge[Q+3];switch(Re){case 3:$[J+oe+1|0]=ge[oe+2];case 2:$[J+oe+2|0]=ge[oe+1];case 1:$[J+oe+3|0]=ge[oe]}},L=function($){switch(h.getDataType($)){case"string":return G.bind($);case"array":return D.bind($);case"buffer":return D.bind($);case"arraybuffer":return D.bind(new Uint8Array($));case"view":return D.bind(new Uint8Array($.buffer,$.byteOffset,$.byteLength));case"blob":return X.bind($)}},F=new Array(256),V=0;V<256;V++)F[V]=(V<16?"0":"")+V.toString(16);var P=function($){for(var ee=new Uint8Array($),ae=new Array($.byteLength),re=0;re<ae.length;re++)ae[re]=F[ee[re]];return ae.join("")},R=function($){var ee;if($<=65536)return 65536;if($<16777216)for(ee=1;ee<$;ee=ee<<1);else for(ee=16777216;ee<$;ee+=16777216);return ee},N=function($){if($%64>0)throw new Error("Chunk size must be a multiple of 128 bit");j.maxChunkLen=$,j.padMaxChunkLen=T($),j.heap=new ArrayBuffer(R(j.padMaxChunkLen+320+20)),j.h32=new Int32Array(j.heap),j.h8=new Int8Array(j.heap),j.core=new y._core({Int32Array,DataView},{},j.heap),j.buffer=null};N(A||65536);var E=function($,ee){var ae=new Int32Array($,ee+320,5);ae[0]=1732584193,ae[1]=-271733879,ae[2]=-1732584194,ae[3]=271733878,ae[4]=-1009589776},O=function($,ee){var ae=T($),re=new Int32Array(j.heap,0,ae>>2);return I(re,$),S(re,$,ee),ae},B=function($,ee,ae){L($)(j.h8,j.h32,ee,ae,0)},M=function($,ee,ae,re,J){var ue=ae;J&&(ue=O(ae,re)),B($,ee,ae),j.core.hash(ue,j.padMaxChunkLen)},U=function($,ee){var ae=new Int32Array($,ee+320,5),re=new Int32Array(5),J=new DataView(re.buffer);return J.setInt32(0,ae[0],!1),J.setInt32(4,ae[1],!1),J.setInt32(8,ae[2],!1),J.setInt32(12,ae[3],!1),J.setInt32(16,ae[4],!1),re},Y=this.rawDigest=function($){var ee=$.byteLength||$.length||$.size||0;E(j.heap,j.padMaxChunkLen);var ae=0,re=j.maxChunkLen;for(ae=0;ee>ae+re;ae+=re)M($,ae,re,ee,!1);return M($,ae,ee-ae,ee,!0),U(j.heap,j.padMaxChunkLen)};this.digest=this.digestFromString=this.digestFromBuffer=this.digestFromArrayBuffer=function($){return P(Y($).buffer)}}if(y._core=function(j,T,I){var S=new j.Int32Array(I);function G(D,X){D=D|0,X=X|0;var L=0,F=0,V=0,P=0,R=0,N=0,E=0,O=0,B=0,M=0,U=0,Y=0,$=0,ee=0;for(V=S[X+320>>2]|0,R=S[X+324>>2]|0,E=S[X+328>>2]|0,B=S[X+332>>2]|0,U=S[X+336>>2]|0,L=0;(L|0)<(D|0);L=L+64|0){for(P=V,N=R,O=E,M=B,Y=U,F=0;(F|0)<64;F=F+4|0)ee=S[L+F>>2]|0,$=((V<<5|V>>>27)+(R&E|~R&B)|0)+((ee+U|0)+1518500249|0)|0,U=B,B=E,E=R<<30|R>>>2,R=V,V=$,S[D+F>>2]=ee;for(F=D+64|0;(F|0)<(D+80|0);F=F+4|0)ee=(S[F-12>>2]^S[F-32>>2]^S[F-56>>2]^S[F-64>>2])<<1|(S[F-12>>2]^S[F-32>>2]^S[F-56>>2]^S[F-64>>2])>>>31,$=((V<<5|V>>>27)+(R&E|~R&B)|0)+((ee+U|0)+1518500249|0)|0,U=B,B=E,E=R<<30|R>>>2,R=V,V=$,S[F>>2]=ee;for(F=D+80|0;(F|0)<(D+160|0);F=F+4|0)ee=(S[F-12>>2]^S[F-32>>2]^S[F-56>>2]^S[F-64>>2])<<1|(S[F-12>>2]^S[F-32>>2]^S[F-56>>2]^S[F-64>>2])>>>31,$=((V<<5|V>>>27)+(R^E^B)|0)+((ee+U|0)+1859775393|0)|0,U=B,B=E,E=R<<30|R>>>2,R=V,V=$,S[F>>2]=ee;for(F=D+160|0;(F|0)<(D+240|0);F=F+4|0)ee=(S[F-12>>2]^S[F-32>>2]^S[F-56>>2]^S[F-64>>2])<<1|(S[F-12>>2]^S[F-32>>2]^S[F-56>>2]^S[F-64>>2])>>>31,$=((V<<5|V>>>27)+(R&E|R&B|E&B)|0)+((ee+U|0)-1894007588|0)|0,U=B,B=E,E=R<<30|R>>>2,R=V,V=$,S[F>>2]=ee;for(F=D+240|0;(F|0)<(D+320|0);F=F+4|0)ee=(S[F-12>>2]^S[F-32>>2]^S[F-56>>2]^S[F-64>>2])<<1|(S[F-12>>2]^S[F-32>>2]^S[F-56>>2]^S[F-64>>2])>>>31,$=((V<<5|V>>>27)+(R^E^B)|0)+((ee+U|0)-899497514|0)|0,U=B,B=E,E=R<<30|R>>>2,R=V,V=$,S[F>>2]=ee;V=V+P|0,R=R+N|0,E=E+O|0,B=B+M|0,U=U+Y|0}S[X+320>>2]=V,S[X+324>>2]=R,S[X+328>>2]=E,S[X+332>>2]=B,S[X+336>>2]=U}return{hash:G}},f.exports=y,typeof FileReaderSync<"u"){var b=new FileReaderSync,x=new y(4*1024*1024);self.onmessage=function(j){var T,I=j.data.data;try{T=x.digest(I),self.postMessage({id:j.data.id,hash:T})}catch(S){self.postMessage({id:j.data.id,error:S.name})}}}})()},"./core/lib/snippets.js":(f,d,u)=>{const{EventEmitter:h}=u("./core/lib/events.js");let y=new Map([["n",`
`],["r","\r"],["t","	"]]);class b extends h{constructor(){super(),this._filters=new Set}clear(){let{_filters:j}=this;j.size!=0&&(j.clear(),this.emit("snippets.filtersCleared"))}add(j){let{_filters:T}=this,{size:I}=T;T.add(j),I!=T.size&&this.emit("snippets.filterAdded",j)}remove(j){let{_filters:T}=this,{size:I}=T;T.delete(j),I!=T.size&&this.emit("snippets.filterRemoved",j)}has(j){return this._filters.has(j)}getFilters(j){let T=[];for(let I of this._filters)I.isActiveOnDomain(j)&&T.push(I);return T}getFiltersForDomain(j){return this.getFilters(j)}}d.Snippets=b;let x=d.parseScript=function(j){let T=[],I=!1,S=!1,G=null,D=!1,X=[],L="";for(let F of j.trim()+";"){let V=D;if(D=!1,G!=null){if(G+=F,G.length==4){let P=parseInt(G,16);isNaN(P)||(L+=String.fromCodePoint(P)),G=null}}else I?(I=!1,F=="u"?G="":L+=y.get(F)||F):F=="\\"?I=!0:F=="'"?(S=!S,S||(D=!0)):S||F!=";"&&!/\s/.test(F)?L+=F:((L||V)&&(X.push(L),L=""),F==";"&&X.length>0&&(T.push(X),X=[]))}return T};d.compileScript=function(j,T,I,S,G={}){let D=JSON.stringify(T),X=JSON.stringify(I),L=JSON.stringify(G);return`
    "use strict";
    (() => 
    {
      let scripts = ${JSON.stringify([].concat(j).map(x))};

      let isolatedLib = ${D};
      let imports = Object.create(null);
      let injectedSnippetsCount = 0;
      let loadLibrary = new Function("exports", "environment", isolatedLib);
      loadLibrary(imports, ${L});
      const isolatedSnippets = imports.snippets;

      let injectedLib = ${X};
      let injectedSnippetsList = ${JSON.stringify(S)};
      let executable = "(() => {";
      executable += "let environment = ${L.replace(/[\\"]/g,"\\$&")};";
      executable += injectedLib;

      let {hasOwnProperty} = Object.prototype;
      for (let script of scripts)
      {
        for (let [name, ...args] of script)
        {
          if (hasOwnProperty.call(isolatedSnippets, name))
          {
            let value = isolatedSnippets[name];
            if (typeof value == "function")
              value(...args);
          }
          if (injectedSnippetsList.includes(name))
          {
            executable += stringifyFunctionCall(name, ...args);
            injectedSnippetsCount++;
          }
        }
      }

      executable += "})();";

      if (injectedSnippetsCount > 0)
        injectSnippetsInMainContext(executable);

      function stringifyFunctionCall(func, ...params)
      {
        // Call JSON.stringify on the arguments to avoid any arbitrary code
        // execution.
        const f = "snippets['" + func + "']";
        const parameters = params.map(JSON.stringify).join(",");
        return f + "(" + parameters + ");";
      }

      function injectSnippetsInMainContext(exec)
      {
        // injecting phase
        let script = document.createElement("script");
        script.type = "application/javascript";
        script.async = false;

        // Firefox 58 only bypasses site CSPs when assigning to 'src',
        // while Chrome 67 and Microsoft Edge (tested on 44.17763.1.0)
        // only bypass site CSPs when using 'textContent'.
        if (typeof netscape != "undefined" && typeof browser != "undefined")
        {
          let url = URL.createObjectURL(new Blob([exec]));
          script.src = url;
          document.documentElement.appendChild(script);
          URL.revokeObjectURL(url);
        }
        else
        {
          script.textContent = exec;
          document.documentElement.appendChild(script);
        }

        document.documentElement.removeChild(script);
      }
    })();
  `}},"./core/lib/subscriptionClasses.js":(f,d,u)=>{const{recommendations:h}=u("./core/lib/recommendations.js"),{isActiveFilter:y,Filter:b}=u("./core/lib/filterClasses.js"),{filterNotifier:x}=u("./core/lib/filterNotifier.js"),{Downloader:A}=u("./core/lib/downloader.js"),{isHttpOrHttps:j}=u("./core/lib/url.js");let T=null;d._clean=function(){T=null,S=null};function I(){if(T)return T;T=new Map;for(let N of h())D.dnr&&N.url?T.set(N.url,N):N.mv2URL&&T.set(N.mv2URL,N);return T}let S=null;function G(){if(S)return S;S=new Map;for(let N of h())N.mv2URL&&S.set(N.mv2URL,N.url);return S}let D=d.Subscription=class Dm{constructor(E,O){this._url=E,this._urlValid=Dm.isValidURL(E);let B=I().get(E);this._type=B?B.type:null,this._id=B?B.id:null,this._filterText=[],this._filterTextIndex=new Set,this._title=null,O&&(this._title=O),this._privileged=B?B.privileged:!1,this._fixedTitle=!1,this._disabled=!1,Dm.knownSubscriptions.set(E,this)}get id(){return this._id}get url(){return this._url}get valid(){return!0}get type(){return this._type}get privileged(){return this._privileged==null?this._type==="circumvention":this._privileged}set privileged(E){if(E!==this._privileged){let O=this._privileged;this._privileged=E,x.emit("subscription.privileged",this,E,O)}}get title(){return this._title}set title(E){if(E!=this._title){let O=this._title;this._title=E,x.emit("subscription.title",this,E,O)}}get fixedTitle(){return this._fixedTitle}set fixedTitle(E){if(E!=this._fixedTitle){let O=this._fixedTitle;this._fixedTitle=E,x.emit("subscription.fixedTitle",this,E,O)}}get downloadable(){return!1}get hasBundledFilters(){return!1}get disabled(){return this._disabled}set disabled(E){if(E!=this._disabled){let O=this._disabled;this._disabled=E,x.emit("subscription.disabled",this,E,O)}}get filterCount(){return this._filterText.length}filterText(){return this._filterText[Symbol.iterator]()}setParams(E){if(E.homepage){let O;try{O=new URL(E.homepage)}catch{O=null}O&&j(O)&&(this.homepage=O.href)}E.title?(this.title=E.title,this.fixedTitle=!0):this.fixedTitle=!1,E.version&&(this.version=parseInt(E.version,10)),this.type&&(this.abtest=E.abtest),E.diffURL&&(this.diffURL=E.diffURL),E.lastModified&&(this.lastModified=E.lastModified)}setFilterText(E,O=null){if(!Array.isArray(E))throw new Error("setFilterText() must be called with an Array");this._filterText=E.map(B=>b.normalize(B)),this._filterTextIndex=new Set(this._filterText),O&&this.setParams(O)}hasFilterText(E){return this._filterTextIndex.has(E)}filterTextAt(E){return this._filterText[E]||null}findFilterIndex(E,O=0){return this.findFilterTextIndex(E.text,O)}findFilterTextIndex(E,O=0){return this._filterText.indexOf(E,O)}clearFilters(){this._filterText=[],this._filterTextIndex.clear()}addFilter(E){this.addFilterText(E.text)}addFilterText(E){this._filterText.push(E),this._filterTextIndex.add(E)}insertFilterAt(E,O){this.insertFilterTextAt(E.text,O)}insertFilterTextAt(E,O){this._filterText.splice(O,0,E),this._filterTextIndex.add(E)}deleteFilterAt(E){if(E<0)return;let[O]=this._filterText.splice(E,1);this._filterText.includes(O)||this._filterTextIndex.delete(O)}updateFilterText(E){let O=[],B=[];if(this._filterText.length==0)O=[...E];else if(E.length>0)for(let M of E)this._filterTextIndex.has(M)||O.push(M);if(this._filterTextIndex=new Set(E),E.length==0)B=[...this._filterText];else if(this._filterText.length>0)for(let M of this._filterText)this._filterTextIndex.has(M)||B.push(M);return this._filterText=[...E],{added:O,removed:B}}*serialize(){let{url:E,_title:O,_fixedTitle:B,_disabled:M,_id:U}=this;yield"[Subscription]",yield"url="+E,O&&(yield"title="+O),B&&(yield"fixedTitle=true"),M&&(yield"disabled=true"),U&&(yield"id="+U)}*serializeFilters(){let{_filterText:E}=this;yield"[Subscription filters]";for(let O of E)yield O.replace(/\[/g,"\\[")}toString(){return[...this.serialize()].join(`
`)}};d.Subscription.knownSubscriptions=new Map,d.Subscription.dnr=!1,d.Subscription.fromURL=function(N){let E=D.knownSubscriptions.get(N);if(E)return E;if(N[0]!="~"){let O=!0,B=null,M=null,U=!1;if(D.dnr){let Y=G().get(N);if(Y){if(E=D.knownSubscriptions.get(Y),E)return E;N=Y}let $=I().get(N);$&&(B=$.title,O=!1,M={homepage:$.homepage,title:B},$.diffURL&&(M.diffURL=$.diffURL,U=!0))}return O?E=new P(N,B):U?E=new R(N,B,M):E=new V(N,B,M),E}return new X(N)},d.Subscription.fromObject=function(N){let E;return N.url[0]!="~"?("downloadable"in N&&N.downloadable=="false"?"diffURL"in N?E=new R(N.url,N.title):E=new V(N.url,N.title):E=new P(N.url,N.title),E.type&&(E.abtest=N.abtest),"diffURL"in N&&(E.diffURL=N.diffURL),"downloadStatus"in N&&(E._downloadStatus=N.downloadStatus),"lastSuccess"in N&&(E.lastSuccess=parseInt(N.lastSuccess,10)||0),"lastCheck"in N&&(E._lastCheck=parseInt(N.lastCheck,10)||0),"expires"in N&&(E.expires=parseInt(N.expires,10)||0),"softExpiration"in N&&(E.softExpiration=parseInt(N.softExpiration,10)||0),"errors"in N&&(E._errors=parseInt(N.errors,10)||0),"version"in N&&(E.version=parseInt(N.version,10)||0),"requiredVersion"in N&&(E.requiredVersion=N.requiredVersion),"homepage"in N&&(E._homepage=N.homepage),"lastDownload"in N&&(E._lastDownload=parseInt(N.lastDownload,10)||0),"downloadCount"in N&&(E.downloadCount=parseInt(N.downloadCount,10)||0)):(E=new X(N.url,N.title),"defaults"in N&&(E.defaults=N.defaults.split(" ")),"metadata"in N&&(E._metadata=JSON.parse(N.metadata))),"id"in N&&(E._id=N.id),"fixedTitle"in N&&(E._fixedTitle=N.fixedTitle=="true"),"disabled"in N&&(E._disabled=N.disabled=="true"),E},d.Subscription.isValidURL=function(E){return typeof E=="string"&&(E.startsWith("~user~")||A.isValidURL(E))};let X=d.SpecialSubscription=class Cm extends D{constructor(E,O){super(E,O),this.defaults=null,this._metadata=null}get privileged(){return!0}isDefaultFor(E){if(this.defaults&&this.defaults.length){for(let O of this.defaults)if(Cm.defaultsMap.get(O).includes(E.type)||!y(E)&&O=="blocking")return!0}return!1}set metadata(E){let O=this._metadata;this._metadata=E,x.emit("subscription.metadata",this,E,O)}get metadata(){return this._metadata}*serialize(){let{defaults:E,_lastDownload:O,_metadata:B}=this;yield*super.serialize(),E&&(yield"defaults="+E.map(M=>M=="allowing"?"whitelist":M).filter(M=>Cm.defaultsMap.has(M)).join(" ")),B&&(yield"metadata="+JSON.stringify(B)),O&&(yield"lastDownload="+O)}};d.SpecialSubscription.defaultsMap=new Map([["allowing",["allowing"]],["whitelist",["allowing"]],["blocking",["blocking"]],["elemhide",["elemhide","elemhideexception","elemhideemulation"]]]),d.SpecialSubscription.create=function(N){let E;do E="~user~"+Math.round(Math.random()*1e6);while(D.knownSubscriptions.has(E));return new X(E,N)},d.SpecialSubscription.createForFilter=function(N){let E=X.create();E.addFilter(N);for(let[O,B]of X.defaultsMap)B.includes(N.type)&&(E.defaults=[O]);return E.defaults||(E.defaults=["blocking"]),E};let L=d.RegularSubscription=class extends D{constructor(E,O){super(E,O||E),this._homepage=null,this._lastDownload=0;let B=I().get(E);this._languages=B?B.languages:null}get homepage(){return this._homepage}set homepage(E){if(E!=this._homepage){let O=this._homepage;this._homepage=E,x.emit("subscription.homepage",this,E,O)}}get languages(){return this._languages}get lastDownload(){return this._lastDownload}set lastDownload(E){if(E!=this._lastDownload){let O=this._lastDownload;this._lastDownload=E,x.emit("subscription.lastDownload",this,E,O)}}*serialize(){let{_homepage:E,_lastDownload:O}=this;yield*super.serialize(),this.downloadable||(yield"downloadable=false"),E&&(yield"homepage="+E),O&&(yield"lastDownload="+O)}},F=null,V=d.CountableSubscription=class extends L{static useSynchronizer(E){F=E}constructor(E,O,B){super(E,O),B&&this.setParams(B),this._downloadStatus=null,this._lastCheck=0,this._errors=0,this.lastSuccess=0,this.expires=0,this.softExpiration=0,this.version=0,this.requiredVersion=null,this.downloadCount=0}get countable(){return!0}get hasBundledFilters(){return!0}get disabled(){return super.disabled}set disabled(E){let{_disabled:O}=this;super.disabled=E,F&&O&&!E&&F.execute(this)}get downloadStatus(){return this._downloadStatus}set downloadStatus(E){let O=this._downloadStatus;this._downloadStatus=E,x.emit("subscription.downloadStatus",this,E,O)}get lastCheck(){return this._lastCheck}set lastCheck(E){if(E!=this._lastCheck){let O=this._lastCheck;this._lastCheck=E,x.emit("subscription.lastCheck",this,E,O)}}get errors(){return this._errors}set errors(E){if(E!=this._errors){let O=this._errors;this._errors=E,x.emit("subscription.errors",this,E,O)}}*serialize(){let{downloadStatus:E,lastSuccess:O,lastCheck:B,expires:M,softExpiration:U,errors:Y,version:$,requiredVersion:ee,downloadCount:ae}=this;yield*super.serialize(),E&&(yield"downloadStatus="+E),O&&(yield"lastSuccess="+O),B&&(yield"lastCheck="+B),M&&(yield"expires="+M),U&&(yield"softExpiration="+U),Y&&(yield"errors="+Y),$&&(yield"version="+$),ee&&(yield"requiredVersion="+ee),ae&&(yield"downloadCount="+ae)}},P=d.FullUpdatableSubscription=class extends V{constructor(E,O){super(E,O)}get downloadable(){return!0}get hasBundledFilters(){return!1}},R=d.DiffUpdatableSubscription=class extends V{constructor(E,O,B){super(E,O),B&&this.setParams(B)}*serialize(){let{diffURL:E,lastModified:O}=this;yield*super.serialize(),E&&(yield"diffURL="+E),O&&(yield"lastModified="+O)}get downloadable(){return!1}get diffURL(){return this._diffURL}set diffURL(E){let O=this._diffURL;this._diffURL=E,x.emit("subscription.diffURL",this,E,O)}get lastModified(){return this._lastModified}set lastModified(E){let O=this._lastModified;this._lastModified=E,x.emit("subscription.lastModified",this,E,O)}}},"./core/lib/synchronizer.js":(f,d,u)=>{const{Prefs:h}=u("./sdk/background/prefs.js"),{MILLIS_IN_SECOND:y,MILLIS_IN_MINUTE:b,MILLIS_IN_HOUR:x,MILLIS_IN_DAY:A}=u("./core/lib/time.js"),{Downloader:j,Downloadable:T}=u("./core/lib/downloader.js"),{Filter:I}=u("./core/lib/filterClasses.js"),{filterNotifier:S}=u("./core/lib/filterNotifier.js"),{Subscription:G,CountableSubscription:D}=u("./core/lib/subscriptionClasses.js"),{analytics:X}=u("./core/lib/analytics.js"),{parseFilterList:L}=u("./core/lib/filters/lists.js"),{recommendations:F}=u("./core/lib/recommendations.js"),{isHttpOrHttps:V}=u("./core/lib/url.js"),P=1*b,R=1*x,N=5*A;let E=(B,M)=>B in h?h[B]:M;class O{constructor(M){if(M==null||typeof M!="object")throw Error("filterStorage must be a valid object");this._started=!1,this._downloader=new j(this._getDownloadables.bind(this)),this._downloader.onExpirationChange=this._onExpirationChange.bind(this),this._downloader.onDownloadStarted=this._onDownloadStarted.bind(this),this._downloader.onDownloadSuccess=this._onDownloadSuccess.bind(this),this._downloader.onDownloadError=this._onDownloadError.bind(this),this._filterStorage=M,D.useSynchronizer(this)}start(){this._started||(this._downloader.scheduleChecks(E("subscriptions_check_interval",R),E("subscriptions_initial_delay",P)),this._started=!0)}stop(){this._started=!1,this._downloader.unscheduleChecks()}isExecuting(M){return this._downloader.isDownloading(M)}execute(M,U){this._downloader.download(this._getDownloadable(M,U))}*_getDownloadables(){if(h.subscriptions_autoupdate)for(let M of this._filterStorage.subscriptions())M instanceof D&&(yield this._getDownloadable(M,!1))}_getDownloadable(M,U){let{url:Y,lastDownload:$,lastSuccess:ee,lastCheck:ae,version:re,softExpiration:J,expires:ue,downloadCount:Q,disabled:be,downloadable:Re,countable:oe,diffURL:ge,lastModified:me}=M,se;return ge?(se=new T(ge),se.originalUrl=Y):se=new T(Y),X.isTrusted(Y)&&(se.firstVersion=X.getFirstVersion()),$!=ee&&(se.lastError=$*y),se.lastCheck=ae*y,se.lastVersion=re,se.softExpiration=J*y,se.hardExpiration=ue*y,se.manual=U,se.downloadCount=Q,se.disabled=be,se.lastModified=me,!ge&&(be||oe&&!Re)&&(se.method="HEAD"),se}_onExpirationChange(M){let U=G.fromURL(M.originalUrl||M.url);U.lastCheck=Math.round(M.lastCheck/y),U.softExpiration=Math.round(M.softExpiration/y),U.expires=Math.round(M.hardExpiration/y)}_onDownloadStarted(M){let U=G.fromURL(M.originalUrl||M.url);S.emit("subscription.downloading",U)}_onDownloadSuccess(M,U,Y,$){let ee=M.originalUrl!=null,ae=G.fromURL(M.redirectURL||(ee?M.originalUrl:M.url));S.emit("subscription.downloading",ae);let re=M.method==="HEAD",{error:J,lines:ue,params:Q,minVersion:be}=re||ee?{params:{}}:L(U);if(J)return Y(J);if(Q.redirect)return $(Q.redirect);if(M.redirectURL&&M.redirectURL!=M.url){let Ae=G.fromURL(M.originalUrl||M.url);ae.title=Ae.title,ae.disabled=Ae.disabled,ae.lastCheck=Ae.lastCheck;let Le=this._filterStorage.hasSubscription(Ae);Le&&this._filterStorage.removeSubscription(Ae),G.knownSubscriptions.delete(Ae.url),Le&&this._filterStorage.addSubscription(ae)}if(ae.lastSuccess=ae.lastDownload=Math.round(Date.now()/y),ae.downloadStatus="synchronize_ok",ae.downloadCount=M.downloadCount,ae.errors=0,Q.homepage){let Ae;try{Ae=new URL(Q.homepage)}catch{Ae=null}Ae&&V(Ae)&&(ae.homepage=Ae.href)}Q.title?(ae.title=Q.title,ae.fixedTitle=!0):ae.fixedTitle=!1,Q.version?ae.version=parseInt(Q.version,10):ae.version=re||ee?M.lastVersion:0,(Q.version||ee)&&X.isTrusted(M.redirectURL||M.url)&&X.recordVersion(ae.version.toString()),ae.type&&(ae.abtest=Q.abtest);let Re=E("subscriptions_head_expiration_interval",A),oe=E("subscriptions_default_expiration_interval",N),ge=re?Re:oe;if(ee&&(Q.expires=[...F()].find(Ae=>Ae.url===M.originalUrl).expires),Q.expires){let Ae=/^(\d+)\s*(h)?/.exec(Q.expires);if(Ae){let Le=parseInt(Ae[1],10);Ae[2]?ge=Le*x:ge=Le*A}}let[me,se]=this._downloader.processExpirationInterval(ge);if(ae.softExpiration=Math.round(me/y),ae.expires=Math.round(se/y),be?ae.requiredVersion=be:delete ae.requiredVersion,re)S.emit("subscription.updated",ae);else if(ee){const Ae=JSON.parse(U),Le=Ae.filters.add,ve=Ae.filters.remove;S.emit("subscription.diffReceived",ae,{added:Le,removed:ve})}else G.dnr?S.emit("subscription.fullUpdateReceived",ae,ue):this._processFilters(ae,ue)}_onDownloadError(M,U,Y,$,ee){let ae=G.fromURL(M.originalUrl||M.url);if(ae.lastDownload=Math.round(Date.now()/y),ae.downloadStatus=Y,S.emit("subscription.downloading",ae),!M.manual&&(ae.errors++,ee&&ae.errors>=h.subscriptions_fallbackerrors&&/^https?:\/\//i.test(ae.url))){ae.errors=0;let re=h.subscriptions_fallbackurl;const{addonVersion:J}=u("./sdk/background/info.js");re=re.replace(/%VERSION%/g,encodeURIComponent(J)),re=re.replace(/%SUBSCRIPTION%/g,encodeURIComponent(ae.url)),re=re.replace(/%URL%/g,encodeURIComponent(U)),re=re.replace(/%ERROR%/g,encodeURIComponent(Y)),re=re.replace(/%RESPONSESTATUS%/g,encodeURIComponent($));let ue={cache:"no-store",credentials:"omit",referrer:"no-referrer",method:M.method};fetch(re,ue).then(Q=>Q.text()).then(Q=>{if(!this._filterStorage.hasSubscription(ae))return;let be=/^(\d+)(?:\s+(\S+))?$/.exec(Q);if(be&&be[1]=="301"&&be[2]&&/^https?:\/\//i.test(be[2]))ee(be[2]);else if(be&&be[1]=="410"){let Re=`[Adblock]
`+[...ae.filterText()].join(`
`);ee("data:text/plain,"+encodeURIComponent(Re))}})}}addSubscriptionFilters(M,U,Y){let{error:$,lines:ee}=L(U);$?Y($):this._processFilters(M,ee)}_processFilters(M,U){U.shift();let Y=[];for(let $ of U)$=I.normalize($),$&&Y.push($);this._filterStorage.updateSubscriptionFilters(M,Y)}}d.Synchronizer=O},"./core/lib/time.js":(f,d)=>{d.MILLIS_IN_SECOND=1e3,d.MILLIS_IN_MINUTE=6e4,d.MILLIS_IN_HOUR=36e5,d.MILLIS_IN_DAY=864e5,d.MINUTES_IN_HOUR=60,d.MINUTES_IN_DAY=1440},"./core/lib/url.js":(f,d,u)=>{const{Cache:h}=u("./core/lib/caching.js"),{icannPublicSuffixes:y}=u("./core/data/icannPublicSuffixList.js"),{nonIcannPublicSuffixes:b}=u("./core/data/nonIcannPublicSuffixList.js");Object.setPrototypeOf(y,null),Object.setPrototypeOf(b,null);let x=new h(1e3);class A{constructor(F,V,P=""){this._href=F,this._protocol=V,this._hostname=P}get href(){return this._href}get protocol(){return this._protocol}get hostname(){return this._hostname}toString(){return this._href}}let j=d.parseURL=function(F){let V=/^([^:]+:)(?:\/\/(?:[^/]*@)?(\[[^\]]*\]|[^:/]+))?/.exec(F);if(!V)throw new Error(`Failed to parse invalid URL "${F}"`);return new A(F,V[1],V[2])},T=d.domainSuffixes=function*(F,V=!1){if(I(F))yield F;else for(F[F.length-1]=="."&&(F=F.substring(0,F.length-1));F!="";){yield F;let P=F.indexOf(".");F=P==-1?"":F.substr(P+1)}V&&(yield"")};d.isLocalhost=function(F){return F=="localhost"||F=="127.0.0.1"||F=="[::1]"},d.isHttpOrHttps=function(L){const F=L.protocol;return F=="http:"||F=="https:"};function I(L){return L[0]=="["&&L[L.length-1]=="]"?!0:L[L.length-1]>=0&&/^\d+\.\d+\.\d+\.\d+$/.test(L)}function S(L){return/^(((2[0-4]|1[0-9]|[1-9])?[0-9]|25[0-5])\.){4}$/.test(L+".")}d.isValidHostname=function(F){if(S(F)||F[0]=="["&&F[F.length-1]=="]")return!0;if(F[F.length-1]=="."&&(F=F.substring(0,F.length-1)),F.length>253)return!1;let V=F.split(".");for(let[P,R]of V.entries()){if(R=="*"&&P==V.length-1)return!0;if(!/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(R))return!1}return!!/\D/.test(V[V.length-1])};let G=d.getBaseDomain=function(F){let V=[],P=NaN;for(let R of T(F)){V.push(R);let N=y[R];if(typeof N!="number"&&(N=b[R]),typeof N=="number"){P=V.length-1-N;break}}return isNaN(P)?V.length>2?V[V.length-2]:F:P<=0?F:V[P]};function D(L,F){return L[L.length-1]=="."&&(L=L.substring(0,L.length-1)),F[F.length-1]=="."&&(F=F.substring(0,F.length-1)),L==F?!1:!L||!F||I(L)||I(F)?!0:G(L)!=G(F)}let X=d.URLRequest=class{constructor(){}get href(){return this._href}get urlInfo(){return this._urlInfo||(this._urlInfo=j(this._href)),this._urlInfo}get documentHostname(){return this._documentHostname==null?null:this._documentHostname}get thirdParty(){return typeof this._thirdParty>"u"&&(this._thirdParty=this._documentHostname==null?!1:D(this.urlInfo.hostname,this._documentHostname)),this._thirdParty}toString(){return this._href}get lowerCaseHref(){return this._lowerCaseHref==null&&(this._lowerCaseHref=this._href.toLowerCase()),this._lowerCaseHref}};d.URLRequest.from=function(L,F=null){let V=new X;return typeof L=="string"?V._href=L:(V._urlInfo=L instanceof A?L:new A(L.href,L.protocol,L.hostname),V._href=L.href),F!=null&&(V._documentHostname=F),V},d.parseDomains=function(F,V){let P=x.get(F);if(typeof P<"u")return P;if(F[0]!="~"&&!F.includes(V))P=new Map([["",!1],[F,!0]]);else{P=null;let R=!1;for(let N of F.split(V)){if(N=="")continue;let E;N[0]=="~"?(E=!1,N=N.substring(1)):(E=!0,R=!0),P||(P=new Map),P.set(N,E)}P&&P.set("",!R)}return x.set(F,P),P},d.hasWildcard=function(F){return F.includes(".*")},d.matchesWildcards=function(F,V){let P=V.slice(0,-1),R=/^.+(:\d+)$/.exec(F);R&&R.length>1&&(F=F.slice(0,-R[1].length));for(let N of T(F)){if(!N.startsWith(P))continue;let E=N.slice(P.length);if(typeof y[E]=="number")return!0}return!1},d.isValidDomainWildcard=function(F){if(F.includes("?"))return!1;let V=(F.match(/\*/g)||[]).length;if(V>1)return!1;if(V==1){let P=F.indexOf("*");if(P<F.length-1||F.length==1||P>0&&F[P-1]!=".")return!1}return!0},d.stripQuery=function(L){return L.split("?")[0]}},"./core/lib/versions.js":(f,d)=>{function u(h){return h=="*"?1/0:parseInt(h,10)||0}d.compareVersions=function(y,b){let x=/^(.*?)([a-z].*)?$/i,[,A,j]=x.exec(y),[,T,I]=x.exec(b),S=A.split("."),G=T.split(".");for(let D=0;D<S.length||D<G.length;D++){let X=u(S[D])-u(G[D])||0;if(X<0)return-1;if(X>0)return 1}return j==I?0:!j||I&&j>I?1:-1}},"./node_modules/lz-string/libs/lz-string.js":(f,d,u)=>{var h,y=function(){var b=String.fromCharCode,x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",j={};function T(S,G){if(!j[S]){j[S]={};for(var D=0;D<S.length;D++)j[S][S.charAt(D)]=D}return j[S][G]}var I={compressToBase64:function(S){if(S==null)return"";var G=I._compress(S,6,function(D){return x.charAt(D)});switch(G.length%4){default:case 0:return G;case 1:return G+"===";case 2:return G+"==";case 3:return G+"="}},decompressFromBase64:function(S){return S==null?"":S==""?null:I._decompress(S.length,32,function(G){return T(x,S.charAt(G))})},compressToUTF16:function(S){return S==null?"":I._compress(S,15,function(G){return b(G+32)})+" "},decompressFromUTF16:function(S){return S==null?"":S==""?null:I._decompress(S.length,16384,function(G){return S.charCodeAt(G)-32})},compressToUint8Array:function(S){for(var G=I.compress(S),D=new Uint8Array(G.length*2),X=0,L=G.length;X<L;X++){var F=G.charCodeAt(X);D[X*2]=F>>>8,D[X*2+1]=F%256}return D},decompressFromUint8Array:function(S){if(S==null)return I.decompress(S);for(var G=new Array(S.length/2),D=0,X=G.length;D<X;D++)G[D]=S[D*2]*256+S[D*2+1];var L=[];return G.forEach(function(F){L.push(b(F))}),I.decompress(L.join(""))},compressToEncodedURIComponent:function(S){return S==null?"":I._compress(S,6,function(G){return A.charAt(G)})},decompressFromEncodedURIComponent:function(S){return S==null?"":S==""?null:(S=S.replace(/ /g,"+"),I._decompress(S.length,32,function(G){return T(A,S.charAt(G))}))},compress:function(S){return I._compress(S,16,function(G){return b(G)})},_compress:function(S,G,D){if(S==null)return"";var X,L,F={},V={},P="",R="",N="",E=2,O=3,B=2,M=[],U=0,Y=0,$;for($=0;$<S.length;$+=1)if(P=S.charAt($),Object.prototype.hasOwnProperty.call(F,P)||(F[P]=O++,V[P]=!0),R=N+P,Object.prototype.hasOwnProperty.call(F,R))N=R;else{if(Object.prototype.hasOwnProperty.call(V,N)){if(N.charCodeAt(0)<256){for(X=0;X<B;X++)U=U<<1,Y==G-1?(Y=0,M.push(D(U)),U=0):Y++;for(L=N.charCodeAt(0),X=0;X<8;X++)U=U<<1|L&1,Y==G-1?(Y=0,M.push(D(U)),U=0):Y++,L=L>>1}else{for(L=1,X=0;X<B;X++)U=U<<1|L,Y==G-1?(Y=0,M.push(D(U)),U=0):Y++,L=0;for(L=N.charCodeAt(0),X=0;X<16;X++)U=U<<1|L&1,Y==G-1?(Y=0,M.push(D(U)),U=0):Y++,L=L>>1}E--,E==0&&(E=Math.pow(2,B),B++),delete V[N]}else for(L=F[N],X=0;X<B;X++)U=U<<1|L&1,Y==G-1?(Y=0,M.push(D(U)),U=0):Y++,L=L>>1;E--,E==0&&(E=Math.pow(2,B),B++),F[R]=O++,N=String(P)}if(N!==""){if(Object.prototype.hasOwnProperty.call(V,N)){if(N.charCodeAt(0)<256){for(X=0;X<B;X++)U=U<<1,Y==G-1?(Y=0,M.push(D(U)),U=0):Y++;for(L=N.charCodeAt(0),X=0;X<8;X++)U=U<<1|L&1,Y==G-1?(Y=0,M.push(D(U)),U=0):Y++,L=L>>1}else{for(L=1,X=0;X<B;X++)U=U<<1|L,Y==G-1?(Y=0,M.push(D(U)),U=0):Y++,L=0;for(L=N.charCodeAt(0),X=0;X<16;X++)U=U<<1|L&1,Y==G-1?(Y=0,M.push(D(U)),U=0):Y++,L=L>>1}E--,E==0&&(E=Math.pow(2,B),B++),delete V[N]}else for(L=F[N],X=0;X<B;X++)U=U<<1|L&1,Y==G-1?(Y=0,M.push(D(U)),U=0):Y++,L=L>>1;E--,E==0&&(E=Math.pow(2,B),B++)}for(L=2,X=0;X<B;X++)U=U<<1|L&1,Y==G-1?(Y=0,M.push(D(U)),U=0):Y++,L=L>>1;for(;;)if(U=U<<1,Y==G-1){M.push(D(U));break}else Y++;return M.join("")},decompress:function(S){return S==null?"":S==""?null:I._decompress(S.length,32768,function(G){return S.charCodeAt(G)})},_decompress:function(S,G,D){var X=[],L=4,F=4,V=3,P="",R=[],N,E,O,B,M,U,Y,$={val:D(0),position:G,index:1};for(N=0;N<3;N+=1)X[N]=N;for(O=0,M=Math.pow(2,2),U=1;U!=M;)B=$.val&$.position,$.position>>=1,$.position==0&&($.position=G,$.val=D($.index++)),O|=(B>0?1:0)*U,U<<=1;switch(O){case 0:for(O=0,M=Math.pow(2,8),U=1;U!=M;)B=$.val&$.position,$.position>>=1,$.position==0&&($.position=G,$.val=D($.index++)),O|=(B>0?1:0)*U,U<<=1;Y=b(O);break;case 1:for(O=0,M=Math.pow(2,16),U=1;U!=M;)B=$.val&$.position,$.position>>=1,$.position==0&&($.position=G,$.val=D($.index++)),O|=(B>0?1:0)*U,U<<=1;Y=b(O);break;case 2:return""}for(X[3]=Y,E=Y,R.push(Y);;){if($.index>S)return"";for(O=0,M=Math.pow(2,V),U=1;U!=M;)B=$.val&$.position,$.position>>=1,$.position==0&&($.position=G,$.val=D($.index++)),O|=(B>0?1:0)*U,U<<=1;switch(Y=O){case 0:for(O=0,M=Math.pow(2,8),U=1;U!=M;)B=$.val&$.position,$.position>>=1,$.position==0&&($.position=G,$.val=D($.index++)),O|=(B>0?1:0)*U,U<<=1;X[F++]=b(O),Y=F-1,L--;break;case 1:for(O=0,M=Math.pow(2,16),U=1;U!=M;)B=$.val&$.position,$.position>>=1,$.position==0&&($.position=G,$.val=D($.index++)),O|=(B>0?1:0)*U,U<<=1;X[F++]=b(O),Y=F-1,L--;break;case 2:return R.join("")}if(L==0&&(L=Math.pow(2,V),V++),X[Y])P=X[Y];else if(Y===F)P=E+E.charAt(0);else return null;R.push(P),X[F++]=E+P.charAt(0),L--,E=P,L==0&&(L=Math.pow(2,V),V++)}}};return I}();h=(function(){return y}).call(d,u,d,f),h!==void 0&&(f.exports=h)},"./node_modules/uuid/dist/esm-browser/native.js":(f,d,u)=>{u.r(d),u.d(d,{default:()=>y});const y={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)}},"./node_modules/uuid/dist/esm-browser/regex.js":(f,d,u)=>{u.r(d),u.d(d,{default:()=>h});const h=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},"./node_modules/uuid/dist/esm-browser/rng.js":(f,d,u)=>{u.r(d),u.d(d,{default:()=>b});let h;const y=new Uint8Array(16);function b(){if(!h&&(h=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!h))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return h(y)}},"./node_modules/uuid/dist/esm-browser/stringify.js":(f,d,u)=>{u.r(d),u.d(d,{default:()=>A,unsafeStringify:()=>b});var h=u("./node_modules/uuid/dist/esm-browser/validate.js");const y=[];for(let j=0;j<256;++j)y.push((j+256).toString(16).slice(1));function b(j,T=0){return(y[j[T+0]]+y[j[T+1]]+y[j[T+2]]+y[j[T+3]]+"-"+y[j[T+4]]+y[j[T+5]]+"-"+y[j[T+6]]+y[j[T+7]]+"-"+y[j[T+8]]+y[j[T+9]]+"-"+y[j[T+10]]+y[j[T+11]]+y[j[T+12]]+y[j[T+13]]+y[j[T+14]]+y[j[T+15]]).toLowerCase()}function x(j,T=0){const I=b(j,T);if(!(0,h.default)(I))throw TypeError("Stringified UUID is invalid");return I}const A=x},"./node_modules/uuid/dist/esm-browser/v4.js":(f,d,u)=>{u.r(d),u.d(d,{default:()=>A});var h=u("./node_modules/uuid/dist/esm-browser/native.js"),y=u("./node_modules/uuid/dist/esm-browser/rng.js"),b=u("./node_modules/uuid/dist/esm-browser/stringify.js");function x(j,T,I){if(h.default.randomUUID&&!T&&!j)return h.default.randomUUID();j=j||{};const S=j.random||(j.rng||y.default)();if(S[6]=S[6]&15|64,S[8]=S[8]&63|128,T){I=I||0;for(let G=0;G<16;++G)T[I+G]=S[G];return T}return(0,b.unsafeStringify)(S)}const A=x},"./node_modules/uuid/dist/esm-browser/validate.js":(f,d,u)=>{u.r(d),u.d(d,{default:()=>b});var h=u("./node_modules/uuid/dist/esm-browser/regex.js");function y(x){return typeof x=="string"&&h.default.test(x)}const b=y},"./node_modules/webextension-polyfill/dist/browser-polyfill.js":function(f,d){var u,h,y;(function(b,x){h=[f],u=x,y=typeof u=="function"?u.apply(d,h):u,y!==void 0&&(f.exports=y)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:this,function(b){if(typeof browser>"u"||Object.getPrototypeOf(browser)!==Object.prototype){const x="The message port closed before a response was received.",A="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",j=T=>{const I={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(I).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class S extends WeakMap{constructor(ee,ae=void 0){super(ae),this.createItem=ee}get(ee){return this.has(ee)||this.set(ee,this.createItem(ee)),super.get(ee)}}const G=$=>$&&typeof $=="object"&&typeof $.then=="function",D=($,ee)=>(...ae)=>{T.runtime.lastError?$.reject(new Error(T.runtime.lastError.message)):ee.singleCallbackArg||ae.length<=1&&ee.singleCallbackArg!==!1?$.resolve(ae[0]):$.resolve(ae)},X=$=>$==1?"argument":"arguments",L=($,ee)=>function(re,...J){if(J.length<ee.minArgs)throw new Error(`Expected at least ${ee.minArgs} ${X(ee.minArgs)} for ${$}(), got ${J.length}`);if(J.length>ee.maxArgs)throw new Error(`Expected at most ${ee.maxArgs} ${X(ee.maxArgs)} for ${$}(), got ${J.length}`);return new Promise((ue,Q)=>{if(ee.fallbackToNoCallback)try{re[$](...J,D({resolve:ue,reject:Q},ee))}catch(be){console.warn(`${$} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,be),re[$](...J),ee.fallbackToNoCallback=!1,ee.noCallback=!0,ue()}else ee.noCallback?(re[$](...J),ue()):re[$](...J,D({resolve:ue,reject:Q},ee))})},F=($,ee,ae)=>new Proxy(ee,{apply(re,J,ue){return ae.call(J,$,...ue)}});let V=Function.call.bind(Object.prototype.hasOwnProperty);const P=($,ee={},ae={})=>{let re=Object.create(null),J={has(Q,be){return be in $||be in re},get(Q,be,Re){if(be in re)return re[be];if(!(be in $))return;let oe=$[be];if(typeof oe=="function")if(typeof ee[be]=="function")oe=F($,$[be],ee[be]);else if(V(ae,be)){let ge=L(be,ae[be]);oe=F($,$[be],ge)}else oe=oe.bind($);else if(typeof oe=="object"&&oe!==null&&(V(ee,be)||V(ae,be)))oe=P(oe,ee[be],ae[be]);else if(V(ae,"*"))oe=P(oe,ee[be],ae["*"]);else return Object.defineProperty(re,be,{configurable:!0,enumerable:!0,get(){return $[be]},set(ge){$[be]=ge}}),oe;return re[be]=oe,oe},set(Q,be,Re,oe){return be in re?re[be]=Re:$[be]=Re,!0},defineProperty(Q,be,Re){return Reflect.defineProperty(re,be,Re)},deleteProperty(Q,be){return Reflect.deleteProperty(re,be)}},ue=Object.create($);return new Proxy(ue,J)},R=$=>({addListener(ee,ae,...re){ee.addListener($.get(ae),...re)},hasListener(ee,ae){return ee.hasListener($.get(ae))},removeListener(ee,ae){ee.removeListener($.get(ae))}}),N=new S($=>typeof $!="function"?$:function(ae){const re=P(ae,{},{getContent:{minArgs:0,maxArgs:0}});$(re)});let E=!1;const O=new S($=>typeof $!="function"?$:function(ae,re,J){let ue=!1,Q,be=new Promise(me=>{Q=function(se){E||(console.warn(A,new Error().stack),E=!0),ue=!0,me(se)}}),Re;try{Re=$(ae,re,Q)}catch(me){Re=Promise.reject(me)}const oe=Re!==!0&&G(Re);if(Re!==!0&&!oe&&!ue)return!1;const ge=me=>{me.then(se=>{J(se)},se=>{let Ae;se&&(se instanceof Error||typeof se.message=="string")?Ae=se.message:Ae="An unexpected error occurred",J({__mozWebExtensionPolyfillReject__:!0,message:Ae})}).catch(se=>{console.error("Failed to send onMessage rejected reply",se)})};return ge(oe?Re:be),!0}),B=({reject:$,resolve:ee},ae)=>{T.runtime.lastError?T.runtime.lastError.message===x?ee():$(new Error(T.runtime.lastError.message)):ae&&ae.__mozWebExtensionPolyfillReject__?$(new Error(ae.message)):ee(ae)},M=($,ee,ae,...re)=>{if(re.length<ee.minArgs)throw new Error(`Expected at least ${ee.minArgs} ${X(ee.minArgs)} for ${$}(), got ${re.length}`);if(re.length>ee.maxArgs)throw new Error(`Expected at most ${ee.maxArgs} ${X(ee.maxArgs)} for ${$}(), got ${re.length}`);return new Promise((J,ue)=>{const Q=B.bind(null,{resolve:J,reject:ue});re.push(Q),ae.sendMessage(...re)})},U={devtools:{network:{onRequestFinished:R(N)}},runtime:{onMessage:R(O),onMessageExternal:R(O),sendMessage:M.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:M.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},Y={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return I.privacy={network:{"*":Y},services:{"*":Y},websites:{"*":Y}},P(T,U,I)};if(typeof chrome!="object"||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");b.exports=j(chrome)}else b.exports=browser})},"./node_modules/pako/dist/pako.esm.mjs":(f,d,u)=>{u.r(d),u.d(d,{Deflate:()=>pp,Inflate:()=>ru,constants:()=>ou,default:()=>pc,deflate:()=>au,deflateRaw:()=>dp,gzip:()=>Lo,inflate:()=>no,inflateRaw:()=>Es,ungzip:()=>fp});/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const h=4,y=0,b=1,x=2;function A(m){let H=m.length;for(;--H>=0;)m[H]=0}const j=0,T=1,I=2,S=3,G=258,D=29,X=256,L=X+1+D,F=30,V=19,P=2*L+1,R=15,N=16,E=7,O=256,B=16,M=17,U=18,Y=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),$=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ee=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ae=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),re=512,J=new Array((L+2)*2);A(J);const ue=new Array(F*2);A(ue);const Q=new Array(re);A(Q);const be=new Array(G-S+1);A(be);const Re=new Array(D);A(Re);const oe=new Array(F);A(oe);function ge(m,H,_,te,he){this.static_tree=m,this.extra_bits=H,this.extra_base=_,this.elems=te,this.max_length=he,this.has_stree=m&&m.length}let me,se,Ae;function Le(m,H){this.dyn_tree=m,this.max_code=0,this.stat_desc=H}const ve=m=>m<256?Q[m]:Q[256+(m>>>7)],Ie=(m,H)=>{m.pending_buf[m.pending++]=H&255,m.pending_buf[m.pending++]=H>>>8&255},Ue=(m,H,_)=>{m.bi_valid>N-_?(m.bi_buf|=H<<m.bi_valid&65535,Ie(m,m.bi_buf),m.bi_buf=H>>N-m.bi_valid,m.bi_valid+=_-N):(m.bi_buf|=H<<m.bi_valid&65535,m.bi_valid+=_)},tt=(m,H,_)=>{Ue(m,_[H*2],_[H*2+1])},Be=(m,H)=>{let _=0;do _|=m&1,m>>>=1,_<<=1;while(--H>0);return _>>>1},Ne=m=>{m.bi_valid===16?(Ie(m,m.bi_buf),m.bi_buf=0,m.bi_valid=0):m.bi_valid>=8&&(m.pending_buf[m.pending++]=m.bi_buf&255,m.bi_buf>>=8,m.bi_valid-=8)},Ze=(m,H)=>{const _=H.dyn_tree,te=H.max_code,he=H.stat_desc.static_tree,de=H.stat_desc.has_stree,Ge=H.stat_desc.extra_bits,Oe=H.stat_desc.extra_base,an=H.stat_desc.max_length;let Se,He,_a,Qt,yt,_n,ka=0;for(Qt=0;Qt<=R;Qt++)m.bl_count[Qt]=0;for(_[m.heap[m.heap_max]*2+1]=0,Se=m.heap_max+1;Se<P;Se++)He=m.heap[Se],Qt=_[_[He*2+1]*2+1]+1,Qt>an&&(Qt=an,ka++),_[He*2+1]=Qt,!(He>te)&&(m.bl_count[Qt]++,yt=0,He>=Oe&&(yt=Ge[He-Oe]),_n=_[He*2],m.opt_len+=_n*(Qt+yt),de&&(m.static_len+=_n*(he[He*2+1]+yt)));if(ka!==0){do{for(Qt=an-1;m.bl_count[Qt]===0;)Qt--;m.bl_count[Qt]--,m.bl_count[Qt+1]+=2,m.bl_count[an]--,ka-=2}while(ka>0);for(Qt=an;Qt!==0;Qt--)for(He=m.bl_count[Qt];He!==0;)_a=m.heap[--Se],!(_a>te)&&(_[_a*2+1]!==Qt&&(m.opt_len+=(Qt-_[_a*2+1])*_[_a*2],_[_a*2+1]=Qt),He--)}},ot=(m,H,_)=>{const te=new Array(R+1);let he=0,de,Ge;for(de=1;de<=R;de++)he=he+_[de-1]<<1,te[de]=he;for(Ge=0;Ge<=H;Ge++){let Oe=m[Ge*2+1];Oe!==0&&(m[Ge*2]=Be(te[Oe]++,Oe))}},It=()=>{let m,H,_,te,he;const de=new Array(R+1);for(_=0,te=0;te<D-1;te++)for(Re[te]=_,m=0;m<1<<Y[te];m++)be[_++]=te;for(be[_-1]=te,he=0,te=0;te<16;te++)for(oe[te]=he,m=0;m<1<<$[te];m++)Q[he++]=te;for(he>>=7;te<F;te++)for(oe[te]=he<<7,m=0;m<1<<$[te]-7;m++)Q[256+he++]=te;for(H=0;H<=R;H++)de[H]=0;for(m=0;m<=143;)J[m*2+1]=8,m++,de[8]++;for(;m<=255;)J[m*2+1]=9,m++,de[9]++;for(;m<=279;)J[m*2+1]=7,m++,de[7]++;for(;m<=287;)J[m*2+1]=8,m++,de[8]++;for(ot(J,L+1,de),m=0;m<F;m++)ue[m*2+1]=5,ue[m*2]=Be(m,5);me=new ge(J,Y,X+1,L,R),se=new ge(ue,$,0,F,R),Ae=new ge(new Array(0),ee,0,V,E)},fe=m=>{let H;for(H=0;H<L;H++)m.dyn_ltree[H*2]=0;for(H=0;H<F;H++)m.dyn_dtree[H*2]=0;for(H=0;H<V;H++)m.bl_tree[H*2]=0;m.dyn_ltree[O*2]=1,m.opt_len=m.static_len=0,m.sym_next=m.matches=0},ie=m=>{m.bi_valid>8?Ie(m,m.bi_buf):m.bi_valid>0&&(m.pending_buf[m.pending++]=m.bi_buf),m.bi_buf=0,m.bi_valid=0},xe=(m,H,_,te)=>{const he=H*2,de=_*2;return m[he]<m[de]||m[he]===m[de]&&te[H]<=te[_]},st=(m,H,_)=>{const te=m.heap[_];let he=_<<1;for(;he<=m.heap_len&&(he<m.heap_len&&xe(H,m.heap[he+1],m.heap[he],m.depth)&&he++,!xe(H,te,m.heap[he],m.depth));)m.heap[_]=m.heap[he],_=he,he<<=1;m.heap[_]=te},At=(m,H,_)=>{let te,he,de=0,Ge,Oe;if(m.sym_next!==0)do te=m.pending_buf[m.sym_buf+de++]&255,te+=(m.pending_buf[m.sym_buf+de++]&255)<<8,he=m.pending_buf[m.sym_buf+de++],te===0?tt(m,he,H):(Ge=be[he],tt(m,Ge+X+1,H),Oe=Y[Ge],Oe!==0&&(he-=Re[Ge],Ue(m,he,Oe)),te--,Ge=ve(te),tt(m,Ge,_),Oe=$[Ge],Oe!==0&&(te-=oe[Ge],Ue(m,te,Oe)));while(de<m.sym_next);tt(m,O,H)},le=(m,H)=>{const _=H.dyn_tree,te=H.stat_desc.static_tree,he=H.stat_desc.has_stree,de=H.stat_desc.elems;let Ge,Oe,an=-1,Se;for(m.heap_len=0,m.heap_max=P,Ge=0;Ge<de;Ge++)_[Ge*2]!==0?(m.heap[++m.heap_len]=an=Ge,m.depth[Ge]=0):_[Ge*2+1]=0;for(;m.heap_len<2;)Se=m.heap[++m.heap_len]=an<2?++an:0,_[Se*2]=1,m.depth[Se]=0,m.opt_len--,he&&(m.static_len-=te[Se*2+1]);for(H.max_code=an,Ge=m.heap_len>>1;Ge>=1;Ge--)st(m,_,Ge);Se=de;do Ge=m.heap[1],m.heap[1]=m.heap[m.heap_len--],st(m,_,1),Oe=m.heap[1],m.heap[--m.heap_max]=Ge,m.heap[--m.heap_max]=Oe,_[Se*2]=_[Ge*2]+_[Oe*2],m.depth[Se]=(m.depth[Ge]>=m.depth[Oe]?m.depth[Ge]:m.depth[Oe])+1,_[Ge*2+1]=_[Oe*2+1]=Se,m.heap[1]=Se++,st(m,_,1);while(m.heap_len>=2);m.heap[--m.heap_max]=m.heap[1],Ze(m,H),ot(_,an,m.bl_count)},zt=(m,H,_)=>{let te,he=-1,de,Ge=H[0*2+1],Oe=0,an=7,Se=4;for(Ge===0&&(an=138,Se=3),H[(_+1)*2+1]=65535,te=0;te<=_;te++)de=Ge,Ge=H[(te+1)*2+1],!(++Oe<an&&de===Ge)&&(Oe<Se?m.bl_tree[de*2]+=Oe:de!==0?(de!==he&&m.bl_tree[de*2]++,m.bl_tree[B*2]++):Oe<=10?m.bl_tree[M*2]++:m.bl_tree[U*2]++,Oe=0,he=de,Ge===0?(an=138,Se=3):de===Ge?(an=6,Se=3):(an=7,Se=4))},Wt=(m,H,_)=>{let te,he=-1,de,Ge=H[0*2+1],Oe=0,an=7,Se=4;for(Ge===0&&(an=138,Se=3),te=0;te<=_;te++)if(de=Ge,Ge=H[(te+1)*2+1],!(++Oe<an&&de===Ge)){if(Oe<Se)do tt(m,de,m.bl_tree);while(--Oe!==0);else de!==0?(de!==he&&(tt(m,de,m.bl_tree),Oe--),tt(m,B,m.bl_tree),Ue(m,Oe-3,2)):Oe<=10?(tt(m,M,m.bl_tree),Ue(m,Oe-3,3)):(tt(m,U,m.bl_tree),Ue(m,Oe-11,7));Oe=0,he=de,Ge===0?(an=138,Se=3):de===Ge?(an=6,Se=3):(an=7,Se=4)}},Bn=m=>{let H;for(zt(m,m.dyn_ltree,m.l_desc.max_code),zt(m,m.dyn_dtree,m.d_desc.max_code),le(m,m.bl_desc),H=V-1;H>=3&&m.bl_tree[ae[H]*2+1]===0;H--);return m.opt_len+=3*(H+1)+5+5+4,H},qn=(m,H,_,te)=>{let he;for(Ue(m,H-257,5),Ue(m,_-1,5),Ue(m,te-4,4),he=0;he<te;he++)Ue(m,m.bl_tree[ae[he]*2+1],3);Wt(m,m.dyn_ltree,H-1),Wt(m,m.dyn_dtree,_-1)},ke=m=>{let H=4093624447,_;for(_=0;_<=31;_++,H>>>=1)if(H&1&&m.dyn_ltree[_*2]!==0)return y;if(m.dyn_ltree[9*2]!==0||m.dyn_ltree[10*2]!==0||m.dyn_ltree[13*2]!==0)return b;for(_=32;_<X;_++)if(m.dyn_ltree[_*2]!==0)return b;return y};let Ce=!1;const lt=m=>{Ce||(It(),Ce=!0),m.l_desc=new Le(m.dyn_ltree,me),m.d_desc=new Le(m.dyn_dtree,se),m.bl_desc=new Le(m.bl_tree,Ae),m.bi_buf=0,m.bi_valid=0,fe(m)},Z=(m,H,_,te)=>{Ue(m,(j<<1)+(te?1:0),3),ie(m),Ie(m,_),Ie(m,~_),_&&m.pending_buf.set(m.window.subarray(H,H+_),m.pending),m.pending+=_},Ot=m=>{Ue(m,T<<1,3),tt(m,O,J),Ne(m)},Gt=(m,H,_,te)=>{let he,de,Ge=0;m.level>0?(m.strm.data_type===x&&(m.strm.data_type=ke(m)),le(m,m.l_desc),le(m,m.d_desc),Ge=Bn(m),he=m.opt_len+3+7>>>3,de=m.static_len+3+7>>>3,de<=he&&(he=de)):he=de=_+5,_+4<=he&&H!==-1?Z(m,H,_,te):m.strategy===h||de===he?(Ue(m,(T<<1)+(te?1:0),3),At(m,J,ue)):(Ue(m,(I<<1)+(te?1:0),3),qn(m,m.l_desc.max_code+1,m.d_desc.max_code+1,Ge+1),At(m,m.dyn_ltree,m.dyn_dtree)),fe(m),te&&ie(m)},Xe=(m,H,_)=>(m.pending_buf[m.sym_buf+m.sym_next++]=H,m.pending_buf[m.sym_buf+m.sym_next++]=H>>8,m.pending_buf[m.sym_buf+m.sym_next++]=_,H===0?m.dyn_ltree[_*2]++:(m.matches++,H--,m.dyn_ltree[(be[_]+X+1)*2]++,m.dyn_dtree[ve(H)*2]++),m.sym_next===m.sym_end);var pe=lt,je=Z,it=Gt,Je=Xe,_t=Ot,Ht={_tr_init:pe,_tr_stored_block:je,_tr_flush_block:it,_tr_tally:Je,_tr_align:_t},nn=(m,H,_,te)=>{let he=m&65535|0,de=m>>>16&65535|0,Ge=0;for(;_!==0;){Ge=_>2e3?2e3:_,_-=Ge;do he=he+H[te++]|0,de=de+he|0;while(--Ge);he%=65521,de%=65521}return he|de<<16|0};const pn=()=>{let m,H=[];for(var _=0;_<256;_++){m=_;for(var te=0;te<8;te++)m=m&1?3988292384^m>>>1:m>>>1;H[_]=m}return H},$e=new Uint32Array(pn());var Ln=(m,H,_,te)=>{const he=$e,de=te+_;m^=-1;for(let Ge=te;Ge<de;Ge++)m=m>>>8^he[(m^H[Ge])&255];return m^-1},ir={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},q={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:jn,_tr_stored_block:Ga,_tr_flush_block:or,_tr_tally:Ar,_tr_align:qa}=Ht,{Z_NO_FLUSH:xr,Z_PARTIAL_FLUSH:dr,Z_FULL_FLUSH:Za,Z_FINISH:ya,Z_BLOCK:Ur,Z_OK:zn,Z_STREAM_END:Va,Z_STREAM_ERROR:Sa,Z_DATA_ERROR:Sr,Z_BUF_ERROR:lo,Z_DEFAULT_COMPRESSION:Zr,Z_FILTERED:za,Z_HUFFMAN_ONLY:Oa,Z_RLE:uo,Z_FIXED:Rs,Z_DEFAULT_STRATEGY:zr,Z_UNKNOWN:dn,Z_DEFLATED:Ha}=q,Jr=9,En=15,co=8,Or=256+1+29,mt=30,Kt=19,ba=2*Or+1,Zn=15,mn=3,Ta=258,lr=Ta+mn+1,ds=32,vo=42,fs=57,Br=69,po=73,Gn=91,Fs=103,mr=113,ja=666,wa=1,Wa=2,$r=3,Qr=4,xo=3,fo=(m,H)=>(m.msg=ir[H],H),Gr=m=>m*2-(m>4?9:0),ur=m=>{let H=m.length;for(;--H>=0;)m[H]=0},ei=m=>{let H,_,te,he=m.w_size;H=m.hash_size,te=H;do _=m.head[--te],m.head[te]=_>=he?_-he:0;while(--H);H=he,te=H;do _=m.prev[--te],m.prev[te]=_>=he?_-he:0;while(--H)};let Tr=(m,H,_)=>(H<<m.hash_shift^_)&m.hash_mask;const gr=m=>{const H=m.state;let _=H.pending;_>m.avail_out&&(_=m.avail_out),_!==0&&(m.output.set(H.pending_buf.subarray(H.pending_out,H.pending_out+_),m.next_out),m.next_out+=_,H.pending_out+=_,m.total_out+=_,m.avail_out-=_,H.pending-=_,H.pending===0&&(H.pending_out=0))},sr=(m,H)=>{or(m,m.block_start>=0?m.block_start:-1,m.strstart-m.block_start,H),m.block_start=m.strstart,gr(m.strm)},ia=(m,H)=>{m.pending_buf[m.pending++]=H},_o=(m,H)=>{m.pending_buf[m.pending++]=H>>>8&255,m.pending_buf[m.pending++]=H&255},Bo=(m,H,_,te)=>{let he=m.avail_in;return he>te&&(he=te),he===0?0:(m.avail_in-=he,H.set(m.input.subarray(m.next_in,m.next_in+he),_),m.state.wrap===1?m.adler=nn(m.adler,H,he,_):m.state.wrap===2&&(m.adler=Ln(m.adler,H,he,_)),m.next_in+=he,m.total_in+=he,he)},hs=(m,H)=>{let _=m.max_chain_length,te=m.strstart,he,de,Ge=m.prev_length,Oe=m.nice_match;const an=m.strstart>m.w_size-lr?m.strstart-(m.w_size-lr):0,Se=m.window,He=m.w_mask,_a=m.prev,Qt=m.strstart+Ta;let yt=Se[te+Ge-1],_n=Se[te+Ge];m.prev_length>=m.good_match&&(_>>=2),Oe>m.lookahead&&(Oe=m.lookahead);do if(he=H,!(Se[he+Ge]!==_n||Se[he+Ge-1]!==yt||Se[he]!==Se[te]||Se[++he]!==Se[te+1])){te+=2,he++;do;while(Se[++te]===Se[++he]&&Se[++te]===Se[++he]&&Se[++te]===Se[++he]&&Se[++te]===Se[++he]&&Se[++te]===Se[++he]&&Se[++te]===Se[++he]&&Se[++te]===Se[++he]&&Se[++te]===Se[++he]&&te<Qt);if(de=Ta-(Qt-te),te=Qt-Ta,de>Ge){if(m.match_start=H,Ge=de,de>=Oe)break;yt=Se[te+Ge-1],_n=Se[te+Ge]}}while((H=_a[H&He])>an&&--_!==0);return Ge<=m.lookahead?Ge:m.lookahead},Ro=m=>{const H=m.w_size;let _,te,he;do{if(te=m.window_size-m.lookahead-m.strstart,m.strstart>=H+(H-lr)&&(m.window.set(m.window.subarray(H,H+H-te),0),m.match_start-=H,m.strstart-=H,m.block_start-=H,m.insert>m.strstart&&(m.insert=m.strstart),ei(m),te+=H),m.strm.avail_in===0)break;if(_=Bo(m.strm,m.window,m.strstart+m.lookahead,te),m.lookahead+=_,m.lookahead+m.insert>=mn)for(he=m.strstart-m.insert,m.ins_h=m.window[he],m.ins_h=Tr(m,m.ins_h,m.window[he+1]);m.insert&&(m.ins_h=Tr(m,m.ins_h,m.window[he+mn-1]),m.prev[he&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=he,he++,m.insert--,!(m.lookahead+m.insert<mn)););}while(m.lookahead<lr&&m.strm.avail_in!==0)},cr=(m,H)=>{let _=m.pending_buf_size-5>m.w_size?m.w_size:m.pending_buf_size-5,te,he,de,Ge=0,Oe=m.strm.avail_in;do{if(te=65535,de=m.bi_valid+42>>3,m.strm.avail_out<de||(de=m.strm.avail_out-de,he=m.strstart-m.block_start,te>he+m.strm.avail_in&&(te=he+m.strm.avail_in),te>de&&(te=de),te<_&&(te===0&&H!==ya||H===xr||te!==he+m.strm.avail_in)))break;Ge=H===ya&&te===he+m.strm.avail_in?1:0,Ga(m,0,0,Ge),m.pending_buf[m.pending-4]=te,m.pending_buf[m.pending-3]=te>>8,m.pending_buf[m.pending-2]=~te,m.pending_buf[m.pending-1]=~te>>8,gr(m.strm),he&&(he>te&&(he=te),m.strm.output.set(m.window.subarray(m.block_start,m.block_start+he),m.strm.next_out),m.strm.next_out+=he,m.strm.avail_out-=he,m.strm.total_out+=he,m.block_start+=he,te-=he),te&&(Bo(m.strm,m.strm.output,m.strm.next_out,te),m.strm.next_out+=te,m.strm.avail_out-=te,m.strm.total_out+=te)}while(Ge===0);return Oe-=m.strm.avail_in,Oe&&(Oe>=m.w_size?(m.matches=2,m.window.set(m.strm.input.subarray(m.strm.next_in-m.w_size,m.strm.next_in),0),m.strstart=m.w_size,m.insert=m.strstart):(m.window_size-m.strstart<=Oe&&(m.strstart-=m.w_size,m.window.set(m.window.subarray(m.w_size,m.w_size+m.strstart),0),m.matches<2&&m.matches++,m.insert>m.strstart&&(m.insert=m.strstart)),m.window.set(m.strm.input.subarray(m.strm.next_in-Oe,m.strm.next_in),m.strstart),m.strstart+=Oe,m.insert+=Oe>m.w_size-m.insert?m.w_size-m.insert:Oe),m.block_start=m.strstart),m.high_water<m.strstart&&(m.high_water=m.strstart),Ge?Qr:H!==xr&&H!==ya&&m.strm.avail_in===0&&m.strstart===m.block_start?Wa:(de=m.window_size-m.strstart,m.strm.avail_in>de&&m.block_start>=m.w_size&&(m.block_start-=m.w_size,m.strstart-=m.w_size,m.window.set(m.window.subarray(m.w_size,m.w_size+m.strstart),0),m.matches<2&&m.matches++,de+=m.w_size,m.insert>m.strstart&&(m.insert=m.strstart)),de>m.strm.avail_in&&(de=m.strm.avail_in),de&&(Bo(m.strm,m.window,m.strstart,de),m.strstart+=de,m.insert+=de>m.w_size-m.insert?m.w_size-m.insert:de),m.high_water<m.strstart&&(m.high_water=m.strstart),de=m.bi_valid+42>>3,de=m.pending_buf_size-de>65535?65535:m.pending_buf_size-de,_=de>m.w_size?m.w_size:de,he=m.strstart-m.block_start,(he>=_||(he||H===ya)&&H!==xr&&m.strm.avail_in===0&&he<=de)&&(te=he>de?de:he,Ge=H===ya&&m.strm.avail_in===0&&te===he?1:0,Ga(m,m.block_start,te,Ge),m.block_start+=te,gr(m.strm)),Ge?$r:wa)},ko=(m,H)=>{let _,te;for(;;){if(m.lookahead<lr){if(Ro(m),m.lookahead<lr&&H===xr)return wa;if(m.lookahead===0)break}if(_=0,m.lookahead>=mn&&(m.ins_h=Tr(m,m.ins_h,m.window[m.strstart+mn-1]),_=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),_!==0&&m.strstart-_<=m.w_size-lr&&(m.match_length=hs(m,_)),m.match_length>=mn)if(te=Ar(m,m.strstart-m.match_start,m.match_length-mn),m.lookahead-=m.match_length,m.match_length<=m.max_lazy_match&&m.lookahead>=mn){m.match_length--;do m.strstart++,m.ins_h=Tr(m,m.ins_h,m.window[m.strstart+mn-1]),_=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart;while(--m.match_length!==0);m.strstart++}else m.strstart+=m.match_length,m.match_length=0,m.ins_h=m.window[m.strstart],m.ins_h=Tr(m,m.ins_h,m.window[m.strstart+1]);else te=Ar(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++;if(te&&(sr(m,!1),m.strm.avail_out===0))return wa}return m.insert=m.strstart<mn-1?m.strstart:mn-1,H===ya?(sr(m,!0),m.strm.avail_out===0?$r:Qr):m.sym_next&&(sr(m,!1),m.strm.avail_out===0)?wa:Wa},_r=(m,H)=>{let _,te,he;for(;;){if(m.lookahead<lr){if(Ro(m),m.lookahead<lr&&H===xr)return wa;if(m.lookahead===0)break}if(_=0,m.lookahead>=mn&&(m.ins_h=Tr(m,m.ins_h,m.window[m.strstart+mn-1]),_=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),m.prev_length=m.match_length,m.prev_match=m.match_start,m.match_length=mn-1,_!==0&&m.prev_length<m.max_lazy_match&&m.strstart-_<=m.w_size-lr&&(m.match_length=hs(m,_),m.match_length<=5&&(m.strategy===za||m.match_length===mn&&m.strstart-m.match_start>4096)&&(m.match_length=mn-1)),m.prev_length>=mn&&m.match_length<=m.prev_length){he=m.strstart+m.lookahead-mn,te=Ar(m,m.strstart-1-m.prev_match,m.prev_length-mn),m.lookahead-=m.prev_length-1,m.prev_length-=2;do++m.strstart<=he&&(m.ins_h=Tr(m,m.ins_h,m.window[m.strstart+mn-1]),_=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart);while(--m.prev_length!==0);if(m.match_available=0,m.match_length=mn-1,m.strstart++,te&&(sr(m,!1),m.strm.avail_out===0))return wa}else if(m.match_available){if(te=Ar(m,0,m.window[m.strstart-1]),te&&sr(m,!1),m.strstart++,m.lookahead--,m.strm.avail_out===0)return wa}else m.match_available=1,m.strstart++,m.lookahead--}return m.match_available&&(te=Ar(m,0,m.window[m.strstart-1]),m.match_available=0),m.insert=m.strstart<mn-1?m.strstart:mn-1,H===ya?(sr(m,!0),m.strm.avail_out===0?$r:Qr):m.sym_next&&(sr(m,!1),m.strm.avail_out===0)?wa:Wa},Rr=(m,H)=>{let _,te,he,de;const Ge=m.window;for(;;){if(m.lookahead<=Ta){if(Ro(m),m.lookahead<=Ta&&H===xr)return wa;if(m.lookahead===0)break}if(m.match_length=0,m.lookahead>=mn&&m.strstart>0&&(he=m.strstart-1,te=Ge[he],te===Ge[++he]&&te===Ge[++he]&&te===Ge[++he])){de=m.strstart+Ta;do;while(te===Ge[++he]&&te===Ge[++he]&&te===Ge[++he]&&te===Ge[++he]&&te===Ge[++he]&&te===Ge[++he]&&te===Ge[++he]&&te===Ge[++he]&&he<de);m.match_length=Ta-(de-he),m.match_length>m.lookahead&&(m.match_length=m.lookahead)}if(m.match_length>=mn?(_=Ar(m,1,m.match_length-mn),m.lookahead-=m.match_length,m.strstart+=m.match_length,m.match_length=0):(_=Ar(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++),_&&(sr(m,!1),m.strm.avail_out===0))return wa}return m.insert=0,H===ya?(sr(m,!0),m.strm.avail_out===0?$r:Qr):m.sym_next&&(sr(m,!1),m.strm.avail_out===0)?wa:Wa},Ni=(m,H)=>{let _;for(;;){if(m.lookahead===0&&(Ro(m),m.lookahead===0)){if(H===xr)return wa;break}if(m.match_length=0,_=Ar(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++,_&&(sr(m,!1),m.strm.avail_out===0))return wa}return m.insert=0,H===ya?(sr(m,!0),m.strm.avail_out===0?$r:Qr):m.sym_next&&(sr(m,!1),m.strm.avail_out===0)?wa:Wa};function Pa(m,H,_,te,he){this.good_length=m,this.max_lazy=H,this.nice_length=_,this.max_chain=te,this.func=he}const Vr=[new Pa(0,0,0,0,cr),new Pa(4,4,8,4,ko),new Pa(4,5,16,8,ko),new Pa(4,6,32,32,ko),new Pa(4,4,16,16,_r),new Pa(8,16,32,32,_r),new Pa(8,16,128,128,_r),new Pa(8,32,128,256,_r),new Pa(32,128,258,1024,_r),new Pa(32,258,258,4096,_r)],Ja=m=>{m.window_size=2*m.w_size,ur(m.head),m.max_lazy_match=Vr[m.level].max_lazy,m.good_match=Vr[m.level].good_length,m.nice_match=Vr[m.level].nice_length,m.max_chain_length=Vr[m.level].max_chain,m.strstart=0,m.block_start=0,m.lookahead=0,m.insert=0,m.match_length=m.prev_length=mn-1,m.match_available=0,m.ins_h=0};function pa(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ha,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(ba*2),this.dyn_dtree=new Uint16Array((2*mt+1)*2),this.bl_tree=new Uint16Array((2*Kt+1)*2),ur(this.dyn_ltree),ur(this.dyn_dtree),ur(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Zn+1),this.heap=new Uint16Array(2*Or+1),ur(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Or+1),ur(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Eo=m=>{if(!m)return 1;const H=m.state;return!H||H.strm!==m||H.status!==vo&&H.status!==fs&&H.status!==Br&&H.status!==po&&H.status!==Gn&&H.status!==Fs&&H.status!==mr&&H.status!==ja?1:0},ms=m=>{if(Eo(m))return fo(m,Sa);m.total_in=m.total_out=0,m.data_type=dn;const H=m.state;return H.pending=0,H.pending_out=0,H.wrap<0&&(H.wrap=-H.wrap),H.status=H.wrap===2?fs:H.wrap?vo:mr,m.adler=H.wrap===2?0:1,H.last_flush=-2,jn(H),zn},Ba=m=>{const H=ms(m);return H===zn&&Ja(m.state),H},Ra=(m,H)=>Eo(m)||m.state.wrap!==2?Sa:(m.state.gzhead=H,zn),gs=(m,H,_,te,he,de)=>{if(!m)return Sa;let Ge=1;if(H===Zr&&(H=6),te<0?(Ge=0,te=-te):te>15&&(Ge=2,te-=16),he<1||he>Jr||_!==Ha||te<8||te>15||H<0||H>9||de<0||de>Rs||te===8&&Ge!==1)return fo(m,Sa);te===8&&(te=9);const Oe=new pa;return m.state=Oe,Oe.strm=m,Oe.status=vo,Oe.wrap=Ge,Oe.gzhead=null,Oe.w_bits=te,Oe.w_size=1<<Oe.w_bits,Oe.w_mask=Oe.w_size-1,Oe.hash_bits=he+7,Oe.hash_size=1<<Oe.hash_bits,Oe.hash_mask=Oe.hash_size-1,Oe.hash_shift=~~((Oe.hash_bits+mn-1)/mn),Oe.window=new Uint8Array(Oe.w_size*2),Oe.head=new Uint16Array(Oe.hash_size),Oe.prev=new Uint16Array(Oe.w_size),Oe.lit_bufsize=1<<he+6,Oe.pending_buf_size=Oe.lit_bufsize*4,Oe.pending_buf=new Uint8Array(Oe.pending_buf_size),Oe.sym_buf=Oe.lit_bufsize,Oe.sym_end=(Oe.lit_bufsize-1)*3,Oe.level=H,Oe.strategy=de,Oe.method=_,Ba(m)},Ms=(m,H)=>gs(m,H,Ha,En,co,zr),Ko=(m,H)=>{if(Eo(m)||H>Ur||H<0)return m?fo(m,Sa):Sa;const _=m.state;if(!m.output||m.avail_in!==0&&!m.input||_.status===ja&&H!==ya)return fo(m,m.avail_out===0?lo:Sa);const te=_.last_flush;if(_.last_flush=H,_.pending!==0){if(gr(m),m.avail_out===0)return _.last_flush=-1,zn}else if(m.avail_in===0&&Gr(H)<=Gr(te)&&H!==ya)return fo(m,lo);if(_.status===ja&&m.avail_in!==0)return fo(m,lo);if(_.status===vo&&_.wrap===0&&(_.status=mr),_.status===vo){let he=Ha+(_.w_bits-8<<4)<<8,de=-1;if(_.strategy>=Oa||_.level<2?de=0:_.level<6?de=1:_.level===6?de=2:de=3,he|=de<<6,_.strstart!==0&&(he|=ds),he+=31-he%31,_o(_,he),_.strstart!==0&&(_o(_,m.adler>>>16),_o(_,m.adler&65535)),m.adler=1,_.status=mr,gr(m),_.pending!==0)return _.last_flush=-1,zn}if(_.status===fs){if(m.adler=0,ia(_,31),ia(_,139),ia(_,8),_.gzhead)ia(_,(_.gzhead.text?1:0)+(_.gzhead.hcrc?2:0)+(_.gzhead.extra?4:0)+(_.gzhead.name?8:0)+(_.gzhead.comment?16:0)),ia(_,_.gzhead.time&255),ia(_,_.gzhead.time>>8&255),ia(_,_.gzhead.time>>16&255),ia(_,_.gzhead.time>>24&255),ia(_,_.level===9?2:_.strategy>=Oa||_.level<2?4:0),ia(_,_.gzhead.os&255),_.gzhead.extra&&_.gzhead.extra.length&&(ia(_,_.gzhead.extra.length&255),ia(_,_.gzhead.extra.length>>8&255)),_.gzhead.hcrc&&(m.adler=Ln(m.adler,_.pending_buf,_.pending,0)),_.gzindex=0,_.status=Br;else if(ia(_,0),ia(_,0),ia(_,0),ia(_,0),ia(_,0),ia(_,_.level===9?2:_.strategy>=Oa||_.level<2?4:0),ia(_,xo),_.status=mr,gr(m),_.pending!==0)return _.last_flush=-1,zn}if(_.status===Br){if(_.gzhead.extra){let he=_.pending,de=(_.gzhead.extra.length&65535)-_.gzindex;for(;_.pending+de>_.pending_buf_size;){let Oe=_.pending_buf_size-_.pending;if(_.pending_buf.set(_.gzhead.extra.subarray(_.gzindex,_.gzindex+Oe),_.pending),_.pending=_.pending_buf_size,_.gzhead.hcrc&&_.pending>he&&(m.adler=Ln(m.adler,_.pending_buf,_.pending-he,he)),_.gzindex+=Oe,gr(m),_.pending!==0)return _.last_flush=-1,zn;he=0,de-=Oe}let Ge=new Uint8Array(_.gzhead.extra);_.pending_buf.set(Ge.subarray(_.gzindex,_.gzindex+de),_.pending),_.pending+=de,_.gzhead.hcrc&&_.pending>he&&(m.adler=Ln(m.adler,_.pending_buf,_.pending-he,he)),_.gzindex=0}_.status=po}if(_.status===po){if(_.gzhead.name){let he=_.pending,de;do{if(_.pending===_.pending_buf_size){if(_.gzhead.hcrc&&_.pending>he&&(m.adler=Ln(m.adler,_.pending_buf,_.pending-he,he)),gr(m),_.pending!==0)return _.last_flush=-1,zn;he=0}_.gzindex<_.gzhead.name.length?de=_.gzhead.name.charCodeAt(_.gzindex++)&255:de=0,ia(_,de)}while(de!==0);_.gzhead.hcrc&&_.pending>he&&(m.adler=Ln(m.adler,_.pending_buf,_.pending-he,he)),_.gzindex=0}_.status=Gn}if(_.status===Gn){if(_.gzhead.comment){let he=_.pending,de;do{if(_.pending===_.pending_buf_size){if(_.gzhead.hcrc&&_.pending>he&&(m.adler=Ln(m.adler,_.pending_buf,_.pending-he,he)),gr(m),_.pending!==0)return _.last_flush=-1,zn;he=0}_.gzindex<_.gzhead.comment.length?de=_.gzhead.comment.charCodeAt(_.gzindex++)&255:de=0,ia(_,de)}while(de!==0);_.gzhead.hcrc&&_.pending>he&&(m.adler=Ln(m.adler,_.pending_buf,_.pending-he,he))}_.status=Fs}if(_.status===Fs){if(_.gzhead.hcrc){if(_.pending+2>_.pending_buf_size&&(gr(m),_.pending!==0))return _.last_flush=-1,zn;ia(_,m.adler&255),ia(_,m.adler>>8&255),m.adler=0}if(_.status=mr,gr(m),_.pending!==0)return _.last_flush=-1,zn}if(m.avail_in!==0||_.lookahead!==0||H!==xr&&_.status!==ja){let he=_.level===0?cr(_,H):_.strategy===Oa?Ni(_,H):_.strategy===uo?Rr(_,H):Vr[_.level].func(_,H);if((he===$r||he===Qr)&&(_.status=ja),he===wa||he===$r)return m.avail_out===0&&(_.last_flush=-1),zn;if(he===Wa&&(H===dr?qa(_):H!==Ur&&(Ga(_,0,0,!1),H===Za&&(ur(_.head),_.lookahead===0&&(_.strstart=0,_.block_start=0,_.insert=0))),gr(m),m.avail_out===0))return _.last_flush=-1,zn}return H!==ya?zn:_.wrap<=0?Va:(_.wrap===2?(ia(_,m.adler&255),ia(_,m.adler>>8&255),ia(_,m.adler>>16&255),ia(_,m.adler>>24&255),ia(_,m.total_in&255),ia(_,m.total_in>>8&255),ia(_,m.total_in>>16&255),ia(_,m.total_in>>24&255)):(_o(_,m.adler>>>16),_o(_,m.adler&65535)),gr(m),_.wrap>0&&(_.wrap=-_.wrap),_.pending!==0?zn:Va)},Di=m=>{if(Eo(m))return Sa;const H=m.state.status;return m.state=null,H===mr?fo(m,Sr):zn},ys=(m,H)=>{let _=H.length;if(Eo(m))return Sa;const te=m.state,he=te.wrap;if(he===2||he===1&&te.status!==vo||te.lookahead)return Sa;if(he===1&&(m.adler=nn(m.adler,H,_,0)),te.wrap=0,_>=te.w_size){he===0&&(ur(te.head),te.strstart=0,te.block_start=0,te.insert=0);let an=new Uint8Array(te.w_size);an.set(H.subarray(_-te.w_size,_),0),H=an,_=te.w_size}const de=m.avail_in,Ge=m.next_in,Oe=m.input;for(m.avail_in=_,m.next_in=0,m.input=H,Ro(te);te.lookahead>=mn;){let an=te.strstart,Se=te.lookahead-(mn-1);do te.ins_h=Tr(te,te.ins_h,te.window[an+mn-1]),te.prev[an&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=an,an++;while(--Se);te.strstart=an,te.lookahead=mn-1,Ro(te)}return te.strstart+=te.lookahead,te.block_start=te.strstart,te.insert=te.lookahead,te.lookahead=0,te.match_length=te.prev_length=mn-1,te.match_available=0,m.next_in=Ge,m.input=Oe,m.avail_in=de,te.wrap=he,zn};var Fo=Ms,Ci=gs,Oi=Ba,ll=ms,ul=Ra,cl=Ko,pl=Di,Ps=ys,Ls="pako deflate (from Nodeca project)",Ao={deflateInit:Fo,deflateInit2:Ci,deflateReset:Oi,deflateResetKeep:ll,deflateSetHeader:ul,deflate:cl,deflateEnd:pl,deflateSetDictionary:Ps,deflateInfo:Ls};const ho=(m,H)=>Object.prototype.hasOwnProperty.call(m,H);var ni=function(m){const H=Array.prototype.slice.call(arguments,1);for(;H.length;){const _=H.shift();if(_){if(typeof _!="object")throw new TypeError(_+"must be non-object");for(const te in _)ho(_,te)&&(m[te]=_[te])}}return m},ai=m=>{let H=0;for(let te=0,he=m.length;te<he;te++)H+=m[te].length;const _=new Uint8Array(H);for(let te=0,he=0,de=m.length;te<de;te++){let Ge=m[te];_.set(Ge,he),he+=Ge.length}return _},Mo={assign:ni,flattenChunks:ai};let Xo=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Xo=!1}const bs=new Uint8Array(256);for(let m=0;m<256;m++)bs[m]=m>=252?6:m>=248?5:m>=240?4:m>=224?3:m>=192?2:1;bs[254]=bs[254]=1;var Us=m=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(m);let H,_,te,he,de,Ge=m.length,Oe=0;for(he=0;he<Ge;he++)_=m.charCodeAt(he),(_&64512)===55296&&he+1<Ge&&(te=m.charCodeAt(he+1),(te&64512)===56320&&(_=65536+(_-55296<<10)+(te-56320),he++)),Oe+=_<128?1:_<2048?2:_<65536?3:4;for(H=new Uint8Array(Oe),de=0,he=0;de<Oe;he++)_=m.charCodeAt(he),(_&64512)===55296&&he+1<Ge&&(te=m.charCodeAt(he+1),(te&64512)===56320&&(_=65536+(_-55296<<10)+(te-56320),he++)),_<128?H[de++]=_:_<2048?(H[de++]=192|_>>>6,H[de++]=128|_&63):_<65536?(H[de++]=224|_>>>12,H[de++]=128|_>>>6&63,H[de++]=128|_&63):(H[de++]=240|_>>>18,H[de++]=128|_>>>12&63,H[de++]=128|_>>>6&63,H[de++]=128|_&63);return H};const ri=(m,H)=>{if(H<65534&&m.subarray&&Xo)return String.fromCharCode.apply(null,m.length===H?m:m.subarray(0,H));let _="";for(let te=0;te<H;te++)_+=String.fromCharCode(m[te]);return _};var Bi=(m,H)=>{const _=H||m.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(m.subarray(0,H));let te,he;const de=new Array(_*2);for(he=0,te=0;te<_;){let Ge=m[te++];if(Ge<128){de[he++]=Ge;continue}let Oe=bs[Ge];if(Oe>4){de[he++]=65533,te+=Oe-1;continue}for(Ge&=Oe===2?31:Oe===3?15:7;Oe>1&&te<_;)Ge=Ge<<6|m[te++]&63,Oe--;if(Oe>1){de[he++]=65533;continue}Ge<65536?de[he++]=Ge:(Ge-=65536,de[he++]=55296|Ge>>10&1023,de[he++]=56320|Ge&1023)}return ri(de,he)},oi=(m,H)=>{H=H||m.length,H>m.length&&(H=m.length);let _=H-1;for(;_>=0&&(m[_]&192)===128;)_--;return _<0||_===0?H:_+bs[m[_]]>H?_:H},So={string2buf:Us,buf2string:Bi,utf8border:oi};function Ri(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Fi=Ri;const Mi=Object.prototype.toString,{Z_NO_FLUSH:eo,Z_SYNC_FLUSH:jr,Z_FULL_FLUSH:pr,Z_FINISH:dl,Z_OK:zs,Z_STREAM_END:si,Z_DEFAULT_COMPRESSION:fl,Z_DEFAULT_STRATEGY:Yo,Z_DEFLATED:ws}=q;function to(m){this.options=Mo.assign({level:fl,method:ws,chunkSize:16384,windowBits:15,memLevel:8,strategy:Yo},m||{});let H=this.options;H.raw&&H.windowBits>0?H.windowBits=-H.windowBits:H.gzip&&H.windowBits>0&&H.windowBits<16&&(H.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Fi,this.strm.avail_out=0;let _=Ao.deflateInit2(this.strm,H.level,H.method,H.windowBits,H.memLevel,H.strategy);if(_!==zs)throw new Error(ir[_]);if(H.header&&Ao.deflateSetHeader(this.strm,H.header),H.dictionary){let te;if(typeof H.dictionary=="string"?te=So.string2buf(H.dictionary):Mi.call(H.dictionary)==="[object ArrayBuffer]"?te=new Uint8Array(H.dictionary):te=H.dictionary,_=Ao.deflateSetDictionary(this.strm,te),_!==zs)throw new Error(ir[_]);this._dict_set=!0}}to.prototype.push=function(m,H){const _=this.strm,te=this.options.chunkSize;let he,de;if(this.ended)return!1;for(H===~~H?de=H:de=H===!0?dl:eo,typeof m=="string"?_.input=So.string2buf(m):Mi.call(m)==="[object ArrayBuffer]"?_.input=new Uint8Array(m):_.input=m,_.next_in=0,_.avail_in=_.input.length;;){if(_.avail_out===0&&(_.output=new Uint8Array(te),_.next_out=0,_.avail_out=te),(de===jr||de===pr)&&_.avail_out<=6){this.onData(_.output.subarray(0,_.next_out)),_.avail_out=0;continue}if(he=Ao.deflate(_,de),he===si)return _.next_out>0&&this.onData(_.output.subarray(0,_.next_out)),he=Ao.deflateEnd(this.strm),this.onEnd(he),this.ended=!0,he===zs;if(_.avail_out===0){this.onData(_.output);continue}if(de>0&&_.next_out>0){this.onData(_.output.subarray(0,_.next_out)),_.avail_out=0;continue}if(_.avail_in===0)break}return!0},to.prototype.onData=function(m){this.chunks.push(m)},to.prototype.onEnd=function(m){m===zs&&(this.result=Mo.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg};function qo(m,H){const _=new to(H);if(_.push(m,!0),_.err)throw _.msg||ir[_.err];return _.result}function Te(m,H){return H=H||{},H.raw=!0,qo(m,H)}function Ee(m,H){return H=H||{},H.gzip=!0,qo(m,H)}var Fe=to,nt=qo,Ve=Te,rt=Ee,et=q,Tt={Deflate:Fe,deflate:nt,deflateRaw:Ve,gzip:rt,constants:et};const Nt=16209,kt=16191;var Dt=function(H,_){let te,he,de,Ge,Oe,an,Se,He,_a,Qt,yt,_n,ka,oa,On,Ca,ta,Pt,Hn,br,wn,we,Lt,bt;const ht=H.state;te=H.next_in,Lt=H.input,he=te+(H.avail_in-5),de=H.next_out,bt=H.output,Ge=de-(_-H.avail_out),Oe=de+(H.avail_out-257),an=ht.dmax,Se=ht.wsize,He=ht.whave,_a=ht.wnext,Qt=ht.window,yt=ht.hold,_n=ht.bits,ka=ht.lencode,oa=ht.distcode,On=(1<<ht.lenbits)-1,Ca=(1<<ht.distbits)-1;e:do{_n<15&&(yt+=Lt[te++]<<_n,_n+=8,yt+=Lt[te++]<<_n,_n+=8),ta=ka[yt&On];t:for(;;){if(Pt=ta>>>24,yt>>>=Pt,_n-=Pt,Pt=ta>>>16&255,Pt===0)bt[de++]=ta&65535;else if(Pt&16){Hn=ta&65535,Pt&=15,Pt&&(_n<Pt&&(yt+=Lt[te++]<<_n,_n+=8),Hn+=yt&(1<<Pt)-1,yt>>>=Pt,_n-=Pt),_n<15&&(yt+=Lt[te++]<<_n,_n+=8,yt+=Lt[te++]<<_n,_n+=8),ta=oa[yt&Ca];n:for(;;){if(Pt=ta>>>24,yt>>>=Pt,_n-=Pt,Pt=ta>>>16&255,Pt&16){if(br=ta&65535,Pt&=15,_n<Pt&&(yt+=Lt[te++]<<_n,_n+=8,_n<Pt&&(yt+=Lt[te++]<<_n,_n+=8)),br+=yt&(1<<Pt)-1,br>an){H.msg="invalid distance too far back",ht.mode=Nt;break e}if(yt>>>=Pt,_n-=Pt,Pt=de-Ge,br>Pt){if(Pt=br-Pt,Pt>He&&ht.sane){H.msg="invalid distance too far back",ht.mode=Nt;break e}if(wn=0,we=Qt,_a===0){if(wn+=Se-Pt,Pt<Hn){Hn-=Pt;do bt[de++]=Qt[wn++];while(--Pt);wn=de-br,we=bt}}else if(_a<Pt){if(wn+=Se+_a-Pt,Pt-=_a,Pt<Hn){Hn-=Pt;do bt[de++]=Qt[wn++];while(--Pt);if(wn=0,_a<Hn){Pt=_a,Hn-=Pt;do bt[de++]=Qt[wn++];while(--Pt);wn=de-br,we=bt}}}else if(wn+=_a-Pt,Pt<Hn){Hn-=Pt;do bt[de++]=Qt[wn++];while(--Pt);wn=de-br,we=bt}for(;Hn>2;)bt[de++]=we[wn++],bt[de++]=we[wn++],bt[de++]=we[wn++],Hn-=3;Hn&&(bt[de++]=we[wn++],Hn>1&&(bt[de++]=we[wn++]))}else{wn=de-br;do bt[de++]=bt[wn++],bt[de++]=bt[wn++],bt[de++]=bt[wn++],Hn-=3;while(Hn>2);Hn&&(bt[de++]=bt[wn++],Hn>1&&(bt[de++]=bt[wn++]))}}else if(Pt&64){H.msg="invalid distance code",ht.mode=Nt;break e}else{ta=oa[(ta&65535)+(yt&(1<<Pt)-1)];continue n}break}}else if(Pt&64)if(Pt&32){ht.mode=kt;break e}else{H.msg="invalid literal/length code",ht.mode=Nt;break e}else{ta=ka[(ta&65535)+(yt&(1<<Pt)-1)];continue t}break}}while(te<he&&de<Oe);Hn=_n>>3,te-=Hn,_n-=Hn<<3,yt&=(1<<_n)-1,H.next_in=te,H.next_out=de,H.avail_in=te<he?5+(he-te):5-(te-he),H.avail_out=de<Oe?257+(Oe-de):257-(de-Oe),ht.hold=yt,ht.bits=_n};const St=15,ln=852,Yt=592,qt=0,Mt=1,Xt=2,Jt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),gn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Jn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Fa=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Ka=(m,H,_,te,he,de,Ge,Oe)=>{const an=Oe.bits;let Se=0,He=0,_a=0,Qt=0,yt=0,_n=0,ka=0,oa=0,On=0,Ca=0,ta,Pt,Hn,br,wn,we=null,Lt;const bt=new Uint16Array(St+1),ht=new Uint16Array(St+1);let rn=null,Ea,ui,Nn;for(Se=0;Se<=St;Se++)bt[Se]=0;for(He=0;He<te;He++)bt[H[_+He]]++;for(yt=an,Qt=St;Qt>=1&&bt[Qt]===0;Qt--);if(yt>Qt&&(yt=Qt),Qt===0)return he[de++]=1<<24|64<<16|0,he[de++]=1<<24|64<<16|0,Oe.bits=1,0;for(_a=1;_a<Qt&&bt[_a]===0;_a++);for(yt<_a&&(yt=_a),oa=1,Se=1;Se<=St;Se++)if(oa<<=1,oa-=bt[Se],oa<0)return-1;if(oa>0&&(m===qt||Qt!==1))return-1;for(ht[1]=0,Se=1;Se<St;Se++)ht[Se+1]=ht[Se]+bt[Se];for(He=0;He<te;He++)H[_+He]!==0&&(Ge[ht[H[_+He]]++]=He);if(m===qt?(we=rn=Ge,Lt=20):m===Mt?(we=Jt,rn=gn,Lt=257):(we=Jn,rn=Fa,Lt=0),Ca=0,He=0,Se=_a,wn=de,_n=yt,ka=0,Hn=-1,On=1<<yt,br=On-1,m===Mt&&On>ln||m===Xt&&On>Yt)return 1;for(;;){Ea=Se-ka,Ge[He]+1<Lt?(ui=0,Nn=Ge[He]):Ge[He]>=Lt?(ui=rn[Ge[He]-Lt],Nn=we[Ge[He]-Lt]):(ui=96,Nn=0),ta=1<<Se-ka,Pt=1<<_n,_a=Pt;do Pt-=ta,he[wn+(Ca>>ka)+Pt]=Ea<<24|ui<<16|Nn|0;while(Pt!==0);for(ta=1<<Se-1;Ca&ta;)ta>>=1;if(ta!==0?(Ca&=ta-1,Ca+=ta):Ca=0,He++,--bt[Se]===0){if(Se===Qt)break;Se=H[_+Ge[He]]}if(Se>yt&&(Ca&br)!==Hn){for(ka===0&&(ka=yt),wn+=_a,_n=Se-ka,oa=1<<_n;_n+ka<Qt&&(oa-=bt[_n+ka],!(oa<=0));)_n++,oa<<=1;if(On+=1<<_n,m===Mt&&On>ln||m===Xt&&On>Yt)return 1;Hn=Ca&br,he[Hn]=yt<<24|_n<<16|wn-de|0}}return Ca!==0&&(he[wn+Ca]=Se-ka<<24|64<<16|0),Oe.bits=yt,0};const In=0,Da=1,la=2,{Z_FINISH:Kn,Z_BLOCK:$a,Z_TREES:Qn,Z_OK:ye,Z_STREAM_END:Me,Z_NEED_DICT:We,Z_STREAM_ERROR:Pe,Z_DATA_ERROR:at,Z_MEM_ERROR:qe,Z_BUF_ERROR:gt,Z_DEFLATED:Ye}=q,wt=16180,xt=16181,$t=16182,en=16183,Vt=16184,tn=16185,cn=16186,Fn=16187,Ia=16188,kr=16189,Ir=16190,mo=16191,ii=16192,vs=16193,$s=16194,xs=16195,Pi=16196,Li=16197,li=16198,jt=16199,yn=16200,ea=16201,Pn=16202,Vn=16203,Dn=16204,va=16205,An=16206,xa=16207,Mr=16208,Xn=16209,Gs=16210,_s=16211,Xc=852,Zl=592,Yc=15,tc=m=>(m>>>24&255)+(m>>>8&65280)+((m&65280)<<8)+((m&255)<<24);function Jl(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Zo=m=>{if(!m)return 1;const H=m.state;return!H||H.strm!==m||H.mode<wt||H.mode>_s?1:0},hl=m=>{if(Zo(m))return Pe;const H=m.state;return m.total_in=m.total_out=H.total=0,m.msg="",H.wrap&&(m.adler=H.wrap&1),H.mode=wt,H.last=0,H.havedict=0,H.flags=-1,H.dmax=32768,H.head=null,H.hold=0,H.bits=0,H.lencode=H.lendyn=new Int32Array(Xc),H.distcode=H.distdyn=new Int32Array(Zl),H.sane=1,H.back=-1,ye},Et=m=>{if(Zo(m))return Pe;const H=m.state;return H.wsize=0,H.whave=0,H.wnext=0,hl(m)},bn=(m,H)=>{let _;if(Zo(m))return Pe;const te=m.state;return H<0?(_=0,H=-H):(_=(H>>4)+5,H<48&&(H&=15)),H&&(H<8||H>15)?Pe:(te.window!==null&&te.wbits!==H&&(te.window=null),te.wrap=_,te.wbits=H,Et(m))},nc=(m,H)=>{if(!m)return Pe;const _=new Jl;m.state=_,_.strm=m,_.window=null,_.mode=wt;const te=bn(m,H);return te!==ye&&(m.state=null),te},ac=m=>nc(m,Yc);let qc=!0,rc,oc;const Zc=m=>{if(qc){rc=new Int32Array(512),oc=new Int32Array(32);let H=0;for(;H<144;)m.lens[H++]=8;for(;H<256;)m.lens[H++]=9;for(;H<280;)m.lens[H++]=7;for(;H<288;)m.lens[H++]=8;for(Ka(Da,m.lens,0,288,rc,0,m.work,{bits:9}),H=0;H<32;)m.lens[H++]=5;Ka(la,m.lens,0,32,oc,0,m.work,{bits:5}),qc=!1}m.lencode=rc,m.lenbits=9,m.distcode=oc,m.distbits=5},Jc=(m,H,_,te)=>{let he;const de=m.state;return de.window===null&&(de.wsize=1<<de.wbits,de.wnext=0,de.whave=0,de.window=new Uint8Array(de.wsize)),te>=de.wsize?(de.window.set(H.subarray(_-de.wsize,_),0),de.wnext=0,de.whave=de.wsize):(he=de.wsize-de.wnext,he>te&&(he=te),de.window.set(H.subarray(_-te,_-te+he),de.wnext),te-=he,te?(de.window.set(H.subarray(_-te,_),0),de.wnext=te,de.whave=de.wsize):(de.wnext+=he,de.wnext===de.wsize&&(de.wnext=0),de.whave<de.wsize&&(de.whave+=he))),0},sf=(m,H)=>{let _,te,he,de,Ge,Oe,an,Se,He,_a,Qt,yt,_n,ka,oa=0,On,Ca,ta,Pt,Hn,br,wn,we;const Lt=new Uint8Array(4);let bt,ht;const rn=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Zo(m)||!m.output||!m.input&&m.avail_in!==0)return Pe;_=m.state,_.mode===mo&&(_.mode=ii),Ge=m.next_out,he=m.output,an=m.avail_out,de=m.next_in,te=m.input,Oe=m.avail_in,Se=_.hold,He=_.bits,_a=Oe,Qt=an,we=ye;e:for(;;)switch(_.mode){case wt:if(_.wrap===0){_.mode=ii;break}for(;He<16;){if(Oe===0)break e;Oe--,Se+=te[de++]<<He,He+=8}if(_.wrap&2&&Se===35615){_.wbits===0&&(_.wbits=15),_.check=0,Lt[0]=Se&255,Lt[1]=Se>>>8&255,_.check=Ln(_.check,Lt,2,0),Se=0,He=0,_.mode=xt;break}if(_.head&&(_.head.done=!1),!(_.wrap&1)||(((Se&255)<<8)+(Se>>8))%31){m.msg="incorrect header check",_.mode=Xn;break}if((Se&15)!==Ye){m.msg="unknown compression method",_.mode=Xn;break}if(Se>>>=4,He-=4,wn=(Se&15)+8,_.wbits===0&&(_.wbits=wn),wn>15||wn>_.wbits){m.msg="invalid window size",_.mode=Xn;break}_.dmax=1<<_.wbits,_.flags=0,m.adler=_.check=1,_.mode=Se&512?kr:mo,Se=0,He=0;break;case xt:for(;He<16;){if(Oe===0)break e;Oe--,Se+=te[de++]<<He,He+=8}if(_.flags=Se,(_.flags&255)!==Ye){m.msg="unknown compression method",_.mode=Xn;break}if(_.flags&57344){m.msg="unknown header flags set",_.mode=Xn;break}_.head&&(_.head.text=Se>>8&1),_.flags&512&&_.wrap&4&&(Lt[0]=Se&255,Lt[1]=Se>>>8&255,_.check=Ln(_.check,Lt,2,0)),Se=0,He=0,_.mode=$t;case $t:for(;He<32;){if(Oe===0)break e;Oe--,Se+=te[de++]<<He,He+=8}_.head&&(_.head.time=Se),_.flags&512&&_.wrap&4&&(Lt[0]=Se&255,Lt[1]=Se>>>8&255,Lt[2]=Se>>>16&255,Lt[3]=Se>>>24&255,_.check=Ln(_.check,Lt,4,0)),Se=0,He=0,_.mode=en;case en:for(;He<16;){if(Oe===0)break e;Oe--,Se+=te[de++]<<He,He+=8}_.head&&(_.head.xflags=Se&255,_.head.os=Se>>8),_.flags&512&&_.wrap&4&&(Lt[0]=Se&255,Lt[1]=Se>>>8&255,_.check=Ln(_.check,Lt,2,0)),Se=0,He=0,_.mode=Vt;case Vt:if(_.flags&1024){for(;He<16;){if(Oe===0)break e;Oe--,Se+=te[de++]<<He,He+=8}_.length=Se,_.head&&(_.head.extra_len=Se),_.flags&512&&_.wrap&4&&(Lt[0]=Se&255,Lt[1]=Se>>>8&255,_.check=Ln(_.check,Lt,2,0)),Se=0,He=0}else _.head&&(_.head.extra=null);_.mode=tn;case tn:if(_.flags&1024&&(yt=_.length,yt>Oe&&(yt=Oe),yt&&(_.head&&(wn=_.head.extra_len-_.length,_.head.extra||(_.head.extra=new Uint8Array(_.head.extra_len)),_.head.extra.set(te.subarray(de,de+yt),wn)),_.flags&512&&_.wrap&4&&(_.check=Ln(_.check,te,yt,de)),Oe-=yt,de+=yt,_.length-=yt),_.length))break e;_.length=0,_.mode=cn;case cn:if(_.flags&2048){if(Oe===0)break e;yt=0;do wn=te[de+yt++],_.head&&wn&&_.length<65536&&(_.head.name+=String.fromCharCode(wn));while(wn&&yt<Oe);if(_.flags&512&&_.wrap&4&&(_.check=Ln(_.check,te,yt,de)),Oe-=yt,de+=yt,wn)break e}else _.head&&(_.head.name=null);_.length=0,_.mode=Fn;case Fn:if(_.flags&4096){if(Oe===0)break e;yt=0;do wn=te[de+yt++],_.head&&wn&&_.length<65536&&(_.head.comment+=String.fromCharCode(wn));while(wn&&yt<Oe);if(_.flags&512&&_.wrap&4&&(_.check=Ln(_.check,te,yt,de)),Oe-=yt,de+=yt,wn)break e}else _.head&&(_.head.comment=null);_.mode=Ia;case Ia:if(_.flags&512){for(;He<16;){if(Oe===0)break e;Oe--,Se+=te[de++]<<He,He+=8}if(_.wrap&4&&Se!==(_.check&65535)){m.msg="header crc mismatch",_.mode=Xn;break}Se=0,He=0}_.head&&(_.head.hcrc=_.flags>>9&1,_.head.done=!0),m.adler=_.check=0,_.mode=mo;break;case kr:for(;He<32;){if(Oe===0)break e;Oe--,Se+=te[de++]<<He,He+=8}m.adler=_.check=tc(Se),Se=0,He=0,_.mode=Ir;case Ir:if(_.havedict===0)return m.next_out=Ge,m.avail_out=an,m.next_in=de,m.avail_in=Oe,_.hold=Se,_.bits=He,We;m.adler=_.check=1,_.mode=mo;case mo:if(H===$a||H===Qn)break e;case ii:if(_.last){Se>>>=He&7,He-=He&7,_.mode=An;break}for(;He<3;){if(Oe===0)break e;Oe--,Se+=te[de++]<<He,He+=8}switch(_.last=Se&1,Se>>>=1,He-=1,Se&3){case 0:_.mode=vs;break;case 1:if(Zc(_),_.mode=jt,H===Qn){Se>>>=2,He-=2;break e}break;case 2:_.mode=Pi;break;case 3:m.msg="invalid block type",_.mode=Xn}Se>>>=2,He-=2;break;case vs:for(Se>>>=He&7,He-=He&7;He<32;){if(Oe===0)break e;Oe--,Se+=te[de++]<<He,He+=8}if((Se&65535)!==(Se>>>16^65535)){m.msg="invalid stored block lengths",_.mode=Xn;break}if(_.length=Se&65535,Se=0,He=0,_.mode=$s,H===Qn)break e;case $s:_.mode=xs;case xs:if(yt=_.length,yt){if(yt>Oe&&(yt=Oe),yt>an&&(yt=an),yt===0)break e;he.set(te.subarray(de,de+yt),Ge),Oe-=yt,de+=yt,an-=yt,Ge+=yt,_.length-=yt;break}_.mode=mo;break;case Pi:for(;He<14;){if(Oe===0)break e;Oe--,Se+=te[de++]<<He,He+=8}if(_.nlen=(Se&31)+257,Se>>>=5,He-=5,_.ndist=(Se&31)+1,Se>>>=5,He-=5,_.ncode=(Se&15)+4,Se>>>=4,He-=4,_.nlen>286||_.ndist>30){m.msg="too many length or distance symbols",_.mode=Xn;break}_.have=0,_.mode=Li;case Li:for(;_.have<_.ncode;){for(;He<3;){if(Oe===0)break e;Oe--,Se+=te[de++]<<He,He+=8}_.lens[rn[_.have++]]=Se&7,Se>>>=3,He-=3}for(;_.have<19;)_.lens[rn[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,bt={bits:_.lenbits},we=Ka(In,_.lens,0,19,_.lencode,0,_.work,bt),_.lenbits=bt.bits,we){m.msg="invalid code lengths set",_.mode=Xn;break}_.have=0,_.mode=li;case li:for(;_.have<_.nlen+_.ndist;){for(;oa=_.lencode[Se&(1<<_.lenbits)-1],On=oa>>>24,Ca=oa>>>16&255,ta=oa&65535,!(On<=He);){if(Oe===0)break e;Oe--,Se+=te[de++]<<He,He+=8}if(ta<16)Se>>>=On,He-=On,_.lens[_.have++]=ta;else{if(ta===16){for(ht=On+2;He<ht;){if(Oe===0)break e;Oe--,Se+=te[de++]<<He,He+=8}if(Se>>>=On,He-=On,_.have===0){m.msg="invalid bit length repeat",_.mode=Xn;break}wn=_.lens[_.have-1],yt=3+(Se&3),Se>>>=2,He-=2}else if(ta===17){for(ht=On+3;He<ht;){if(Oe===0)break e;Oe--,Se+=te[de++]<<He,He+=8}Se>>>=On,He-=On,wn=0,yt=3+(Se&7),Se>>>=3,He-=3}else{for(ht=On+7;He<ht;){if(Oe===0)break e;Oe--,Se+=te[de++]<<He,He+=8}Se>>>=On,He-=On,wn=0,yt=11+(Se&127),Se>>>=7,He-=7}if(_.have+yt>_.nlen+_.ndist){m.msg="invalid bit length repeat",_.mode=Xn;break}for(;yt--;)_.lens[_.have++]=wn}}if(_.mode===Xn)break;if(_.lens[256]===0){m.msg="invalid code -- missing end-of-block",_.mode=Xn;break}if(_.lenbits=9,bt={bits:_.lenbits},we=Ka(Da,_.lens,0,_.nlen,_.lencode,0,_.work,bt),_.lenbits=bt.bits,we){m.msg="invalid literal/lengths set",_.mode=Xn;break}if(_.distbits=6,_.distcode=_.distdyn,bt={bits:_.distbits},we=Ka(la,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,bt),_.distbits=bt.bits,we){m.msg="invalid distances set",_.mode=Xn;break}if(_.mode=jt,H===Qn)break e;case jt:_.mode=yn;case yn:if(Oe>=6&&an>=258){m.next_out=Ge,m.avail_out=an,m.next_in=de,m.avail_in=Oe,_.hold=Se,_.bits=He,Dt(m,Qt),Ge=m.next_out,he=m.output,an=m.avail_out,de=m.next_in,te=m.input,Oe=m.avail_in,Se=_.hold,He=_.bits,_.mode===mo&&(_.back=-1);break}for(_.back=0;oa=_.lencode[Se&(1<<_.lenbits)-1],On=oa>>>24,Ca=oa>>>16&255,ta=oa&65535,!(On<=He);){if(Oe===0)break e;Oe--,Se+=te[de++]<<He,He+=8}if(Ca&&!(Ca&240)){for(Pt=On,Hn=Ca,br=ta;oa=_.lencode[br+((Se&(1<<Pt+Hn)-1)>>Pt)],On=oa>>>24,Ca=oa>>>16&255,ta=oa&65535,!(Pt+On<=He);){if(Oe===0)break e;Oe--,Se+=te[de++]<<He,He+=8}Se>>>=Pt,He-=Pt,_.back+=Pt}if(Se>>>=On,He-=On,_.back+=On,_.length=ta,Ca===0){_.mode=va;break}if(Ca&32){_.back=-1,_.mode=mo;break}if(Ca&64){m.msg="invalid literal/length code",_.mode=Xn;break}_.extra=Ca&15,_.mode=ea;case ea:if(_.extra){for(ht=_.extra;He<ht;){if(Oe===0)break e;Oe--,Se+=te[de++]<<He,He+=8}_.length+=Se&(1<<_.extra)-1,Se>>>=_.extra,He-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=Pn;case Pn:for(;oa=_.distcode[Se&(1<<_.distbits)-1],On=oa>>>24,Ca=oa>>>16&255,ta=oa&65535,!(On<=He);){if(Oe===0)break e;Oe--,Se+=te[de++]<<He,He+=8}if(!(Ca&240)){for(Pt=On,Hn=Ca,br=ta;oa=_.distcode[br+((Se&(1<<Pt+Hn)-1)>>Pt)],On=oa>>>24,Ca=oa>>>16&255,ta=oa&65535,!(Pt+On<=He);){if(Oe===0)break e;Oe--,Se+=te[de++]<<He,He+=8}Se>>>=Pt,He-=Pt,_.back+=Pt}if(Se>>>=On,He-=On,_.back+=On,Ca&64){m.msg="invalid distance code",_.mode=Xn;break}_.offset=ta,_.extra=Ca&15,_.mode=Vn;case Vn:if(_.extra){for(ht=_.extra;He<ht;){if(Oe===0)break e;Oe--,Se+=te[de++]<<He,He+=8}_.offset+=Se&(1<<_.extra)-1,Se>>>=_.extra,He-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){m.msg="invalid distance too far back",_.mode=Xn;break}_.mode=Dn;case Dn:if(an===0)break e;if(yt=Qt-an,_.offset>yt){if(yt=_.offset-yt,yt>_.whave&&_.sane){m.msg="invalid distance too far back",_.mode=Xn;break}yt>_.wnext?(yt-=_.wnext,_n=_.wsize-yt):_n=_.wnext-yt,yt>_.length&&(yt=_.length),ka=_.window}else ka=he,_n=Ge-_.offset,yt=_.length;yt>an&&(yt=an),an-=yt,_.length-=yt;do he[Ge++]=ka[_n++];while(--yt);_.length===0&&(_.mode=yn);break;case va:if(an===0)break e;he[Ge++]=_.length,an--,_.mode=yn;break;case An:if(_.wrap){for(;He<32;){if(Oe===0)break e;Oe--,Se|=te[de++]<<He,He+=8}if(Qt-=an,m.total_out+=Qt,_.total+=Qt,_.wrap&4&&Qt&&(m.adler=_.check=_.flags?Ln(_.check,he,Qt,Ge-Qt):nn(_.check,he,Qt,Ge-Qt)),Qt=an,_.wrap&4&&(_.flags?Se:tc(Se))!==_.check){m.msg="incorrect data check",_.mode=Xn;break}Se=0,He=0}_.mode=xa;case xa:if(_.wrap&&_.flags){for(;He<32;){if(Oe===0)break e;Oe--,Se+=te[de++]<<He,He+=8}if(_.wrap&4&&Se!==(_.total&4294967295)){m.msg="incorrect length check",_.mode=Xn;break}Se=0,He=0}_.mode=Mr;case Mr:we=Me;break e;case Xn:we=at;break e;case Gs:return qe;case _s:default:return Pe}return m.next_out=Ge,m.avail_out=an,m.next_in=de,m.avail_in=Oe,_.hold=Se,_.bits=He,(_.wsize||Qt!==m.avail_out&&_.mode<Xn&&(_.mode<An||H!==Kn))&&Jc(m,m.output,m.next_out,Qt-m.avail_out),_a-=m.avail_in,Qt-=m.avail_out,m.total_in+=_a,m.total_out+=Qt,_.total+=Qt,_.wrap&4&&Qt&&(m.adler=_.check=_.flags?Ln(_.check,he,Qt,m.next_out-Qt):nn(_.check,he,Qt,m.next_out-Qt)),m.data_type=_.bits+(_.last?64:0)+(_.mode===mo?128:0)+(_.mode===jt||_.mode===$s?256:0),(_a===0&&Qt===0||H===Kn)&&we===ye&&(we=gt),we},lf=m=>{if(Zo(m))return Pe;let H=m.state;return H.window&&(H.window=null),m.state=null,ye},Qc=(m,H)=>{if(Zo(m))return Pe;const _=m.state;return _.wrap&2?(_.head=H,H.done=!1,ye):Pe},ep=(m,H)=>{const _=H.length;let te,he,de;return Zo(m)||(te=m.state,te.wrap!==0&&te.mode!==Ir)?Pe:te.mode===Ir&&(he=1,he=nn(he,H,_,0),he!==te.check)?at:(de=Jc(m,H,_,_),de?(te.mode=Gs,qe):(te.havedict=1,ye))};var uf=Et,Po=bn,Nr=hl,Jo=ac,Ui=nc,yr=sf,cf=lf,Ql=Qc,pf=ep,ra="pako inflate (from Nodeca project)",To={inflateReset:uf,inflateReset2:Po,inflateResetKeep:Nr,inflateInit:Jo,inflateInit2:Ui,inflate:yr,inflateEnd:cf,inflateGetHeader:Ql,inflateSetDictionary:pf,inflateInfo:ra};function sc(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var zi=sc;const ic=Object.prototype.toString,{Z_NO_FLUSH:lc,Z_FINISH:ks,Z_OK:$i,Z_STREAM_END:eu,Z_NEED_DICT:tu,Z_STREAM_ERROR:tp,Z_DATA_ERROR:np,Z_MEM_ERROR:ap}=q;function ml(m){this.options=Mo.assign({chunkSize:65536,windowBits:15,to:""},m||{});const H=this.options;H.raw&&H.windowBits>=0&&H.windowBits<16&&(H.windowBits=-H.windowBits,H.windowBits===0&&(H.windowBits=-15)),H.windowBits>=0&&H.windowBits<16&&!(m&&m.windowBits)&&(H.windowBits+=32),H.windowBits>15&&H.windowBits<48&&(H.windowBits&15||(H.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Fi,this.strm.avail_out=0;let _=To.inflateInit2(this.strm,H.windowBits);if(_!==$i)throw new Error(ir[_]);if(this.header=new zi,To.inflateGetHeader(this.strm,this.header),H.dictionary&&(typeof H.dictionary=="string"?H.dictionary=So.string2buf(H.dictionary):ic.call(H.dictionary)==="[object ArrayBuffer]"&&(H.dictionary=new Uint8Array(H.dictionary)),H.raw&&(_=To.inflateSetDictionary(this.strm,H.dictionary),_!==$i)))throw new Error(ir[_])}ml.prototype.push=function(m,H){const _=this.strm,te=this.options.chunkSize,he=this.options.dictionary;let de,Ge,Oe;if(this.ended)return!1;for(H===~~H?Ge=H:Ge=H===!0?ks:lc,ic.call(m)==="[object ArrayBuffer]"?_.input=new Uint8Array(m):_.input=m,_.next_in=0,_.avail_in=_.input.length;;){for(_.avail_out===0&&(_.output=new Uint8Array(te),_.next_out=0,_.avail_out=te),de=To.inflate(_,Ge),de===tu&&he&&(de=To.inflateSetDictionary(_,he),de===$i?de=To.inflate(_,Ge):de===np&&(de=tu));_.avail_in>0&&de===eu&&_.state.wrap>0&&m[_.next_in]!==0;)To.inflateReset(_),de=To.inflate(_,Ge);switch(de){case tp:case np:case tu:case ap:return this.onEnd(de),this.ended=!0,!1}if(Oe=_.avail_out,_.next_out&&(_.avail_out===0||de===eu))if(this.options.to==="string"){let an=So.utf8border(_.output,_.next_out),Se=_.next_out-an,He=So.buf2string(_.output,an);_.next_out=Se,_.avail_out=te-Se,Se&&_.output.set(_.output.subarray(an,an+Se),0),this.onData(He)}else this.onData(_.output.length===_.next_out?_.output:_.output.subarray(0,_.next_out));if(!(de===$i&&Oe===0)){if(de===eu)return de=To.inflateEnd(this.strm),this.onEnd(de),this.ended=!0,!0;if(_.avail_in===0)break}}return!0},ml.prototype.onData=function(m){this.chunks.push(m)},ml.prototype.onEnd=function(m){m===$i&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Mo.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg};function Sn(m,H){const _=new ml(H);if(_.push(m),_.err)throw _.msg||ir[_.err];return _.result}function df(m,H){return H=H||{},H.raw=!0,Sn(m,H)}var rp=ml,op=Sn,sp=df,ip=Sn,lp=q,up={Inflate:rp,inflate:op,inflateRaw:sp,ungzip:ip,constants:lp};const{Deflate:uc,deflate:ff,deflateRaw:nu,gzip:cc}=Tt,{Inflate:hf,inflate:mf,inflateRaw:Dr,ungzip:cp}=up;var pp=uc,au=ff,dp=nu,Lo=cc,ru=hf,no=mf,Es=Dr,fp=cp,ou=q,pc={Deflate:pp,deflate:au,deflateRaw:dp,gzip:Lo,Inflate:ru,inflate:no,inflateRaw:Es,ungzip:fp,constants:ou}},"./sdk/all/errors.js":(f,d,u)=>{u.r(d),u.d(d,{ignoreNoConnectionError:()=>x});const h="Could not establish connection. Receiving end does not exist.",y="A listener indicated an asynchronous response by returning true, but the message channel closed before a response was received",b="Message manager disconnected";function x(A){return A.catch(j=>{if(!(typeof j=="object"&&(j.message==h||j.message==y||j.message==b)))throw j})}},"./sdk/all/experiment-validation.js":(f,d,u)=>{u.r(d),u.d(d,{validateExperimentData:()=>b});const h="1";function y(x){let A=[];const j=(L,F,V)=>{const P=typeof F[L]=="string";return P||A.push(`\`${V}.${L}\` is not a string`),P},T=(L,F,V)=>{typeof F[L]<"u"&&typeof F[L]!="string"&&A.push(`\`${V}.${L}\` is not a string`)},I=(L,F,V)=>{typeof F[L]<"u"&&typeof F[L]!="boolean"&&A.push(`\`${V}.${L}\` is not a boolean`)},S=(L,F,V)=>{const P=typeof F[L]=="object";return P||A.push(`\`${V}.${L}\` is not an object`),P};function G(L){return typeof L=="number"&&L>=0&&L<=1e3}if(typeof x!="object")return A.push("root data is not an object"),A;if(x.schemaId!==h)return A.push(`This system only supports a schemaId of '${h}'`),A;if(!Array.isArray(x.experiments))return A.push("`experiments` is not an array"),A;let D=new Set,X=new Map;return x.experiments.forEach((L,F)=>{const V=`experiments[${F}]`;if(j("experimentId",L,V)&&(D.has(L.experimentId)&&A.push(`\`${V}.experimentId\` ${L.experimentId} appears as the experiment ID on a previous experiment`),D.add(L.experimentId)),T("name",L,V),T("description",L,V),I("enabled",L,V),!Array.isArray(L.variants)){A.push(`\`${V}.variants\` is not an array`);return}let P=new Set,R=[];L.variants.forEach((N,E)=>{const O=`${V}.variants[${E}]`;if(j("variantId",N,O)&&(P.has(N.variantId)&&A.push(`\`${O}.variantId\` ${N.variantId} appears as the variantId on a previous variant in this experiment`),P.add(N.variantId)),T("name",N,O),S("flags",N,O)&&Object.keys(N.flags).forEach($=>{X.has($)?X.get($)!==L.experimentId&&A.push(`\`${O}.flag[${$}] appears in multiple experiments`):X.set($,L.experimentId)}),!Array.isArray(N.mods)||N.mods.length!==2){A.push(`\`${O}.mods\` is not a two element array`);return}const[B,M]=N.mods,U=G(B),Y=G(M);if(U||A.push(`\`${O}.mods[0]\` is not a number between 0 and 1000`),Y||A.push(`\`${O}.mods[1]\` is not a number between 0 and 1000`),U&&Y)if(B>=M)A.push(`\`${O}.mods[0]\` is not smaller than \`${O}.mods[1]\``);else{for(const[$,ee]of R)B<ee&&$<M&&A.push(`Mod ranges [${$}-${ee}] and [${B}-${M}] overlap in experiment '${L.experimentId}'`);R.push([B,M])}})}),A}function b(x){const A=y(x);return{errors:A.length===0?null:A}}},"./sdk/all/scheduler.js":(f,d,u)=>{u.r(d),u.d(d,{Scheduler:()=>b});var h=u("./core/lib/time.js");const y=h.MILLIS_IN_HOUR;class b{constructor(A){this.config=A,this.checkInProgress=!1,this.stopped=!1,this._check=async()=>{this.checkInProgress=!0;let j;try{j=await this._callListenerIfItsTime()}finally{typeof j>"u"&&(j=this.config.errorRetryDelay),j>y&&(j=y),this.stopped||(this.timeout=setTimeout(this._check,j)),this.checkInProgress=!1}},this._check()}async _callListenerIfItsTime(){let A=await this.config.getNextTimestamp(),j=Date.now();return A&&j<A?A-j:await this.config.listener()?this.config.interval:this.config.errorRetryDelay}stop(){this.stopped||(this.stopped=!0,this.timeout&&(clearTimeout(this.timeout),this.timeout=null))}checkNow(){!this.stopped&&!this.checkInProgress&&(clearTimeout(this.timeout),this._check())}}},"./sdk/background/allowlisting.js":(f,d,u)=>{u.r(d),u.d(d,{allowlistPage:()=>$,default:()=>ae});var h=u("./sdk/background/webext-browser.js"),y=u("./core/lib/contentTypes.js"),b=u("./core/lib/url.js"),x=u("./core/lib/time.js"),A=u("./core/lib/rsa.js"),j=u("./sdk/background/core.js"),T=u("./sdk/background/frame-state.js"),I=u("./sdk/background/filters.js"),S=u("./sdk/background/types.js"),G=u("./sdk/background/info.js"),D=u("./sdk/background/prefs.js");const X=5*x.MILLIS_IN_MINUTE;let L=function(re,J){let ue=null;return J&&J.expiresAt&&(ue={expiresAt:J.expiresAt}),I.default.add([`@@||${re}^$document`],ue)},F=()=>{},V=[],P=Promise.resolve(),R={name:"RSASSA-PKCS1-v1_5",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-512"}};function N(re,J){let ue=`${re},${J}`;return new TextEncoder().encode(ue)}async function E(re,J,ue){return crypto.subtle.verify(R,ue,J,re)}function O(re){if(typeof re!="number"||isNaN(re))return!1;let J=Date.now(),ue=re>J+X,Q=re<J-x.MILLIS_IN_HOUR-X;return!ue&&!Q}async function B(re,J,ue){if(typeof ue!="string")return!1;await P;let Q=N(re,J),be=(0,A.base64ToArrayBuffer)(ue);for(let Re of V)if(await E(Q,be,Re))return!0;return!1}function M(re){if(!re)return!0;const J=Object.keys(re);if(J.length!==1||J[0]!=="expiresAt"||!Number.isInteger(re.expiresAt))return!1;const ue=Date.now(),Q=ue+x.MILLIS_IN_DAY-X,be=ue+365*x.MILLIS_IN_DAY+X;return!(re.expiresAt<Q||re.expiresAt>be)}async function U(re,J){if(await L(re,J),h.default.declarativeNetRequest&&(0,G.isEdge)()){const ue=D.Prefs.edge_one_click_allowlisting_delay;await new Promise(Q=>setTimeout(Q,ue))}return!0}function Y(re){return F(re),!1}async function $(re,J,ue,Q,be){let Re=(0,T.getFrameInfo)(re,J);if(!Re)return Y({reason:"invalid_frame",request:{domain:null,timestamp:ue,signature:Q}});let oe=Re.hostname,ge={domain:oe,timestamp:ue,signature:Q};if(J!=0)return Y({reason:"invalid_frame",request:ge});let me=(0,b.parseURL)(Re.url);return j.filterEngine.defaultMatcher.isAllowlisted(`${me.protocol}//${oe}`,y.contentTypes.DOCUMENT,oe,Re.sitekey)?Y({reason:"already_allowlisted",request:ge}):M(be)?O(ue)?await B(oe,ue,Q)?await U(oe,be):Y({reason:"invalid_signature",request:ge}):Y({reason:"invalid_timestamp",request:ge}):Y({reason:"invalid_options",request:ge})}async function ee(re){let J=[];for(let ue of re){let Q=(0,A.base64ToArrayBuffer)(ue),be=await crypto.subtle.importKey("spki",Q,R,!1,["verify"]);J.push(be)}V=J}const ae={async setAuthorizedKeys(re){let J=ee(re);return P=J.catch(()=>{}),await J},setAllowlistingCallback(re){L=re},onUnauthorized:new S.EventDispatcher(re=>{F=re},()=>{F=()=>{}})}},"./sdk/background/browser-features.js":(f,d,u)=>{u.r(d),u.d(d,{isRunningInServiceWorker:()=>b});var h=u("./sdk/background/webext-browser.js");let y=h.default.runtime.getManifest();function b(){return!!(y.background&&y.background.service_worker)}},"./sdk/background/callbacks.js":(f,d,u)=>{u.r(d),u.d(d,{premiumStatusCallback:()=>h,setPremiumStatusCallback:()=>y});let h;function y(b){h=b}},"./sdk/background/cdp-encryption.js":(f,d,u)=>{u.r(d),u.d(d,{AES_LENGTH:()=>S,AESkeyToBinary:()=>X,createAESKey:()=>D,decryptAES:()=>V,decryptRSA:()=>I,encryptAES:()=>F,encryptRSA:()=>T,generateAESNonce:()=>L,importRSAPublicKey:()=>j});var h=u("./core/lib/rsa.js");const y={name:"RSA-OAEP",hash:"SHA-256"},b="-----BEGIN PUBLIC KEY-----",x="-----END PUBLIC KEY-----";function A(P){return Uint8Array.from(P,R=>R.charCodeAt(0))}async function j(P){const R=P.substring(b.length,P.length-x.length-1);return await crypto.subtle.importKey("spki",(0,h.base64ToArrayBuffer)(R),y,!0,["encrypt"])}async function T(P,R){return await crypto.subtle.encrypt(y,P,typeof R=="string"?A(R):R)}async function I(P,R){return await crypto.subtle.decrypt(y,P,R)}const S=256,G={name:"AES-GCM",length:S};async function D(){return await crypto.subtle.generateKey(G,!0,["encrypt","decrypt"])}async function X(P){return await crypto.subtle.exportKey("raw",P)}function L(){return crypto.getRandomValues(new Uint8Array(16))}async function F(P,R,N){const E={name:"AES-GCM",iv:P};return await crypto.subtle.encrypt(E,R,typeof N=="string"?A(N):N)}async function V(P,R,N){const E={name:"AES-GCM",iv:P};return await crypto.subtle.decrypt(E,R,N)}},"./sdk/background/cdp-metrics-uploader-2.js":(f,d,u)=>{u.r(d),u.d(d,{Uploader:()=>J,setForceEarlyUploads:()=>E});var h=u("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=u("./node_modules/uuid/dist/esm-browser/v4.js"),b=u("./node_modules/lz-string/libs/lz-string.js"),x=u("./core/lib/time.js"),A=u("./core/lib/date.js"),j=u("./core/lib/random.js"),T=u("./sdk/background/info.js"),I=u("./sdk/all/scheduler.js"),S=u("./sdk/background/debugging.js"),G=u("./sdk/background/telemetry.js"),D=u("./sdk/background/cdp.js"),X=u("./sdk/background/persistence.js"),L=u("./core/lib/features.js");const F="ewe:cdp-metrics-uploader",V=46*1024,P="debugCdp";let R=new X.PersistentState(F,h.storage.local),N=!1;function E(ue){N=ue}let O=null;async function B(ue,Q=1*x.MILLIS_IN_HOUR){if(!ue.pingUrl)throw new Error("No CDP `pingUrl` provided");if(!ue.aggregateUrl)throw new Error("No CDP `aggregateUrl` provided");if(!ue.bearer)throw new Error("No CDP `bearer` provided");await R.load(),await M(),Y(),$(ue,Q)}async function M(){if(typeof R.getState().dayCutoffMinutes>"u"){let ue=(0,j.randomInteger)(0,x.MINUTES_IN_DAY);(0,D.log)(`dayCutoffMinutes=${ue}`),R.getState().dayCutoffMinutes=ue,await R.save()}}async function U(ue){let Q=R.getState(),be=new Date,Re=(0,A.toLocalISODateStringWithCutoffTime)(be,Q.dayCutoffMinutes);if((0,D.log)(`refDateLocal=${Re} for ${JSON.stringify(ue)} (dayCutoffMinutes=${Q.dayCutoffMinutes})`),Q.bundles||(Q.bundles=[]),Q.pingBundles||(Q.pingBundles=[]),Q.bundles.some(Ae=>Ae.siteId==ue.siteId&&Ae.referenceDateLocal==Re)){(0,D.log)("Bundle already exists");return}let ge=new Date(Re).getTime()+Q.dayCutoffMinutes*x.MILLIS_IN_MINUTE+x.MILLIS_IN_DAY+(0,j.randomInteger)(0,12*x.MILLIS_IN_HOUR);const me={siteId:ue.siteId,referenceDateLocal:Re,utid:(0,y.default)(),scheduledSendTimestamp:ge};(0,D.log)(`New agg bundle: ${JSON.stringify(me)}`),Q.bundles.push(me);let se=Q.pingBundles.find(Ae=>Ae.siteId==ue.siteId);if(se)se.scheduledSendTimestamp=Date.now();else{Q.clientIds||(Q.clientIds={}),Q.clientIds[ue.siteId]||(Q.clientIds[ue.siteId]=(0,y.default)());const Ae={siteId:ue.siteId,clientId:Q.clientIds[ue.siteId],scheduledSendTimestamp:Date.now()};(0,D.log)(`New ping bundle: ${JSON.stringify(Ae)}`),Q.pingBundles.push(Ae)}await R.save(),O.checkNow()}function Y(){D.default.onCdpItem.addListener(U,{eventType:D.EVENT_SESSION_START})}function $(ue,Q){O||(O=new I.Scheduler({interval:0,errorRetryDelay:Q,listener:()=>ee(ue),async getNextTimestamp(){(0,D.log)("getNextTimestamp()");let be=R.getState(),Re=be.lastError,oe=be.bundles&&be.bundles.length>0,ge=be.pingBundles&&be.pingBundles.length>0,me=null,se=oe&&be.bundles.map(Ie=>Ie.scheduledSendTimestamp).reduce((Ie,Ue)=>Math.min(Ie,Ue)),Ae=ge&&be.pingBundles.map(Ie=>Ie.scheduledSendTimestamp).reduce((Ie,Ue)=>Math.min(Ie,Ue)),Le=null;se&&Ae?Le=Math.min(se,Ae):se?Le=se:Ae&&(Le=Ae),(0,D.log)(`nextScheduledAggBundleSend=${se}, nextScheduledPingBundleSend=${Ae}, nextScheduledBundleSend=${Le}`);let ve=Date.now();if(!Le)return(0,D.log)("Nothing to send, try in 1h"),ve+x.MILLIS_IN_HOUR;if(Re){me=Re+Q;let Ie=Date.now(),Ue=Ie+Q;me>Ue&&(be.lastError=Ie,await R.save())}if(me){const Ie=Math.max(me,Le);return(0,D.log)(`return ${Ie}`),Ie}return(0,D.log)(`return ${Le}`),Le}}))}async function ee(ue){let Q=await D.default.isOptOut();(0,S.trace)({cdp:ue,optOut:Q}),(0,D.log)("uploadPendingSessionBundles()");let be=R.getState(),Re=(be.pingBundles||[]).slice(0),oe=(be.bundles||[]).slice(0),ge=Date.now();try{for(let me of Re){if(me.scheduledSendTimestamp>ge){(0,D.log)(`Skipping ${me} as it's too early (${ge})`);continue}if(!Q){const Ae={payload:{site_id:me.siteId,site_client_id:me.clientId,addon_name:T.sdkName,addon_version:T.sdkVersion,application:T.application,application_version:T.applicationVersion}};(0,D.log)(`postWithBearerToken(${ue.pingUrl})`),await(0,G.postWithBearerToken)(ue.pingUrl,ue.bearer,Ae)}be.pingBundles=be.pingBundles.filter(se=>se!=me),await R.save()}for(let me of oe){if(me.scheduledSendTimestamp>ge&&!N)continue;let se=new Date(me.referenceDateLocal).getTime()+R.getState().dayCutoffMinutes*x.MILLIS_IN_MINUTE,Ae=se+x.MILLIS_IN_DAY;if(!Q){let Le=(0,D.getData)(D.EVENT_SESSION_START,me.siteId).filter(Ue=>Ue>=se&&Ue<Ae).length,ve={site_id:me.siteId,sessions_count:Le,reference_date_local:me.referenceDateLocal,utid:me.utid,addon_name:T.sdkName,addon_version:T.sdkVersion,application:T.application,application_version:T.applicationVersion};if((0,L.isFeatureEnabled)(P)){if(Le==0||Le>48){(0,D.log)(`Anomalous sessions number: ${Le} for ${me.siteId} on ${me.referenceDateLocal}`);const Ue=(0,D.getLog)();if(Ue){let tt=Ue.join(`
`);if(tt.length>V){const Ne=tt.length;tt=tt.substring(tt.length-V),(0,S.warn)(`Shrinked the CDP debug log from ${Ne} to ${tt.length}`)}const Be=(0,b.compressToUTF16)(tt);ve.debug=Be,(0,D.log)(`Compressed CDP log is of ${Be.length} size instead of ${tt.length} size`)}}(0,D.clearLog)()}const Ie={payload:ve};(0,D.log)(`postWithBearerToken(${ue.aggregateUrl})`),await(0,G.postWithBearerToken)(ue.aggregateUrl,ue.bearer,Ie)}be.bundles=be.bundles.filter(Le=>Le!=me),await R.save(),await(0,D.clearData)(null,me.siteId,Ae)}be.lastError&&(delete be.lastError,await R.save())}catch(me){const se=`CDP error: ${me.message}`;return(0,D.log)(se),(0,S.error)(se),be.lastError=Date.now(),await R.save(),!1}return!0}async function ae(){re(),R.clearState(),await R.save()}function re(){O&&(O.stop(),O=null,D.default.onCdpItem.removeListener(U))}const J={start:B,stop:re,reset:ae}},"./sdk/background/cdp-metrics-uploader-3.js":(f,d,u)=>{u.r(d),u.d(d,{Uploader:()=>ge,requestPublicKey:()=>B,upload:()=>J});var h=u("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=u("./node_modules/uuid/dist/esm-browser/v4.js"),b=u("./node_modules/pako/dist/pako.esm.mjs"),x=u("./core/lib/time.js"),A=u("./sdk/background/info.js"),j=u("./sdk/all/scheduler.js"),T=u("./sdk/background/subscriptions.js"),I=u("./sdk/background/debugging.js"),S=u("./sdk/background/experiments.js"),G=u("./sdk/background/telemetry.js"),D=u("./sdk/background/cdp.js"),X=u("./sdk/background/callbacks.js"),L=u("./sdk/background/cdp-encryption.js"),F=u("./sdk/background/persistence.js");const P=h.runtime.getManifest().version,R="ewe:cdp-metrics-uploader-3",N=new F.PersistentState(R,h.storage.local);let E,O=null;async function B(){let me=await fetch(E.publicKeyUrl);const se=await me.text(),Ae=me.headers.get("PubKey-Id");return{publicKey:se,keyId:Ae}}async function M(me){return b.default.gzip(me,{level:9}).buffer}async function U(me,se){(0,I.trace)({publicKeyPem:me});const Ae=await(0,L.importRSAPublicKey)(me),Le=await(0,L.createAESKey)(),ve=await(0,L.AESkeyToBinary)(Le),Ie=(0,L.generateAESNonce)(),Ue=await(0,L.encryptRSA)(Ae,ve),tt=new Uint8Array(Ue),Be=await(0,L.encryptAES)(Ie,Le,se),Ne=new Uint8Array(Be),Ze=new Uint8Array(tt.length+Ie.length+Ne.length);Ze.set(tt),Ze.set(Ie,tt.length),Ze.set(Ne,tt.length+Ie.length);const ot=btoa(String.fromCharCode.apply(null,Ze));return(0,I.debug)(()=>ot),ot}async function Y(){const me=await S.default.getAssignments();return Object.entries(me).map(se=>({experiment_id:se[0],variant_id:se[1]}))}async function $(me,se,Ae,Le){const ve=N.getState(),Ie={public_key_id:se,addon_name:A.sdkName,addon_version:A.sdkVersion,application:A.application,application_version:A.applicationVersion,extension_name:h.runtime.id,extension_version:P,utid:Le,ucid:ve.ucid,encryption_scheme:`rsa:2048:aes:${L.AES_LENGTH}`,aa_active:await(0,T.hasAcceptableAdsEnabled)(),experiments:await Y()};if(X.premiumStatusCallback){const Ue=await(0,X.premiumStatusCallback)();Ue&&(Ie.premium_status=Ue)}if(ve.lastPing){const Ue=await M(Ae);Ie.encrypted_data=await U(me,Ue),Ie.last_ping=new Date(ve.lastPing).toISOString()}return(0,I.debug)(()=>"CDP payload: "+JSON.stringify(Ie)),Ie}function ee(){const me=N.getState(),se=Date.now();let Ae,Le=0;do Le+=1,Ae=(me.lastPing||se)+Le*x.MILLIS_IN_DAY;while(Ae<se);return Ae}async function ae(me){(0,I.trace)({});const se=N.getState();se.nextPing=ee(),me&&(se.lastPing=Date.now()),se.lastError&&delete se.lastError,re(se)&&delete se.lastDomainStats,se.lastUtid&&delete se.lastUtid,se.retryCounter&&delete se.retryCounter,await N.save()}function re(me){return Object.prototype.hasOwnProperty.call(me,"lastDomainStats")}async function J(){if((0,I.trace)({}),await D.default.isOptOut())return(0,I.warn)("CDP opted out, skipping"),!1;const me=N.getState();let se,Ae;try{if(re(me)?(se=me.lastDomainStats,Ae=me.lastUtid,(0,I.warn)("Resending payload "+Ae)):(me.lastPing?(se=(0,D.getDomainStats)(),await(0,D.clearData)()):se=null,Ae=(0,y.default)(),(0,I.debug)("New payload "+Ae)),!me.lastPing||se&&se.length>9){const{publicKey:ve,keyId:Ie}=await B(),Ue=await $(ve,Ie,se,Ae);await(0,G.postWithBearerToken)(E.pingUrl,E.bearer,{payload:Ue}),await ae(!0)}else(0,I.warn)("No data to upload, skipping"),await ae(!1)}catch(Le){return(0,I.error)(`CDP error: ${Le.message} for payload with utid=${Ae}`),me.retryCounter=(me.retryCounter||0)+1,me.retryCounter>=3?((0,I.error)("Retried sending too much times"),await ae(!0),await N.save(),!0):(me.lastError=Date.now(),re(me)||(me.lastDomainStats=se,me.lastUtid=Ae),await N.save(),!1)}return!0}function ue(me){O||(O=new j.Scheduler({interval:0,errorRetryDelay:me,listener:()=>J(),async getNextTimestamp(){let se=N.getState(),Ae=se.lastError,Le=Date.now();if(Ae){let ve=Ae+me;(0,I.warn)(`CDP ping retrying in ${me} millis`);let Ie=Le+me;return ve>Ie&&(se.lastError=Le,await N.save()),ve}return se.nextPing?se.nextPing:(se.nextPing=ee(),await N.save(),0)}}))}async function Q(){N.getState().ucid||(N.getState().ucid=(0,y.default)(),await N.save())}async function be(me,se=1*x.MILLIS_IN_HOUR){if(!me.pingUrl)throw new Error("No CDP `pingUrl` provided");if(!me.publicKeyUrl)throw new Error("No CDP `publicKeyUrl` provided");if(!me.bearer)throw new Error("No CDP `bearer` provided");E=me,N.clearState(),await N.load(),await Q(),ue(se)}async function Re(){oe(),N.clearState(),await N.save()}function oe(){O&&(O.stop(),O=null)}const ge={start:be,stop:oe,reset:Re}},"./sdk/background/cdp-metrics-uploader.js":(f,d,u)=>{u.r(d),u.d(d,{reset:()=>S,start:()=>T,stop:()=>I});var h=u("./core/lib/features.js"),y=u("./sdk/background/cdp-metrics-uploader-2.js"),b=u("./sdk/background/cdp-metrics-uploader-3.js"),x=u("./core/lib/time.js");const A="cdpPhase3";function j(){return(0,h.isFeatureEnabled)(A)?b.Uploader:y.Uploader}async function T(G,D=1*x.MILLIS_IN_HOUR){await j().start(G,D)}function I(){y.Uploader.stop(),b.Uploader.stop()}async function S(){await j().reset()}},"./sdk/background/cdp-processor.js":(f,d,u)=>{u.r(d),u.d(d,{OnlySupportedDomainsProcessor:()=>y,SpecialDomainsProcessor:()=>b});var h=u("./core/lib/url.js");class y{constructor(){this.restoreConfig()}restoreConfig(){this.setConfig([[["amazon.*"],"amazon.*"],[["search.yahoo.com"],"search.yahoo.com"],[["yahoo.com"],"yahoo.com"],[["expedia.*"],"expedia.*"],[["hotels.*","hoteles.com"],"hotels.*"]])}setConfig(A){this.cdpDomains=new Map;for(const j of A){const T=j[0],I=j[1];for(const S of T)this.cdpDomains.set(S,I)}}shouldProcess(A){return this.getSiteId(A.hostname)!=null}getSiteId(A){const j=[...(0,h.domainSuffixes)(A)];for(const[T,I]of this.cdpDomains)if(j.includes(T))return I;for(const[T,I]of this.cdpDomains)if((0,h.hasWildcard)(T)&&(0,h.matchesWildcards)(A,T))return I;return null}}class b{constructor(){this.restoreConfig()}restoreConfig(){this.setConfig(["search.yahoo.com"])}setConfig(A){this.specialDomains=A}shouldProcess(A){return(0,h.isHttpOrHttps)(A)}getSiteId(A){for(const j of(0,h.domainSuffixes)(A))if(this.specialDomains.includes(j))return j;return(0,h.getBaseDomain)(A)}}},"./sdk/background/cdp.js":(f,d,u)=>{u.r(d),u.d(d,{CdpEventDispatcher:()=>me,EVENT_BLOCKING:()=>V,EVENT_PAGE_VIEW:()=>L,EVENT_SESSION_START:()=>F,_awaitSavingComplete:()=>ve,_restoreConfig:()=>ue,_setConfig:()=>J,clearActivity:()=>Be,clearData:()=>Ze,clearExpiredActivity:()=>Ne,clearLog:()=>ee,default:()=>Gt,getData:()=>tt,getDomainStats:()=>lt,getLog:()=>Y,log:()=>U,markActive:()=>le,setData:()=>Ie,setDataArray:()=>Ue,setLoadDelay:()=>re,setLog:()=>$,shouldNotifyActive:()=>zt,start:()=>Ot,stop:()=>ke});var h=u("./sdk/background/webext-browser.js"),y=u("./sdk/background/prefs.js"),b=u("./sdk/background/frame-state.js"),x=u("./sdk/background/diagnostics.js"),A=u("./sdk/background/persistence.js"),j=u("./sdk/background/debugging.js"),T=u("./sdk/background/info.js"),I=u("./sdk/background/domains-trimming.js"),S=u("./core/lib/features.js"),G=u("./core/lib/url.js"),D=u("./sdk/background/cdp-processor.js"),X=u("./sdk/background/callbacks.js");const L="page_view",F="session_start",V="blocking",P="cdpPhase3",R="debugCdp",N=5e3;let E=0,O=[],B,M=new A.PersistentState("ewe:cdp_log",h.default.storage.local);M.doDebounce(),M.setDebounceInterval(N);function U(Xe){if((0,j.debug)(Xe),!(0,S.isFeatureEnabled)(R))return;const pe=`${Date.now()}:${Xe}`,je=M.getState();je.messages||(je.messages=[]),je.messages.push(pe);const it=1e4;je.messages.length>it&&je.messages.splice(0,je.messages.length-it),M.save()}function Y(){return M.getState().messages}function $(Xe){M.getState().messages=Xe}function ee(){M.clearState(),M.save()}function ae(){return(0,S.isFeatureEnabled)(P)}function re(Xe){E=Xe}function J(Xe){B.setConfig(Xe)}function ue(){B&&B.restoreConfig()}let Q;function be(){Q=new Map([[L,new A.PersistentState("ewe:cdp-page-view",h.default.storage.local)],[F,new A.PersistentState("ewe:cdp-session",h.default.storage.local)],[V,new A.PersistentState("ewe:cdp-blocking",h.default.storage.local)]]);for(const Xe of Q.values())Xe.doDebounce()}be();let Re;function oe(){Re=new A.PersistentState("ewe:cdp-activity",h.default.storage.local),Re.doDebounce()}oe();let ge=new Map;class me{addListener(pe,je={}){ge.set(pe,je)}removeListener(pe){ge.delete(pe)}}async function se(Xe,pe,je){for(const[it,Je]of ge)Je.eventType&&Je.eventType!=Xe||Je.siteId&&Je.siteId!=pe||await it({eventType:Xe,siteId:pe,timeStamp:je})}async function Ae(Xe,pe,je){(0,j.trace)({eventType:Xe,siteId:pe,timeStamp:je}),U(`count(${Xe}, ${pe}, ${je})`);const it=Q.get(Xe);if(ae()){let Je=Z(it.getState()[pe]);it.getState()[pe]=Je+1}else{let Je=it.getState()[pe];Je||(Je=[],it.getState()[pe]=Je),Je.push(je),U(`events count: ${Je.length}`)}Bn()&&await it.save(),await se(Xe,pe,je)}async function Le({request:Xe}){if(xe())return;const pe=B.getSiteId(new URL(Xe.url).hostname);pe&&await Ae(V,pe,Date.now())}async function ve(){for(const Xe of Q.values())await Xe.awaitSavingComplete();await Re.awaitSavingComplete()}async function Ie(Xe,pe,je){(0,j.trace)({eventType:Xe,domain:pe});const it=Q.get(Xe);it.getState()[pe]=je,await it.save()}async function Ue(Xe,pe,je){const it=Q.get(Xe);for(let Je=0;Je<pe.length;Je++){const _t=pe[Je],Ht=je[Je];it.getState()[_t]=Ht}await it.save()}function tt(Xe,pe){if((0,j.trace)({eventType:Xe,siteId:pe}),U(`getData(${Xe}, ${pe})`),ae()){let it=Z(Q.get(Xe).getState()[pe]);return(0,j.debug)("counter="+it),it}const je=Q.get(Xe).getState()[pe]||[];return U(`Got ${je.length} events for ${pe}`),je}async function Be(){(0,j.trace)({}),U("clearActivity"),Re.clearState(),await Re.save()}async function Ne(){(0,j.trace)({});let Xe=Re.getState(),pe=!1;for(const je of Object.keys(Xe)){const it=Xe[je];Date.now()-it>y.Prefs.cdp_session_expiration_interval&&((0,j.debug)(()=>`Remove expired session for ${je}`),delete Xe[je],pe=!0)}pe&&await Re.save()}async function Ze(Xe,pe,je){(0,j.trace)({eventType:Xe,siteId:pe,timeStamp:je}),U(`clearData(${Xe}, ${pe}, ${je})`),ae()&&(je=null);const it=Xe?[Xe]:[...Q.keys()];for(const Je of it){const _t=Q.get(Je);if(!pe&&!je)_t.clearState();else{const Ht=pe?[pe]:[..._t.keys()];for(const un of Ht)if(je){let nn=_t.getState()[un];nn&&(nn=nn.filter(pn=>pn>=je),_t.getState()[pe]=nn)}else delete _t.getState()[un]}await _t.save()}}let ot;function It(Xe,pe){if((0,j.trace)(Xe),xe())return;if(!Bn()){(0,j.warn)(()=>`Deferring browser event: ${JSON.stringify(Xe)}`),O.push({details:Xe,doMarkActive:pe});return}if(Xe.frameId!=b.TOP_LEVEL_FRAME_ID)return;let je;try{je=new URL(Xe.url)}catch(Ht){(0,j.error)(Ht.message);return}if(!(0,G.isHttpOrHttps)(je)){(0,j.warn)(`Ignore ${(0,G.stripQuery)(Xe.url)}`);return}const it=B.getSiteId(je.hostname);if(!it)return;U(`handleBrowserEvent() url*=${(0,G.stripQuery)(Xe.url)}, hostname=${je.hostname}, siteId=${it}`);const Je=ie(it),_t=Date.now();return Ae(L,it,_t),pe&&At(it),Je&&Ae(F,it,_t),it}function fe(Xe){It(Xe,!0)}function ie(Xe){(0,j.trace)({siteId:Xe});const pe=Re.getState()[Xe];if(!pe)return U(`New session for ${Xe}`),!0;const je=Date.now()-pe;return je>y.Prefs.cdp_session_expiration_interval?(U(`Session expired for ${Xe} (lastActive=${pe}, actuallyPassed=${je})`),!0):(U(`Pending session for ${Xe} (lastActive=${pe}, actuallyPassed=${je})`),!1)}function xe(){return y.Prefs.cdp_opt_in_out==y.CDP_OPTED_OUT||y.Prefs.cdp_opt_in_out==y.CDP_OPTED_OUT_BY_USER}function st(Xe){It(Xe,!1)}async function At(Xe){const pe=Date.now();Re.getState()[Xe]=pe,U(`markActiveForSiteId siteId=${Xe}, now=${pe}`),await Re.save()}async function le(Xe,pe){(0,j.trace)({tabId:Xe,frameId:pe});const je=(0,b.getFrameInfo)(Xe,pe);if(!je)return;const it=B.getSiteId(je.hostname);if(U(`markActive() hostname=${je.hostname}, siteId=${it}`),!it)return;const Je=Date.now(),_t=ie(it);await At(it),_t&&(Ae(L,it,Je),Ae(F,it,Je))}function zt(Xe,pe){if((0,j.trace)({tabId:Xe,frameId:pe}),xe())return!1;let je=(0,b.getFrameInfo)(Xe,pe);return je?B.shouldProcess(new URL(je.url)):!1}async function Wt(){for(const Xe of Q.values())await Xe.load()}function Bn(){for(const Xe of Q.values())if(!Xe.loaded)return!1;return!0}function qn(){if(O.length>0){for(const Xe of O)It(Xe.details,Xe.doMarkActive);(0,j.warn)(`Processed ${O.length} deferred events`),O=[]}}function ke(){ot&&(ot=null,new x.BlockableEventDispatcher().removeListener(Le,{filterType:"blocking"}),h.default.webNavigation.onBeforeNavigate.removeListener(fe),h.default.webNavigation.onHistoryStateUpdated.removeListener(st),be(),oe())}const Ce=new Map([[F,"s"],[L,"p"]]);function lt(Xe=[Ce.get(F)],pe=92160){const je=new Set;for(const[Ht,un]of Q){const nn=Ce.get(Ht);if(Xe.includes(nn))for(const pn of Object.keys(un.getState()))je.add(pn)}function it(Ht){return Z(Q.get(F).getState()[Ht])}const Je=Array.from(je).sort((Ht,un)=>it(un)-it(Ht)),_t=new I.MaxLengthMetricsDict(pe,Xe,null);for(const Ht of Je)for(const[un,nn]of Q){const pn=Ce.get(un);if(!Xe.includes(pn))continue;const $e=nn.getState()[Ht];_t.addMetric(Ht,pn,Z($e))}return _t.serialize()}function Z(Xe){return Xe?Array.isArray(Xe)?Xe.length:Xe:0}async function Ot(){return ot||(ot=(async()=>{B=ae()?new D.SpecialDomainsProcessor:new D.OnlySupportedDomainsProcessor,(0,T.isFirefox)()&&y.Prefs.cdp_opt_in_out==y.CDP_OPTED_IN&&(y.Prefs.cdp_opt_in_out=y.CDP_OPTED_OUT),new x.BlockableEventDispatcher().addListener(Le,{filterType:"blocking"}),h.default.webNavigation.onBeforeNavigate.addListener(fe),h.default.webNavigation.onHistoryStateUpdated.addListener(st);async function Xe(){await Wt(),await Re.load(),(0,S.isFeatureEnabled)(R)&&await M.load(),await Ne(),qn()}E==0?await Xe():setTimeout(Xe,E)})()),ot}const Gt={onCdpItem:new me,async setOptOut(Xe){y.Prefs.cdp_opt_in_out=Xe?y.CDP_OPTED_OUT_BY_USER:y.CDP_OPTED_IN_BY_USER},async isOptOut(){return y.Prefs.cdp_opt_in_out==y.CDP_OPTED_OUT||y.Prefs.cdp_opt_in_out==y.CDP_OPTED_OUT_BY_USER},setPremiumStatusCallback:X.setPremiumStatusCallback}},"./sdk/background/content-filter.js":(f,d,u)=>{u.r(d),u.d(d,{applyContentFilters:()=>R,injectCSS:()=>N,removeCSS:()=>E,setSnippetLibrary:()=>L});var h=u("./sdk/background/webext-browser.js"),y=u("./core/lib/elemHide.js"),b=u("./core/lib/contentTypes.js"),x=u("./core/lib/snippets.js"),A=u("./sdk/background/core.js"),j=u("./sdk/background/frame-state.js"),T=u("./sdk/background/diagnostics.js"),I=u("./sdk/background/debugging.js"),S=u("./sdk/background/set-operations.js"),G=u("./sdk/background/cdp.js");let D,X;function L({isolatedCode:O,injectedCode:B}){D=O,X=B}function F(O,B){let M=(0,S.arraysDiff)(O.selectors,B.selectors);B.removedSelectors=M.removed,B.addedSelectors=M.added,B.removedCode=(0,y.createStyleSheet)(B.removedSelectors),B.addedCode=(0,y.createStyleSheet)(B.addedSelectors)}function V(O,B,M){let U=(M.allowlisted&b.contentTypes.GENERICHIDE)!=0,Y=(0,T.tracingEnabled)(O),$;B&&!(B.allowlisted&b.contentTypes.DOCUMENT)&&!(B.allowlisted&b.contentTypes.ELEMHIDE)?$=A.filterEngine.elemHide.getStyleSheet(B.hostname,U,Y):$={selectors:[]};let ee;if(!(M.allowlisted&b.contentTypes.DOCUMENT)&&!(M.allowlisted&b.contentTypes.ELEMHIDE)?ee=A.filterEngine.elemHide.getStyleSheet(M.hostname,U,I.trace):ee={selectors:[]},F($,ee),I.debugOptions.elemHide){let ae="{";for(let[re,J]of I.debugOptions.cssProperties)ae+=`${re}: ${J} !important;`;ae+="}",ee.code=(0,y.createStyleSheet)(ee.selectors,ae),ee.removedCode=(0,y.createStyleSheet)(ee.removedSelectors,ae),ee.addedCode=(0,y.createStyleSheet)(ee.addedSelectors,ae)}return ee}async function P(O,B,M,U){if(!D||!X){console.warn("Snippets are not initialized. Use `setSnippetLibrary()` to initialize snippets.");return}let Y={tabId:O,frameIds:[B]},$=A.filterEngine.snippets.getFilters(U.hostname),ee=$.map(({script:oe})=>oe),ae={};I.debugOptions.elemHide&&(ae.debugCSSProperties=I.debugOptions.snippetsCssProperties);let re=[],J=[],ue=[];for(let oe of ee)for(let[ge,...me]of(0,x.parseScript)(oe)){if(D.has(ge)){let se=D.get(ge);se&&re.push(se),J.push([ge,...me])}X.has(ge)&&ue.push([ge,...me])}function Q(){const oe=JSON.stringify([ae,...ue]);let ge=JSON.stringify(X.toString());return ge=`"(${ge.slice(1,-1)}).apply(null,${JSON.stringify(oe).slice(1,-1)});"`,`function injectSnippetsInMainContext(executable)
        {
          // injecting phases
          let script = document.createElement("script");
          script.type = "application/javascript";
          script.async = false;

          // Firefox 58 only bypasses site CSPs when assigning to 'src',
          // while Chrome 67 and Microsoft Edge (tested on 44.17763.1.0)
          // only bypass site CSPs when using 'textContent'.
          if (typeof netscape != "undefined" && typeof browser != "undefined")
          {
            let url = URL.createObjectURL(new Blob([executable]));
            script.src = url;
            document.documentElement.appendChild(script);
            URL.revokeObjectURL(url);
          }
          else
          {
            script.textContent = executable;
            document.documentElement.appendChild(script);
          }

          document.documentElement.removeChild(script);
        };
        {
          const executable = ${ge};
          injectSnippetsInMainContext(executable);
        }`}let be=[];if(h.default.scripting&&h.default.scripting.executeScript){if(J.length>0){if(re.length){let oe=[];for(let ge of re)(0,I.debug)(()=>`Execute dependency script ${ge}`),oe.push(h.default.scripting.executeScript({target:Y,world:"ISOLATED",func:ge}));await Promise.all(oe)}(0,I.debug)(()=>`Execute isolated script ${D}`),be.push(h.default.scripting.executeScript({target:Y,world:"ISOLATED",func:D,args:[ae,...J]}))}if(ue.length>0)if(Object.values(h.default.scripting.ExecutionWorld).includes("MAIN"))(0,I.debug)(()=>`Execute main script ${X}`),be.push(h.default.scripting.executeScript({target:Y,world:"MAIN",injectImmediately:!0,func:X,args:[ae,...ue]}));else{const oe=Q();(0,I.debug)(()=>`Execute main script ${oe}`),be.push(h.default.tabs.executeScript(O,{frameId:B,code:oe,matchAboutBlank:!0,runAt:"document_start"}))}}else{if(J.length>0){const oe=JSON.stringify([ae,...J]);let ge="";if(re.length)for(const me of re)ge+=`(${me})();`;ge+=`(${D}).apply(null,${oe})`,(0,I.debug)(()=>`Execute isolated script ${ge}`),be.push(h.default.tabs.executeScript(O,{frameId:B,code:ge,matchAboutBlank:!0,runAt:"document_start"}))}if(ue.length>0){const oe=Q();(0,I.debug)(()=>`Execute main script ${oe}`),be.push(h.default.tabs.executeScript(O,{frameId:B,code:oe,matchAboutBlank:!0,runAt:"document_start"}))}}let Re={tabId:O,frameId:B,url:U.url};Promise.all(be).then(()=>$.forEach(oe=>{(0,T.logItem)(Re,oe,{docDomain:U.hostname,method:"snippet"})}),()=>{})}async function R(O,B,M,U){const Y=(0,j.getFrameInfo)(O,B);(0,I.trace)({tabId:O,frameId:B,previousFrame:M,frame:Y});const $=[];let ee;if(Y){let J=V(O,M,Y);if((0,I.debug)(()=>JSON.stringify(J)),M&&!(M.allowlisted&b.contentTypes.DOCUMENT)&&await E(O,B,J.removedCode),!U&&!(Y.allowlisted&b.contentTypes.DOCUMENT)&&P(O,B,M,Y),!(Y.allowlisted&b.contentTypes.DOCUMENT)&&!(Y.allowlisted&b.contentTypes.ELEMHIDE)){N(O,B,J.addedCode);let ue=A.filterEngine.elemHideEmulation.getFilters(Y.hostname);for(const{selector:Q,text:be,remove:Re,css:oe}of ue)$.push({selector:Q,text:be,remove:Re,css:oe});if((0,T.tracingEnabled)(O)){ee=[];for(let Q of J.addedSelectors)ee.push([Q,null]);for(let Q of J.exceptions)ee.push([Q.selector,Q.text])}}}else(0,I.warn)("No frame info");let ae;I.debugOptions.elemHide&&(ae=I.debugOptions.cssProperties);const re=(0,G.shouldNotifyActive)(O,B);return{emulatedPatterns:$,cssProperties:ae,tracedSelectors:ee,notifyActive:re}}function N(O,B,M){let U;h.default.scripting&&h.default.scripting.insertCSS?U=h.default.scripting.insertCSS({target:{tabId:O,frameIds:[B]},css:M,origin:"USER"}):U=h.default.tabs.insertCSS(O,{code:M,cssOrigin:"user",frameId:B,matchAboutBlank:!0,runAt:"document_start"}),U.catch(()=>{})}async function E(O,B,M){let U;h.default.scripting&&h.default.scripting.removeCSS?U=h.default.scripting.removeCSS({target:{tabId:O,frameIds:[B]},css:M,origin:"USER"}):h.default.tabs.removeCSS?U=h.default.tabs.removeCSS(O,{code:M,cssOrigin:"user",frameId:B,matchAboutBlank:!0}):U=Promise.resolve();try{await U}catch{}}},"./sdk/background/content-message-deferrer.js":(f,d,u)=>{u.r(d),u.d(d,{_awaitSavingComplete:()=>O,_doSaveDeferredMessages:()=>N,_getDeferredMessages:()=>I,_loadDeferredMessages:()=>R,_saveDeferredMessages:()=>E,getDeferredMessages:()=>S,onContentHelloReceived:()=>L,sendContentMessage:()=>D,start:()=>B});var h=u("./sdk/background/webext-browser.js"),y=u("./sdk/background/browser-features.js"),b=u("./sdk/all/errors.js"),x=u("./sdk/background/debugging.js"),A=u("./sdk/background/persistence.js");let j=new A.PersistentState("ewe:deferred-content-messages"),T;function I(){return j}function S(M,U){const Y=j.getState()[M];return Y?Y[U]:null}async function G(M,U,Y){const $=()=>((0,x.trace)({tabId:M,frameId:U,message:Y}),h.default.tabs.sendMessage(M,Y,{frameId:U}));await $().catch(async ee=>{(0,x.warn)(`Failed to send the message: ${ee.message}, retrying`),await(0,b.ignoreNoConnectionError)($())})}async function D(M,U,Y){(0,x.trace)({tabId:M,frameId:U,message:Y});let $=S(M,U);$?($.push(Y),(0,x.debug)(()=>"Deferred the message: "+JSON.stringify(Y)),E()):await G(M,U,Y)}function X(M,U){(0,x.trace)({tabId:M,frameId:U});let Y=j.getState()[M];Y&&(delete Y[U],Object.keys(Y).length==0&&delete j.getState()[M],E())}async function L(M,U){(0,x.trace)({tabId:M,frameId:U});const Y=S(M,U);if(Y){X(M,U);for(const $ of Y)await G(M,U,$);E()}}function F(M,U){let Y=j.getState()[M];Y||(Y={},j.getState()[M]=Y);let $=Y[U];$||($=[],Y[U]=$)}function V(M){(0,x.trace)({details:M}),F(M.tabId,M.frameId)}function P(M){(0,x.trace)({tabId:M}),delete j.getState()[M],E()}async function R(){await j.load()}function N(){j.save()}function E(){(0,y.isRunningInServiceWorker)()&&N()}async function O(){await j.awaitSavingComplete()}async function B(){T||(h.default.webNavigation.onBeforeNavigate.addListener(V),h.default.tabs.onRemoved.addListener(P),T=(0,y.isRunningInServiceWorker)()?R():Promise.resolve(null)),await T}},"./sdk/background/core.js":(f,d,u)=>{u.r(d),u.d(d,{filterEngine:()=>b});var h=u("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=u("./core/lib/index.js");let b=new y.FilterEngine(function(){let x;return h.declarativeNetRequest&&(x=y.Features.DNR),{features:x}}())},"./sdk/background/debugging.js":(f,d,u)=>{u.r(d),u.d(d,{LOG_COLOR_BLUE:()=>M,LOG_COLOR_BLUE_BRIGHT:()=>$,LOG_COLOR_CYAN:()=>Y,LOG_COLOR_GREEN:()=>O,LOG_COLOR_MAGENTA:()=>U,LOG_COLOR_RED:()=>E,LOG_COLOR_YELLOW:()=>B,LOG_LEVEL_DEBUG:()=>V,LOG_LEVEL_ERROR:()=>R,LOG_LEVEL_INFO:()=>F,LOG_LEVEL_TRACE:()=>N,LOG_LEVEL_WARNING:()=>P,debug:()=>me,debugOptions:()=>Ie,default:()=>It,emitLogEvent:()=>oe,error:()=>Le,info:()=>ge,loadDebugOptions:()=>Ze,log:()=>se,saveDebugOptions:()=>Ne,trace:()=>ve,warn:()=>Ae});var h=u("./sdk/background/webext-browser.js"),y=u("./core/lib/filterStorage.js"),b=u("./sdk/background/io.js"),x=u("./sdk/background/info.js"),A=u("./sdk/background/core.js"),j=u("./sdk/background/prefs.js"),T=u("./sdk/background/sitekey.js"),I=u("./sdk/background/content-message-deferrer.js"),S=u("./sdk/background/cdp.js"),G=u("./sdk/background/subscriptions.js");let D={elemHide:!1,cssProperties:[["background","#e67370"],["outline","solid red"]],snippetsCssProperties:[["background","repeating-linear-gradient(to bottom, #e67370 0,#e67370 9px, white 9px, white 10px)"],["outline","solid red"]]},X=[];class L{addListener(ie){X.push(ie)}removeListener(ie){let xe=X.findIndex(st=>st==ie);xe!=-1&&X.splice(xe,1)}}const F=0,V=1,P=2,R=3,N=4,E="\x1B[31m",O="\x1B[32m",B="\x1B[33m",M="\x1B[34m",U="\x1B[35m",Y="\x1B[36m",$="\x1B[94m",ee=new Map([[V,M],[P,B],[R,E],[N,M]]);class ae{constructor(ie){this._wrappedListener=ie,this._events=[];let xe=this;this._listener=st=>{xe._events.push(st)}}print(){for(let ie of this._events)this._wrappedListener(ie)}clear(){this._events=[]}getListener(){return this._listener}}class re{constructor(ie=!0,xe=!0,st=ee){this._printTimeStamp=ie,this._colorize=xe,this._levelToColor=st,this._listener=({message:At,level:le,timeStamp:zt,color:Wt})=>{let Bn=Wt||this._levelToColor.get(le),qn=this._colorize?this.colorizeMessage(At,Bn):At,ke=this._printTimeStamp?`${this.formatTime(zt)}: ${qn}`:qn;switch(le){case F:console.info(ke);break;case P:console.warn(ke);break;case R:console.error(ke);break;case V:case N:console.debug(ke);break}}}colorizeMessage(ie,xe){return xe?`${xe}${ie}\x1B[0m`:ie}padStartZero(ie,xe=2){return String(ie).padStart(xe,"0")}formatTime(ie){return this.padStartZero(ie.getHours())+":"+this.padStartZero(ie.getMinutes())+":"+this.padStartZero(ie.getSeconds())+"."+this.padStartZero(ie.getMilliseconds(),3)}getListener(){return this._listener}}const J=new re,ue=new ae(J.getListener());function Q(){return new Error().stack.split(`
`).slice(3).map(ie=>ie.trim().replace("at ",""))}function be(fe){return typeof fe=="string"?fe:fe()}function Re(fe,ie,xe){if(X.length){const st=be(fe);oe({message:st,level:ie,color:xe})}}function oe({message:fe,level:ie,color:xe,timeStamp:st=new Date}){for(let At of X)At({message:fe,level:ie,timeStamp:st,color:xe})}function ge(fe,ie){Re(fe,F,ie)}function me(fe,ie){Re(fe,V,ie)}function se(fe,ie){Re(fe,F,ie)}function Ae(fe,ie){Re(fe,P,ie)}function Le(fe,ie){Re(fe,R,ie)}function ve(fe,ie){if(X.length){let xe=Q();xe.push(JSON.stringify(fe));const st=xe.join(`
	`);Re(st,N,ie)}}let Ie;const Ue="ewe:debugOptions";let tt=Promise.resolve(null),Be=h.default.storage.local;async function Ne(){await tt;let fe={};fe[Ue]=JSON.stringify(Ie),tt=Be.set(fe),await tt}async function Ze(){let fe=await Be.get(Ue);if(!fe||!fe[Ue]){Ie=JSON.parse(JSON.stringify(D));return}Ie=JSON.parse(fe[Ue])}let ot;const It={get addonInfo(){return{name:x.addonName,version:x.addonVersion,bundledSubscriptions:x.addonBundledSubscriptions,bundledSubscriptionsPath:x.addonBundledSubscriptionsPath,manifestVersion:x.manifestVersion}},async setElementHidingDebugMode(fe){await this.start(),Ie.elemHide=fe,await Ne()},async setElementHidingDebugStyle(fe,ie){await this.start(),fe&&(Ie.cssProperties=fe),ie&&(Ie.snippetsCssProperties=ie),await Ne()},async clearDebugOptions(){await this.start(),Ie=JSON.parse(JSON.stringify(D)),await Ne()},async isInFilterStorage(fe){let ie=[];return await b.IO.readFromFile(y.FilterStorage.sourceFile,xe=>ie.push(xe)),ie.some(xe=>xe.includes(fe))},validateSubscriptions:G.validate,async ensureEverythingHasSaved(){await j.awaitSavingComplete(),await A.filterEngine.filterStorage.awaitSavingComplete(),await T._awaitSavingComplete(),await I._awaitSavingComplete(),await S._awaitSavingComplete()},async start(){return ot||(ot=Ze()),ot},async ensureSaved(){await tt},onLogEvent:new L,ConsoleLogger:re,CONSOLE_LOGGER:J,OnRequestLogger:ae,ON_REQUEST_CONSOLE_LOGGER:ue}},"./sdk/background/diagnostics.js":(f,d,u)=>{u.r(d),u.d(d,{BlockableEventDispatcher:()=>I,logHiddenElements:()=>G,logItem:()=>S,loggingEnabled:()=>D,tracingEnabled:()=>X});var h=u("./core/lib/filterClasses.js"),y=u("./core/lib/url.js"),b=u("./sdk/background/core.js"),x=u("./sdk/background/filters.js"),A=u("./sdk/background/frame-state.js");let j=[],T={includeElementHiding:!1,includeUnmatched:!1,filterType:"blocking",tabId:null};class I{addListener(F,V){j.push({listener:F,options:{...T,...V}})}removeListener(F,V){let{includeElementHiding:P,includeUnmatched:R,filterType:N,tabId:E}={...T,...V},O=j.findIndex(B=>B.listener==F&&B.options.includeElementHiding==P&&B.options.includeUnmatched==R&&B.options.filterType==N&&B.options.tabId==E);O!=-1&&j.splice(O,1)}}function S(L,F,V={}){for(let{listener:P,options:R}of j){let{includeElementHiding:N,includeUnmatched:E,filterType:O,tabId:B}=R;B!=null&&B!=L.tabId||F&&(!N&&(F.type=="elemhide"||F.type=="elemhideexception"||F.type=="elemhideemulation")||O!="all"&&O=="allowing"!=(F.type=="allowing"||F.type=="elemhideexception"))||!E&&!F||P({request:L,filter:F&&(0,x.convertFilter)(F),matchInfo:V})}}function G(L,F,V){let P={tabId:V.tab.id,frameId:V.frameId,url:V.url||A.BLANK_PAGE_URL},{hostname:R}=(0,y.parseURL)(P.url),N={docDomain:R,method:"elemhide"};if(L.length>0){let E=[];for(let O of b.filterEngine.filterStorage.subscriptions())if(!O.disabled)for(let B of O.filterText()){let M=h.Filter.fromText(B);M instanceof h.ElemHideFilter&&L.includes(M.selector)&&M.isActiveOnDomain(R)&&!E.includes(M.text)&&(E.push(M.text),S(P,M,N))}}for(let E of F)S(P,h.Filter.fromText(E),N)}function D(L){return j.some(({options:F})=>F.tabId==null||F.tabId==L)}function X(L){return j.some(({options:F})=>F.includeElementHiding&&(F.tabId==null||F.tabId==L))}},"./sdk/background/dnr-filters.js":(f,d,u)=>{u.r(d),u.d(d,{_dnrDiffSubscriptionUpdate:()=>oe,addFilters:()=>ot,clearIsDnrSubscriptionUpdating:()=>re,clearRulesetUpdates:()=>ve,disableDynamicRules:()=>M,dnrDiffSubscriptionUpdate:()=>ue,dynamicRulesAvailable:()=>Ze,enableAllDisabledStaticRules:()=>be,enableFilters:()=>zt,getDynamicFilters:()=>Wt,getDynamicUserFilters:()=>Bn,getMetadataForFilter:()=>fe,init:()=>Ie,isDnrSubscriptionUpdating:()=>ae,migrateCustomFilters:()=>qn,removeAllDynamicFilters:()=>se,removeOrDisableFilters:()=>ie,removeSubscriptionsDynamicFilters:()=>Q,setMetadataForFilter:()=>It,testSetDynamicRulesAvailable:()=>Ne,validateFilter:()=>me});var h=u("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=u("./sdk/background/subscriptions-utils.js"),b=u("./core/lib/filterClasses.js"),x=u("./core/lib/subscriptionClasses.js"),A=u("./core/lib/url.js"),j=u("./core/lib/filterNotifier.js"),T=u("./sdk/background/core.js"),I=u("./core/lib/dnr/index.js"),S=u("./core/lib/dnr/mapper.js"),G=u("./sdk/background/subscriptions.js"),D=u("./sdk/background/filters.js"),X=u("./sdk/background/initializer.js"),L=u("./sdk/background/debugging.js"),F=u("./sdk/background/types.js"),V=u("./sdk/background/prefs.js"),P=u("./sdk/background/info.js");const R="The number of disabled static rules exceeds the disabled rule count limit.";let N=1,E=new Map,O,B=()=>Promise.resolve({});h.declarativeNetRequest&&(B=(0,I.createConverter)({async isRegexSupported(ke){return(await h.declarativeNetRequest.isRegexSupported(ke)).isSupported}}));async function M(ke){let Ce=U(ke),{removedDynamicFilters:lt,removeRuleIds:Z}=$(ke,[...Ce.keys()]);lt.forEach(Ot=>E.delete(Ot)),Le(),await h.declarativeNetRequest.updateDynamicRules({removeRuleIds:Z})}function U(ke){let Ce=new Set;for(let[lt,Z]of E.entries())Z&&Z.subscriptionIds&&Z.subscriptionIds.indexOf(ke)!==-1&&Ce.add(lt);return Ce}function Y(ke,Ce){let lt=0;for(let Z of Ce){let Ot=E.get(Z);Ot&&Ot.ruleIds&&Ot.subscriptionIds&&Ot.subscriptionIds.length==1&&Ot.subscriptionIds[0]==ke&&(lt+=Ot.ruleIds.length)}return lt}function $(ke,Ce){let lt=Ce.filter(Ot=>{let Gt=E.get(Ot);if(Gt&&Gt.subscriptionIds){let Xe=Gt.subscriptionIds.indexOf(ke);return Xe!==-1&&Gt.subscriptionIds.splice(Xe,1),Gt.subscriptionIds.length==0}return!1}),Z=lt.flatMap(Ot=>{let Gt=E.get(Ot);return Gt?Gt.ruleIds:[]});return{removedDynamicFilters:lt,removeRuleIds:Z}}let ee=new Set;function ae(ke){return ee.has(ke)}function re(){ee.clear()}async function J(ke,Ce){(0,L.debug)("Full update started"),Ce.shift();let lt=[];for(let Z of Ce)Z=b.Filter.normalize(Z),Z&&lt.push(Z);try{await Re(ke,lt)}catch(Z){(0,L.error)(`Failed to full update: ${Z.message}`),Z.type===D.ERROR_TOO_MANY_FILTERS?(ke.downloadStatus="synchronize_too_many_filters",Z.rulesAvailable=await Ze()):ke.downloadStatus="synchronize_dnr_error"}finally{(0,L.debug)("Full update finished")}}async function ue(ke,Ce){if((0,L.debug)("Diff update started"),ae(ke.url)){(0,L.debug)(`Already updating ${ke.url}, skipping`);return}ee.add(ke.url);try{await oe(ke,Ce)}catch(lt){(0,L.error)(`Failed to diff update: ${lt.message}`),lt.type===D.ERROR_TOO_MANY_FILTERS?(ke.downloadStatus="synchronize_diff_too_many_filters",lt.rulesAvailable=await Ze()):ke.downloadStatus="synchronize_diff_error"}finally{ee.delete(ke.url),(0,L.debug)("Diff update finished")}}async function Q(){for(let ke of T.filterEngine.filterStorage.subscriptions())ke instanceof x.DiffUpdatableSubscription&&await M(ke.id)}async function be(){let ke=[];for(let Ce of T.filterEngine.filterStorage.subscriptions()){if(!Ce.hasBundledFilters||!Ce.id)continue;let lt=await h.declarativeNetRequest.getDisabledRuleIds({rulesetId:Ce.id});await h.declarativeNetRequest.updateStaticRules({rulesetId:Ce.id,disableRuleIds:ke,enableRuleIds:lt})}}async function Re(ke,Ce){await X.default.start();let lt=await tt(Ce,ke.url),Z=U(ke.url);Z.size!=0&&(lt.relateToThisSubscription.forEach(Je=>Z.delete(Je)),lt.relateToOtherSubscriptions.forEach(Je=>Z.delete(Je)));let Ot=[...Z.keys()],Gt=Y(ke.url,Ot);if(lt.add.length-Gt>await Ze())throw new F.FilterError(D.ERROR_TOO_MANY_FILTERS);for(let Je of lt.relateToOtherSubscriptions)E.get(Je).subscriptionIds.push(ke.url);let{removeRuleIds:Xe}=$(ke.url,Ot),pe=await G.default.has(ke.url)&&!ke.disabled,je=pe?lt.add:void 0;await h.declarativeNetRequest.updateDynamicRules({addRules:je,removeRuleIds:Xe}),pe&&lt.details.forEach(Je=>{let{useFilterEngine:_t,filter:Ht,ruleIds:un,enabled:nn}=Je;Ae(un),E.set(Ht.text,{ruleIds:un,useFilterEngine:_t,enabled:nn,metadata:{},subscriptionIds:[ke.url]})}),Le();let it=ke.updateFilterText(Ce);j.filterNotifier.emit("subscription.updated",ke,it)}async function oe(ke,Ce){if(!h.declarativeNetRequest||!Ce||!ke.type)return;let lt=!ke.downloadable,{added:Z,removed:Ot}=Ce;await X.default.start();let Gt=null,Xe=null,pe=new Set;lt&&(Gt=new S.DnrMapper(async()=>await(0,y.getSubscriptionRulesetMap)(ke.id)),Xe=await h.declarativeNetRequest.getDisabledRuleIds({rulesetId:ke.id}),pe=U(ke.id));let je=await tt(Z,ke.id,Gt);pe.size!=0&&(je.relateToThisSubscription.forEach(nn=>pe.delete(nn)),je.relateToOtherSubscriptions.forEach(nn=>pe.delete(nn)));let it=Ot.concat(...pe.keys()),Je=Y(ke.url,it);if(je.add.length-Je>await Ze())throw new F.FilterError(D.ERROR_TOO_MANY_FILTERS);if(lt){Ot.length>0&&await Gt.load();let nn=Ot.flatMap($e=>{let Qe=Gt.get($e);return Qe||[]});nn.length==0&&(nn=void 0);let pn=[...je.staticRulesToEnable];pn.push(...Xe);try{await h.declarativeNetRequest.updateStaticRules({rulesetId:ke.id,disableRuleIds:nn,enableRuleIds:pn})}catch($e){throw $e.message==R?new F.FilterError(D.ERROR_TOO_MANY_FILTERS):$e}}for(let nn of je.relateToOtherSubscriptions)E.get(nn).subscriptionIds.push(ke.id);let{removedDynamicFilters:_t,removeRuleIds:Ht}=$(ke.id,it);Ht.length==0&&(Ht=void 0);let un=await G.default.has(ke.url)&&!ke.disabled;await h.declarativeNetRequest.updateDynamicRules({addRules:un?je.add:void 0,removeRuleIds:Ht}),_t.forEach(nn=>E.delete(nn)),un&&je.details.forEach(nn=>{let{useFilterEngine:pn,filter:$e,ruleIds:Qe,enabled:Ln}=nn;Ae(Qe),E.set($e.text,{ruleIds:Qe,useFilterEngine:pn,enabled:Ln,metadata:{},subscriptionIds:[ke.id]})}),await ge(ke,Ce),Le()}async function ge(ke,Ce){let{filterText:lt}=await(0,y.getFilterText)(ke);for(let Ot of Ce.removed){let Gt=lt.indexOf(Ot);Gt>=0&&lt.splice(Gt,1)}for(let Ot of Ce.added)lt.push(Ot);let Z=ke.updateFilterText(lt);j.filterNotifier.emit("subscription.updated",ke,Z)}function me(ke){if(ke instanceof b.InvalidFilter)return new F.FilterError("invalid_filter",ke.reason,ke.option);if((0,b.isActiveFilter)(ke)&&ke.domains){for(let Ce of ke.domains.keys())if(Ce&&!(0,A.isValidHostname)(Ce))return new F.FilterError("invalid_domain",Ce)}return null}async function se(){if(!h.declarativeNetRequest)return;E=new Map,V.Prefs.dynamic_filters=[];let ke=await h.declarativeNetRequest.getDynamicRules();if(ke.length!=0)return await h.declarativeNetRequest.updateDynamicRules({removeRuleIds:ke.map(Ce=>Ce.id)}),ke}function Ae(ke){if(ke)for(let Ce of ke)N<Ce&&(N=Ce)}function Le(){let ke=[];ke.push(...E),V.Prefs.dynamic_filters=ke}function ve(){V.Prefs.ruleset_updates=[]}function Ie(){return O||(O=(async()=>{if(!h.declarativeNetRequest)return;let ke=V.Prefs.dynamic_filters;Array.isArray(ke)&&ke.length>0?E=new Map(ke):await se();for(let{ruleIds:Ce}of E.values())Ae(Ce);j.filterNotifier.on("subscription.diffReceived",ue),j.filterNotifier.on("subscription.fullUpdateReceived",J)})()),O}async function Ue(ke){let Ce=[],lt=[];if(ke instanceof b.URLFilter&&!ke.sitekeys){let Z=await B(ke.text);if(Z.name=="Error"){let{option:Ot}=Z.detail;throw new F.FilterError(Z.message,Z.detail.text,Ot)}for(let Ot of Z){let Gt=++N;Ot.id=Gt,Ce.push(Gt),lt.push(Ot)}}return{filterRules:lt,ruleIds:Ce}}async function tt(ke,Ce=null,lt=null){let Z=[],Ot=[],Gt=[],Xe=[],pe=[],je=[],it=new Set;ke=ke.map(Je=>b.Filter.normalize(Je));for(let Je of ke){if(it.has(Je))continue;let _t=E.get(Je),Ht=_t!=null;if(_t&&((_t.subscriptionIds||[null]).includes(Ce)?Xe.push(Je):pe.push(Je)),lt){await lt.load();let pn=lt.get(Je);pn&&(je.push(...pn),Ht=!0)}if(Ht)continue;let un=b.Filter.fromText(Je),nn=me(un);if(nn){Gt.push(nn);continue}if(!T.filterEngine.filterStorage.filterState.isEnabled(Je))Z.push({filter:un,ruleIds:[],enabled:!1});else try{let{filterRules:pn,ruleIds:$e}=await Ue(un);pn&&Ot.push(...pn),Z.push({filter:un,ruleIds:$e,enabled:!0})}catch(pn){Gt.push(pn)}it.add(Je)}return{add:Ot,invalid:Gt,relateToThisSubscription:Xe,relateToOtherSubscriptions:pe,staticRulesToEnable:je,details:Z}}const Be="EWE:Dynamic_Rules_Limit";async function Ne(ke){await h.storage.session.set({[Be]:ke})}async function Ze(){let{declarativeNetRequest:ke}=h;if(!ke)return 1/0;let Ce=await h.storage.session.get(Be),lt=Ce[Be]>0?Ce[Be]:(0,P.isFirefox)()||(0,P.getBrowserVersion)()[0]<121?ke.MAX_NUMBER_OF_DYNAMIC_AND_SESSION_RULES:ke.MAX_NUMBER_OF_DYNAMIC_RULES,Z=(await ke.getDynamicRules()).length+(await ke.getSessionRules()).length;return lt-Z}async function ot(ke,Ce){await Ie();let lt=await tt(ke);if(lt.invalid.length>0)throw lt.invalid[0];let{length:Z}=lt.add;if(Z>0){if(Z>await Ze())throw new F.FilterError(D.ERROR_TOO_MANY_FILTERS);await h.declarativeNetRequest.updateDynamicRules({addRules:lt.add})}for(let Gt of lt.relateToOtherSubscriptions){let Xe=E.get(Gt);Xe.subscriptionIds||(Xe.subscriptionIds=[]),Xe.subscriptionIds.push(null)}let Ot;for(let Gt of lt.details){let{filter:Xe,ruleIds:pe,enabled:je}=Gt;Ot=await T.filterEngine.filterStorage.addFilter(Xe,Ot),Ae(pe),E.set(Xe.text,{ruleIds:pe,enabled:je,metadata:Ce,subscriptionIds:[null]})}return Le(),{added:lt.details.map(Gt=>Gt.filter.text).concat(lt.relateToOtherSubscriptions),exists:lt.relateToThisSubscription}}function It(ke,Ce){let lt=E.get(ke);if(!lt)throw new F.FilterError(D.ERROR_FILTER_NOT_FOUND);let Z=lt.metadata;lt.metadata=Ce,D.onChangedFilter.emit({...b.Filter.fromText(ke),metadata:Ce,oldMetadata:Z},"metadata"),Le()}function fe(ke){let Ce=E.get(ke);if(!Ce)return null;let lt=Ce.metadata;return typeof lt<"u"?lt:null}async function ie(ke,Ce=!0){await Ie();let{dynamicFilterTexts:lt}=le(ke);await st(lt,Ce),await xe(ke,Ce)}async function xe(ke,Ce){let lt=new Map,Z=new Map;for(let Ot of ke)for(let Gt of T.filterEngine.filterStorage.subscriptions(Ot)){if(Gt instanceof x.SpecialSubscription||!Gt.id)continue;let Xe=lt.get(Gt.id);Xe||(Xe=new S.DnrMapper(async()=>await(0,y.getSubscriptionRulesetMap)(Gt.id)),await Xe.load(),lt.set(Gt.id,Xe));try{let pe=Xe.get(Ot);pe&&pe.length&&Z.set(Gt.id,pe)}catch{}}for(const[Ot,Gt]of Z.entries()){let Xe=Ce?void 0:Gt,pe=Ce?Gt:void 0;await h.declarativeNetRequest.updateStaticRules({rulesetId:Ot,disableRuleIds:Xe,enableRuleIds:pe})}}async function st(ke,Ce=!0){let lt=[];for(let Z of ke){let Ot=E.get(Z);if(Ce){if(Ot){Ot.subscriptionIds||(Ot.subscriptionIds=[]);let Gt=Ot.subscriptionIds.indexOf(null);Gt!==-1&&Ot.subscriptionIds.splice(Gt,1)}if(Ot.subscriptionIds&&Ot.subscriptionIds.length==0){for(let Gt of Ot.ruleIds)lt.push(Gt);T.filterEngine.filterStorage.removeFilter(b.Filter.fromText(Z)),E.delete(Z)}else Ot.enabled||await zt([Z])}else{for(let Gt of Ot.ruleIds)lt.push(Gt);T.filterEngine.filterStorage.filterState.setEnabled(Z,!1),Ot.enabled=!1,Ot.ruleIds=[],E.set(Z,Ot)}}lt.length>0&&await h.declarativeNetRequest.updateDynamicRules({removeRuleIds:lt}),Le()}async function At(ke){let Ce=[];for(let lt of ke){let Z=b.Filter.normalize(lt),Ot=E.get(Z);if(!Ot||Ot.enabled)continue;let Gt=b.Filter.fromText(Z);T.filterEngine.filterStorage.filterState.setEnabled(Gt.text,!0);let{filterRules:Xe,ruleIds:pe}=await Ue(Gt);Ce.push(...Xe),Ae(pe),E.set(Gt.text,{ruleIds:pe,enabled:!0})}Ce.length!=0&&(await h.declarativeNetRequest.updateDynamicRules({addRules:Ce}),Le())}function le(ke){let Ce=[],lt=[],Z=ke.map(Ot=>b.Filter.normalize(Ot));for(let Ot of Z)E.has(Ot)?Ce.push(Ot):lt.push(Ot);return{dynamicFilterTexts:Ce,staticFilterTexts:lt}}async function zt(ke){await Ie();let{dynamicFilterTexts:Ce,staticFilterTexts:lt}=le(ke);await At(Ce),await xe(lt,!0)}async function Wt(){return await Ie(),E}async function Bn(){await Ie();let ke=new Map;for(let[Ce,lt]of E.entries())(!lt.subscriptionIds||lt.subscriptionIds.includes(null))&&ke.set(Ce,lt);return ke}async function qn(){let ke=[];for(let Ce of T.filterEngine.filterStorage.subscriptions())if(Ce instanceof x.SpecialSubscription)for(let lt of Ce.filterText())ke.push({text:lt,metadata:Ce.metadata,disabled:T.filterEngine.filterStorage.filterState.isDisabledForSubscription(lt,Ce.url)});for(let Ce of ke)try{T.filterEngine.filterStorage.removeFilter(b.Filter.fromText(Ce.text)),await ot([Ce.text],Ce.metadata),Ce.disabled&&await(0,D.disableFilter)(Ce.text)}catch(lt){let Z=V.Prefs.migration_filter_errors;Array.isArray(Z)||(Z=[]),Z.push({error:lt.message,filter:Ce}),V.Prefs.migration_filter_errors=Z}}},"./sdk/background/dnr-request-reporter.js":(f,d,u)=>{u.r(d),u.d(d,{start:()=>V});var h=u("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=u("./sdk/background/diagnostics.js"),b=u("./sdk/background/core.js"),x=u("./sdk/background/initializer.js"),A=u("./sdk/background/request-filter.js"),j=u("./core/lib/contentTypes.js"),T=u("./core/lib/filterClasses.js"),I=u("./core/lib/url.js"),S=u("./sdk/background/debugging.js");function G(P){let R=(0,A.getRequestContentType)(P);if(P.type=="main_frame"||P.type=="sub_frame"){let M=(0,A.getParentFrameInfoFromWebrequestDetails)(P),{hostname:U}=M||{},Y=P.documentUrl||(0,A.sanitizeInitiator)(P.initiator),$=(0,I.parseURL)(Y||P.url),ee=U||$.hostname,ae=P.type=="main_frame"?null:ee,re=b.filterEngine.defaultMatcher.match(P.url,j.contentTypes.GENERICBLOCK,ee,null),J=b.filterEngine.defaultMatcher.match(P.url,j.contentTypes.DOCUMENT,ee,null);return!J&&M&&M.allowingDocumentFilter&&(J=M.allowingDocumentFilter),{allowingDocumentFilter:J,specificOnly:!!re,docDomain:ae,contentType:R}}let N=(0,A.getFrameInfoFromWebrequestDetails)(P);if(!N){let M=null,U=!1,Y=null,$=P.documentUrl||(0,A.sanitizeInitiator)(P.initiator);return $&&(Y=(0,I.parseURL)($).hostname,M=b.filterEngine.defaultMatcher.match($,j.contentTypes.DOCUMENT,Y,null),U=!!b.filterEngine.defaultMatcher.match($,j.contentTypes.GENERICBLOCK,Y,null)),{allowingDocumentFilter:M,specificOnly:U,docDomain:Y,contentType:R}}let E=N.allowingDocumentFilter,O=(N.allowlisted&j.contentTypes.GENERICBLOCK)!=0,B=N.hostname;return{allowingDocumentFilter:E,specificOnly:O,docDomain:B,contentType:R}}async function D(P){if((0,S.trace)({details:P}),!(0,y.loggingEnabled)(P.tabId)||(await x.default.start(),!P.redirectUrl.startsWith("data:")))return;let{allowingDocumentFilter:R,specificOnly:N,docDomain:E,contentType:O}=G(P);if(R)return;let B=b.filterEngine.defaultMatcher.search(P.url,O,E,null,N,"blocking");for(let M of B.blocking)if(M instanceof T.BlockingFilter&&typeof M.rewrite=="string"){let U=M.rewriteUrl(P.url);if(U==P.redirectUrl){let Y={docDomain:E,specificOnly:N,method:"request",rewrittenUrl:U};(0,y.logItem)(P,M,Y);return}}}async function X(P){if((0,S.trace)({details:P}),!(0,y.loggingEnabled)(P.tabId))return;await x.default.start();let{allowingDocumentFilter:R,specificOnly:N,docDomain:E,contentType:O}=G(P);if(R)return;let B=b.filterEngine.defaultMatcher.search(P.url,O,E,null,N,"blocking");for(let M of B.blocking){let U={docDomain:E,specificOnly:N,method:"request"};if(M instanceof T.BlockingFilter&&typeof M.rewrite!="string"){(0,y.logItem)(P,M,U);return}}}async function L(P){if((0,S.trace)({details:P}),!(0,y.loggingEnabled)(P.tabId))return;await x.default.start();let{allowingDocumentFilter:R,specificOnly:N,docDomain:E,contentType:O}=G(P);if(R){(0,y.logItem)(P,R,{docDomain:E,method:"allowing",specificOnly:N});return}let B=b.filterEngine.defaultMatcher.match(P.url,O,E,null,N,!0);if(B){let U={docDomain:E,specificOnly:N,method:"request"};B instanceof T.AllowingFilter&&(0,y.logItem)(P,B,U);return}if(P.type=="main_frame"||P.type=="sub_frame"){let U=j.contentTypes.CSP|(0,A.getRequestContentType)(P),Y=(0,I.parseURL)(P.url).hostname,$={docDomain:E||Y,specificOnly:N,method:"csp"},ee=b.filterEngine.defaultMatcher.match(P.url,U,E,null,N,!0);if(ee&&ee instanceof T.AllowingFilter){(0,y.logItem)(P,ee,$);return}let ae=b.filterEngine.defaultMatcher.search(P.url,U,Y,null,N,"blocking"),re=!1;for(let J of ae.blocking)P.responseHeaders.some(Q=>Q.name.toLowerCase()=="content-security-policy"&&Q.value==J.csp)&&((0,y.logItem)(P,J,$),re=!0);if(re)return}let M={docDomain:E,method:"unmatched",specificOnly:N};(0,y.logItem)(P,null,M)}let F=!1;function V(){if(!h.declarativeNetRequest||F)return;let P={types:Object.values(h.webRequest.ResourceType),urls:["http://*/*","https://*/*","ws://*/*","wss://*/*"]};h.webRequest.onBeforeRedirect.addListener(D,P),h.webRequest.onErrorOccurred.addListener(X,P),h.webRequest.onCompleted.addListener(L,P,["responseHeaders"]),F=!0}},"./sdk/background/domains-trimming.js":(f,d,u)=>{u.r(d),u.d(d,{MaxLengthMetricsDict:()=>b});const h="UNKNOWN",y=25;class b{constructor(A,j,T=2){if(!j||j.length==0)throw new Error("No metrics");this.metrics=j,this.maxLength=A,this.metricsDict=new Map,this.space=T,this.indentationLength=this.space?typeof this.space=="number"?this.space:this.space.length:0,this.newLineLength=this.indentationLength>0?1:0,this.length=9+this.indentationLength*2+(this.indentationLength>0?1:0),this._calcMetricsLength()}_calcLineLength(A,j){return this.indentationLength*3+2+A.length+1+(this.indentationLength>0?1:0)+j.length}_calcMetricsLength(){this.metricsLength=0;for(const A of this.metrics)this.metricsLength+=this._calcLineLength(A,"0");this.metrics.length>1&&(this.metricsLength+=this.metrics.length-1,this.newLineLength>0&&(this.metricsLength+=this.metrics.length-1))}_calcAdditionalLength(A){return(this.metricsDict.size>0?1:this.newLineLength)+this.newLineLength+this.indentationLength*2+1+this.newLineLength+this._calcLineLength("i",`"${A}"`)+1+this.newLineLength+this.metricsLength+this.indentationLength*2+this.newLineLength+1}addMetric(A,j,T){if(!this.metrics.includes(j))throw new Error("Unknown metric");if(!this.metricsDict.has(A)){this.metricsDict.size==0&&(this.length+=(this.indentationLength>0?1:0)*2);const S=this._calcAdditionalLength(A);if(A.length>y||this.length+S>this.maxLength?(A=h,this.metricsDict.has(A)||(this.length+=this._calcAdditionalLength(A))):this.length+=S,!this.metricsDict.has(A)){let G={};for(const D of this.metrics)G[D]=0;this.metricsDict.set(A,G)}}let I=this.metricsDict.get(A);I[j]+=T}getLength(){return this.length}serialize(){let A=[];for(const[T,I]of this.metricsDict)A.push({i:T,...I});return JSON.stringify({ds:A},null,this.space)}}},"./sdk/background/experiments.js":(f,d,u)=>{u.r(d),u.d(d,{default:()=>E,reset:()=>V,setSeed:()=>D,start:()=>F,stop:()=>P});var h=u("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=u("./node_modules/uuid/dist/esm-browser/v4.js"),b=u("./core/lib/time.js"),x=u("./sdk/background/persistence.js"),A=u("./sdk/all/scheduler.js"),j=u("./sdk/all/experiment-validation.js");let T=new x.PersistentState("ewe:split_experiments",h.storage.local),I,S;async function G(O){const B=await crypto.subtle.digest("SHA-1",new TextEncoder().encode(O)),U=new DataView(B).getUint32(0),Y=Math.pow(2,32);return Math.floor(U*1e3/Y)}async function D(O){const B=await T.getStateLoaded();B.seed=O,B.etag=null,await T.save()}async function X(){const O=await T.getStateLoaded();return O.seed||(O.seed=(0,y.default)(),await T.save()),O.seed}async function L(O){const B=await X(),M={},U={};for(const Y of O){if(Y.enabled===!1)continue;const $=await G(`${B}:${Y.experimentId}`);for(const ee of Y.variants)if($>=ee.mods[0]&&$<ee.mods[1]){Object.assign(M,ee.flags),U[Y.experimentId]=ee.variantId;break}}return{flags:M,assignments:U}}function F(O,B=10*b.MILLIS_IN_MINUTE,M=b.MILLIS_IN_HOUR){S||(I=O,S=new A.Scheduler({async listener(){return await N(),!0},async getNextTimestamp(){const U=await T.getStateLoaded();let Y=U.lastDownloaded,$=U.lastNetworkError;if($){let ee=new Date($).getTime()+M,ae=Date.now(),re=ae+M;return ee>re&&(ee=re,U.lastNetworkError=new Date(ae).toISOString(),await T.save()),ee}else if(Y)return new Date(Y).getTime()+B;return null},interval:B,errorRetryDelay:M}))}async function V(){P(),T.clearState(),await T.save()}function P(){S&&(S.stop(),S=null)}async function R(){const O=await T.getStateLoaded(),B={};O.etag&&(B["if-none-match"]=O.etag);try{const M=await fetch(I,{headers:B}),U=M.headers.get("date"),Y=M.headers.get("etag");return M.status===304?{cacheFresh:!0,date:U,etag:Y}:M.ok?{newExperimentData:await M.json(),date:U,etag:Y}:{downloadError:!0}}catch{return{downloadError:!0}}}async function N(){const O=await T.getStateLoaded();if(!I){O.lastNetworkError=new Date().toISOString(),await T.save();return}const{downloadError:B,cacheFresh:M,newExperimentData:U,date:Y,etag:$}=await R();if(B){O.lastNetworkError=new Date().toISOString(),await T.save();return}if(delete O.lastNetworkError,Y?O.lastDownloaded=new Date(Y).toISOString():O.lastDownloaded=new Date().toISOString(),M){await T.save();return}O.etag=$,O.rawData=U;const{errors:ee}=(0,j.validateExperimentData)(U);if(ee&&ee.length>0){O.errors=ee,await T.save();return}O.errors=[];const{flags:ae,assignments:re}=await L(U.experiments);O.flags=ae,O.assignments=re,await T.save()}const E={async sync(){await N()},async getSyncStatus(){const O=await T.getStateLoaded();return{lastNetworkError:O.lastNetworkError,lastDownloaded:O.lastDownloaded,errors:O.errors||[]}},async getFlag(O){const B=await T.getStateLoaded();return B&&B.overrides&&typeof B.overrides[O]<"u"?B.overrides[O]:B&&B.flags&&typeof B.flags[O]<"u"?B.flags[O]:null},async overrideFlag(O,B){const M=await T.getStateLoaded();M.overrides||(M.overrides={}),M.overrides[O]=B,await T.save()},async clearFlagOverrides(){const O=await T.getStateLoaded();O.overrides={},await T.save()},async getAssignments(){return(await T.getStateLoaded()).assignments||{}}}},"./sdk/background/filters.js":(f,d,u)=>{u.r(d),u.d(d,{ERROR_FILTER_NOT_FOUND:()=>P,ERROR_TOO_MANY_FILTERS:()=>R,convertFilter:()=>N,default:()=>be,deferredStart:()=>Ae,disableFilter:()=>M,onChangedFilter:()=>Y,removeTabExpirationFilters:()=>se,start:()=>Le});var h=u("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=u("./core/lib/url.js"),b=u("./core/lib/filterClasses.js"),x=u("./core/lib/subscriptionClasses.js"),A=u("./core/lib/matcher.js"),j=u("./core/lib/filterNotifier.js"),T=u("./core/lib/contentTypes.js"),I=u("./core/lib/time.js"),S=u("./sdk/background/initializer.js"),G=u("./sdk/background/core.js"),D=u("./sdk/background/types.js"),X=u("./sdk/background/frame-state.js"),L=u("./sdk/background/dnr-filters.js"),F=u("./sdk/background/prefs.js"),V=u("./sdk/all/scheduler.js");const P="filter_not_found",R="too_many_filters";function N(ve){return{text:ve.text,enabled:typeof ve.disabled>"u"?null:!ve.disabled,slow:ve instanceof b.URLFilter&&(0,A.isSlowFilter)(ve),type:ve.type,thirdParty:ve.thirdParty!=null?ve.thirdParty:null,selector:ve.selector||null,csp:ve.csp||null,remove:ve.remove||void 0,css:ve.css||void 0}}function E(ve){return Ie=>ve(N(Ie))}function O(ve){return Ie=>{if(Ie instanceof x.SpecialSubscription)for(let Ue of Ie.filterText())ve(N(b.Filter.fromText(Ue)))}}async function B(ve){Array.isArray(ve)||(ve=[ve]),h.declarativeNetRequest&&await(0,L.removeOrDisableFilters)(ve,!1);for(let Ie of ve){let Ue=b.Filter.normalize(Ie);G.filterEngine.filterStorage.filterState.setEnabled(Ue,!1)}}const M=B;let U=new D.EventDispatcher(ve=>{j.filterNotifier.on("filterState.enabled",(Ie,Ue)=>{ve({...N(b.Filter.fromText(Ie)),enabled:Ue},"enabled")}),j.filterNotifier.on("subscription.metadata",(Ie,Ue,tt)=>{for(let Be of Ie.filterText())ve({...N(b.Filter.fromText(Be)),metadata:Ue,oldMetadata:tt},"metadata")})}),Y=U,$=async function(){const ve=(await Q.getUserFilters()).filter(Ie=>Ie.type==="allowing");return await Promise.all(ve.flatMap(async Ie=>{const Ue=await Q.getMetadata(Ie.text);return{filterText:Ie.text,metadata:Ue}}))},ee=async function(){return(await $()).filter(Ie=>Ie.metadata&&typeof Ie.metadata.expiresByTabId<"u")},ae=async function(ve){return(await $()).filter(tt=>tt.metadata&&tt.metadata.expiresByTabId===ve).map(tt=>tt.filterText)},re=async function(ve,Ie){if(ve===h.tabs.TAB_ID_NONE||!Ie.url||!Ie.status||(await Q.getAllowingFilters(ve)).length)return;const Ue=await ae(ve);await Q.remove(Ue)},J=async function(ve){if(ve===h.tabs.TAB_ID_NONE)return;const Ie=await ae(ve);await Q.remove(Ie)},ue=async function(){h.tabs.onUpdated.removeListener(re),h.tabs.onRemoved.removeListener(J),h.tabs.onUpdated.addListener(re),h.tabs.onRemoved.addListener(J)};const Q={async add(ve,Ie){if(Array.isArray(ve)||(ve=[ve]),h.declarativeNetRequest){const Ze=await(0,L.addFilters)(ve,Ie);return me(Ie),Ze}let{filterStorage:Ue}=G.filterEngine,tt=[],Be=[],Ne=[];for(let Ze of ve){if(tt.includes(Ze)||Be.includes(Ze))continue;let ot=b.Filter.normalize(Ze),It=b.Filter.fromText(ot),fe=(0,L.validateFilter)(It);if(fe)throw fe;Ue.filterExists(It)?Be.push(Ze):(Ne.push(It),tt.push(Ze))}if(Ie)try{await Ue.addFiltersWithMetadata(Ne,Ie),me(Ie)}catch(Ze){throw new D.FilterError(Ze.message)}else for(let Ze of Ne)await Ue.addFilter(Ze);return{added:tt,exists:Be}},async setMetadata(ve,Ie){if(h.declarativeNetRequest){(0,L.setMetadataForFilter)(ve,Ie),me(Ie);return}let{filterStorage:Ue}=G.filterEngine;try{await Ue.setMetadataForFilter(ve,Ie),me(Ie)}catch(tt){if(tt.message==P){let Be=b.Filter.fromText(b.Filter.normalize(ve));if(Ue.filterExists(Be)){await Ue.removeFilter(Be),await this.add([ve],Ie);return}}throw new D.FilterError(tt.message)}},async getMetadata(ve){return h.declarativeNetRequest?(0,L.getMetadataForFilter)(ve):await G.filterEngine.filterStorage.getMetadataForFilter(ve)},async getUserFilters(){let ve=[];for(let Ie of G.filterEngine.filterStorage.subscriptions())if(Ie instanceof x.SpecialSubscription)for(let Ue of Ie.filterText())ve.push(N(b.Filter.fromText(Ue)));if(h.declarativeNetRequest){for(let[Ie,Ue]of(await(0,L.getDynamicUserFilters)()).entries())if(!ve.find(tt=>tt.text==Ie)){let tt=N(b.Filter.fromText(Ie));tt.enabled=tt.type=="comment"?null:Ue.enabled,ve.push(tt)}}return ve},async getAllowingFilters(ve,Ie={}){let{frameId:Ue,types:tt}={frameId:0,types:["document"],...Ie},Be=new Set,Ne=tt.reduce((Ze,ot)=>Ze|T.contentTypes[ot.toUpperCase()],0);for(let Ze=(0,X.getFrameInfo)(ve,Ue);Ze;Ze=Ze.parent){let It=Ze.parent&&Ze.parent.hostname||Ze.hostname,fe=G.filterEngine.defaultMatcher.search(Ze.url,Ne,It,Ze.sitekey,!1,"allowing");for(let ie of fe.allowing)Be.add(ie.text)}return Array.from(Be)},async isResourceAllowlisted(ve,Ie,Ue,tt=0){let Be=T.contentTypes[Ie.toUpperCase()],Ne=(0,X.getFrameInfo)(Ue,tt)||{},Ze=G.filterEngine.defaultMatcher,ot=Ne.hostname||(0,y.parseURL)(ve).hostname;if(Ze.isAllowlisted(ve,Be,ot,Ne.sitekey))return!0;for(;Ne&&Ne.url;Ne=Ne.parent)if(ot=Ne.parent&&Ne.parent.hostname||Ne.hostname,Ze.isAllowlisted(Ne.url,T.contentTypes.DOCUMENT,ot,Ne.sitekey))return!0;return!1},async enable(ve){Array.isArray(ve)||(ve=[ve]),h.declarativeNetRequest&&await(0,L.enableFilters)(ve);for(let Ie of ve){let Ue=b.Filter.normalize(Ie);G.filterEngine.filterStorage.filterState.setEnabled(Ue,!0)}},disable:B,async remove(ve){if(Array.isArray(ve)||(ve=[ve]),h.declarativeNetRequest){await(0,L.removeOrDisableFilters)(ve,!0);return}for(let Ie of ve){let Ue=b.Filter.normalize(Ie);G.filterEngine.filterStorage.removeFilter(b.Filter.fromText(Ue))}},validate(ve){let Ie=b.Filter.normalize(ve),Ue=b.Filter.fromText(Ie);return(0,L.validateFilter)(Ue)},normalize(ve){return b.Filter.normalize(ve)},onAdded:new D.EventDispatcher(ve=>{j.filterNotifier.on("filter.added",E(ve)),j.filterNotifier.on("subscription.added",O(ve))}),onChanged:U,onRemoved:new D.EventDispatcher(ve=>{j.filterNotifier.on("filter.removed",E(ve)),j.filterNotifier.on("subscription.removed",O(ve))}),onRenewed:new D.EventDispatcher(ve=>{j.filterNotifier.on("filter.renewed",(Ie,Ue)=>ve({...N(Ie),metadata:Ue}))}),onExpired:new D.EventDispatcher(ve=>{j.filterNotifier.on("filter.expired",(Ie,Ue)=>ve({...N(Ie),metadata:Ue}))}),async getMigrationErrors(){let ve=F.Prefs.migration_filter_errors;return Array.isArray(ve)||(ve=[]),ve},async clearMigrationErrors(){F.Prefs.migration_filter_errors=[]}},be=Q;async function Re(){try{const ve=await Q.getUserFilters(),Ie=Date.now(),Ue=[];for(const tt of ve){const Be=await Q.getMetadata(tt.text)||{},{expiresAt:Ne}=Be;Ne&&Ie>Ne&&(Ue.push(tt.text),j.filterNotifier.emit("filter.expired",tt,Be))}await Q.remove(Ue)}catch(ve){console.error("Error while removing expired filters:",ve)}}async function oe(ve){await S.default.start();const{frameId:Ie,tabId:Ue}=ve;if((0,X.isTopLevelFrameId)(Ie))try{const tt=await Q.getAllowingFilters(Ue),Be=Date.now();for(const Ne of tt){const Ze=await Q.getMetadata(Ne)||{},{expiresAt:ot,autoExtendMs:It}=Ze;if(It&&ot&&Be<ot){const ie={...Ze,expiresAt:Be+It};await Q.setMetadata(Ne,ie),j.filterNotifier.emit("filter.renewed",b.Filter.fromText(b.Filter.normalize(Ne)),ie)}}}catch(tt){console.error("Error while extending expiry for filters:",tt)}}let ge;function me(ve){ge&&ve&&ve.expiresAt&&ge.checkNow()}const se=async function(){const ve=await ee();for(const Ie of ve){const Ue=Ie.metadata.expiresByTabId;await h.tabs.get(Ue).catch(()=>{})||await Q.remove(Ie.filterText)}};function Ae(){se(),ue()}function Le(){ge||(h.webNavigation.onCompleted.addListener(oe),ge=new V.Scheduler({interval:0,listener:()=>Re(),async getNextTimestamp(){await S.default.start();const ve=await Q.getUserFilters();let Ie=Date.now()+I.MILLIS_IN_HOUR;for(const Ue of ve){const tt=await Q.getMetadata(Ue.text)||{},{expiresAt:Be}=tt;Be&&Be<Ie&&(Ie=Be)}return Ie}}))}},"./sdk/background/frame-state.js":(f,d,u)=>{u.r(d),u.d(d,{BLANK_PAGE_URL:()=>G,TOP_LEVEL_FRAME_ID:()=>D,_clear:()=>re,getFrameInfo:()=>be,isTopLevelFrameId:()=>X,isValidChildFrameId:()=>F,isValidFrameId:()=>L,onSitekeyReceived:()=>M,start:()=>Re});var h=u("./sdk/background/webext-browser.js"),y=u("./core/lib/url.js"),b=u("./core/lib/contentTypes.js"),x=u("./sdk/background/core.js"),A=u("./sdk/background/diagnostics.js"),j=u("./sdk/background/sitekey.js"),T=u("./sdk/background/content-filter.js"),I=u("./sdk/background/debugging.js"),S=u("./sdk/all/errors.js");const G="about:blank",D=0;function X(oe){return oe==D}function L(oe){return oe>=D}function F(oe){return oe>D}let V=new Map,P;class R{constructor(ge,me,se,Ae){this.tabId=ge,this.frameId=me,this.parent=se,E(this,Ae),O(this)}}function N(oe,ge){for(let me in b.contentTypes)if(oe&ge.contentType&b.contentTypes[me])return me.toLowerCase()}function E(oe,ge){let{allowlisted:me,sitekey:se,allowingDocumentFilter:Ae,hostname:Le}=oe.parent||{},ve=(0,y.parseURL)(ge);oe.url=ge,oe.hostname=ve.hostname||Le||"";let Ie=(0,j.getSitekey)(oe.tabId,oe.frameId,ge);oe.sitekey=Ie||se,oe.headersReceived=!!Ie||Ie===null,oe.allowlisted=me||0,oe.allowingDocumentFilter=Ae}function O(oe){let{tabId:ge,frameId:me,url:se}=oe,Ae={tabId:ge,frameId:me,url:se},ve={docDomain:oe.parent&&oe.parent.hostname||oe.hostname,method:"allowing"};for(;;){let Ie=~oe.allowlisted&b.ALLOWING_TYPES;(0,I.debug)(`Check match tabId=${ge}, url=${oe.url}, typeMask=${Ie}, docDomain=${ve.docDomain}, sitekey=${oe.sitekey}`);let Ue=x.filterEngine.defaultMatcher.match(oe.url,Ie,ve.docDomain,oe.sitekey);if(!Ue){(0,I.debug)(`No filter for tabId=${ge},frameId=${me}`);break}oe.allowlisted|=Ue.contentType&b.ALLOWING_TYPES,Ue.contentType&b.contentTypes.DOCUMENT&&(oe.allowingDocumentFilter=Ue);let tt=N(Ie,Ue);(0,I.debug)(`Allowing tabId=${ge}, frameId=${me} due to ${Ue.text}`),(0,A.logItem)(Ae,Ue,{...ve,allowingReason:tt})}}async function B(){let oe=await h.default.tabs.query({});await Promise.all(oe.map(({id:ge})=>h.default.webNavigation.getAllFrames({tabId:ge}).then(me=>{if(!me)return;me.sort((Ae,Le)=>Ae.frameId-Le.frameId);let se=new Map;V.set(ge,se);for(let{frameId:Ae,parentFrameId:Le,url:ve}of me){let Ie=L(Le)?se.get(Le):null;F(Le)&&!Ie&&(Ie=se.get(D)),ve||(ve=G),se.set(Ae,new R(ge,Ae,Ie,ve))}})))}function M(oe,ge,me,se){(0,I.trace)({tabId:oe,frameId:ge,url:me,sitekey:se});let Ae=be(oe,ge);Ae||(Ae=U({tabId:oe,frameId:ge,url:me}));let Le=Ae.url==me;Le&&(Ae.headersReceived=!0),se&&Le&&Ae.sitekey!=se&&(Ae.sitekey=se,O(Ae))}function U({tabId:oe,frameId:ge,parentFrameId:me=-1,url:se},{historyStateUpdated:Ae=!1,errorOccurred:Le=!1}={}){se||(se=G);let ve=V.get(oe);(!ve||X(ge)&&!Ae)&&(ve=new Map,V.set(oe,ve));let Ie=ve.get(ge),Ue=L(me)?ve.get(me):null;return F(me)&&!Ue&&(Ue=ve.get(D)),Le&&(Ie?se=Ie.url:Ue&&(se=Ue.url)),(!Ie||X(ge)||Ie.url!=se||Ie.parent!=Ue)&&(Ie=new R(oe,ge,Ue,se),ve.set(ge,Ie)),Ie}function Y(oe){(0,I.trace)({details:oe});let ge=V.get(oe.tabId);if(ge){let me=ge.get(oe.frameId);me&&me.url!=oe.url&&(me.isChangingURL=!0,E(me,oe.url))}oe.url=="about:srcdoc"&&U(oe)}function $(oe){(0,I.trace)({details:oe});let ge=U(oe);O(ge),ge.isChangingURL=!1}function ee(oe){(0,I.trace)({details:oe}),F(oe.frameId)&&typeof oe.parentFrameId=="number"&&U(oe,{errorOccurred:!0})}async function ae(oe){(0,I.trace)({details:oe});let ge=be(oe.tabId,oe.frameId);U(oe,{historyStateUpdated:!0});let me=await(0,T.applyContentFilters)(oe.tabId,oe.frameId,ge,!0);try{await(0,S.ignoreNoConnectionError)(h.default.tabs.sendMessage(oe.tabId,{type:"ewe:apply-content-features",...me},{frameId:oe.frameId}))}catch(se){console.error(se)}}function re(){V.clear()}function J(oe){V.delete(oe),(0,j.clearTabSitekeys)(oe)}function ue(oe){(0,I.trace)({tabId:oe}),J(oe)}function Q(oe,ge){(0,I.trace)({addedTabId:oe,removedTabId:ge}),J(ge)}function be(oe,ge,{parentFrameId:me,initiator:se,documentUrl:Ae}={}){if(se&&oe==-1)return new R(oe,ge,null,se);let Le=V.get(oe);if(Le){let ve=Le.get(ge);if(ve)return ve}if(Ae&&typeof me=="number")return U({tabId:oe,frameId:ge,parentFrameId:me,url:Ae})}async function Re(){P||((0,j.addListener)(M),h.default.webNavigation.onBeforeNavigate.addListener(Y),h.default.webNavigation.onCommitted.addListener($),h.default.webNavigation.onErrorOccurred.addListener(ee),h.default.webNavigation.onHistoryStateUpdated.addListener(ae),h.default.tabs.onRemoved.addListener(ue),h.default.tabs.onReplaced.addListener(Q),P=B()),await P}},"./sdk/background/idb.js":(f,d,u)=>{u.r(d),u.d(d,{openDatabase:()=>b});const h="EWE",y=1;function b(){return new Promise((x,A)=>{let j=indexedDB.open(h,y);j.onupgradeneeded=T=>{let I=T.target.result;I.createObjectStore("file-entries"),I.createObjectStore("file-contents",{autoIncrement:!0})},j.onsuccess=T=>x(T.target.result),j.onerror=T=>A(T.target.error)})}},"./sdk/background/index.js":(f,d,u)=>{u.r(d),u.d(d,{allowlisting:()=>$.default,cdp:()=>se,checkAndInitSubscriptions:()=>ot,clearSkipInitRulesets:()=>Ie,debugging:()=>oe,experiments:()=>Ae,filters:()=>be,notifications:()=>ee.notifications,reporting:()=>Re,snippets:()=>Le,start:()=>tt,subscriptions:()=>Q,telemetry:()=>ge,testing:()=>me});var h=u("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=u("./sdk/background/initializer.js"),b=u("./sdk/background/message-responder.js"),x=u("./sdk/background/content-message-deferrer.js"),A=u("./sdk/background/popup-blocker-background-page.js"),j=u("./sdk/background/popup-blocker-service-worker.js"),T=u("./sdk/background/request-filter.js"),I=u("./sdk/background/dnr-request-reporter.js"),S=u("./sdk/background/sitekey.js"),G=u("./sdk/background/telemetry.js"),D=u("./sdk/background/subscriptions.js"),X=u("./sdk/background/debugging.js"),L=u("./sdk/background/filters.js"),F=u("./sdk/background/reporting.js"),V=u("./sdk/background/testing.js"),P=u("./sdk/background/prefs.js"),R=u("./sdk/background/cdp.js"),N=u("./sdk/background/cdp-metrics-uploader.js"),E=u("./sdk/background/experiments.js"),O=u("./sdk/background/content-filter.js"),B=u("./sdk/background/info.js"),M=u("./sdk/background/core.js"),U=u("./sdk/background/dnr-filters.js"),Y=u("./sdk/background/browser-features.js"),$=u("./sdk/background/allowlisting.js"),ee=u("./sdk/background/notifications.js");async function ae(){await y.default.start()}async function re(){h.declarativeNetRequest&&(await P.awaitSavingComplete(),await M.filterEngine.filterStorage.awaitSavingComplete(),await S._awaitSavingComplete(),await x._awaitSavingComplete(),await R._awaitSavingComplete())}function J(It){return It.constructor&&It.constructor.name==="AsyncFunction"}function ue(It){return new Proxy(It,{get(fe,ie,xe){return typeof fe[ie]=="function"&&J(fe[ie])?async function(...st){X.debug(()=>"API call: "+JSON.stringify({method:ie,args:[...st]}),X.LOG_COLOR_CYAN),await ae();let At=await fe[ie](...st);return await re(),At}:fe[ie]}})}const Q=ue(D.default),be=ue(L.default),Re=ue(F.default),oe=ue(X.default),ge=ue(G.default),me=ue(V.default),se=ue(R.default),Ae=ue(E.default);let Le={setLibrary:O.setSnippetLibrary};const ve="ewe:skip_init_rulesets";async function Ie(){await h.storage.local.remove(ve)}async function Ue(It){let fe=h.runtime.getManifest();It.reason!=h.runtime.OnInstalledReason.UPDATE||!It.previousVersion||It.previousVersion==fe.version||await Ie()}async function tt(It){let fe=[],ie=(0,B.setAddonInfo)(It);if(ie.warnings&&fe.push(...ie.warnings),Be(),h.declarativeNetRequest){h.runtime.onInstalled.addListener(Ue);let At=await(0,D.validate)(It.bundledSubscriptions,It.bundledSubscriptionsPath);At&&fe.push(...At)}await Ne(It);let{filterStorage:xe}=M.filterEngine,st={foundSubscriptions:xe.getSubscriptionCount()!=0,foundStorage:!xe.firstRun,warnings:fe};if(h.declarativeNetRequest){let At=await Ze();await ot(At)}return It&&It.telemetry&&await G.start(It.telemetry),It&&It.cdp&&await N.start(It.cdp),L.deferredStart(),st}function Be(){b.start(),x.start(),(0,Y.isRunningInServiceWorker)()&&j.start(),h.declarativeNetRequest&&I.start(),S.start(),L.start()}async function Ne(It){await y.default.start(),(0,Y.isRunningInServiceWorker)()||A.start(),h.declarativeNetRequest||T.start(),M.filterEngine.filterStorage.synchronizer.start(),It&&It.experiments&&It.experiments.url&&E.start(It.experiments.url)}async function Ze(){return P.Prefs.migration_state!==P.MIGRATED_TO_MV3?(await(0,D.migrate)(),P.Prefs.migration_state===P.MIGRATED_TO_MV2&&await(0,U.migrateCustomFilters)(),P.Prefs.migration_state=P.MIGRATED_TO_MV3,!0):!1}async function ot(It){if((await h.storage.local.get([ve]))[ve]){await(0,D.ensureDNRRulesetsEnabled)();return}It||(await(0,U.clearRulesetUpdates)(),await(0,U.removeSubscriptionsDynamicFilters)(),await(0,U.enableAllDisabledStaticRules)()),await(0,D.recoverMigrationErrorSubscriptions)(),await(0,D.updateSubscriptionInformation)(),await(0,D.ensureDNRRulesetsEnabled)(),await D.default.sync(),await h.storage.local.set({[ve]:!0})}},"./sdk/background/info.js":(f,d,u)=>{u.r(d),u.d(d,{addonBundledSubscriptions:()=>j,addonBundledSubscriptionsPath:()=>T,addonName:()=>x,addonVersion:()=>A,application:()=>I,applicationVersion:()=>S,getBrowserVersion:()=>V,initializeDefaultAddonInfo:()=>N,isEdge:()=>R,isFirefox:()=>P,manifestVersion:()=>X,platform:()=>G,platformVersion:()=>D,sdkName:()=>L,sdkVersion:()=>F,setAddonInfo:()=>O});var h=u("./sdk/background/webext-browser.js"),y=u("./core/lib/recommendations.js"),b=u("./core/lib/features.js");let x,A,j,T,I,S,G,D,X,L="eyeo-webext-ad-filtering-solution",F="1.21.0";N();function V(){return S.split(".").map(B=>parseInt(B,10))}function P(){return I.includes("firefox")}function R(){return I.includes("edg")}function N(){let B=h.default.runtime.getManifest();if(x=B.short_name||B.name,A=B.version,I="unknown",S="0",D="0",X=String(B.manifest_version),typeof netscape<"u"){G="gecko";let M=/\brv:([^;)]+)/.exec(navigator.userAgent);M&&(D=M[1]),h.default.runtime.getBrowserInfo().then(U=>{I=U.name.toLowerCase(),S=U.version})}else G="chromium",E()}function E(){let B=/(\S+)\/(\S+)(?:\s*\(.*?\))?/g,M;for(;M=B.exec(navigator.userAgent);){let[,U,Y]=M;U=="Mozilla"||U=="AppleWebKit"||U=="Safari"||U=="Chrome"&&(D=Y,I!="unknown")||(I=U=="OPR"?"opera":U.toLowerCase(),S=Y)}}function O(B){let M=[];if(h.default.declarativeNetRequest){if(!B)throw new Error("No addonInfo provided to EWE.start");if(!B.bundledSubscriptions)throw new Error("No `bundledSubscriptions` provided");if(!B.bundledSubscriptionsPath)throw new Error("No `bundledSubscriptionsPath` provided")}if(!B)return{warnings:M};if(B.name&&(x=B.name),B.version&&(A=B.version),B.manifestVersion&&(X=B.manifestVersion),j=B.bundledSubscriptions,T=B.bundledSubscriptionsPath,j&&j.length>0&&(0,y.setRecommendations)(j),B.featureFlags)try{b.setFeatureFlags(B.featureFlags)}catch(U){M.push(U.message)}return{warnings:M}}},"./sdk/background/initializer.js":(f,d,u)=>{u.r(d),u.d(d,{default:()=>S});var h=u("./sdk/background/core.js"),y=u("./sdk/background/frame-state.js"),b=u("./sdk/background/io.js"),x=u("./sdk/background/dnr-filters.js"),A=u("./sdk/background/prefs.js"),j=u("./sdk/background/debugging.js"),T=u("./sdk/background/cdp.js");let I;const S={start(){return I||(I=(async()=>{await b.IO.initialize(),await j.default.start(),await(0,A.init)(),await h.filterEngine.initialize(),await y.start(),await(0,x.init)(),await T.start()})()),I}}},"./sdk/background/io-bsl.js":(f,d,u)=>{u.r(d),u.d(d,{IO:()=>j});var h=u("./sdk/background/webext-browser.js");const y="ewe:file:";function b(T){return y+T}async function x(T){let I=b(T),G=(await h.default.storage.local.get(I))[I];if(G)return G;throw{type:"NoSuchFile"}}function A(T,I){return h.default.storage.local.set({[b(T)]:{content:Array.from(I),lastModified:Date.now()}})}let j={async readFromFile(T,I){let S=await x(T);for(let G of S.content)I(G)},writeToFile(T,I){return A(T,I)},async renameFile(T,I){let S=await x(T);await h.default.storage.local.set({[b(I)]:S}),await h.default.storage.local.remove(b(T))},async statFile(T){try{return{exists:!0,lastModified:(await x(T)).lastModified}}catch(I){if(I.type=="NoSuchFile")return Promise.resolve({exists:!1});throw I}},async fixPrefixes(){let T=await h.default.storage.local.get();for(let I in T){let S=T[I];for(let G of["abp:file:","file:"])if(I.startsWith(G)){let D={};D[y+I.substring(G.length)]=S,await h.default.storage.local.set(D),await h.default.storage.local.remove(I)}}},async initialize(){await this.fixPrefixes()}}},"./sdk/background/io-idb.js":(f,d,u)=>{u.r(d),u.d(d,{IO:()=>T,getDatabase:()=>j});var h=u("./sdk/background/idb.js");let y;function b(I,S,G){S.get(I).onsuccess=D=>{let X=D.target.result;X&&G.delete(X.content)}}function x(I,S,G,D){return new Promise((X,L)=>{let F=new TextEncoder().encode(Array.from(G).join(`
`)),V=I.transaction(["file-entries","file-contents"],"readwrite"),P=V.objectStore("file-entries"),R=V.objectStore("file-contents");b(S,P,R),R.add(F).onsuccess=N=>{let E=N.target.result;P.put({lastModified:D,content:E},S)},V.oncomplete=()=>X(),V.onerror=V.onabort=N=>L(N.target.error)})}async function A(I){y=I}function j(){if(!y)throw new Error("Database hasn't been opened. Did you call start()?");return y}let T={async readFromFile(I,S){let G=await new Promise((L,F)=>{let P=j().transaction(["file-entries","file-contents"],"readonly"),R=P.objectStore("file-entries"),N=P.objectStore("file-contents");R.get(I).onsuccess=E=>{let O=E.target.result;if(!O){F(new Error("File does not exist"));return}N.get(O.content).onsuccess=B=>{L(B.target.result)}},P.onerror=P.onabort=E=>F(E.target.error)}),D=new TextDecoder,X=0;for(;;){let L=G.indexOf(10,X+1e3),F=L!=-1?L:G.length,V=D.decode(G.subarray(X,F));for(let P of V.split(`
`))S(P);if(L==-1)break;X=L+1}},async writeToFile(I,S){await x(j(),I,S,Date.now())},renameFile(I,S){return new Promise((G,D)=>{let L=j().transaction(["file-entries","file-contents"],"readwrite"),F=L.objectStore("file-entries"),V=L.objectStore("file-contents");F.get(I).onsuccess=P=>{let R=P.target.result;if(!R){D(new Error("File does not exist"));return}b(S,F,V),F.put(R,S),F.delete(I)},L.oncomplete=()=>G(),L.onerror=L.onabort=P=>D(P.target.error)})},statFile(I){return new Promise((S,G)=>{let X=j().transaction(["file-entries"],"readonly"),L=X.objectStore("file-entries");L.get(I).onsuccess=F=>{let V=F.target.result,P=!1,R;V&&(P=!0,R=V.lastModified),S({exists:P,lastModified:R})},X.onerror=X.onabort=F=>G(F.target.error)})},async initialize(){let I=await(0,h.openDatabase)();await A(I)}}},"./sdk/background/io.js":(f,d,u)=>{u.r(d),u.d(d,{IO:()=>T,readFileContent:()=>j});var h=u("./sdk/background/webext-browser.js"),y=u("./sdk/background/io-idb.js"),b=u("./sdk/background/io-bsl.js");let x,A;function j(I){const S=h.default.runtime.getURL(I);return fetch(S).then(G=>G.text())}let T={async readFromFile(I,S){return x.readFromFile(I,S)},async writeToFile(I,S){return x.writeToFile(I,S)},renameFile(I,S){return x.renameFile(I,S)},statFile(I){return x.statFile(I)},initialize(){return A||(A=(async()=>{x=y.IO;try{await x.initialize()}catch(I){if(I instanceof DOMException&&I.name=="InvalidStateError"){x=b.IO;try{await x.initialize()}catch{throw A=null,I}}else throw A=null,I}})()),A}}},"./sdk/background/message-responder.js":(f,d,u)=>{u.r(d),u.d(d,{start:()=>L});var h=u("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=u("./sdk/background/initializer.js"),b=u("./sdk/background/content-filter.js"),x=u("./core/lib/elemHide.js"),A=u("./sdk/background/subscribe-links.js"),j=u("./sdk/background/diagnostics.js"),T=u("./sdk/background/allowlisting.js"),I=u("./sdk/background/debugging.js"),S=u("./sdk/background/content-message-deferrer.js"),G=u("./sdk/background/cdp.js");async function D(F,V){switch((0,I.trace)({message:F,sender:{tabId:V.tab?V.tab.id:null,frameId:V.frameId,url:V.url}}),await y.default.start(),F.type){case"ewe:content-hello":return V.tab?((0,S.onContentHelloReceived)(V.tab.id,V.frameId),{...await(0,b.applyContentFilters)(V.tab.id,V.frameId)}):void 0;case"ewe:subscribe-link-clicked":(0,A.subscribeLinkClicked)(F.url,F.title);break;case"ewe:trace-elem-hide":(0,j.logHiddenElements)(F.selectors,F.filters,V);break;case"ewe:inject-css":let R=(0,x.createStyleSheet)([F.selector]);(0,b.injectCSS)(V.tab.id,V.frameId,R);break;case"ewe:allowlist-page":const{timestamp:N,signature:E,options:O}=F;return(0,T.allowlistPage)(V.tab.id,V.frameId,N,E,O);case"ewe:cdp-session-active":await(0,G.markActive)(V.tab.id,V.frameId);break}}function X(F,V){return typeof F=="object"&&F!=null&&F.type&&F.type.startsWith("ewe:")?D(F,V):!1}function L(){h.runtime.onMessage.addListener(X)}},"./sdk/background/notifications.js":(f,d,u)=>{u.r(d),u.d(d,{notifications:()=>T});var h=u("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=u("./sdk/background/prefs.js"),b=u("./core/lib/notifications.js");const x="ewe:notifications";class A{constructor(){this.local=new Set,this.loaded=this.load()}add(S){this.local.add(S),this.save()}delete(S){let G=this.local.delete(S);return G&&this.save(),G}[Symbol.iterator](){return this.local[Symbol.iterator]()}async load(){let G=(await h.storage.session.get([x]))[x]||[];for(let D of G)this.local.add(D)}async save(){await this.loaded,this.debounceTimer||(this.debounceTimer=setTimeout(()=>{this.debounceTimer=null,this.saveImmediate()},0))}async saveImmediate(){await h.storage.session.set({[x]:[...this.local]})}}h.storage.session&&b.notifications.setLocalNotificationStorage(new A);let j=["start","shouldIgnoreNotifications","showNotification","showNext","markAsShown","toggleIgnoreCategory","getDownloadCount","getIgnoredCategories"],T=new Proxy(b.notifications,{get(I,S,G){return j.includes(S)?async function(...D){return await(0,y.init)(),I[S](...D)}:I[S]}})},"./sdk/background/persistence.js":(f,d,u)=>{u.r(d),u.d(d,{PersistentState:()=>b});var h=u("./sdk/background/webext-browser.js"),y=u("./sdk/background/set-operations.js");class b{constructor(A,j=h.default.storage.session){this.storageKey=A,this.storage=j,this.activeSaveActions=new Set,this.loaded=!1,this.debounce=!1,this.debounceInterval=0,this.clearState()}doDebounce(){this.debounce=!0}setDebounceInterval(A){this.debounceInterval=A}clearState(){this.state={}}async getStateLoaded(){return this.loaded||await this.load(),this.state}getState(){return this.state}async load(A=null){let j=await this.storage.get(this.storageKey);if(!j||!j[this.storageKey]){this.loaded=!0;return}let T=j[this.storageKey];A&&A(T),this.state=(0,y.mergeObjects)(T,this.state),this.loaded=!0}async save(){this.debounce?this.debounceTimer||(this.debounceTimer=setTimeout(()=>{this.debounceTimer=null,this.saveImmediate()},this.debounceInterval)):await this.saveImmediate()}async saveImmediate(){let A={};return A[this.storageKey]=this.state,this._trackSaving(this.storage.set(A).catch(j=>console.error("Failed to save the state for",this.storageKey,": "+j.message)))}async awaitSavingComplete(){if(Promise.allSettled){await Promise.allSettled(this.activeSaveActions);return}for(let A of this.activeSaveActions)try{await A}catch{}}_trackSaving(A){return this.activeSaveActions.add(A),A.finally(()=>this.activeSaveActions.delete(A)),A}}},"./sdk/background/popup-blocker-background-page.js":(f,d,u)=>{u.r(d),u.d(d,{start:()=>P});var h=u("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=u("./core/lib/filterClasses.js"),b=u("./core/lib/contentTypes.js"),x=u("./sdk/background/core.js"),A=u("./sdk/background/diagnostics.js"),j=u("./sdk/background/frame-state.js"),T=u("./sdk/background/debugging.js");let I=new Map;function S(R){I.delete(R),I.size==0&&(h.webRequest.onBeforeRequest.removeListener(D),h.webNavigation.onBeforeNavigate.removeListener(D),h.webNavigation.onCompleted.removeListener(X),h.tabs.onRemoved.removeListener(L))}function G(R,N,E){let{docDomain:O,sitekey:B,specificOnly:M}=E,U=x.filterEngine.defaultMatcher.match(N||j.BLANK_PAGE_URL,b.contentTypes.POPUP,O,B,M);U&&((0,A.logItem)({tabId:E.tabId,frameId:0,url:N},U,{docDomain:O,specificOnly:M,method:"popup"}),U instanceof y.BlockingFilter&&h.tabs.remove(R).catch(()=>{}),S(R))}function D({frameId:R,tabId:N,url:E}){if((0,T.trace)({frameId:R,tabId:N,url:E}),!(0,j.isTopLevelFrameId)(R))return;let O=I.get(N);O&&G(N,E,O)}function X({frameId:R,tabId:N,url:E}){(0,T.trace)({frameId:R,tabId:N,url:E}),(0,j.isTopLevelFrameId)(R)&&E!=j.BLANK_PAGE_URL&&S(N)}function L(R){(0,T.trace)({tabId:R}),S(R)}function F({tabId:R,url:N,sourceTabId:E,sourceFrameId:O}){(0,T.trace)({tabId:R,url:N,sourceTabId:E,sourceFrameId:O});let B=(0,j.getFrameInfo)(E,O)||{};if(B.allowlisted&b.contentTypes.DOCUMENT)return;I.size==0&&(h.webRequest.onBeforeRequest.addListener(D,{urls:["http://*/*","https://*/*"],types:["main_frame"]}),h.webNavigation.onBeforeNavigate.addListener(D),h.webNavigation.onCompleted.addListener(X),h.tabs.onRemoved.addListener(L));let M={tabId:E,specificOnly:!!(B.allowlisted&b.contentTypes.GENERICBLOCK),docDomain:B.hostname,sitekey:B.sitekey};I.set(R,M),G(R,N,M)}function V({id:R,url:N,openerTabId:E}){(0,T.trace)({id:R,url:N,openerTabId:E}),E&&F({tabId:R,url:N,sourceTabId:E,sourceFrameId:0})}function P(){h.webNavigation.onCreatedNavigationTarget.addListener(F),typeof netscape<"u"&&h.tabs.onCreated.addListener(V)}},"./sdk/background/popup-blocker-service-worker.js":(f,d,u)=>{u.r(d),u.d(d,{start:()=>R});var h=u("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=u("./core/lib/filterClasses.js"),b=u("./core/lib/contentTypes.js"),x=u("./sdk/background/core.js"),A=u("./sdk/background/initializer.js"),j=u("./sdk/background/diagnostics.js"),T=u("./sdk/background/frame-state.js"),I=u("./sdk/background/debugging.js");const S="ewe:popupBlocker:loadingPopups";class G{constructor(){this.openerPromiseMap={},this.loaded=(async()=>{let E=await h.storage.session.get([S]);this.openerMap=E[S]||{}})()}async saveMap(){await h.storage.session.set({[S]:this.openerMap})}set(E,O){this.openerPromiseMap[E]||this.openerMap&&this.openerMap[E]||(this.openerPromiseMap[E]=O,O.then(async B=>{await this.loaded,delete this.openerPromiseMap[E],B&&(this.openerMap[E]=B,await this.saveMap())}))}async get(E){let O=this.openerPromiseMap[E];return O?await O:(await this.loaded,this.openerMap[E])}has(E){return Object.hasOwnProperty.call(this.openerPromiseMap,E)||this.openerMap&&Object.hasOwnProperty.call(this.openerMap,E)}async remove(E){this.openerPromiseMap[E]&&delete this.openerPromiseMap[E],await this.loaded,this.openerMap[E]&&(delete this.openerMap[E],await this.saveMap())}}let D;async function X(N,E,O){await A.default.start();let{docDomain:B,sitekey:M,specificOnly:U}=O;if(!D.has(N))return;let Y=x.filterEngine.defaultMatcher.match(E||T.BLANK_PAGE_URL,b.contentTypes.POPUP,B,M,U);Y&&((0,j.logItem)({tabId:O.tabId,frameId:0,url:E},Y,{docDomain:B,specificOnly:U,method:"popup"}),Y instanceof y.BlockingFilter&&h.tabs.remove(N).catch(()=>{}),await D.remove(N))}async function L({frameId:N,tabId:E,url:O}){if((0,I.trace)({frameId:N,tabId:E,url:O}),!(0,T.isTopLevelFrameId)(N))return;let B=await D.get(E);B&&await X(E,O,B)}async function F({frameId:N,tabId:E,url:O}){if((0,I.trace)({frameId:N,tabId:E,url:O}),!(0,T.isTopLevelFrameId)(N)||O==T.BLANK_PAGE_URL)return;let B=await D.get(E);B&&(await X(E,O,B),await D.remove(E))}async function V(N){(0,I.trace)({tabId:N}),await D.remove(N)}async function P({tabId:N,url:E,sourceTabId:O,sourceFrameId:B}){(0,I.trace)({tabId:N,url:E,sourceTabId:O,sourceFrameId:B});let M=(async()=>{await A.default.start();let Y=(0,T.getFrameInfo)(O,B)||{};return Y.allowlisted&b.contentTypes.DOCUMENT?void 0:{tabId:O,specificOnly:!!(Y.allowlisted&b.contentTypes.GENERICBLOCK),docDomain:Y.hostname,sitekey:Y.sitekey}})();D.set(N,M);let U=await M;U&&await X(N,E,U)}function R(){D=new G,h.webNavigation.onCreatedNavigationTarget.addListener(P),h.webRequest.onBeforeRequest.addListener(L,{urls:["http://*/*","https://*/*"],types:["main_frame"]}),h.webNavigation.onBeforeNavigate.addListener(L),h.webNavigation.onCommitted.addListener(L),h.webNavigation.onCompleted.addListener(F),h.tabs.onRemoved.addListener(V)}},"./sdk/background/prefs.js":(f,d,u)=>{u.r(d),u.d(d,{CDP_OPTED_IN:()=>I,CDP_OPTED_IN_BY_USER:()=>G,CDP_OPTED_OUT:()=>S,CDP_OPTED_OUT_BY_USER:()=>D,MIGRATED_TO_MV2:()=>A,MIGRATED_TO_MV3:()=>T,MIGRATED_TO_MV3_WITHOUT_DIFF:()=>j,Prefs:()=>L,awaitSavingComplete:()=>M,defaults:()=>X,init:()=>ae,migratePrefs:()=>Y});var h=u("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=u("./core/lib/events.js"),b=u("./core/lib/time.js"),x=u("./sdk/background/io-idb.js");const A=0,j=1,T=2,I=0,S=1,G=2,D=3,X=Object.create({analytics:{trustedHosts:["adblockplus.org","notification.adblockplus.org","easylist-downloads.adblockplus.org"]},dynamic_filters:[],notificationdata:{},notifications_ignoredcategories:[],notificationurl:"https://notification.adblockplus.org/notification.json",notifications_initial_delay:1e3,patternsbackupinterval:24,patternsbackups:0,ruleset_updates:[],savestats:!1,show_statsinpopup:!0,subscriptions_autoupdate:!0,subscriptions_fallbackerrors:5,subscriptions_fallbackurl:"https://adblockplus.org/getSubscription?version=%VERSION%&url=%SUBSCRIPTION%&downloadURL=%URL%&error=%ERROR%&responseStatus=%RESPONSESTATUS%",subscriptions_initial_delay:1e3,subscriptions_check_interval:1*b.MILLIS_IN_HOUR,migration_filter_errors:[],migration_subscription_errors:[],migration_state:A,edge_one_click_allowlisting_delay:2*b.MILLIS_IN_SECOND,cdp_opt_in_out:I,cdp_session_expiration_interval:30*b.MILLIS_IN_MINUTE,telemetry_opt_out:!0});let L={on(re,J){V.on(re,J)},off(re,J){V.off(re,J)}};const F="abp:pref:";let V=new y.EventEmitter,P=new Map,R;function N(re){return re.startsWith(F)?re.substr(F.length):null}function E(re){return`${F}${re}`}let O=new Set;function B(re){return O.add(re),re.finally(()=>O.delete(re)),re}async function M(){if(Promise.allSettled){await Promise.allSettled(O);return}for(let re of O)try{await re}catch{}}function U(re){Object.defineProperty(L,re,{get(){if(P.has(re))return P.get(re);let J=X[re];return Array.isArray(J)||typeof J=="object"&&J!==null?JSON.parse(JSON.stringify(J)):J},set(J){let ue=E(re);if(J===X[re]){P.delete(re),B(h.storage.local.remove(ue));return}P.set(re,J),B(h.storage.local.set({[ue]:J}))},enumerable:!0})}async function Y(re){return new Promise((J,ue)=>{let Q=re.transaction(["prefs"],"readwrite");Q.oncomplete=()=>J(),Q.onerror=Q.onabort=Re=>ue(Re.target.error);let be;try{be=Q.objectStore("prefs")}catch{return}be.getAll().onsuccess=Re=>{for(let{name:oe,value:ge}of Re.target.result)$(oe,ge);be.clear()}})}function $(re,J){let ue=E(re);P.set(re,J),B(h.storage.local.set({[ue]:J}))}async function ee(){let re=Object.keys(Object.getPrototypeOf(X));re.forEach(U);let J=await h.storage.local.get(re.map(E));for(let ue in J)P.set(N(ue),J[ue])}async function ae(){return R||(R=(async()=>{try{let re=(0,x.getDatabase)();await Y(re)}catch{}await ee()})()),R}},"./sdk/background/reporting.js":(f,d,u)=>{u.r(d),u.d(d,{default:()=>T});var h=u("./core/lib/analytics.js"),y=u("./core/lib/contentTypes.js"),b=u("./sdk/background/diagnostics.js"),x=u("./sdk/background/request-filter.js"),A=u("./sdk/background/subscribe-links.js");let j=new Map;for(let I of x.resourceTypes){let S=Object.keys(y.contentTypes).find(G=>y.contentTypes[G]===I[1]);j.set(I[0].toLowerCase(),S.toLowerCase())}const T={getFirstVersion:h.analytics.getFirstVersion,onBlockableItem:new b.BlockableEventDispatcher,contentTypesMap:j,onSubscribeLinkClicked:A.onSubscribeLinkClicked}},"./sdk/background/request-filter.js":(f,d,u)=>{u.r(d),u.d(d,{getFrameInfoFromWebrequestDetails:()=>E,getParentFrameInfoFromWebrequestDetails:()=>O,getRequestContentType:()=>V,resourceTypes:()=>L,sanitizeInitiator:()=>N,start:()=>Re});var h=u("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=u("./core/lib/filterClasses.js"),b=u("./core/lib/contentTypes.js"),x=u("./core/lib/filterNotifier.js"),A=u("./core/lib/url.js"),j=u("./sdk/background/core.js"),T=u("./sdk/background/frame-state.js"),I=u("./sdk/background/diagnostics.js"),S=u("./sdk/background/sitekey.js"),G=u("./sdk/background/debugging.js"),D=u("./sdk/background/content-message-deferrer.js");const X=new URL(h.runtime.getURL("")).protocol;let L=new Map;for(let oe in b.contentTypes)L.set(oe.toLowerCase(),b.contentTypes[oe]);L.set("sub_frame",b.contentTypes.SUBDOCUMENT),L.set("beacon",b.contentTypes.PING),L.set("imageset",b.contentTypes.IMAGE),L.set("object_subrequest",b.contentTypes.OBJECT),L.set("main_frame",b.contentTypes.DOCUMENT);let F=new Map([[b.contentTypes.IMAGE,"img,input"],[b.contentTypes.MEDIA,"audio,video"],[b.contentTypes.SUBDOCUMENT,"frame,iframe,object,embed"],[b.contentTypes.OBJECT,"object,embed"]]);function V(oe){let ge=L.get(oe.type)||b.contentTypes.OTHER;return ge==b.contentTypes.DOCUMENT?b.contentTypes.OTHER:ge}function P(oe){return oe.type=="sub_frame"?oe.parentFrameId:oe.frameId}function R(oe){return oe.type=="sub_frame"?oe.frameAncestors?oe.frameAncestors.length>1?oe.frameAncestors[1].frameId:-1:null:oe.parentFrameId}function N(oe){return oe=="null"?null:oe}function E(oe){let ge=oe.tabId,me=P(oe),se=R(oe),Ae=N(oe.initiator)||oe.documentUrl,Le=oe.documentUrl||N(oe.initiator),ve=(0,T.getFrameInfo)(ge,me,{initiator:Ae,parentFrameId:se,documentUrl:Le});return!ve||ve.isChangingURL?null:ve}function O(oe){if(!(0,T.isValidFrameId)(oe.parentFrameId))return null;let ge=(0,T.getFrameInfo)(oe.tabId,oe.parentFrameId);return!ge&&(0,T.isValidChildFrameId)(oe.parentFrameId)&&(ge=(0,T.getFrameInfo)(oe.tabId,0)),ge}let B=new Set,M=new Set;class U{register(){this.listener||(this.listener=this.filter.bind(this),this.event.addListener(this.listener,...this.eventArgs))}unregister(){this.listener&&(this.event.removeListener(this.listener),this.listener=null)}getDocDomain(ge,me){return ge=="main_frame"?null:me}getInitiator(ge){return N(ge.initiator)||ge.documentUrl}getDocumentUrl(ge){return ge.documentUrl||N(ge.initiator)}collapse(ge){let me=F.get(V(ge)),se=P(ge);me&&se!=-1?(0,D.sendContentMessage)(ge.tabId,se,{type:"ewe:collapse",selector:me,url:ge.url}):(0,G.warn)("No selector or frameId",JSON.stringify(ge))}block(ge,me,se){let Ae=(()=>{if(typeof me.rewrite=="string"){let Le=me.rewriteUrl(ge.url);if(Le!=ge.url)return se.rewrittenUrl=Le,{redirectUrl:Le}}else return this.collapse(ge),{cancel:!0}})();return(0,I.logItem)(ge,me,se),Ae}allow(ge,me,se){B.add(ge.requestId),(0,I.logItem)(ge,me,se)}match(ge,me,se,Ae,Le){}filter(ge){if(B.has(ge.requestId))return;let me=this.getInitiator(ge);if(me&&me.startsWith(X))return this.allow(ge,null,{method:"allowing",allowingReason:"extensionInitiated"});let se=E(ge);if(!se)return;let Ae=(se.allowlisted&b.contentTypes.GENERICBLOCK)!=0,Le=this.getDocDomain(ge.type,se.hostname);if(se.allowlisted&b.contentTypes.DOCUMENT)return this.allow(ge,se.allowingDocumentFilter,{docDomain:Le,method:"allowing",specificOnly:Ae});let ve=V(ge);return this.match(ge,se,Ae,ve,Le)}}class Y extends U{getDocumentUrl(ge){return ge.documentUrl}getFrameInfo(ge){let me=super.getFrameInfo(ge);if(me){if(!me.headersReceived)return null;let{documentUrl:se}=ge,Ae=N(ge.initiator);if(se&&me.url!=se||Ae&&me.hostname!=(0,A.parseURL)(Ae).hostname)return null}return me}match(ge,me,se,Ae,Le){let ve=j.filterEngine.defaultMatcher.match(ge.url,Ae,Le,me.sitekey,se,!0);if(ve){let Ie={docDomain:Le,specificOnly:se,method:"request"};return ve instanceof y.BlockingFilter?this.block(ge,ve,Ie):this.allow(ge,ve,Ie)}}}Y.prototype.event=h.webRequest.onBeforeRequest,Y.prototype.eventArgs=[{types:Object.values(h.webRequest.ResourceType).filter(oe=>oe!="main_frame"),urls:["http://*/*","https://*/*","ws://*/*","wss://*/*"]},["blocking"]];class $ extends U{match(ge,me,se,Ae,Le){let ve=j.filterEngine.defaultMatcher,Ie=ve.match(ge.url,Ae,Le,me.sitekey,se,!0);if(Ie){let ot={docDomain:Le,specificOnly:se,method:"request"};return Ie instanceof y.BlockingFilter?this.block(ge,Ie,ot):this.allow(ge,Ie,ot)}let Ue={docDomain:Le,specificOnly:se,method:"header"},tt=b.contentTypes.HEADER|Ae,Be=ve.match(ge.url,tt,Le,me.sitekey,se,!0);if(Be&&Be instanceof y.AllowingFilter)return this.allow(ge,Be,Ue);let Ze=ve.search(ge.url,tt,Le,me.sitekey,se,"blocking").blocking.find(ot=>ot.filterHeaders(ge.responseHeaders));if(Ze)return this.block(ge,Ze,Ue)}}$.prototype.event=h.webRequest.onHeadersReceived,$.prototype.eventArgs=[{types:Object.values(h.webRequest.ResourceType).filter(oe=>oe!="main_frame"),urls:["http://*/*","https://*/*"]},h.declarativeNetRequest?["responseHeaders"]:["blocking","responseHeaders"]];class ee extends U{filter(ge){let{requestId:me,tabId:se,frameId:Ae,responseHeaders:Le,url:ve,type:Ie}=ge;if(B.has(me))return;let Ue=this.getInitiator(ge);if(Ue&&Ue.startsWith(X))return this.allow(ge,null,{method:"allowing",allowingReason:"extensionInitiated"});let tt=O(ge),{hostname:Be,sitekey:Ne}=tt||{},Ze=j.filterEngine.defaultMatcher,ot=(0,A.parseURL)(ve),It=Be||ot.hostname,fe=(0,S.setSitekeyFromHeaders)(se,Ae,ve,Le)||Ne,ie=Ze.match(ve,b.contentTypes.GENERICBLOCK,It,fe),xe=Ze.match(ve,b.contentTypes.DOCUMENT,It,fe),st=!!ie,At=this.getDocDomain(Ie,Be);if(xe)return this.allow(ge,xe,{docDomain:At,method:"allowing",specificOnly:st});let le=b.contentTypes.CSP|V(ge),zt={docDomain:At||ot.hostname,specificOnly:st,method:"csp"},Wt=Ze.match(ve,le,At,fe,st,!0);if(Wt&&Wt instanceof y.AllowingFilter)return this.allow(ge,Wt,zt);let Bn=Ze.search(ve,le,It,fe,st,"blocking");if(Bn.blocking.length>0){M.add(me);for(let qn of Bn.blocking)(0,I.logItem)(ge,qn,zt),Le.push({name:"Content-Security-Policy",value:qn.csp})}return{responseHeaders:Le}}}ee.prototype.event=h.webRequest.onHeadersReceived,ee.prototype.eventArgs=[{types:["main_frame","sub_frame"],urls:["http://*/*","https://*/*"]},h.declarativeNetRequest?["responseHeaders"]:["blocking","responseHeaders"]];class ae extends U{filter(ge){let{requestId:me,tabId:se,frameId:Ae,url:Le,type:ve}=ge,Ie=B.delete(me),Ue=M.delete(me);if(!(Ie||Ue))if(ve=="main_frame"||ve=="sub_frame"){let tt=O(ge),{hostname:Be,sitekey:Ne}=tt||{},Ze=Be||(0,A.parseURL)(Le).hostname,ot=(0,S.getSitekey)(se,Ae,Le)||Ne,It=j.filterEngine.defaultMatcher,ie=!!It.match(Le,b.contentTypes.GENERICBLOCK,Ze,ot);if((0,T.isTopLevelFrameId)(Ae)&&It.match(Le,b.contentTypes.POPUP,Ze,ot,ie))return;let xe={docDomain:this.getDocDomain(ve,Ze),method:"unmatched",specificOnly:ie};(0,I.logItem)(ge,null,xe)}else{let tt=E(ge);if(!tt)return;let Be=(tt.allowlisted&b.contentTypes.GENERICBLOCK)!=0,Ne={docDomain:this.getDocDomain(ve,tt.hostname),method:"unmatched",specificOnly:Be};(0,I.logItem)(ge,null,Ne)}}}ae.prototype.event=h.webRequest.onCompleted,ae.prototype.eventArgs=[{types:Object.values(h.webRequest.ResourceType),urls:["http://*/*","https://*/*","ws://*/*","wss://*/*"]}];class re extends U{filter(ge){B.delete(ge.requestId),M.delete(ge.requestId)}}re.prototype.event=h.webRequest.onErrorOccurred,re.prototype.eventArgs=[{types:Object.values(h.webRequest.ResourceType),urls:["http://*/*","https://*/*","ws://*/*","wss://*/*"]}];let J=[new Y,new $,new ee,new ae,new re];function ue(){h.webNavigation.onBeforeNavigate.removeListener(ue),h.webRequest.handlerBehaviorChanged()}function Q(){h.webNavigation.onBeforeNavigate.addListener(ue)}const be=["subscription.added","subscription.removed","subscription.updated","subscription.disabled","filter.added","filter.removed","filterState.enabled"];function Re(){if(!h.declarativeNetRequest){for(let oe of J)oe.register();for(let oe of be)x.filterNotifier.listeners(oe).includes(Q)||x.filterNotifier.on(oe,Q)}}},"./sdk/background/set-operations.js":(f,d,u)=>{u.r(d),u.d(d,{arraysDiff:()=>h,filtersUpdateDiff:()=>y,mergeObjects:()=>b});function h(x,A){const j=new Set(x),T=new Set(A),I=x.filter(G=>!T.has(G));return{added:A.filter(G=>!j.has(G)),removed:I}}function y(x,A){let j=h(x.added,A.added),T=h(x.removed,A.removed),I=j.added.concat(T.removed),S=T.added.concat(j.removed);return{added:I,removed:S}}function b(x,A){if(x instanceof Array)return[...x,...A];if(!(x instanceof Object))return A;let j={};for(let[T,I]of Object.entries(x))j[T]=I;for(let[T,I]of Object.entries(A)){let S=j[T];j[T]=S?b(S,I):I}return j}},"./sdk/background/sitekey.js":(f,d,u)=>{u.r(d),u.d(d,{_awaitSavingComplete:()=>ae,_doSaveSitekeys:()=>$,_getSitekeySignature:()=>P,_getSitekeys:()=>G,_loadSitekeys:()=>Y,_saveSitekeys:()=>ee,_setSitekey:()=>R,addListener:()=>F,clearAllSitekeys:()=>N,clearTabSitekeys:()=>E,getSitekey:()=>V,setSitekeyFromHeaders:()=>O,start:()=>re});var h=u("./core/lib/rsa.js"),y=u("./sdk/background/webext-browser.js"),b=u("./sdk/background/browser-features.js"),x=u("./sdk/background/debugging.js"),A=u("./sdk/background/persistence.js");const j=0;let T=new A.PersistentState("ewe:sitekeys",y.default.storage.local),I,S=[];function G(){return T}function D(J,ue,Q,be){for(let Re of S)Re(J,ue,Q,be)}function X(){for(let[J,ue]of Object.entries(T.getState()))for(let[Q,be]of Object.entries(ue))for(let[Re,oe]of Object.entries(be))D(J,Q,Re,oe.sitekey)}function L({tabId:J,frameId:ue,url:Q,responseHeaders:be,frameType:Re}){(0,x.trace)({tabId:J,frameId:ue,url:Q,responseHeaders:be,frameType:Re}),ue==j&&(Re==null||Re=="outermost_frame")&&E(J);let oe=O(J,ue,Q,be);oe&&D(J,ue,Q,oe)}function F(J){S.push(J)}function V(J,ue,Q){let be=T.getState()[J];if(!be)return null;let Re=be[ue];if(!Re)return null;let oe=Re[Q];return oe?oe.sitekey:null}function P(J,ue,Q){return T.getState()[J][ue][Q].signature}function R(J,ue,Q,be,Re){let oe=T.getState()[J];oe||(oe={},T.getState()[J]=oe);let ge=oe[ue];ge||(ge={},oe[ue]=ge),ge[Q]={sitekey:be,signature:Re}}function N(J=!0){T.clearState(),J&&ee()}function E(J){delete T.getState()[J],ee()}function O(J,ue,Q,be){let Re=B(be),oe=Re?Re.sitekey:null,ge=V(J,ue,Q);return ge&&ge.sitekey&&oe==ge.sitekey?ge.sitekey:oe&&M(oe,Re.signature,Q)?(R(J,ue,Q,oe,Re.signature),ee(),oe):(R(J,ue,Q,null,null),ee(),null)}function B(J){for(let ue of J)if(ue.name.toLowerCase()=="x-adblock-key"&&ue.value){let Q=ue.value.split("_");return Q.length<2?null:{sitekey:Q[0].replace(/=/g,""),signature:Q[1]}}return null}function M(J,ue,Q){let be=new URL(Q),Re=[be.pathname+be.search,be.host,navigator.userAgent].join("\0");return(0,h.verifySignatureSync)(J,ue,Re)}function U(J){for(let[ue,Q]of Object.entries(J)){for(let[be,Re]of Object.entries(Q)){for(let[oe,ge]of Object.entries(Re))try{ge.sitekey===null||M(ge.sitekey,ge.signature,oe)||delete Re[oe]}catch{delete Re[oe]}Object.keys(Re).length==0&&delete Q[be]}Object.keys(Q).length==0&&delete J[ue]}}async function Y(J=!0){await T.load(J?U:null),X()}function $(){T.save()}function ee(){(0,b.isRunningInServiceWorker)()&&$()}async function ae(){await T.awaitSavingComplete()}async function re(){I||(y.default.webRequest.onHeadersReceived.addListener(L,{urls:["http://*/*","https://*/*"],types:["main_frame","sub_frame"]},["responseHeaders"]),I=(0,b.isRunningInServiceWorker)()?Y():Promise.resolve(null)),await I}},"./sdk/background/subscribe-links.js":(f,d,u)=>{u.r(d),u.d(d,{onSubscribeLinkClicked:()=>x,subscribeLinkClicked:()=>b});var h=u("./sdk/background/types.js");let y;function b(A,j){y&&y({url:A,title:j})}let x=new h.EventDispatcher(A=>{y=A},()=>{y=null})},"./sdk/background/subscriptions-utils.js":(f,d,u)=>{u.r(d),u.d(d,{getFilterText:()=>X,getSubscriptionRulesetMap:()=>D,rulesetExistsInManifest:()=>T,subscriptionFileExists:()=>I});var h=u("./sdk/background/webext-browser.js"),y=u("./sdk/background/persistence.js"),b=u("./core/lib/filters/lists.js"),x=u("./sdk/background/io.js"),A=u("./sdk/background/info.js");function j(L){let F=h.default.runtime.getManifest();return F.declarative_net_request&&F.declarative_net_request.rule_resources?F.declarative_net_request.rule_resources.find(V=>V.id==L):null}function T(L){return!!j(L)}async function I(L,F){let V=`${F}/${L.id}`;return G(V)}let S=new y.PersistentState("ewe:fileExistsCache");async function G(L){S.loaded||await S.load();let F=S.getState();if(typeof F[L]>"u"){const V=h.default.runtime.getURL(L);let P;try{P=(await fetch(V,{method:"HEAD"})).ok}catch{P=!1}F[L]=P,await S.save()}return F[L]}async function D(L){let F=j(L);if(!F)throw Error(`Subscription ${L} not found.`);const V=h.default.runtime.getURL(F.path+".map");return await(await fetch(V)).json()}async function X(L){let F=`${A.addonBundledSubscriptionsPath}/${L.id}`,V=await(0,x.readFileContent)(F),{lines:P,params:R,error:N}=(0,b.parseFilterList)(V);if(N)throw new Error(N);if(!P)throw new Error("invalid filter list");return P.shift(),{filterText:P,params:R}}},"./sdk/background/subscriptions-validator.js":(f,d,u)=>{u.r(d),u.d(d,{validate:()=>y});var h=u("./sdk/background/subscriptions-utils.js");async function y(b,x){let A=[];for(let j of b)await(0,h.subscriptionFileExists)(j,x)||A.push(`No subscription content file for ID=${j.id}`),(0,h.rulesetExistsInManifest)(j.id)||A.push(`No ruleset with ID=${j.id} declared in the manifest`);return A}},"./sdk/background/subscriptions.js":(f,d,u)=>{u.r(d),u.d(d,{default:()=>tt,ensureDNRRulesetsEnabled:()=>Ue,getDefaultSubscriptions:()=>ee,hasAcceptableAdsEnabled:()=>$,isSynchronizing:()=>me,migrate:()=>Ie,recoverMigrationErrorSubscriptions:()=>Re,saveMigrationError:()=>ve,updateSubscriptionInformation:()=>oe,validate:()=>ue});var h=u("./sdk/background/webext-browser.js"),y=u("./sdk/background/subscriptions-validator.js"),b=u("./sdk/background/subscriptions-utils.js"),x=u("./core/lib/subscriptionClasses.js"),A=u("./core/lib/filterNotifier.js"),j=u("./core/lib/recommendations.js"),T=u("./core/lib/filterClasses.js"),I=u("./sdk/background/info.js"),S=u("./sdk/background/initializer.js"),G=u("./sdk/background/core.js"),D=u("./sdk/background/types.js"),X=u("./sdk/background/filters.js"),L=u("./sdk/background/dnr-filters.js"),F=u("./sdk/background/prefs.js");const V="0798B6A2-94A4-4ADF-89ED-BEC112FC4C7F",P="https://easylist-downloads.adblockplus.org/exceptionrules.txt",R="https://easylist-downloads.adblockplus.org/v3/full/exceptionrules.txt",N="F12E0801-A00B-49DE-B1E3-52C9C4F90C8C",E="https://easylist-downloads.adblockplus.org/exceptionrules-privacy-friendly.txt",O="https://easylist-downloads.adblockplus.org/v3/full/exceptionrules-privacy-friendly.txt";function B(Be){const{id:Ne,disabled:Ze,downloadStatus:ot,homepage:It,version:fe,lastDownload:ie,lastSuccess:xe,softExpiration:st,expires:At,title:le,url:zt,downloadable:Wt,downloadCount:Bn,diffURL:qn,privileged:ke,lastModified:Ce}=Be;let lt=Be instanceof x.FullUpdatableSubscription||Be instanceof x.DiffUpdatableSubscription;return{id:Ne,enabled:!Ze,privileged:ke,homepage:It,downloadable:Wt,updatable:lt,diffURL:qn,title:le,url:zt,downloadCount:Bn,version:fe,downloading:me(zt),downloadStatus:ot,lastSuccess:xe,lastDownload:ie,softExpiration:st,expires:At,lastModified:Ce}}function M({id:Be,languages:Ne,title:Ze,requires:ot,type:It,url:fe,mv2URL:ie}){return h.default.declarativeNetRequest?{id:Be,languages:Ne,title:Ze,requires:ot,type:It,url:fe,mv2URL:ie}:{id:Be,languages:Ne,title:Ze,requires:ot,type:It,url:ie}}function U(Be){let Ne=x.Subscription.fromURL(Be);return G.filterEngine.filterStorage.hasSubscription(Ne)&&Ne instanceof x.RegularSubscription?Ne:null}function Y(Be){return Ne=>{Ne instanceof x.RegularSubscription&&Be(B(Ne))}}async function $(){const Be=[P,R,E,O];for(let Ne of await ge())if(Ne.enabled&&Be.includes(Ne.url))return!0;return!1}function ee(Be){let Ne=!1,Ze=!1,ot=!1,It=!1;Be||(h.default.i18n.getUILanguage?Be=h.default.i18n.getUILanguage():Be=navigator.language);let fe=Be.split("-")[0],ie=(h.default.runtime.getManifest().default_locale||"en").split("_")[0],xe=[],st=[],At=[],le=[];for(let Wt of(0,j.recommendations)())switch(Wt.type){case"ads":Wt.languages.includes(fe)&&(Ne=!0,xe.push(Wt)),Wt.languages.includes(ie)&&(Ze=!0,st.push(Wt));break;case"circumvention":le.push(Wt),It=!0;break;case"allowing":At.push(Wt),ot=!0;break}xe.length==0&&(xe=st);let zt=At.find(Wt=>Wt.id==V);return zt&&(At=[zt]),le.unshift(...At),le.unshift(...xe),{chosenSubscriptions:le,hasAA:ot,hasAntiCV:It,hasCurrentLang:Ne,hasDefaultLang:Ze}}function ae(){let{filterStorage:Be}=G.filterEngine;for(let Ne of Be.subscriptions())if(h.default.declarativeNetRequest&&Ne instanceof x.CountableSubscription||Ne instanceof x.FullUpdatableSubscription&&Ne.url!=P||Ne instanceof x.SpecialSubscription&&Ne.filterCount>0)return!1;return!0}async function re(Be){if(h.default.declarativeNetRequest&&(0,b.rulesetExistsInManifest)(Be))try{await h.default.declarativeNetRequest.updateEnabledRulesets({enableRulesetIds:[Be]})}catch(Ne){throw Ne.message=`${Ne.message} (enableRuleset: ${Be})`,Ne}}async function J(Be){if(h.default.declarativeNetRequest&&(0,b.rulesetExistsInManifest)(Be)){await h.default.declarativeNetRequest.updateEnabledRulesets({disableRulesetIds:[Be]}),await(0,L.disableDynamicRules)(Be);let Ne=await h.default.declarativeNetRequest.getDisabledRuleIds({rulesetId:Be});await h.default.declarativeNetRequest.updateStaticRules({rulesetId:Be,enableRuleIds:Ne})}}async function ue(Be,Ne){return(0,y.validate)(Be,Ne)}async function Q(Be){let Ne=U(Be);if(!Ne)throw new Error(`Subscription does not exist: ${Be}`);h.default.declarativeNetRequest&&(Ne instanceof x.FullUpdatableSubscription?await(0,L.disableDynamicRules)(Ne.url):await J(Ne.id)),G.filterEngine.filterStorage.removeSubscription(Ne)}async function be(Be){let Ne=I.addonBundledSubscriptions.find(ot=>ot.mv2_url==Be.url),Ze=Ne?Ne.url:Be.url;await se(Ze,{downloadCount:Be.downloadCount,version:Be.version}),Be.enabled||await Ae(Ze)}async function Re(){let Be=[],Ne=F.Prefs.migration_subscription_errors;Array.isArray(Ne)||(Ne=[]);for(let Ze=0;Ze<Ne.length;Ze++){let ot=Ne[Ze];try{await be(ot.subscription),Be.push(Ze)}catch{}}Be.length>0&&(Ne=Ne.filter((Ze,ot)=>!Be.includes(ot)),F.Prefs.migration_subscription_errors=Ne)}async function oe(){let Be=[];for(let Ne of G.filterEngine.filterStorage.subscriptions())if(Ne instanceof x.RegularSubscription){let Ze=I.addonBundledSubscriptions.find(ot=>ot.url==Ne.url);if(Ne.hasBundledFilters)if(Ze){try{let{filterText:ot}=await(0,b.getFilterText)(Ze);Ne.setFilterText(ot)}catch{}Ne.diffURL=Ze.diff_url,Ne.title=Ze.title,Ne.homepage=Ze.homepage}else Be.push(Ne.url);else Ze&&(await Q(Ne.url),await se(Ze.url,{downloadCount:Ne.downloadCount,version:Ne.version}),Ne.enabled||await Ae(Ze.url))}for(let Ne of Be)await Q(Ne)}function ge(){let Be=[];for(let Ne of G.filterEngine.filterStorage.subscriptions())Ne instanceof x.RegularSubscription&&Be.push(B(Ne));return Be}function me(Be){return G.filterEngine.filterStorage.synchronizer.isExecuting(Be)||(0,L.isDnrSubscriptionUpdating)(Be)}async function se(Be,Ne={}){if(!x.Subscription.isValidURL(Be))throw new Error(`Invalid subscription URL provided: ${Be}`);let{filterStorage:Ze}=G.filterEngine,ot=x.Subscription.fromURL(Be);if(h.default.declarativeNetRequest&&!ot.downloadable){let It=I.addonBundledSubscriptions.find(xe=>xe.url==Be),fe,ie;try{({filterText:fe,params:ie}=await(0,b.getFilterText)(It))}catch{}fe&&ot.setFilterText(fe),ie&&ot.setParams(ie)}"title"in Ne&&(ot.title=Ne.title),"homepage"in Ne&&(ot.homepage=Ne.homepage),"downloadCount"in Ne&&(ot.downloadCount=Ne.downloadCount),"version"in Ne&&(ot.version=Ne.version),"lastDownload"in Ne&&(ot.lastDownload=Ne.lastDownload),"privileged"in Ne&&(ot.privileged=Ne.privileged),"diffURL"in Ne&&(ot.diffURL=Ne.diffURL),"lastModified"in Ne&&(ot.lastModified=Ne.lastModified),Ze.addSubscription(ot),h.default.declarativeNetRequest&&!ot.downloadable&&await re(ot.id),!ot.lastDownload&&!me(ot.url)&&Ze.synchronizer.execute(ot)}async function Ae(Be){let Ne=U(Be);if(!Ne)throw new Error(`Subscription does not exist: ${Be}`);Ne.disabled=!0,h.default.declarativeNetRequest&&(Ne instanceof x.FullUpdatableSubscription?await(0,L.disableDynamicRules)(Ne.url):await J(Ne.id))}function Le(){if(h.default.runtime.getManifest().manifest_version==2)return!1;for(let Be of G.filterEngine.filterStorage.subscriptions())if(Be.downloadable)return!0;return!1}function ve(Be,Ne){let Ze=F.Prefs.migration_subscription_errors;Ze.push({subscription:Be,error:Ne}),F.Prefs.migration_subscription_errors=Ze}async function Ie(){if(await S.default.start(),!Le())return;let Be=await ge();for(let Ne of Be)if(Ne.downloadable){await Q(Ne.url);try{be(Ne)}catch(Ze){ve(Ne,Ze.message)}}}async function Ue(){if(h.default.declarativeNetRequest){let Be=await h.default.declarativeNetRequest.getEnabledRulesets();for(let Ne of G.filterEngine.filterStorage.subscriptions())!Be.includes(Ne.id)&&!Ne.disabled&&re(Ne.id)}}const tt={get ACCEPTABLE_ADS_URL(){return h.default.declarativeNetRequest?R:P},ACCEPTABLE_ADS_ID:V,get ACCEPTABLE_ADS_PRIVACY_URL(){return h.default.declarativeNetRequest?O:E},ACCEPTABLE_ADS_PRIVACY_ID:N,add:se,async addDefaults(Be,Ne=!1){let Ze=[];if(Ne||ae()){let ot=ee(Be);if(!ot.hasDefaultLang)throw Error("No default language subscription");if(!ot.hasAntiCV)throw Error("No anti-circumvention subscription");if(!ot.hasAA)throw Error("No allowing subscription");Ze.push(...ot.chosenSubscriptions)}for(let ot of Ze)await this.add(h.default.declarativeNetRequest?ot.url:ot.mv2URL)},async getDownloadable(){return ge().map(Ne=>(delete Ne.updatable,Ne))},async getSubscriptions(){return ge().map(Ne=>(delete Ne.downloadable,Ne))},async getForFilter(Be){return Be?Array.from(G.filterEngine.filterStorage.subscriptions(Be),B):[]},async getFilters(Be){let Ne=U(Be);return Ne?Array.from(Ne.filterText(),Ze=>(0,X.convertFilter)(T.Filter.fromText(Ze))):[]},async has(Be){return U(new URL(Be).href)!=null},async enable(Be){let Ne=U(Be);if(!Ne)throw new Error(`Subscription does not exist: ${Be}`);h.default.declarativeNetRequest&&await re(Ne.id),Ne.disabled=!1},disable:Ae,remove:Q,async sync(Be){let Ne=[],{filterStorage:Ze}=G.filterEngine;if(Be){let ot=U(Be);if(!ot)throw new Error(`Subscription does not exist: ${Be}`);Ne.push(ot)}else for(let ot of Ze.subscriptions())ot instanceof x.RegularSubscription&&Ne.push(ot);for(let ot of Ne)me(ot.url)||Ze.synchronizer.execute(ot,!0)},getRecommendations(){return Array.from((0,j.recommendations)(),M)},hasAcceptableAdsEnabled:$,async getMigrationErrors(){let Be=F.Prefs.migration_subscription_errors;return Array.isArray(Be)||(Be=[]),Be},async clearMigrationErrors(){F.Prefs.migration_subscription_errors=[]},onAdded:new D.EventDispatcher(Be=>{A.filterNotifier.on("subscription.added",Y(Be))}),onChanged:new D.EventDispatcher(Be=>{function Ne(ot){return ot=="disabled"&&(ot="enabled"),It=>{It instanceof x.RegularSubscription&&U(It.url)&&Be(B(It),ot)}}let Ze=["disabled","title","homepage","lastDownload","downloadStatus","downloading","privileged","lastModified"];for(let ot of Ze)A.filterNotifier.on(`subscription.${ot}`,Ne(ot));A.filterNotifier.on("subscription.updated",Ne(null))}),onRemoved:new D.EventDispatcher(Be=>{A.filterNotifier.on("subscription.removed",Y(Be))})}},"./sdk/background/telemetry.js":(f,d,u)=>{u.r(d),u.d(d,{default:()=>re,postWithBearerToken:()=>$,reset:()=>B,start:()=>O,stop:()=>M});var h=u("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=u("./node_modules/uuid/dist/esm-browser/v4.js"),b=u("./core/lib/time.js"),x=u("./sdk/background/prefs.js"),A=u("./sdk/background/info.js"),j=u("./sdk/background/subscriptions.js"),T=u("./sdk/background/types.js"),I=u("./sdk/all/scheduler.js"),S=u("./sdk/background/initializer.js"),G=u("./sdk/background/debugging.js"),D=u("./sdk/background/experiments.js"),X=u("./core/lib/features.js"),L=u("./sdk/background/callbacks.js");const F="ewe:telemetry",V="eyeometryUcid";let P=null,R=null,N=new T.EventDispatcher(J=>{});async function E(){let ue=(await h.storage.local.get([F]))[F];R=ue&&ue.ucid,R||(R=(0,y.default)(),ue={...ue,ucid:R},await h.storage.local.set({[F]:ue}))}async function O(J,ue=12*b.MILLIS_IN_HOUR,Q=1*b.MILLIS_IN_HOUR){if(!J.url)throw new Error("No telemetry `url` provided");if(!J.bearer)throw new Error("No telemetry `bearer` provided");P||(await(0,x.init)(),(0,X.isFeatureEnabled)(V)&&await E(),P=new I.Scheduler({interval:ue,errorRetryDelay:Q,listener:()=>Y(J),async getNextTimestamp(){if(x.Prefs.telemetry_opt_out)return Date.now()+b.MILLIS_IN_DAY;let Re=(await h.storage.local.get([F]))[F],oe=Re&&Re.lastPing,ge=Re&&Re.lastError;if(ge){let me=new Date(ge).getTime()+Q,se=Date.now(),Ae=se+Q;return me>Ae&&(me=Ae,await h.storage.local.set({[F]:{...Re,lastError:new Date(se).toISOString()}})),me}else if(oe)return new Date(oe).getTime()+ue;return null}}))}async function B(){M(),await h.storage.local.remove(F)}function M(){P&&(P.stop(),P=null)}function U(J){return J&&J.split("T")[0]+"T00:00:00Z"}async function Y(J){if((0,G.trace)({telemetry:J}),await S.default.start(),x.Prefs.telemetry_opt_out)return!1;const Q=(await h.storage.local.get([F]))[F];let be=await ae();Q&&(be.first_ping=U(Q.firstPing),be.last_ping=U(Q.lastPing),be.previous_last_ping=U(Q.previousLastPing),be.last_ping_tag=Q.lastPingTag),(0,X.isFeatureEnabled)(V)&&(be.ucid=R);let Re;try{if(Re=(await $(J.url,J.bearer,{payload:be})).token,!Re)throw new Error("Telemetry server response did not include a token.")}catch(ge){(0,G.error)(`Telemetry error: ${ge.message}`);let me=new Date().toISOString();return await h.storage.local.set({[F]:{...Q,lastError:me}}),N.emit({message:ge.message,lastError:me}),!1}let oe={firstPing:Q&&Q.firstPing||Re,lastPing:Re,previousLastPing:Q&&Q.lastPing,lastPingTag:(0,y.default)()};return(0,X.isFeatureEnabled)(V)&&(oe.ucid=R),await h.storage.local.set({[F]:oe}),!0}async function $(J,ue,Q){(0,G.trace)({url:J,bearer:ue,body:Q});const be=await fetch(J,{method:"POST",headers:{Authorization:`Bearer ${ue}`,"Content-Type":"application/json"},body:JSON.stringify(Q)});if(!be.ok)throw new Error(`Telemetry server responded with error status ${be.status}.`);return await be.json()}async function ee(){const J=await D.default.getAssignments();return Object.entries(J).map(ue=>({experiment_id:ue[0],variant_id:ue[1]}))}async function ae(){let J,ue;if(navigator.userAgentData){const be=await navigator.userAgentData.getHighEntropyValues(["platform","platformVersion"]);J=be.platform,ue=be.platformVersion}else J=(await h.runtime.getPlatformInfo()).os;const Q={platform:J,platform_version:ue,application:A.application,application_version:A.applicationVersion,addon_name:A.sdkName,addon_version:A.sdkVersion,extension_name:A.addonName,extension_version:A.addonVersion,aa_active:await(0,j.hasAcceptableAdsEnabled)(),experiments:await ee()};if(L.premiumStatusCallback){const be=await(0,L.premiumStatusCallback)();be&&(Q.premium_status=be)}return Q}const re={onError:N,async setOptOut(J){x.Prefs.telemetry_opt_out=J,P&&!J&&P.checkNow()}}},"./sdk/background/testing.js":(f,d,u)=>{u.r(d),u.d(d,{default:()=>re});var h=u("./sdk/background/webext-browser.js"),y=u("./core/lib/subscriptionClasses.js"),b=u("./core/lib/recommendations.js"),x=u("./core/lib/notifications.js"),A=u("./core/lib/features.js"),j=u("./sdk/background/core.js"),T=u("./sdk/background/prefs.js"),I=u("./sdk/background/debugging.js"),S=u("./sdk/background/subscriptions.js"),G=u("./sdk/background/index.js"),D=u("./sdk/background/initializer.js"),X=u("./sdk/background/info.js"),L=u("./sdk/background/dnr-filters.js"),F=u("./sdk/background/subscriptions-utils.js"),V=u("./sdk/background/io.js"),P=u("./core/lib/filterStorage.js"),R=u("./sdk/background/telemetry.js"),N=u("./sdk/background/cdp-metrics-uploader.js"),E=u("./sdk/background/cdp-metrics-uploader-2.js"),O=u("./sdk/background/cdp-metrics-uploader-3.js"),B=u("./sdk/background/cdp-encryption.js"),M=u("./sdk/background/filters.js"),U=u("./sdk/background/sitekey.js"),Y=u("./sdk/background/content-message-deferrer.js"),$=u("./sdk/background/cdp.js"),ee=u("./sdk/background/frame-state.js"),ae=u("./sdk/background/experiments.js");const re={...U,async _setPrefs(J,ue){await(0,T.init)(),T.Prefs[J]=ue},async _getPrefs(J){return await(0,T.init)(),T.Prefs[J]},_restartSynchronizer(){let{filterStorage:J}=j.filterEngine;J.synchronizer.stop(),J.synchronizer.start()},async _setSubscriptionProperties(J,ue){let Q=y.Subscription.fromURL(J);for(let be in ue)Q[be]=ue[be];await j.filterEngine.filterStorage.saveToDisk(),await I.default.ensureEverythingHasSaved()},_setSubscriptions(J){(0,X.setAddonInfo)({bundledSubscriptions:J,bundledSubscriptionsPath:X.addonBundledSubscriptionsPath}),(0,b.setRecommendations)(J),(0,y._clean)()},_setRecommendations(J){const ue=J?J.map(Q=>Q._source):null;(0,b.setRecommendations)(ue)},_recommendations(){return(0,b.recommendations)()},_getDefaultSubscriptions:S.getDefaultSubscriptions,_setAddonInfo:X.setAddonInfo,_resetDefaultAddonInfo:X.initializeDefaultAddonInfo,_setFeatureFlags:A.setFeatureFlags,_resetFeatureFlags:A.resetFeatureFlags,async _isFeatureEnabled(J){return await D.default.start(),(0,A.isFeatureEnabled)(J)},async _removeAllSubscriptions(){for(let ue of await S.default.getSubscriptions())await S.default.remove(ue.url);await(0,L.removeAllDynamicFilters)(),(0,L.clearIsDnrSubscriptionUpdating)();const{filterStorage:J}=j.filterEngine;J._clear(),await J.saveToDisk(),j.filterEngine.clear()},async _dnrDiffSubscriptionUpdate(J,ue){await this._waitForInitialization();const{filterStorage:Q}=j.filterEngine;let be=Q.getSubscription(J);be||(be=y.Subscription.fromURL(J)),await(0,L.dnrDiffSubscriptionUpdate)(be,ue)},getSubscriptionRulesetMap:F.getSubscriptionRulesetMap,async getDynamicFilters(){await(0,T.init)();let J=await(0,L.getDynamicFilters)();return Array.from(J.entries())},dynamicRulesAvailable:L.dynamicRulesAvailable,testSetDynamicRulesAvailable:L.testSetDynamicRulesAvailable,async _clearNotifications(){await(0,T.init)();for(let J of x.notifications._localNotifications)x.notifications.removeNotification(J);T.Prefs.notificationdata={},T.Prefs.notifications_ignoredcategories=[],await(0,T.awaitSavingComplete)()},enableDebugOutput(J){let ue=I.default.ON_REQUEST_CONSOLE_LOGGER.getListener();J?I.default.onLogEvent.addListener(ue):I.default.onLogEvent.removeListener(ue)},CONSOLE_LOGGER:I.default.logger,_log:I.log,_debug:I.debug,_info:I.info,_warn:I.warn,_error:I.error,_trace:I.trace,_clearDebugLog(){I.default.ON_REQUEST_CONSOLE_LOGGER.clear()},_printDebugLog(){I.default.ON_REQUEST_CONSOLE_LOGGER.print()},async _clearStorage(){await V.IO.initialize();let J=P.FilterStorage.sourceFile,ue="removed.tmp";if((await V.IO.statFile(J)).exists){const{filterStorage:be}=j.filterEngine;await V.IO.renameFile(J,ue),be.clearStats(),await be.loadFromDisk()}},async _waitForInitialization(){await D.default.start()},clearIsDnrSubscriptionUpdating:L.clearIsDnrSubscriptionUpdating,isSynchronizing:S.isSynchronizing,stopTelemetry:R.stop,startTelemetry:R.start,resetTelemetry:R.reset,stopCdpMetricsUploader:N.stop,startCdpMetricsUploader:N.start,resetCdpMetricsUploader:N.reset,setForceEarlyCdpUploads:E.setForceEarlyUploads,stopCdp:$.stop,startCdp:$.start,setCdpLoadDelay:$.setLoadDelay,_setCdpConfig:$._setConfig,_restoreCdpConfig:$._restoreConfig,_setCdpData:$.setData,_setCdpDataArray:$.setDataArray,_getCdpData:$.getData,_clearCdpData:$.clearData,_clearCdpActivity:$.clearActivity,_clearCdpLog:$.clearLog,_setCdpLog:$.setLog,_getCdpLog:$.getLog,_getCdpDomainStats:$.getDomainStats,_importRSAPublicKey:B.importRSAPublicKey,_requestPublicKey:O.requestPublicKey,_uploadCdp:O.upload,clearSkipInitRulesets:G.clearSkipInitRulesets,checkAndInitSubscriptions:G.checkAndInitSubscriptions,_cleanSubscriptionClassesCache:y._clean,removeTabExpirationFilters:M.removeTabExpirationFilters,async _isContentHelloReceived(J,ue){return!(0,Y.getDeferredMessages)(J,ue)},async _saveSubscriptionMigrationError(J,ue){await D.default.start(),(0,S.saveMigrationError)(J,ue)},async _saveSessionStorage(J,ue){let Q={};Q[J]=ue,await h.default.storage.session.set(Q)},async _removeSessionStorage(J){await h.default.storage.session.remove(J)},async getDynamicRules(){return await h.default.declarativeNetRequest.getDynamicRules()},_clearFrameState:ee._clear,restartExperiments(J,ue,Q){ae.stop(),ae.start(J,ue,Q)},setExperimentsSeed:ae.setSeed,resetExperimentData:ae.reset}},"./sdk/background/types.js":(f,d,u)=>{u.r(d),u.d(d,{BlockableEventDispatcher:()=>h.BlockableEventDispatcher,EventDispatcher:()=>y,FilterError:()=>b});var h=u("./sdk/background/diagnostics.js");class y{constructor(A,j){this._listeners=new Set,this._initialized=!1;let T=(...I)=>{for(let S of this._listeners)S(...I)};this._initialize=A.bind(null,T),this._finalize=j&&j.bind(null,T)}addListener(A){this._initialized||(this._initialize(),this._initialized=!0),this._listeners.add(A)}removeListener(A){this._listeners.delete(A),this._initialized&&this._finalize&&this._listeners.size==0&&(this._finalize(),this._initialized=!1)}emit(...A){for(let j of this._listeners)j(...A)}}class b extends Error{constructor(A,j,T=null){super(JSON.stringify({type:A,reason:j,option:T})),this.name="FilterError",this.type=A,this.reason=j,this.option=T}}},"./sdk/background/webext-browser.js":(f,d,u)=>{u.r(d),u.d(d,{default:()=>y});var h=u("./node_modules/webextension-polyfill/dist/browser-polyfill.js");const y=h},"./core/data/subscriptions.json":f=>{f.exports=JSON.parse(`[{"id":"B7D76369-DD19-4602-80E8-2E32DDB490AC","type":"ads","languages":["id","ms"],"title":"ABPindo+EasyList","homepage":"http://abpindo.blogspot.com/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","A4A32212-E6BD-45F6-AD0F-E0FD18E8537B"],"url":"https://easylist-downloads.adblockplus.org/v3/full/abpindo+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/abpindo+easylist.txt"},{"id":"1C571EC7-6E52-47CC-B04A-4B3008D0AEBE","type":"ads","languages":["vi"],"title":"ABPVN List+EasyList","homepage":"http://abpvn.com/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","03648752-31EE-4FD0-85C1-20B07C5551C3"],"url":"https://easylist-downloads.adblockplus.org/v3/full/abpvn+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/abpvn+easylist.txt"},{"id":"E22C3B40-DC90-49D7-8BF5-E60904AB159A","type":"ads","languages":["bg"],"title":"Bulgarian list+EasyList","homepage":"https://stanev.org/abp/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","1638B159-F64A-4307-84E7-16AB08ED409E"],"url":"https://easylist-downloads.adblockplus.org/v3/full/bulgarian_list+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/bulgarian_list+easylist.txt"},{"id":"96932CD9-6DDF-4D97-B92F-FDF747B6FAA2","type":"ads","languages":["no","nb","nn","da","is","fo","kl","sv","fi"],"title":"Dandelion Sprout's Nordic Filters+EasyList","homepage":"https://github.com/DandelionSprout/adfilt","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","6D489E8D-E61C-444C-BBC5-44741773ADC2"],"url":"https://easylist-downloads.adblockplus.org/v3/full/dandelion_sprouts_nordic_filters+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/dandelion_sprouts_nordic_filters+easylist.txt"},{"id":"8C13E995-8F06-4927-BEA7-6C845FB7EEBF","type":"ads","languages":["en"],"title":"EasyList","homepage":"https://easylist.to/","url":"https://easylist-downloads.adblockplus.org/v3/full/easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylist.txt"},{"id":"9BD3EA2F-889D-4CC3-B680-CF484F2BD1B9","type":"ads","languages":["zh"],"title":"EasyList China+EasyList","homepage":"https://github.com/easylist/easylistchina/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","1D7F590C-B752-4BA0-9473-6A26DE1326B1"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistchina+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistchina+easylist.txt"},{"id":"4B6CE485-30AB-4213-AD17-504B3F2D2825","type":"ads","languages":["cs","sk"],"title":"EasyList Czech and Slovak+EasyList","homepage":"https://adblock.sk/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","2D8C4D88-34A0-4259-9098-30D28BA674BC"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistczechslovak+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistczechslovak+easylist.txt"},{"id":"A4B88FB6-E5E5-417F-8A49-20B8244995FD","type":"ads","languages":["nl"],"title":"EasyList Dutch+EasyList","homepage":"https://easylist.to/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","CB94E27D-6CD1-4DB9-83D9-6B7F1A3555F6"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistdutch+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistdutch+easylist.txt"},{"id":"0CD3D105-D3B3-4652-8489-94163DE9A08F","type":"ads","languages":["de"],"title":"EasyList Germany+EasyList","homepage":"https://easylist.to/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","4337FB2B-A95C-44D5-B78D-11AD40F7711B"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistgermany+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistgermany+easylist.txt"},{"id":"07549D8B-F06F-4D9D-A567-929AA59E9D1D","type":"ads","languages":["he"],"title":"EasyList Hebrew+EasyList","homepage":"https://github.com/easylist/EasyListHebrew","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","AE0D9320-665E-407D-B692-1A85AE481F34"],"url":"https://easylist-downloads.adblockplus.org/v3/full/israellist+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/israellist+easylist.txt"},{"id":"BBC07C05-66F1-42EC-BD4D-7AD495FAC84B","type":"ads","languages":["it"],"title":"EasyList Italy+EasyList","homepage":"https://easylist.to/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","2F0A4F0D-DF16-40D0-B0E0-5EB6791EC119"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistitaly+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistitaly+easylist.txt"},{"id":"CBE50FA2-DE3F-480C-B1D7-04289391C033","type":"ads","languages":["lt"],"title":"EasyList Lithuania+EasyList","homepage":"https://github.com/EasyList-Lithuania/easylist_lithuania","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","E89B3C08-2DED-40EA-8EE1-339B90D7B451"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistlithuania+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistlithuania+easylist.txt"},{"id":"3D2C09D0-DF1C-4C8E-9947-A23DCEAF8F8B","type":"ads","languages":["pl"],"title":"EasyList Polish+EasyList","homepage":"https://easylist.to/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","9F743FCD-801B-41D0-830F-5A4EA995216E"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistpolish+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistpolish+easylist.txt"},{"id":"14DF7BE6-9675-4E07-987A-D8A1000F9FEF","type":"ads","languages":["pt"],"title":"EasyList Portuguese+EasyList","homepage":"https://easylist.to/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","A41441EE-BF7C-4A48-9A43-42CCEA2B2A1D"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistportuguese+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistportuguese+easylist.txt"},{"id":"C3D13A19-3E8D-41F5-AD64-0F3B36DDE128","type":"ads","languages":["es"],"title":"EasyList Spanish+EasyList","homepage":"https://easylist.to/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","C8C1AA76-15B4-4CA3-8A9C-AD38D6AFCAEC"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistspanish+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistspanish+easylist.txt"},{"id":"25A31255-AB36-48A4-9086-06192DE71119","type":"ads","languages":["bn","gu","hi","pa","as","mr","ml","te","kn","or","ne","si"],"title":"IndianList+EasyList","homepage":"https://easylist.to/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","9FAA2906-CD5C-4520-BDC4-4E098B7EA228"],"url":"https://easylist-downloads.adblockplus.org/v3/full/indianlist+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/indianlist+easylist.txt"},{"id":"2708BCB7-2E45-41BC-B517-1730CF532F89","type":"ads","languages":["ko"],"title":"KoreanList+EasyList","homepage":"https://easylist.to/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","BCE2062F-0D99-4861-A1F7-E3DFEA6DAB69"],"url":"https://easylist-downloads.adblockplus.org/v3/full/koreanlist+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/koreanlist+easylist.txt"},{"id":"950C88EA-2DD1-42E3-B2A2-2DF2ED15563A","type":"ads","languages":["lv"],"title":"Latvian List+EasyList","homepage":"https://forums.lanik.us/viewforum.php?f=99-latvian-list","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","51893C6C-F39E-43C5-A2EF-9545E388A2CE"],"url":"https://easylist-downloads.adblockplus.org/v3/full/latvianlist+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/latvianlist+easylist.txt"},{"id":"684A25C6-6B5D-458A-8A2B-BAC0A12B0B15","type":"ads","languages":["ar"],"title":"Liste AR+Liste FR+EasyList","homepage":"https://forums.lanik.us/viewforum.php?f=98","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","8D421590-1A68-4B68-BE50-04E17C09460E","3D60E303-1141-4775-B800-834177922876"],"url":"https://easylist-downloads.adblockplus.org/v3/full/liste_ar+liste_fr+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/liste_ar+liste_fr+easylist.txt"},{"id":"2CEA1481-C29C-44F1-A084-A2A019533797","type":"ads","languages":["fr"],"title":"Liste FR+EasyList","homepage":"https://forums.lanik.us/viewforum.php?f=98","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","8D421590-1A68-4B68-BE50-04E17C09460E"],"url":"https://easylist-downloads.adblockplus.org/v3/full/liste_fr+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/liste_fr+easylist.txt"},{"id":"EEEF75EC-B2B4-49F4-BC49-17B08266F334","type":"ads","languages":["ro"],"title":"ROList+EasyList","homepage":"https://zoso.ro/rolist/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","99166908-5FDA-4F9E-8C4C-70BB4DEEFC08"],"url":"https://easylist-downloads.adblockplus.org/v3/full/rolist+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/rolist+easylist.txt"},{"id":"1B5F78CA-8B30-4BDF-B0A3-451CB2202984","type":"ads","languages":["ru","uk"],"title":"RuAdList+EasyList","homepage":"https://forums.lanik.us/viewforum.php?f=102","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","879ECB9D-8935-4506-939E-5BBB7DD09402"],"url":"https://easylist-downloads.adblockplus.org/v3/full/ruadlist+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/ruadlist+easylist.txt"},{"id":"0798B6A2-94A4-4ADF-89ED-BEC112FC4C7F","type":"allowing","title":"Allow nonintrusive advertising","homepage":"https://acceptableads.com/","url":"https://easylist-downloads.adblockplus.org/v3/full/exceptionrules.txt","mv2_url":"https://easylist-downloads.adblockplus.org/exceptionrules.txt"},{"id":"D4028CDD-3D39-4624-ACC7-8140F4EC3238","type":"circumvention","title":"ABP filters","homepage":"https://github.com/abp-filters/abp-filters-anti-cv","url":"https://easylist-downloads.adblockplus.org/v3/full/abp-filters-anti-cv.txt","mv2_url":"https://easylist-downloads.adblockplus.org/abp-filters-anti-cv.txt"},{"id":"2090F374-29D9-4202-B2CE-139D6492D95E","type":"cookies","title":"I don't care about cookies","homepage":"https://www.i-dont-care-about-cookies.eu/","url":"https://easylist-downloads.adblockplus.org/v3/full/i_dont_care_about_cookies.txt","mv2_url":"https://easylist-downloads.adblockplus.org/i_dont_care_about_cookies.txt"},{"id":"5BD2BB73-459D-4A74-AF9D-A10157268350","type":"notifications","title":"Fanboy's Notifications Blocking List","homepage":"https://easylist.to/","url":"https://easylist-downloads.adblockplus.org/v3/full/fanboy-notifications.txt","mv2_url":"https://easylist-downloads.adblockplus.org/fanboy-notifications.txt"},{"id":"D72B6F06-52B2-4FED-96A2-1BF59CDD7AEC","type":"privacy","title":"EasyPrivacy","homepage":"https://easylist.to/","requires":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easyprivacy.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easyprivacy.txt"},{"id":"0A679439-445F-4DE7-84B9-88341F6DA520","type":"social","title":"Fanboy's Social Blocking List","homepage":"https://easylist.to/","url":"https://easylist-downloads.adblockplus.org/v3/full/fanboy-social.txt","mv2_url":"https://easylist-downloads.adblockplus.org/fanboy-social.txt"}]`)}},o={};function l(f){var d=o[f];if(d!==void 0)return d.exports;var u=o[f]={exports:{}};return a[f].call(u.exports,u,u.exports,l),u.exports}l.d=(f,d)=>{for(var u in d)l.o(d,u)&&!l.o(f,u)&&Object.defineProperty(f,u,{enumerable:!0,get:d[u]})},l.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),l.o=(f,d)=>Object.prototype.hasOwnProperty.call(f,d),l.r=f=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})};var p=l("./sdk/background/index.js");return p})())})(k0);var ma=k0.exports;const sO=K2(ma),iO=q2({__proto__:null,default:sO},[ma]);/*!
 * This file is part of eyeo's Anti-Circumvention Snippets module (@eyeo/snippets),
 * Copyright (C) 2006-present eyeo GmbH
 * 
 * @eyeo/snippets is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 * 
 * @eyeo/snippets is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with @eyeo/snippets.  If not, see <http://www.gnu.org/licenses/>.
 */const v1=(n,...e)=>{const a=Proxy,{apply:o,bind:l,call:p}=Function,f=p.bind(o),d=p.bind(l),u=p.bind(p),h={get:(Te,Ee)=>d(p,Te[Ee])},y=Te=>new a(Te,h),b={get:(Te,Ee)=>d(Te[Ee],Te)},x=Te=>new a(Te,b),{assign:A,defineProperties:j,freeze:T,getOwnPropertyDescriptor:I,getOwnPropertyDescriptors:S,getPrototypeOf:G}=x(Object),{hasOwnProperty:D}=y({}),{species:X}=Symbol,L={get(Te,Ee){const Fe=Te[Ee];class nt extends Fe{}const Ve=S(Fe.prototype);delete Ve.constructor,T(j(nt.prototype,Ve));const rt=S(Fe);return delete rt.length,delete rt.prototype,rt[X]={value:nt},T(j(nt,rt))}},F=Te=>new a(Te,L),V=typeof n<"u"?n:{};typeof globalThis>"u"&&(window.globalThis=window);const{apply:P,ownKeys:R}=x(Reflect),N="world"in V,E=N&&V.world==="ISOLATED",O=N&&V.world==="MAIN",B=typeof chrome=="object"&&!!chrome.runtime,M=typeof browser=="object"&&!!browser.runtime,U=!O&&(E||B||M),Y=Te=>U?Te:$(Te,ue(Te)),{create:$,defineProperties:ee,defineProperty:ae,freeze:re,getOwnPropertyDescriptor:J,getOwnPropertyDescriptors:ue}=x(Object),Q=x(globalThis),be=U?globalThis:F(globalThis),{Map:Re,RegExp:oe,Set:ge,WeakMap:me,WeakSet:se}=be,Ae=(Te,Ee,Fe=null)=>{const nt=R(Ee);for(const Ve of R(Te)){if(nt.includes(Ve))continue;const rt=J(Te,Ve);if(Fe&&"value"in rt){const{value:et}=rt;typeof et=="function"&&(rt.value=Fe(et))}ae(Ee,Ve,rt)}},Le=Te=>{const Ee=be[Te];class Fe extends Ee{}const{toString:nt,valueOf:Ve}=Ee.prototype;ee(Fe.prototype,{toString:{value:nt},valueOf:{value:Ve}});const rt=Te.toLowerCase(),et=Tt=>function(){const Nt=P(Tt,this,arguments);return typeof Nt===rt?new Fe(Nt):Nt};return Ae(Ee,Fe,et),Ae(Ee.prototype,Fe.prototype,et),Fe},ve=re({frozen:new me,hidden:new se,iframePropertiesToAbort:{read:new ge,write:new ge},abortedIframes:new me}),Ie=new oe("^[A-Z]");var Ue=new Proxy(new Re([["chrome",U&&(B&&chrome||M&&browser)||void 0],["isExtensionContext",U],["variables",ve],["console",Y(console)],["document",globalThis.document],["performance",Y(performance)],["JSON",Y(JSON)],["Map",Re],["Math",Y(Math)],["Number",U?Number:Le("Number")],["RegExp",oe],["Set",ge],["String",U?String:Le("String")],["WeakMap",me],["WeakSet",se],["MouseEvent",MouseEvent]]),{get(Te,Ee){if(Te.has(Ee))return Te.get(Ee);let Fe=globalThis[Ee];return typeof Fe=="function"&&(Fe=(Ie.test(Ee)?be:Q)[Ee]),Te.set(Ee,Fe),Fe},has:(Te,Ee)=>Te.has(Ee)});const tt={WeakSet,WeakMap,WeakValue:class{has(){return!1}set(){}}},{apply:Be}=Reflect,{Map:Ne,WeakMap:Ze,WeakSet:ot,setTimeout:It}=Ue;let fe=!0,ie=Te=>{Te.clear(),fe=!fe};var xe=(function(Te){const{WeakSet:Ee,WeakMap:Fe,WeakValue:nt}=this||tt,Ve=new Ee,rt=new Fe,et=new nt;return function(Tt){if(Ve.has(Tt))return Tt;if(rt.has(Tt))return rt.get(Tt);if(et.has(Tt))return et.get(Tt);const Nt=Be(Te,this,arguments);return Ve.add(Nt),Nt!==Tt&&(typeof Tt=="object"&&Tt?rt:et).set(Tt,Nt),Nt}}).bind({WeakMap:Ze,WeakSet:ot,WeakValue:class extends Ne{set(Te,Ee){return fe&&(fe=!fe,It(ie,0,this)),super.set(Te,Ee)}}});const{concat:st,includes:At,join:le,reduce:zt,unshift:Wt}=y([]),Bn=F(globalThis),{Map:qn,WeakMap:ke}=Bn,Ce=new qn,lt=Te=>{const Ee=(nt=>{const Ve=[];let rt=nt;for(;rt;){if(Ce.has(rt))Wt(Ve,Ce.get(rt));else{const et=S(rt);Ce.set(rt,et),Wt(Ve,et)}rt=G(rt)}return Wt(Ve,{}),f(A,null,Ve)})(typeof Te=="function"?Te.prototype:Te),Fe={get(nt,Ve){if(Ve in Ee){const{value:rt,get:et}=Ee[Ve];if(et)return u(et,nt);if(typeof rt=="function")return d(rt,nt)}return nt[Ve]},set(nt,Ve,rt){if(Ve in Ee){const{set:et}=Ee[Ve];if(et)return u(et,nt,rt),!0}return nt[Ve]=rt,!0}};return nt=>new a(nt,Fe)},{isExtensionContext:Z,Array:Ot,Number:Gt,String:Xe,Object:pe}=Ue,{isArray:je}=Ot,{getOwnPropertyDescriptor:it,setPrototypeOf:Je}=pe,{toString:_t}=pe.prototype,{slice:Ht}=Xe.prototype,{get:un}=it(Node.prototype,"nodeType"),nn=Z?{}:{Attr:lt(Attr),CanvasRenderingContext2D:lt(CanvasRenderingContext2D),CSSStyleDeclaration:lt(CSSStyleDeclaration),Document:lt(Document),Element:lt(Element),HTMLCanvasElement:lt(HTMLCanvasElement),HTMLElement:lt(HTMLElement),HTMLImageElement:lt(HTMLImageElement),HTMLScriptElement:lt(HTMLScriptElement),MutationRecord:lt(MutationRecord),Node:lt(Node),ShadowRoot:lt(ShadowRoot),get CSS2Properties(){return nn.CSSStyleDeclaration}},pn=(Te,Ee)=>{if(Ee!=="Element"&&Ee in nn)return nn[Ee](Te);if(je(Te))return Je(Te,Ot.prototype);const Fe=(nt=>u(Ht,u(_t,nt),8,-1))(Te);if(Fe in nn)return nn[Fe](Te);if(Fe in Ue)return Je(Te,Ue[Fe].prototype);if("nodeType"in Te)switch(u(un,Te)){case 1:if(!(Ee in nn))throw new Error("unknown hint "+Ee);return nn[Ee](Te);case 2:return nn.Attr(Te);case 3:return nn.Node(Te);case 9:return nn.Document(Te)}throw new Error("unknown brand "+Fe)};var $e=Z?Te=>Te===window||Te===globalThis?Ue:Te:xe((Te,Ee="Element")=>{if(Te===window||Te===globalThis)return Ue;switch(typeof Te){case"object":return Te&&pn(Te,Ee);case"string":return new Xe(Te);case"number":return new Gt(Te);default:throw new Error("unsupported value")}});let Qe=!1;function Ln(){return Qe}let{console:ir,document:q,getComputedStyle:jn,isExtensionContext:Ga,variables:or,Array:Ar,MutationObserver:qa,Object:xr,XPathEvaluator:dr,XPathExpression:Za,XPathResult:ya}=$e(window);const{querySelectorAll:Ur}=q,zn=Ur&&d(Ur,q);function Va(Te,Ee=!1){try{const Fe=navigator.userAgent.includes("Firefox")?Te.openOrClosedShadowRoot:browser.dom.openOrClosedShadowRoot(Te);return Fe===null&&Ln()&&!Ee&&ir.log("Shadow root not found or not added in element yet",Te),Fe}catch(Fe){return Ln()&&!Ee&&ir.log("Error while accessing shadow root",Te,Fe),null}}function Sa(Te,Ee=!1){return Zr(Te,zn.bind(q),q,Ee)}function Sr(Te,Ee,Fe,nt){const Ve=Ee.getAttribute("xlink:href")||Ee.getAttribute("href");if(Ve){const et=zn(Ve)[0];if(!et&&Ln())return ir.log("No elements found matching",Ve),!1;if(!(rt=Te)||rt.length===0||rt.every(Nt=>Nt.trim()==="")){const Nt=nt.length>0?nt:[];return Fe.push({element:et,rootParents:[...Nt,Ee]}),!1}const Tt=et.querySelectorAll.bind(et);return{nextBoundElement:et,nestedSelectorsString:Te.join("^^"),next$$:Tt}}var rt}function lo(Te,Ee){const Fe=Va(Ee);if(Fe){const{querySelectorAll:nt}=Fe,Ve=nt&&d(nt,Fe).bind(Fe);return{nextBoundElement:Ee,nestedSelectorsString:":host "+Te.join("^^"),next$$:Ve}}return!1}function Zr(Te,Ee,Fe,nt,Ve=[]){if(Te.includes("^^")){const[et,Tt,...Nt]=Te.split("^^");let kt,Dt;switch(Tt){case"svg":Dt=Sr;break;case"sh":Dt=lo;break;default:return Ln()&&ir.log(Tt,` is not supported. Supported commands are: 
^^sh^^
^^svg^^`),[]}kt=et.trim()===""?[Fe]:Ee(et);const St=[];for(const ln of kt){const Yt=Dt(Nt,ln,St,Ve);if(!Yt)continue;const{next$$:qt,nestedSelectorsString:Mt,nextBoundElement:Xt}=Yt,Jt=Zr(Mt,qt,Xt,nt,[...Ve,ln]);Jt&&St.push(...Jt)}return St}const rt=Ee(Te);return nt?[...rt].map(et=>({element:et,rootParents:Ve.length>0?Ve:[]})):rt}function za(Te,Ee,Fe=[]){if(Ee.includes("^^svg^^")&&(Ee=Ee.split("^^svg^^")[0]),Ee.includes("^^sh^^")){const nt=Ee.split("^^sh^^"),Ve=nt.length-1;return Ee=`:host ${nt[Ve]}`,Ve===Fe.length?Te.closest(Ee):Fe[Ve].closest(Ee)}return Fe[0]?Fe[0].closest(Ee):Te.closest(Ee)}const{assign:Oa,setPrototypeOf:uo}=xr;class Rs extends Za{evaluate(...Ee){return uo(f(super.evaluate,this,Ee),ya.prototype)}}class zr extends dr{createExpression(...Ee){return uo(f(super.createExpression,this,Ee),Rs.prototype)}}function dn(Te){if(or.hidden.has(Te))return!1;(function(rt){Ga&&typeof checkElement=="function"&&checkElement(rt)})(Te),or.hidden.add(Te);let{style:Ee}=$e(Te),Fe=$e(Ee,"CSSStyleDeclaration"),nt=$e([]),{debugCSSProperties:Ve}=V;for(let[rt,et]of Ve||[["display","none"]])Fe.setProperty(rt,et,"important"),nt.push([rt,Fe.getPropertyValue(rt)]);return new qa(()=>{for(let[rt,et]of nt){let Tt=Fe.getPropertyValue(rt),Nt=Fe.getPropertyPriority(rt);Tt==et&&Nt=="important"||Fe.setProperty(rt,et,"important")}}).observe(Te,{attributes:!0,attributeFilter:["style"]}),!0}function Ha(Te){let Ee=Te;if(Ee.startsWith("xpath(")&&Ee.endsWith(")")){let Fe=Ee.slice(6,-1),nt=new zr().createExpression(Fe,null),Ve=ya.ORDERED_NODE_SNAPSHOT_TYPE;return rt=>{if(!rt)return;let et=nt.evaluate(q,Ve,null),{snapshotLength:Tt}=et;for(let Nt=0;Nt<Tt;Nt++)rt(et.snapshotItem(Nt))}}return Fe=>Sa(Te).forEach(Fe)}function Jr(Te,Ee,Fe,nt){let Ve;Fe==null&&(Fe=Ee);const rt=()=>{for(const{element:et,rootParents:Tt}of Sa(Fe,!0)){const Nt=za($e(et),Ee,Tt);Nt&&Te(et,Nt,Tt)&&(Ve(),dn(Nt)&&typeof nt=="function"&&nt(Nt))}};return Oa(new qa(rt),{race(et){Ve=et,this.observe(q,{childList:!0,characterData:!0,subtree:!0}),rt()}})}function En(Te,Ee,Fe,nt){let Ve=$e(Ee,"CSSStyleDeclaration");if(Ve.getPropertyValue("display")=="none")return!1;let rt=Ve.getPropertyValue("visibility");if(rt=="hidden"||rt=="collapse")return!1;if(!Fe||Te==Fe)return!0;let et=$e(Te).parentElement;if(!et){if(!nt||!nt.length)return!0;et=nt[nt.length-1],nt=nt.slice(0,-1)}return En(et,jn(et),Fe,nt)}function co(Te){let Ee=jn(Te),{cssText:Fe}=Ee;if(Fe)return Fe;for(let nt of Ee)Fe+=`${nt}: ${Ee[nt]}; `;return $e(Fe).trim()}let{Array:$n,Math:Rn,RegExp:Or}=$e(window);function mt(Te){let{length:Ee}=Te;if(Ee>1&&Te[0]==="/"){let Fe=Te[Ee-1]==="/";if(Fe||Ee>2&&$e(Te).endsWith("/i")){let nt=[$e(Te).slice(1,Fe?-1:-2)];return Fe||nt.push("i"),new Or(...nt)}}return new Or($e(Te).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"))}function Kt(Te){return $e($n.from(Te)).map(Ee=>`'${Ee}'`).join(" ")}const{console:ba}=$e(window),Zn=()=>{};function mn(...Te){if(Ln()){const Ee=["%c DEBUG","font-weight: bold;"],Fe=Te.indexOf("error"),nt=Te.indexOf("warn"),Ve=Te.indexOf("success"),rt=Te.indexOf("info");Fe!==-1?(Ee[0]+=" - ERROR",Ee[1]+="color: red; border:2px solid red",$e(Te).splice(Fe,1)):nt!==-1?(Ee[0]+=" - WARNING",Ee[1]+="color: orange; border:2px solid orange ",$e(Te).splice(nt,1)):Ve!==-1?(Ee[0]+=" - SUCCESS",Ee[1]+="color: green; border:2px solid green",$e(Te).splice(Ve,1)):rt!==-1&&(Ee[1]+="color: black;",$e(Te).splice(rt,1)),$e(Te).unshift(...Ee)}ba.log(...Te)}function Ta(Te){return d(Ln()?mn:Zn,null,Te)}let{Array:lr,Error:ds,Map:vo,parseInt:fs}=$e(window),Br=null,po=null;function Gn(Te,Ee){if(Br===null)return Zn;let Fe=Br,{participants:nt}=Fe;return nt.set(Ve,Ee),Ve;function Ve(){if(!(Fe.winners<1)){if(Ta("race")("success",`${Te} won the race`),Fe===Br)po.push(Ve);else if(nt.delete(Ve),--Fe.winners<1){for(let rt of nt.values())rt();nt.clear()}}}}const Fs={get(Te,Ee){const Fe=Te;for(;!D(Te,Ee);)Te=G(Te);const{get:nt,set:Ve}=I(Te,Ee);return function(){return arguments.length?f(Ve,Fe,arguments):u(nt,Fe)}}};var mr;function ja(Te,Ee,Fe){var nt,Ve;Fe?Fe==="load"?(Te("info","Waiting until window.load"),window.addEventListener("load",()=>{Te("info","Window.load fired."),Ee()})):Fe==="loading"||Fe==="interactive"||Fe==="complete"?(Te("info","Waiting document state until :",Fe),document.addEventListener("readystatechange",()=>{Te("info","Document state changed:",document.readyState),document.readyState===Fe&&Ee()})):(Te("info","Waiting until ",Fe," event is triggered on document"),(nt=document,Ve=Fe,new Promise(rt=>{const et=()=>{nt.removeEventListener(Ve,et),rt()};nt.addEventListener(Ve,et)})).then(()=>{Te("info",Fe," is triggered on document, starting the snippet"),Ee()}).catch(rt=>{Te("error","There was an error while waiting for the event.",rt)})):Ee()}$e(window),mr=window,new a(mr,Fs),$e(/^\d+$/);let{MutationObserver:wa,WeakSet:Wa,getComputedStyle:$r}=$e(window),{clearTimeout:Qr,fetch:xo,getComputedStyle:fo,setTimeout:Gr,Map:ur,MutationObserver:ei,Uint8Array:ti}=$e(window),Tr=new ur;function gr(Te,{as:Ee="arrayBuffer",cleanup:Fe=6e4}={}){let nt=Ee+":"+Te,Ve=Tr.get(nt)||{remove:()=>Tr.delete(nt),result:null,timer:0};return Qr(Ve.timer),Ve.timer=Gr(Ve.remove,Fe),Ve.result||(Ve.result=xo(Te).then(rt=>rt[Ee]()).catch(Ve.remove),Tr.set(nt,Ve)),Ve.result}const{parseFloat:sr,Math:ia,MutationObserver:_o,WeakSet:Bo}=$e(window),{min:hs}=ia,Ro=(Te,Ee)=>{const Fe=Te.length+1,nt=Ee.length+1,Ve=[[0]];let rt=0,et=0;for(;++rt<nt;)Ve[0][rt]=rt;for(rt=0;++rt<Fe;){const Tt=Te[et];let Nt=0,kt=0;for(Ve[rt]=[rt];++Nt<nt;)Ve[rt][Nt]=hs(Ve[et][Nt]+1,Ve[rt][kt]+1,Ve[et][kt]+(Tt!=Ee[kt])),++kt;++et}return Ve[Fe-1][nt-1]};let{getComputedStyle:cr,Map:ko,WeakSet:_r,parseFloat:Rr,DOMMatrix:Ni,Math:Pa}=$e(window);const{ELEMENT_NODE:Vr,TEXT_NODE:Ja}=Node;let{MutationObserver:pa,WeakSet:Eo,getComputedStyle:ms}=$e(window),{getComputedStyle:Ba,MutationObserver:Ra,WeakSet:gs}=$e(window);$e(window);const Ms={mark(){},end(){},toString:()=>"{mark(){},end(){}}"};function Ko(Te,Ee=10){return Ms}let{MutationObserver:Di,WeakSet:ys}=$e(window);const{ELEMENT_NODE:Fo}=Node;let{MutationObserver:Ci,WeakSet:Oi}=$e(window);const{ELEMENT_NODE:ll}=Node;let{parseInt:ul,setTimeout:cl,Error:pl,MouseEvent:Ps,MutationObserver:Ls,WeakSet:Ao}=$e(window);const ho=["auxclick","click","dblclick","gotpointercapture","lostpointercapture","mouseenter","mousedown","mouseleave","mousemove","mouseout","mouseover","mouseup","pointerdown","pointerenter","pointermove","pointerover","pointerout","pointerup","pointercancel","pointerleave"];let{isNaN:ni,MutationObserver:ai,parseInt:Mo,parseFloat:Xo,setTimeout:bs}=$e(window);const Us={log:mn,race:function(Te,Ee="1"){switch(Te){case"start":Br={winners:fs(Ee,10)||1,participants:new vo},po=new lr;break;case"end":case"finish":case"stop":Br=null;for(let Fe of po)Fe();po=null;break;default:throw new ds(`Invalid action: ${Te}`)}},debug:function(){Qe=!0},"hide-if-matches-xpath":function(Te,Ee){const{mark:Fe,end:nt}=Ko(),Ve=Kt(arguments),rt=Ta("hide-if-matches-xpath"),et=Tt=>{const Nt=Ha(`xpath(${Te})`),kt=new ys,Dt=()=>{Fe(),Nt(Yt=>{if(kt.has(Yt))return!1;kt.add(Yt),ln(),$e(Yt).nodeType===Fo?dn(Yt):$e(Yt).textContent="",rt("success","Matched: ",Yt,`
FILTER: hide-if-matches-xpath`,Ve)}),nt()},St=new Di(Dt),ln=Gn("hide-if-matches-xpath",()=>St.disconnect());St.observe(Tt,{characterData:!0,childList:!0,subtree:!0}),Dt()};if(Ee){let Tt,Nt=0;const kt=Ha(`xpath(${Ee})`),Dt=()=>{kt(St=>{et(St),Nt++}),Nt>0&&Tt.disconnect()};Tt=new Di(Dt),Tt.observe(document,{characterData:!0,childList:!0,subtree:!0}),Dt()}else et(document)},"hide-if-matches-computed-xpath":function(Te,Ee,Fe,nt){const{mark:Ve,end:rt}=Ko(),et=Kt(arguments),Tt=Ta("hide-if-matches-computed-xpath");if(!Ee||!Te)return void Tt("error","No query or searchQuery provided.");const Nt=Dt=>{const St=(Jt=>Te.replace("{{}}",Jt))(Dt);Tt("info","Starting hiding elements that match query: ",St);const ln=Ha(`xpath(${St})`),Yt=new Oi,qt=()=>{Ve(),ln(Jt=>{if(Yt.has(Jt))return!1;Yt.add(Jt),Xt(),$e(Jt).nodeType===ll?dn(Jt):$e(Jt).textContent="",Tt("success","Matched: ",Jt,`
FILTER: hide-if-matches-computed-xpath`,et)}),rt()},Mt=new Ci(qt),Xt=Gn("hide-if-matches-computed-xpath",()=>Mt.disconnect());Mt.observe(document,{characterData:!0,childList:!0,subtree:!0}),qt()},kt=mt(Fe);ja(Tt,()=>{if(Ee){Tt("info","Started searching for: ",Ee);const Dt=new Oi;let St;const ln=Ha(`xpath(${Ee})`),Yt=()=>{ln(qt=>{if(Dt.has(qt))return!1;if(Dt.add(qt),Tt("info","Found node: ",qt),qt.innerHTML){Tt("info","Searching in: ",qt.innerHTML);const Mt=qt.innerHTML.match(kt);if(Mt&&Mt.length){let Xt="";Xt=Mt[1]?Mt[1]:Mt[0],Tt("info","Matched search query: ",Xt),Nt(Xt)}}})};St=new Ci(Yt),St.observe(document,{characterData:!0,childList:!0,subtree:!0}),Yt()}},nt)},"hide-if-contains":function(Te,Ee="*",Fe=null){const nt=Kt(arguments),Ve=Ta("hide-if-contains");let rt=mt(Te);const et=Jr(Tt=>rt.test($e(Tt).textContent),Ee,Fe,Tt=>{Ve("success","Matched: ",Tt,`
FILTER: hide-if-contains`,nt)});et.race(Gn("hide-if-contains",()=>{et.disconnect()}))},"hide-if-contains-similar-text":function(Te,Ee,Fe=null,nt=0,Ve=0){const rt=new Bo,et=Kt(arguments),Tt=Ta("hide-if-contains-similar-text"),Nt=$e(Te),{length:kt}=Nt,Dt=kt+sr(nt)||0,St=$e([...Nt]).sort(),ln=sr(Ve)||1/0;Fe==null&&(Fe=Ee),Tt("info","Looking for similar text: "+Nt);const Yt=()=>{for(const{element:Xt,rootParents:Jt}of Sa(Fe,!0)){if(rt.has(Xt))continue;rt.add(Xt);const{innerText:gn}=$e(Xt),Jn=hs(ln,gn.length-Dt+1);for(let Fa=0;Fa<Jn;Fa++){const Fr=$e(gn).substr(Fa,Dt);if(Ro(St,$e([...Fr]).sort())-nt<=0){const Ka=za($e(Xt),Ee,Jt);if(Tt("success","Found similar text: "+Nt,Ka,`
FILTER: hide-if-contains-similar-text`,et),Ka){Mt(),dn(Ka);break}}}}};let qt=new _o(Yt),Mt=Gn("hide-if-contains-similar-text",()=>qt.disconnect());qt.observe(document,{childList:!0,characterData:!0,subtree:!0}),Yt()},"hide-if-contains-visible-text":function(Te,Ee,Fe=null,...nt){const Ve=Kt(arguments);let rt=$e([]);const et=new ko([["-snippet-box-margin","2"],["-disable-bg-color-check","false"],["-check-is-contained","false"],["-pseudo-box-margin","2"]]);for(let In of nt){In=$e(In);let Da=In.indexOf(":");if(Da<0)continue;let la=In.slice(0,Da).trim().toString(),Kn=In.slice(Da+1).trim().toString();la&&Kn&&(et.has(la)?et.set(la,Kn):rt.push([la,Kn]))}let Tt=$e([["opacity","0"],["font-size","0px"],["color","rgba(0, 0, 0, 0)"]]),Nt=new ko(Tt.concat(rt));function kt(In,Da,{bgColorCheck:la=!0}={}){Da||(Da=cr(In)),Da=$e(Da);for(const[$a,Qn]of Nt)if(mt(Qn).test(Da.getPropertyValue($a)))return!1;let Kn=Da.getPropertyValue("color");return!la||Da.getPropertyValue("background-color")!=Kn}function Dt(In,Da=null){let la=cr(In,Da).transform;return la==="none"&&(la="matrix(1, 0, 0, 1, 0, 0)"),new Ni(la)}function St(In,Da,la,{bgColorCheck:Kn=!0,translateThresh:$a=2}={}){let Qn=cr(In,Da);if(!En(In,Qn)||!kt(In,Qn,{bgColorCheck:Kn}))return"";let{content:ye}=$e(Qn);if(ye&&ye!=="none"){let Me=$e([]);const We=Dt(In,Da),Pe=la.multiply(We),at=Pa.atan2(Pe.b,Pe.a)*(180/Pa.PI);return Pa.abs(at)>5||Pa.abs(Pe.e)>$a||Pa.abs(Pe.f)>$a?"":(ye=$e(ye).trim().replace(/(["'])(?:(?=(\\?))\2.)*?\1/g,qe=>""+(Me.push($e(qe).slice(1,-1))-1)),ye=ye.replace(/\s*attr\(\s*([^\s,)]+)[^)]*?\)\s*/g,(qe,gt)=>$e(In).getAttribute(gt)||""),ye.replace(/\x01(\d+)/g,(qe,gt)=>Me[gt]))}return""}function ln(In,Da,{boxMargin:la=2}={}){const Kn=$e(In).getBoundingClientRect(),$a=$e(Da).getBoundingClientRect(),Qn=$a.left-la,ye=$a.right+la,Me=$a.top-la,We=$a.bottom+la;return Qn<=Kn.left&&Kn.left<=ye&&Me<=Kn.top&&Kn.top<=We&&Me<=Kn.bottom&&Kn.bottom<=We&&Qn<=Kn.right&&Kn.right<=ye}function Yt(In,Da,la,Kn,$a,Qn,ye,{boxMargin:Me=2,bgColorCheck:We,checkIsContained:Pe,translateThresh:at}={}){let qe=!la;if(qe&&(la=cr(In)),!En(In,la,qe&&Da,Qn))return"";Kn||$e(la).getPropertyValue("overflow-x")!=="hidden"&&$e(la).getPropertyValue("overflow-y")!=="hidden"||(Kn=In);let gt=St(In,":before",ye=ye?ye.multiply(Dt(In)):Dt(In),{bgColorCheck:We,translateThresh:at});for(let Ye of function(wt,xt=!0){const $t=Va(wt,xt);return $t?$t.childNodes:$e(wt).childNodes}($e(In)))switch($e(Ye).nodeType){case Vr:gt+=Yt(Ye,In,cr(Ye),Kn,$a,Qn,ye,{boxMargin:Me,bgColorCheck:We,checkIsContained:Pe,translateThresh:at});break;case Ja:if(Kn)ln(In,Kn,{boxMargin:Me})&&kt(In,la,{bgColorCheck:We})&&(gt+=$e(Ye).nodeValue);else if(kt(In,la,{bgColorCheck:We})){if(Pe&&!ln(In,$a,{boxMargin:Me}))continue;gt+=$e(Ye).nodeValue}}return gt+=St(In,":after",ye,{bgColorCheck:We,translateThresh:at}),gt}const qt=et.get("-snippet-box-margin"),Mt=Rr(qt)||0,Xt=et.get("-disable-bg-color-check")!=="true",Jt=et.get("-check-is-contained")==="true",gn=et.get("-pseudo-box-margin"),Jn=Rr(gn)||0;let Fa=mt(Te),Fr=new _r;const Ka=Jr((In,Da,la)=>{if(Fr.has(In))return!1;Fr.add(In);let Kn=Yt(In,Da,null,null,In,la,null,{boxMargin:Mt,bgColorCheck:Xt,checkIsContained:Jt,translateThresh:Jn}),$a=Fa.test(Kn);return Ln()&&Kn.length&&($a?mn("success",$a,Fa,Kn,`
FILTER: hide-if-contains-visible-text`,Ve):mn("info",$a,Fa,Kn)),$a},Ee,Fe);Ka.race(Gn("hide-if-contains-visible-text",()=>{Ka.disconnect()}))},"hide-if-contains-and-matches-style":function(Te,Ee="*",Fe=null,nt=null,Ve=null,rt,et=null,Tt=null){const Nt=Kt(arguments),kt=Ta("hide-if-contains-and-matches-style"),Dt=new Wa,St=Ln()&&new Wa;Fe==null&&(Fe=Ee);const ln=mt(Te),Yt=nt?mt(nt):null,qt=Ve?mt(Ve):null;ja(kt,()=>{const Mt=()=>{if(!(et&&window.innerWidth<et||Tt&&window.innerWidth>Tt)){for(const{element:gn,rootParents:Jn}of Sa(Fe,!0))if(!Dt.has(gn)&&ln.test($e(gn).textContent))if(!qt||qt.test(co(gn))){const Fa=za($e(gn),Ee,Jn);if(!Fa)continue;if(!Yt||Yt.test(co(Fa)))Jt(),dn(Fa),Dt.add(gn),kt("success","Matched: ",Fa,"which contains: ",gn,`
FILTER: hide-if-contains-and-matches-style`,Nt);else{if(!St||St.has(Fa))continue;kt("info",`In this element the searchStyle matched but style didn't:
`,Fa,$r(Fa),Nt),St.add(Fa)}}else{if(!St||St.has(gn))continue;kt("info",`In this element the searchStyle didn't match:
`,gn,$r(gn),Nt),St.add(gn)}}},Xt=new wa(Mt),Jt=Gn("hide-if-contains-and-matches-style",()=>Xt.disconnect());Xt.observe(document,{childList:!0,characterData:!0,subtree:!0}),Mt()},rt)},"hide-if-has-and-matches-style":function(Te,Ee="*",Fe=null,nt=null,Ve=null,rt=null,et=null,Tt=null){const Nt=Kt(arguments),kt=Ta("hide-if-has-and-matches-style"),Dt=new Eo,St=Ln()&&new Eo;Fe==null&&(Fe=Ee);const ln=nt?mt(nt):null,Yt=Ve?mt(Ve):null;ja(kt,()=>{const qt=()=>{if(!(et&&window.innerWidth<et||Tt&&window.innerWidth>Tt)){for(const{element:Jt,rootParents:gn}of Sa(Fe,!0))if(!Dt.has(Jt))if(!$e(Jt).querySelector(Te)||Yt&&!Yt.test(co(Jt))){if(!St||St.has(Jt))continue;kt("info",`In this element the searchStyle didn't match:
`,Jt,ms(Jt),...arguments),St.add(Jt)}else{const Jn=za($e(Jt),Ee,gn);if(!Jn||ln&&!ln.test(co(Jn))){if(!St||St.has(Jn))continue;kt("info",`In this element the searchStyle matchedbut style didn't:
`,Jn,ms(Jn),...arguments),St.add(Jn)}else Xt(),dn(Jn),Dt.add(Jt),kt("success","Matched: ",Jn,"which contains: ",Jt,`
FILTER: hide-if-has-and-matches-style`,Nt)}}},Mt=new pa(qt),Xt=Gn("hide-if-has-and-matches-style",()=>Mt.disconnect());Mt.observe(document,{childList:!0,subtree:!0}),qt()},rt)},"hide-if-labelled-by":function(Te,Ee,Fe=null){let nt=Fe==null,Ve=mt(Te),rt=new gs,et=()=>{for(const{element:kt,rootParents:Dt}of Sa(Ee,!0)){let St=nt?kt:za($e(kt),Fe,Dt);if(!St||!En(kt,Ba(kt),St))continue;let ln=$e(kt).getAttribute("aria-labelledby"),Yt=()=>{rt.has(St)||Ve.test($e(kt).getAttribute("aria-label")||"")&&(Nt(),rt.add(St),dn(St))};if(ln)for(let qt of $e(ln).split(/\s+/)){let Mt=$e(document).getElementById(qt);Mt?!rt.has(Mt)&&Ve.test(Mt.innerText)&&(Nt(),rt.add(Mt),dn(St)):Yt()}else Yt()}},Tt=new Ra(et),Nt=Gn("hide-if-labelled-by",()=>Tt.disconnect());Tt.observe(document,{characterData:!0,childList:!0,subtree:!0}),et()},"hide-if-contains-image":function(Te,Ee,Fe){Fe==null&&(Fe=Ee);let nt=mt(Te);const Ve=Kt(arguments),rt=Ta("hide-if-contains-image");let et=()=>{for(const{element:kt,rootParents:Dt}of Sa(Fe,!0)){let St=fo(kt),ln=$e(St["background-image"]).match(/^url\("(.*)"\)$/);ln&&gr(ln[1]).then(Yt=>{if(nt.test(new ti(Yt).reduce((qt,Mt)=>qt+function(Xt,Jt=2){let gn=$e(Xt).toString(16);return gn.length<Jt&&(gn=$e("0").repeat(Jt-gn.length)+gn),gn}(Mt),""))){let qt=za($e(kt),Ee,Dt);qt&&(Nt(),dn(qt),rt("success","Matched: ",qt,`
FILTER: hide-if-contains-image`,Ve))}})}},Tt=new ei(et),Nt=Gn("hide-if-contains-image",()=>Tt.disconnect());Tt.observe(document,{childList:!0,subtree:!0}),et()},"simulate-mouse-event":function(...Te){const Ee=Kt(arguments),Fe=Ta("simulate-mouse-event");if(Te.length<1)throw new pl("[simulate-mouse-event snippet]: No selector provided.");Te.length>7&&(Te=Te.slice(0,7));const nt=$e([]);function Ve(){return nt.forEach(Dt=>{Dt.found||function(St){let ln=St;if(ln.startsWith("xpath(")&&ln.endsWith(")")){let Yt=Ha(St);return()=>{let qt=$e([]);return Yt(Mt=>qt.push(Mt)),qt}}return()=>Ar.from(Sa(St))}(Dt.selector)().length>0&&(Dt.found=!0)}),nt.every(Dt=>Dt.found)}function rt(Dt,St,ln){Dt&&St&&(St==="click"&&Dt.click?(Dt.click(),Fe("success",`Clicked on this node:
`,Dt,`
with a delay of`,ln,"ms",`n
FILTER: simulate-mouse-event ${Ee}`)):(Dt.dispatchEvent(new Ps(St,{bubbles:!0,cancelable:!0})),Fe("success","A",St,"event was dispatched with a delay of",ln,`ms on this node:
`,Dt,`n
FILTER: simulate-mouse-event ${Ee}`)))}$e(Te).forEach(Dt=>{const St=function(ln){if(!ln)return null;const Yt={selector:"",continue:!1,trigger:!1,event:"click",delay:"500",clicked:!1,found:!1},qt=ln.split("$");let Mt=[];qt.length>=2&&(Mt=qt[1].toLowerCase().split(",")),[Yt.selector]=qt;for(const Xt of Mt)if(Xt==="trigger")Yt.trigger=!0;else if(Xt==="continue")Yt.continue=!0;else if(Xt.startsWith("event")){const Jt=Xt.toLowerCase().split("=");Jt[1]?Yt.event=Jt[1]:Yt.event="click"}else if(Xt.startsWith("delay")){const Jt=Xt.toLowerCase().split("=");Jt[1]?Yt.delay=Jt[1]:Yt.delay="500"}return ho.includes(Yt.event)||Fe("warn",Yt.event,` might be misspelled, check for typos.
`,"These are the supported events:",ho),Yt}(Dt);nt.push(St)});let et=!1;const[Tt]=nt.slice(-1);Tt.trigger=!0;let Nt=new Ao;function kt(){if(et||(et=Ve()),et)for(const Dt of nt){const St=Ha(Dt.selector),ln=ul(Dt.delay,10);Dt.trigger&&St(Yt=>{Nt.has(Yt)||(Nt.add(Yt),Dt.continue?setInterval(()=>{rt(Yt,Dt.event,Dt.delay)},ln):cl(()=>{rt(Yt,Dt.event,Dt.delay)},ln))})}}new Ls(kt).observe(document,{childList:!0,subtree:!0}),kt()},"skip-video":function(Te,Ee,...Fe){const nt=Kt(arguments),Ve=new Map([["-max-attempts","10"],["-retry-ms","10"],["-run-once","false"],["-wait-until",""],["-skip-to","-0.1"],["-stop-on-video-end","false"],["-start-from","0"],["-mute-video-when-skipping","true"]]);for(let Fa of Fe){Fa=$e(Fa);let Fr=Fa.indexOf(":");if(Fr<0)continue;let Ka=Fa.slice(0,Fr).trim().toString(),In=Fa.slice(Fr+1).trim().toString();Ka&&In&&Ve.has(Ka)&&Ve.set(Ka,In)}const rt=Ve.get("-max-attempts"),et=Mo(rt||10,10),Tt=Ve.get("-retry-ms"),Nt=Mo(Tt||10,10),kt=Ve.get("-run-once")==="true",Dt=Ve.get("-skip-to"),St=Xo(Dt||-.1),ln=Ve.get("-start-from"),Yt=Mo(ln||0,10),qt=Ve.get("-wait-until"),Mt=Ve.get("-stop-on-video-end")==="true",Xt=Ve.get("-mute-video-when-skipping")!=="false",Jt=Ta("skip-video"),gn=Ha(`xpath(${Ee})`);let Jn=!1;ja(Jt,()=>{const Fa=new WeakSet,Fr=(Da=0)=>{Jn&&kt?Ka&&Ka.disconnect():gn(la=>{let Kn,$a=Fa.has(la);$a||(Jt("info","Matched:",la," for selector: ",Ee),Jt("info","Running video skipping logic."));const Qn=Sa(Te)[0];for(;ni(Qn.duration)&&Da<et;)return void bs(()=>{const Me=Da+1;Jt("info","Running video skipping logic. Attempt: ",Me),Fr(Me)},Nt);const ye=Qn.duration-Qn.currentTime<.5;!(!ni(Qn.duration)&&Qn.duration>0&&Qn.currentTime<Qn.duration)||Mt&&ye||(Xt&&(Qn.muted=!0,$a||Jt("success","Muted video...")),Yt<=1e3*Qn.currentTime&&(St<=0?Qn.currentTime=Qn.duration+St:Qn.currentTime+=St,Kn!==Qn.duration&&(Jt("success","Skipped video, currentTime: ",Qn.currentTime,"s.",`
FILTER: skip-video`,nt),Fa.add(la),Kn=Qn.duration),Qn.paused&&Qn.play(),Jn=!0,In()))})},Ka=new ai(Fr),In=Gn("skip-video",()=>Ka.disconnect());Ka.observe(document,{characterData:!0,childList:!0,subtree:!0}),Fr()},qt)}};let{MutationObserver:ri}=$e(window);const{ELEMENT_NODE:Bi}=Node,oi=500;async function So(Te,Ee,Fe=!1){return new Promise((nt,Ve)=>{if(!Te||!Ee)return Ve();let rt=Te.config,et=rt.cutoff||Te.topology.graphml.nodes||oi;rt=rt.filter(kt=>kt.include);for(let kt of rt)kt.groupName=Object.keys(kt)[2];let Tt=(kt,Dt,St,ln)=>{St==="attributes"&&kt.attributes[ln]!==void 0?Dt.attributes[ln]=kt.attributes[ln].value:St==="style"&&kt.style[ln]?Dt.attributes.style[ln]=kt.style[ln]:St==="css"&&(Dt.cssSelectors=getComputedStyle(kt).cssText||"")},Nt=kt=>{if(Fe&&!kt.clientWidth&&!kt.clientHeight||(et-=1,et<0))return;let Dt={tag:kt.tagName,width:kt.clientWidth,height:kt.clientHeight,attributes:{style:{}},children:[]};for(let St of rt)for(let ln of St[St.groupName].features)for(let[Yt,qt]of Object.entries(ln))if("names"in qt)for(let Mt of qt.names)for(let Xt of Mt.split("^"))Tt(kt,Dt,St.groupName,Xt);else Tt(kt,Dt,St.groupName,Yt);if(kt.children)for(let St of kt.children){let ln=Nt(St);ln&&Dt.children.push(ln)}return Dt};nt(Nt(Ee))})}let{WeakSet:Ri,MutationObserver:Fi}=($e!==void 0?$e:Te=>Te)(window);class Mi{constructor(){this.digestedElements=new Ri,this.selector="",this.subselector=""}observe(Ee,Fe,nt){this.selector=Ee,this.subselector=Fe,this.callback=nt,this.elementObserver=new Fi(this.digest.bind(this)),this.elementObserver.observe(document,{childList:!0,subtree:!0}),this.digest()}stop(){this.elementObserver&&this.elementObserver.disconnect()}digest(){let Ee=function(Fe,nt){let Ve=[document];Fe=$e(Fe).split("..");let rt=[];$e(Fe).forEach((et,Tt)=>{Tt&&(Ve=$e(Ve).reduce((Nt,kt)=>kt&&$e(kt).parentElement?Nt.concat($e(kt).parentElement):Nt,$e([]))),Ve=$e(Ve).reduce((Nt,kt)=>{if(et)try{Nt=Nt.concat(...$e(kt).querySelectorAll(et))}catch{}else Nt.push(kt);return Nt},$e([]))});for(let et of Ve){let Tt=[et];if(nt)try{Tt=$e(et).querySelectorAll(nt)}catch{}rt.push([et,Tt])}return rt}(this.selector,this.subselector).filter(([Fe])=>!this.digestedElements.has(Fe));this.callback(Ee);for(let[Fe]of Ee)this.digestedElements.add(Fe)}}let eo=!1;function jr(Te,Ee=!1,...Fe){eo&&console.log("%cMLDBG ♥ %c| %s%c |","color:cyan",Ee?"color:red":"color:inherit",Te,"color:inherit",...Fe)}let pr={nodeCount:0,organicCount:0,adCount:0,aaCount:0,times:[]};const dl=5,zs=7,si=window.self!==window.top;let{Map:fl}=($e!==void 0?$e:Te=>Te)(window),Yo=new fl,ws=!1;Us["hide-if-matches-xpath3"]=function(Te,Ee){let{mark:Fe,end:nt}=Ko();const Ve=kt=>kt===""&&"http://www.w3.org/1999/xhtml";function rt(kt){return fontoxpath.evaluateXPathToNodes(kt,document,null,null,{language:fontoxpath.evaluateXPath.XQUERY_3_1_LANGUAGE,namespaceResolver:Ve})}const et=Kt(arguments);let Tt=Ta("hide-if-matches-xpath3");const Nt=kt=>{const Dt=new WeakSet,St=()=>{Fe();const qt=rt(Te);for(const Mt of $e(qt)){if(Dt.has(Mt))return!1;Dt.add(Mt),Yt(),$e(Mt).nodeType===Bi?dn(Mt):$e(Mt).textContent="",Tt("success","Matched: ",Mt,`
FILTER: hide-if-matches-xpath3`,et)}nt()},ln=new ri(St),Yt=Gn("hide-if-matches-xpath3",()=>ln.disconnect());ln.observe(kt,{characterData:!0,childList:!0,subtree:!0}),St()};if(Ee){let kt,Dt=0;const St=rt(Ee),ln=()=>{for(const Yt of $e(St))Nt(Yt),Dt++;Dt>0&&kt.disconnect()};kt=new ri(ln),kt.observe(document,{characterData:!0,childList:!0,subtree:!0}),ln()}else Nt(document)},Us["hide-if-classifies"]=function(...Te){let{debug:Ee,frameonly:Fe,failsafe:nt,denoise:Ve,silent:rt,model:et,selector:Tt,subselector:Nt}=function(qt){if(!qt||!Array.isArray(qt)||!qt.length)return{};let Mt=[],Xt={debug:!1,frameonly:!1,failsafe:!1,denoise:!1,silent:!1,model:"",selector:"",subselector:""};for(let Jt of qt)Jt&&Jt in Xt?Xt[Jt]=!0:Mt.push(Jt);return Mt.length<2?{}:(Xt.model=Mt[0],Mt.splice(0,1),(Mt.length>2||Mt.some(Jt=>Jt&&Jt.startsWith('"')))&&(Mt=Mt.join(" ").split('"').map(Jt=>Jt.trim()).filter(Jt=>Jt)),Xt.selector=Mt[0]||"",Xt.subselector=Mt[1]||"",Xt)}(Te||[]);if(function(qt){eo=!!qt}(Ee),typeof chrome>"u"||!chrome.runtime||!chrome.runtime.sendMessage)return jr("environmental support",!1);if(!et||!Tt)return jr("Invalid filter",!0);if(Fe&&!si)return;si||jr(`Filter hit for ${et}: ${Tt} ${Nt}`);let kt=new Mi,Dt=Gn("hide-if-graph-matches",()=>kt.stop()),St=()=>{if(Yo.has(et))return Yo.get(et);jr(`Preparing worker with model ${et}`);let qt=new Promise((Mt,Xt)=>{let Jt=setTimeout(()=>{Xt(`Worker preparation with ${et} failed: service worker timeout`)},1e4);Yt({type:"ML:prepare",debug:eo,model:et},gn=>{clearTimeout(Jt),gn&&"config"in gn?(jr(`Received config for ${et}`,!1,"config:",gn.config),gn.config.cutoff=gn.cutoff,Mt(gn.config)):Xt(`Worker preparation with ${et} failed`)})});return qt.catch(Mt=>{}),Yo.set(et,qt),qt},ln=(qt,Mt)=>{if(nt&&pr.nodeCount>=10&&pr.adCount/pr.nodeCount>=1)return jr("Ad to non-ad ratio is 100%/0%. Stopping inference.",!0),kt.stop();jr(`Requesting inference with ${et}`,!1,"graph:",qt),Yt({type:"ML:inference",debug:eo,model:et,graph:qt},Xt=>{if(Xt&&"prediction"in Xt&&typeof Xt.prediction=="boolean"){if(jr(`Received ${Xt.prediction} inference results with ${et}`,!1,"graph:",qt),Xt.allowlisted&&!ws&&(ws=!0),function(Jt=!1,gn=!1,Jn){eo&&(pr.nodeCount||$e(document).head.insertAdjacentHTML("beforeend",`
        <style>body::before { display: block; position: fixed; pointer-events: none; top: 0; left: 0; z-index: 999999; background-color: rgba(0, 0, 0, 0.7); padding: 5px; content: "ad:\\9\\9 " var(--dbg-ad) "\\A nad:\\9\\9 " var(--dbg-nad) "\\A aa:\\9\\9 " var(--dbg-aa) "\\A time:\\9 " var(--dbg-t); font-size: 10px; white-space: pre-wrap; color: #fff; }</style>
      `)),pr.nodeCount++,gn?pr.aaCount++:Jt?pr.adCount++:pr.organicCount++,Jn&&pr.times.push(Jn)}(Xt.prediction,Xt.allowlisted,Xt.digestTime-Xt.startTime),ws&&!eo)return kt.stop();!Xt.prediction||eo||rt?eo&&(Xt.allowlisted?$e(Mt).style.border="3px solid #00ffff":Xt.prediction?$e(Mt).style.border="3px solid #ff0000":Xt.prediction||($e(Mt).style.border="3px solid #00ff00"),eo&&($e(document).body.style.setProperty("--dbg-ad",`"${pr.adCount}"`),$e(document).body.style.setProperty("--dbg-nad",`"${pr.organicCount}"`),$e(document).body.style.setProperty("--dbg-aa",`"${pr.aaCount}"`),$e(document).body.style.setProperty("--dbg-t",`"${pr.times.reduce((Jt,gn,Jn)=>Jt+(!Jn||Jn%3?gn+"ms ":"\\A\\9\\9 "+gn+"ms "),"")}"`))):(Dt(),dn(Mt))}else jr(`Inference with ${et} failed`,!0,"graph:",qt,"response:",Xt),!("error"in Xt)||Xt.error!==dl&&Xt.error!==zs||kt.stop()})},Yt=(qt,Mt)=>{ws?eo&&Mt({prediction:!1,allowlisted:!0}):chrome.runtime.sendMessage(qt,Mt)};kt.observe(Tt,Nt,qt=>{if((!qt||!qt.length)&&si)return St();St().then(Mt=>{if(!Mt)return Promise.reject(`Config file for ${et} corrupted`);for(let[Xt,Jt]of qt)for(let gn of Jt)jr(`Preparing inference with ${et}`,!1,"target:",Xt),So({config:Mt},gn,Ve).then(Jn=>Ve&&!Jn?So({config:Mt},gn,!1):Jn).then(Jn=>ln(Jn,Xt)).catch(Jn=>jr(`domToGraph failed with error "${Jn}"`,!0,"target:",Xt))}).catch(Mt=>{jr(Mt,!0),kt.stop()})})};const to=Us;let qo;for(const[Te,...Ee]of e)if(to.hasOwnProperty(Te))try{qo=to[Te].apply(qo,Ee)}catch(Fe){console.error(Fe)}qo=void 0},A0=new Map([["log",null],["race",null],["debug",null],["hide-if-matches-xpath",null],["hide-if-matches-computed-xpath",null],["hide-if-contains",null],["hide-if-contains-similar-text",null],["hide-if-contains-visible-text",null],["hide-if-contains-and-matches-style",null],["hide-if-has-and-matches-style",null],["hide-if-labelled-by",null],["hide-if-contains-image",null],["simulate-mouse-event",null],["skip-video",null],["hide-if-matches-xpath3",function(){var n,e,a,o,l,p;n=this,function(f){function d(P,R,N,E){const O={op:R,func:N,data:E};return P.push(O),O}function u(P,R){return P}class h{constructor(){this.program=[]}test(R,N){return d(this.program,5,R,N===void 0?null:N)}jump(R){return d(this.program,3,null,R)}record(R,N){return d(this.program,4,N===void 0?u:N,R)}bad(R=1){return d(this.program,1,null,R)}accept(){return d(this.program,0,null,null)}fail(R){return d(this.program,2,R||null,null)}}class y{constructor(R,N,E){this.programLength=R,this.maxFromByPc=N,this.maxSurvivorFromByPc=E}static fromProgram(R){const N=R.length,E=[],O=[];return R.forEach(B=>{E.push(0),O.push(0)}),R.forEach((B,M)=>{switch(B.op){case 2:if(B.func===null)return;if(M+1>=N)throw new Error("Invalid program: program could run past end");E[M+1]+=1;break;case 1:case 4:if(M+1>=N)throw new Error("Invalid program: program could run past end");E[M+1]+=1;break;case 3:B.data.forEach(U=>{if(U<0||U>=N)throw new Error("Invalid program: program could run past end");E[U]+=1});break;case 5:if(M+1>=N)throw new Error("Invalid program: program could run past end");O[M+1]+=1;break;case 0:O[M]+=1}}),new y(N,E,O)}static createStub(R){const N=[],E=[];for(let O=0;O<R;++O)N.push(R),E.push(R);return new y(R,N,E)}}class b{constructor(R){this.acceptingTraces=R,this.success=R.length>0}}const x=255;class A{constructor(R){this.t=0,this.i=0,this.h=new Uint16Array(R),this.l=new Uint8Array(R)}getBadness(R){return this.l[R]}add(R,N){this.l[R]=N>x?x:N;const E=function(O,B,M,U,Y){let $=U,ee=Y;for(;$<ee;){const ae=$+ee>>>1;M<B[O[ae]]?ee=ae:$=ae+1}return $}(this.h,this.l,N,this.i,this.t);this.h.copyWithin(E+1,E,this.t),this.h[E]=R,this.t+=1}reschedule(R,N){const E=Math.max(this.l[R],N>x?x:N);if(this.l[R]!==E){const O=this.h.indexOf(R,this.i);if(O<0||O>=this.t)return void(this.l[R]=E);this.h.copyWithin(O,O+1,this.t),this.t-=1,this.add(R,E)}}getNextPc(){return this.i>=this.t?null:this.h[this.i++]}reset(){this.t=0,this.i=0,this.l.fill(0)}}class j{constructor(R){this.o=[];let N=R.length;R.forEach(E=>{this.o.push(E>0?N:-1),N+=E}),this.u=new Uint16Array(N)}clear(){this.u.fill(0,0,this.o.length)}add(R,N){const E=this.u[N],O=this.o[N];this.u[N]+=1,this.u[O+E]=R}has(R){return this.u[R]>0}forEach(R,N){const E=this.u[R],O=this.o[R];for(let B=O;B<O+E;++B)N(this.u[B])}}function T(P,R,N=!1){return P===null?R:Array.isArray(P)?(P.indexOf(R)===-1&&(N&&(P=P.slice()),P.push(R)),P):P===R?P:[P,R]}class I{constructor(R,N){this.prefixes=R,this.record=N}}function S(P,R){let N;if(R===null){if(!Array.isArray(P))return P;N=P}else N=P===I.EMPTY?[]:Array.isArray(P)?P:[P];return new I(N,R)}I.EMPTY=new I([],null);class G{constructor(R){this.p=[],this.v=[];for(let N=0;N<R;++N)this.p.push(0),this.v.push(null)}mergeTraces(R,N,E,O,B,M){let U=!1;return E.forEach(N,Y=>{const $=this.trace(Y,O,B,M);var ee,ae,re;ae=$,re=U,R=(ee=R)===null?ae:ae===null?ee:Array.isArray(ae)?ae.reduce((J,ue)=>T(J,ue,J===ae),ee):T(ee,ae,re),U=R===$}),R}trace(R,N,E,O){switch(this.p[R]){case 2:return this.v[R];case 1:return null}this.p[R]=1;let B=null;const M=N[R];if(M!==null)B=M;else if(!E.has(R))throw new Error(`Trace without source at pc ${R}`);if(B=this.mergeTraces(B,R,E,N,E,O),B!==null){const U=O[R];U!==null&&(B=S(B,U))}return this.v[R]=B,this.p[R]=2,B}buildSurvivorTraces(R,N,E,O,B){for(let M=0,U=R.length;M<U;++M){if(!E.has(M)){N[M]=null;continue}this.v.fill(null),this.p.fill(0);const Y=this.mergeTraces(null,M,E,R,O,B);if(Y===null)throw new Error(`No non-cyclic paths found to survivor ${M}`);N[M]=S(Y,null)}this.v.fill(null)}}class D{constructor(R){this.g=[],this.k=[],this.m=[],this.A=new j(R.maxFromByPc),this.T=new j(R.maxSurvivorFromByPc),this.S=new G(R.programLength);for(let N=0;N<R.programLength;++N)this.g.push(null),this.k.push(null),this.m.push(null);this.k[0]=I.EMPTY}reset(R){this.A.clear(),this.T.clear(),this.g.fill(null),R&&(this.k.fill(null),this.m.fill(null),this.k[0]=I.EMPTY)}record(R,N){this.g[R]=N}has(R){return this.A.has(R)||this.k[R]!==null}add(R,N){this.A.add(R,N)}hasSurvivor(R){return this.T.has(R)}addSurvivor(R,N){this.T.add(R,N)}buildSurvivorTraces(){const R=this.k;this.S.buildSurvivorTraces(R,this.m,this.T,this.A,this.g),this.k=this.m,this.m=R}getTraces(R){const N=R.reduce((E,O)=>T(E,this.k[O]),null);return N===null?[]:Array.isArray(N)?N:[N]}}class X{constructor(R){this.I=[],this.M=new A(R.programLength),this.N=new A(R.programLength),this.j=new D(R)}reset(){this.M.reset(),this.M.add(0,0),this.I.length=0,this.j.reset(!0)}getNextThreadPc(){return this.M.getNextPc()}step(R,N,E){const O=this.j.has(N);this.j.add(R,N);const B=this.M.getBadness(R)+E;O?this.M.reschedule(N,B):this.M.add(N,B)}stepToNextGeneration(R,N){const E=this.j.hasSurvivor(N);this.j.addSurvivor(R,N);const O=this.M.getBadness(R);E?this.N.reschedule(N,O):this.N.add(N,O)}accept(R){this.I.push(R),this.j.addSurvivor(R,R)}fail(R){}record(R,N){this.j.record(R,N)}nextGeneration(){this.j.buildSurvivorTraces(),this.j.reset(!1);const R=this.M;R.reset(),this.M=this.N,this.N=R}getAcceptingTraces(){return this.j.getTraces(this.I)}}class L{constructor(R){this.P=[],this.U=R,this.G=y.fromProgram(R),this.P.push(new X(this.G))}execute(R,N){const E=this.P.pop()||new X(this.G);E.reset();const O=R.length;let B,M=-1;do{let Y=E.getNextThreadPc();if(Y===null)break;for(++M,B=M>=O?null:R[M];Y!==null;){const $=this.U[Y];switch($.op){case 0:B===null?E.accept(Y):E.fail(Y);break;case 2:{const ee=$.func;if(ee===null||ee(N)){E.fail(Y);break}E.step(Y,Y+1,0);break}case 1:E.step(Y,Y+1,$.data);break;case 5:if(B===null){E.fail(Y);break}if(!(0,$.func)(B,$.data,N)){E.fail(Y);break}E.stepToNextGeneration(Y,Y+1);break;case 3:{const ee=$.data,ae=ee.length;if(ae===0){E.fail(Y);break}for(let re=0;re<ae;++re)E.step(Y,ee[re],0);break}case 4:{const ee=(0,$.func)($.data,M,N);ee!=null&&E.record(Y,ee),E.step(Y,Y+1,0);break}}Y=E.getNextThreadPc()}E.nextGeneration()}while(B!==null);const U=new b(E.getAcceptingTraces());return E.reset(),this.P.push(E),U}}function F(P){const R=new h;return P(R),new L(R.program)}var V={Assembler:h,VM:L,compileVM:F};f.Assembler=h,f.VM=L,f.compileVM=F,f.default=V,Object.defineProperty(f,"V",{value:!0})}((n=typeof globalThis<"u"?globalThis:n||self).whynot={}),e=this,function(f){function d(P,R){return{success:!0,offset:P,value:R}}function u(P){return d(P,void 0)}function h(P,R,N=!1){return{success:!1,offset:P,expected:R,fatal:N}}function y(P){return P>65535?2:1}function b(P,R){return(N,E)=>{const O=N.codePointAt(E);return O!==void 0&&P(O)?u(E+y(O)):h(E,R)}}function x(P,R){return(N,E)=>{const O=P(N,E);return O.success?d(O.offset,R(O.value)):O}}function A(P){return(R,N)=>{let E=[],O=N;for(;;){const B=P(R,O);if(!B.success){if(B.fatal)return B;break}if(E.push(B.value),B.offset===O)break;O=B.offset}return d(O,E)}}function j(P){return(R,N)=>{let E=N;for(;;){const O=P(R,E);if(!O.success){if(O.fatal)return O;break}if(O.offset===E)break;E=O.offset}return u(E)}}function T(P,R,N){return(E,O)=>{const B=P(E,O);if(!B.success)return B;const M=R(E,B.offset);return M.success?d(M.offset,N(B.value,M.value)):M}}function I(P,R){return P}function S(P,R){return R}function G(P,R){return T(P,R,S)}function D(P,R){return T(P,R,I)}function X(P,R){return(N,E)=>P(N,E).success?h(E,R):u(E)}function L(P){return(R,N)=>{const E=P(R,N);return E.success?E:h(E.offset,E.expected,!0)}}const F=(P,R)=>P.length===R?u(R):h(R,["end of input"]);function V(P){const R=[];let N=P.next();for(;!N.done;)R.push(N.value),N=P.next();return[R,N.value]}f.codepoint=b,f.codepoints=function(P,R){return(N,E)=>{const O=E;for(;;){const B=N.codePointAt(E);if(B===void 0||!P(B))break;E+=B>65535?2:1}return R!==void 0&&E===O?h(E,R):u(E)}},f.collect=V,f.complete=function(P){return T(P,F,I)},f.consume=function(P){return x(P,()=>{})},f.cut=L,f.delimited=function(P,R,N,E=!1){return G(P,E?L(D(R,N)):D(R,N))},f.dispatch=function(P,R,N=0,E=[]){return(O,B)=>{const M=O.codePointAt(B+N);if(M===void 0)return h(B,E);const U=P[M];return U===void 0?R===void 0?h(B,E):R(O,B):U(O,B)}},f.end=F,f.error=h,f.except=function(P,R,N){return G(X(R,N),P)},f.filter=function(P,R,N,E){return(O,B)=>{const M=P(O,B);return M.success?R(M.value)?M:h(B,N,E):M}},f.filterUndefined=function(P){return x(P,R=>R.filter(N=>N!==void 0))},f.first=I,f.followed=D,f.map=x,f.not=X,f.ok=u,f.okWithValue=d,f.optional=function(P){return(R,N)=>{const E=P(R,N);return E.success||E.fatal?E:d(N,null)}},f.or=function(P,R){return(N,E)=>{let O=null;for(const B of P){const M=B(N,E);if(M.success||(O===null||M.offset>O.offset?O=M:M.offset===O.offset&&R===void 0&&(O.expected=O.expected.concat(M.expected)),M.fatal))return M}return R=R||(O==null?void 0:O.expected)||[],O&&(O.expected=R),O||h(E,R)}},f.peek=function(P){return(R,N)=>{const E=P(R,N);return E.success?d(N,E.value):E}},f.plus=function(P){return T(P,A(P),(R,N)=>[R].concat(N))},f.plusConsumed=function(P){return T(P,j(P),S)},f.preceded=G,f.range=function(P,R,N){return b(E=>P<=E&&E<=R,N||[`${String.fromCodePoint(P)}-${String.fromCodePoint(R)}`])},f.recognize=function(P){return(R,N)=>{const E=P(R,N);return E.success?d(E.offset,R.slice(N,E.offset)):E}},f.second=S,f.sequence=function(...P){return(R,N)=>{const E=[];for(const O of P){const B=O(R,N);if(!B.success)return B;N=B.offset,E.push(B.value)}return d(N,E)}},f.sequenceConsumed=function(...P){return(R,N)=>{for(const E of P){const O=E(R,N);if(!O.success)return O;N=O.offset}return u(N)}},f.skipChars=function(P){return(R,N)=>{let E=P;for(;E>0;){const O=R.codePointAt(N);if(O===void 0)return h(N,["any character"]);N+=y(O),E-=1}return u(N)}},f.star=A,f.starConsumed=j,f.start=(P,R)=>R===0?u(R):h(R,["start of input"]),f.streaming=function(P){return function*(R,N){const E=P(R,N);return E.success&&(yield E.value),E}},f.streamingComplete=function(P){return function*(R,N){const E=yield*P(R,N);return E.success?F(R,E.offset):E}},f.streamingFilterUndefined=function(P){return function*(R,N){const E=P(R,N);let O=E.next();for(;!O.done;){const B=O.value;B!==void 0&&(yield B),O=E.next()}return O.value}},f.streamingOptional=function(P){return function*(R,N){const[E,O]=V(P(R,N));return O.success?(yield*E,O):O.fatal?O:u(N)}},f.streamingStar=function(P){return function*(R,N){for(;;){const[E,O]=V(P(R,N));if(!O.success)return O.fatal?O:u(N);if(yield*E,N===O.offset)return u(N);N=O.offset}}},f.streamingThen=function(P,R){return function*(N,E){const O=yield*P(N,E);return O.success?yield*R(N,O.offset):O}},f.then=T,f.token=function(P){return(R,N)=>{const E=N+P.length;return R.slice(N,E)===P?d(E,P):h(N,[P])}},Object.defineProperty(f,"__esModule",{value:!0})}((e=typeof globalThis<"u"?globalThis:e||self).prsc={}),a=this,function(f,d){function u(pe){return je=>je===pe}function h(pe,je){if(pe===null||je===null)throw new Error("unescaped hyphen may not be used as a range endpoint");if(je<pe)throw new Error("character range is in the wrong order");return it=>pe<=it&&it<=je}function y(pe){return!0}function b(){return!1}function x(pe,je){return it=>pe(it)||je(it)}const A=-1,j=-2;function T(pe,je){switch(je.kind){case"predicate":return void pe.test(je.value);case"regexp":return void S(pe,je.value,!1)}}function I(pe,je){je.forEach(it=>{(function(Je,_t){const[Ht,{min:un,max:nn}]=_t;if(nn!==null){for(let pn=0;pn<un;++pn)T(Je,Ht);for(let pn=un;pn<nn;++pn){const $e=Je.jump([]);$e.data.push(Je.program.length),T(Je,Ht),$e.data.push(Je.program.length)}}else if(un>0){for(let $e=0;$e<un-1;++$e)T(Je,Ht);const pn=Je.program.length;T(Je,Ht),Je.jump([pn]).data.push(Je.program.length)}else{const pn=Je.program.length,$e=Je.jump([]);$e.data.push(Je.program.length),T(Je,Ht),Je.jump([pn]),$e.data.push(Je.program.length)}})(pe,it)})}function S(pe,je,it){const Je=pe.program.length,_t=pe.jump([]);it&&(_t.data.push(pe.program.length),pe.test(()=>!0),pe.jump([Je]));const Ht=[];if(je.forEach(un=>{_t.data.push(pe.program.length),I(pe,un),Ht.push(pe.jump([]))}),Ht.forEach(un=>{un.data.push(pe.program.length)}),it){const un=pe.program.length,nn=pe.jump([]);nn.data.push(pe.program.length),pe.test(()=>!0),pe.jump([un]),nn.data.push(pe.program.length)}}function G(pe,je){return{success:!0,offset:pe,value:je}}function D(pe){return G(pe,void 0)}function X(pe,je,it=!1){return{success:!1,offset:pe,expected:je,fatal:it}}function L(pe){return(je,it)=>{const Je=it+pe.length;return je.slice(it,Je)===pe?G(Je,pe):X(it,[pe])}}function F(pe,je){return(it,Je)=>{const _t=pe(it,Je);return _t.success?G(_t.offset,je(_t.value)):_t}}function V(pe,je,it,Je){return(_t,Ht)=>{const un=pe(_t,Ht);return un.success?je(un.value)?un:X(Ht,it,Je):un}}function P(pe,je){return(it,Je)=>{let _t=null;for(const Ht of pe){const un=Ht(it,Je);if(un.success||(_t===null||un.offset>_t.offset?_t=un:un.offset===_t.offset&&je===void 0&&(_t.expected=_t.expected.concat(un.expected)),un.fatal))return un}return je=je||(_t==null?void 0:_t.expected)||[],_t&&(_t.expected=je),_t||X(Je,je)}}function R(pe){return(je,it)=>{const Je=pe(je,it);return Je.success||Je.fatal?Je:G(it,null)}}function N(pe){return(je,it)=>{let Je=[],_t=it;for(;;){const Ht=pe(je,_t);if(!Ht.success){if(Ht.fatal)return Ht;break}if(Je.push(Ht.value),Ht.offset===_t)break;_t=Ht.offset}return G(_t,Je)}}function E(pe,je,it){return(Je,_t)=>{const Ht=pe(Je,_t);if(!Ht.success)return Ht;const un=je(Je,Ht.offset);return un.success?G(un.offset,it(Ht.value,un.value)):un}}function O(pe){return E(pe,N(pe),(je,it)=>[je].concat(it))}function B(pe,je){return pe}function M(pe,je){return je}function U(pe,je){return E(pe,je,M)}function Y(pe,je){return E(pe,je,B)}function $(pe,je,it,Je=!1){return U(pe,Je?ae(Y(je,it)):Y(je,it))}function ee(pe,je){return(it,Je)=>pe(it,Je).success?X(Je,je):D(Je)}function ae(pe){return(je,it)=>{const Je=pe(je,it);return Je.success?Je:X(Je.offset,Je.expected,!0)}}const re=(pe,je)=>pe.length===je?D(je):X(je,["end of input"]),J=["Lu","Ll","Lt","Lm","Lo","Mn","Mc","Me","Nd","Nl","No","Pc","Pd","Ps","Pe","Pi","Pf","Po","Zs","Zl","Zp","Sm","Sc","Sk","So","Cc","Cf","Co","Cn"],ue={};function Q(pe){return pe.codePointAt(0)}"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("").forEach((pe,je)=>{ue[pe]=je});const be=pe=>pe===A||pe===j;function Re(pe){return je=>!be(je)&&!pe(je)}function oe(pe,je){return je===null?pe:it=>pe(it)&&!je(it)}const ge=function(pe,je){const it=new Map;let Je=0;return pe.forEach((_t,Ht)=>{const un=je[Ht];_t!==null&&_t.split("|").forEach(nn=>{const pn=it.get(nn),$e=h(Je,Je+un-1);it.set(nn,pn?x(pn,$e):$e)}),Je+=un}),it}(["BasicLatin","Latin-1Supplement","LatinExtended-A","LatinExtended-B","IPAExtensions","SpacingModifierLetters","CombiningDiacriticalMarks","GreekandCoptic|Greek","Cyrillic","CyrillicSupplement","Armenian","Hebrew","Arabic","Syriac","ArabicSupplement","Thaana","NKo","Samaritan","Mandaic","SyriacSupplement","ArabicExtended-B","ArabicExtended-A","Devanagari","Bengali","Gurmukhi","Gujarati","Oriya","Tamil","Telugu","Kannada","Malayalam","Sinhala","Thai","Lao","Tibetan","Myanmar","Georgian","HangulJamo","Ethiopic","EthiopicSupplement","Cherokee","UnifiedCanadianAboriginalSyllabics","Ogham","Runic","Tagalog","Hanunoo","Buhid","Tagbanwa","Khmer","Mongolian","UnifiedCanadianAboriginalSyllabicsExtended","Limbu","TaiLe","NewTaiLue","KhmerSymbols","Buginese","TaiTham","CombiningDiacriticalMarksExtended","Balinese","Sundanese","Batak","Lepcha","OlChiki","CyrillicExtended-C","GeorgianExtended","SundaneseSupplement","VedicExtensions","PhoneticExtensions","PhoneticExtensionsSupplement","CombiningDiacriticalMarksSupplement","LatinExtendedAdditional","GreekExtended","GeneralPunctuation","SuperscriptsandSubscripts","CurrencySymbols","CombiningDiacriticalMarksforSymbols|CombiningMarksforSymbols","LetterlikeSymbols","NumberForms","Arrows","MathematicalOperators","MiscellaneousTechnical","ControlPictures","OpticalCharacterRecognition","EnclosedAlphanumerics","BoxDrawing","BlockElements","GeometricShapes","MiscellaneousSymbols","Dingbats","MiscellaneousMathematicalSymbols-A","SupplementalArrows-A","BraillePatterns","SupplementalArrows-B","MiscellaneousMathematicalSymbols-B","SupplementalMathematicalOperators","MiscellaneousSymbolsandArrows","Glagolitic","LatinExtended-C","Coptic","GeorgianSupplement","Tifinagh","EthiopicExtended","CyrillicExtended-A","SupplementalPunctuation","CJKRadicalsSupplement","KangxiRadicals",null,"IdeographicDescriptionCharacters","CJKSymbolsandPunctuation","Hiragana","Katakana","Bopomofo","HangulCompatibilityJamo","Kanbun","BopomofoExtended","CJKStrokes","KatakanaPhoneticExtensions","EnclosedCJKLettersandMonths","CJKCompatibility","CJKUnifiedIdeographsExtensionA","YijingHexagramSymbols","CJKUnifiedIdeographs","YiSyllables","YiRadicals","Lisu","Vai","CyrillicExtended-B","Bamum","ModifierToneLetters","LatinExtended-D","SylotiNagri","CommonIndicNumberForms","Phags-pa","Saurashtra","DevanagariExtended","KayahLi","Rejang","HangulJamoExtended-A","Javanese","MyanmarExtended-B","Cham","MyanmarExtended-A","TaiViet","MeeteiMayekExtensions","EthiopicExtended-A","LatinExtended-E","CherokeeSupplement","MeeteiMayek","HangulSyllables","HangulJamoExtended-B","HighSurrogates","HighPrivateUseSurrogates","LowSurrogates","PrivateUseArea|PrivateUse","CJKCompatibilityIdeographs","AlphabeticPresentationForms","ArabicPresentationForms-A","VariationSelectors","VerticalForms","CombiningHalfMarks","CJKCompatibilityForms","SmallFormVariants","ArabicPresentationForms-B","HalfwidthandFullwidthForms","Specials","LinearBSyllabary","LinearBIdeograms","AegeanNumbers","AncientGreekNumbers","AncientSymbols","PhaistosDisc",null,"Lycian","Carian","CopticEpactNumbers","OldItalic","Gothic","OldPermic","Ugaritic","OldPersian",null,"Deseret","Shavian","Osmanya","Osage","Elbasan","CaucasianAlbanian","Vithkuqi",null,"LinearA","LatinExtended-F",null,"CypriotSyllabary","ImperialAramaic","Palmyrene","Nabataean",null,"Hatran","Phoenician","Lydian",null,"MeroiticHieroglyphs","MeroiticCursive","Kharoshthi","OldSouthArabian","OldNorthArabian",null,"Manichaean","Avestan","InscriptionalParthian","InscriptionalPahlavi","PsalterPahlavi",null,"OldTurkic",null,"OldHungarian","HanifiRohingya",null,"RumiNumeralSymbols","Yezidi","ArabicExtended-C","OldSogdian","Sogdian","OldUyghur","Chorasmian","Elymaic","Brahmi","Kaithi","SoraSompeng","Chakma","Mahajani","Sharada","SinhalaArchaicNumbers","Khojki",null,"Multani","Khudawadi","Grantha",null,"Newa","Tirhuta",null,"Siddham","Modi","MongolianSupplement","Takri",null,"Ahom",null,"Dogra",null,"WarangCiti","DivesAkuru",null,"Nandinagari","ZanabazarSquare","Soyombo","UnifiedCanadianAboriginalSyllabicsExtended-A","PauCinHau","DevanagariExtended-A",null,"Bhaiksuki","Marchen",null,"MasaramGondi","GunjalaGondi",null,"Makasar","Kawi",null,"LisuSupplement","TamilSupplement","Cuneiform","CuneiformNumbersandPunctuation","EarlyDynasticCuneiform",null,"Cypro-Minoan","EgyptianHieroglyphs","EgyptianHieroglyphFormatControls",null,"AnatolianHieroglyphs",null,"BamumSupplement","Mro","Tangsa","BassaVah","PahawhHmong",null,"Medefaidrin",null,"Miao",null,"IdeographicSymbolsandPunctuation","Tangut","TangutComponents","KhitanSmallScript","TangutSupplement",null,"KanaExtended-B","KanaSupplement","KanaExtended-A","SmallKanaExtension","Nushu",null,"Duployan","ShorthandFormatControls",null,"ZnamennyMusicalNotation",null,"ByzantineMusicalSymbols","MusicalSymbols","AncientGreekMusicalNotation",null,"KaktovikNumerals","MayanNumerals","TaiXuanJingSymbols","CountingRodNumerals",null,"MathematicalAlphanumericSymbols","SuttonSignWriting",null,"LatinExtended-G","GlagoliticSupplement","CyrillicExtended-D",null,"NyiakengPuachueHmong",null,"Toto","Wancho",null,"NagMundari",null,"EthiopicExtended-B","MendeKikakui",null,"Adlam",null,"IndicSiyaqNumbers",null,"OttomanSiyaqNumbers",null,"ArabicMathematicalAlphabeticSymbols",null,"MahjongTiles","DominoTiles","PlayingCards","EnclosedAlphanumericSupplement","EnclosedIdeographicSupplement","MiscellaneousSymbolsandPictographs","Emoticons","OrnamentalDingbats","TransportandMapSymbols","AlchemicalSymbols","GeometricShapesExtended","SupplementalArrows-C","SupplementalSymbolsandPictographs","ChessSymbols","SymbolsandPictographsExtended-A","SymbolsforLegacyComputing",null,"CJKUnifiedIdeographsExtensionB",null,"CJKUnifiedIdeographsExtensionC","CJKUnifiedIdeographsExtensionD","CJKUnifiedIdeographsExtensionE","CJKUnifiedIdeographsExtensionF",null,"CJKCompatibilityIdeographsSupplement",null,"CJKUnifiedIdeographsExtensionG","CJKUnifiedIdeographsExtensionH",null,"Tags",null,"VariationSelectorsSupplement",null,"SupplementaryPrivateUseArea-A|PrivateUse","SupplementaryPrivateUseArea-B|PrivateUse"],[128,128,128,208,96,80,112,144,256,48,96,112,256,80,48,64,64,64,32,16,48,96,128,128,128,128,128,128,128,128,128,128,128,128,256,160,96,256,384,32,96,640,32,96,32,32,32,32,128,176,80,80,48,96,32,32,144,80,128,64,64,80,48,16,48,16,48,128,64,64,256,256,112,48,48,48,80,64,112,256,256,64,32,160,128,32,96,256,192,48,16,256,128,128,256,256,96,32,128,48,80,96,32,128,128,224,16,16,64,96,96,48,96,16,32,48,16,256,256,6592,64,20992,1168,64,48,320,96,96,32,224,48,16,64,96,32,48,48,32,96,32,96,32,96,32,48,64,80,64,11184,80,896,128,1024,6400,512,80,688,16,16,16,32,32,144,240,16,128,128,64,80,64,48,128,32,64,32,48,32,48,32,64,32,80,48,48,80,48,64,80,64,384,64,64,64,32,32,48,48,32,32,32,64,32,96,96,32,32,32,64,64,32,32,48,80,80,48,128,64,288,32,64,64,48,64,64,48,32,128,80,48,80,48,96,32,80,48,48,80,128,128,128,96,160,128,96,32,80,48,80,176,80,80,96,96,64,96,80,96,16,64,96,160,112,80,64,96,80,304,32,96,80,16,64,1024,128,208,2624,112,1072,48,4e3,640,8576,576,48,96,48,144,688,96,96,160,64,32,6144,768,512,128,8816,16,256,48,64,400,2304,160,16,4688,208,48,256,256,80,112,32,32,96,32,128,1024,688,1104,256,48,96,112,80,320,48,64,464,48,736,32,224,32,96,784,80,64,80,176,256,256,48,112,96,256,256,768,80,48,128,128,128,256,256,112,144,256,1024,42720,32,4160,224,5776,7488,3088,544,1504,4944,4192,711760,128,128,240,65040,65536,65536]),me=function(pe){const je=new Map,it=pe.split(""),Je=J.map(()=>[]);let _t=0,Ht=0;for(;Ht<it.length;){const nn=ue[it[Ht]],pn=(31&nn)-2;let $e=1+ue[it[Ht+1]];switch(32&nn?($e+=ue[it[Ht+2]]<<6,$e+=ue[it[Ht+3]]<<12,$e+=ue[it[Ht+4]]<<18,Ht+=5):Ht+=2,pn){case-2:{let Qe=0;for(let Ln=_t;Ln<_t+$e;++Ln)Je[Qe].push(u(Ln)),Qe=(Qe+1)%2;break}case-1:break;default:{const Qe=Je[pn];$e===1?Qe.push(u(_t)):Qe.push(h(_t,_t+$e-1));break}}_t+=$e}const un=new Map;return J.forEach((nn,pn)=>{const $e=Je[pn].reduce(x,b);je.set(nn,$e);const Qe=nn.charAt(0),Ln=un.get(Qe)||[];un.set(Qe,Ln),Ln.push($e)}),un.forEach((nn,pn)=>{je.set(pn,nn.reduce(x,b))}),je}("bfUATCYATCPAQATAXATAOATBKJTBXCTBCZPATAQAZANAZADZPAXAQAXAbgUATAYDaATAZAaAGARAXAcAaAZAaAXAMBZADATBZAMAGASAMCTACWXACGDXXADHA3DAAPDAAtCAAFDBCAADCAABCCDBCCABCAABCCDCCAABCAAFCAADDAABCAABCBADCBDBGACADCGDCAEADACAEADACAEADAAPDAARDACAEADAABCBA7DFCAABCBDBABCCAJjDBAAGADaFRZDFLZNFEZGFAZAFAZQnvBAAADFAZACADABBFADCTACABDZBCATACCBACABACAABCQBACIDiCADBCCDCAXDDCADAXAABCBDBCyDvAhaAHEJBA1CAANDAgfBAABAClBBFATFDoTAOABBaBYABAHsOAHATAHBTAHBTAHABHGaBDGDTBBKcFXCTBYATBaBHKTAcATCGfFAGJHUKJTDGBHAmiBAATAGAHGcAaAHFFBHBaAHDGBKJGCaBGATNBAcAGAHAGdHaBBmYBAAHKGABNKJGgHIFBaATCFABBHAYBGVHDFAHIFAHCFAHEBBTOBAGYHCBBTABAGKBEGXZAGFBAcBBFHHGoFAHXcAHfIAG1HAIAHAGAICHHIDHAIBGAHGGJHBTBKJTAFAGOHAIBBAGHBBGBBBGVBAGGBAGABCGDBBHAGAICHDBBIBBBIBHAGABHIABDGBBAGCHBBBKJGBYBMFaAYAGATAHABBHBIABAGFBDGBBBGVBAGGBAGBBAGBBAGBBBHABAICHBBDHBBBHCBCHABGGDBAGABGKJHBGCHATABJHBIABAGIBAGCBAGVBAGGBAGBBAGEBBHAGAICHEBAHBIABAIBHABBGABOGBHBBBKJTAYABGGAHFBAHAIBBAGHBBGBBBGVBAGGBAGBBAGEBBHAGAIAHAIAHDBBIBBBIBHABGHBIABDGBBAGCHBBBKJaAGAMFBJHAGABAGFBCGCBAGDBCGBBAGABAGBBCGBBCGCBCGLBDIBHAIBBCICBAICHABBGABFIABNKJMCaFYAaABEHAICHAGHBAGCBAGWBAGPBBHAGAHCIDBAHCBAHDBGHBBAGCBBGABBGBHBBBKJBGTAMGaAGAHAIBTAGHBAGCBAGWBAGJBAGEBBHAGAIAHAIEBAHAIBBAIBHBBGIBBFGBBAGBHBBBKJBAGBIABLHBIBGIBAGCBAGoHBGAICHDBAICBAICHAGAaABDGCIAMGGCHBBBKJMIaAGFBAHAIBBAGRBCGXBAGIBAGABBGGBCHABDICHCBAHABAIHBFKJBBIBTABLGvHAGBHGBDYAGFFAHHTAKJTBBkGBBAGABAGEBAGXBAGABAGJHAGBHIGABBGEBAFABAHGBAKJBBGDBfGAaCTOaATAaCHBaFKJMJaAHAaAHAaAHAPAQAPAQAIBGHBAGjBDHNIAHETAHBGEHKBAHjBAaHHAaFBAaBTEaDTBBkGqIBHDIAHFIAHBIBHBGAKJTFGFIBHBGDHCGAICGBIGGCHDGMHAIBHBIFHAGAIAKJICHAaBClBACABECABBDqTAFADCmIFAABAGDBBGGBAGABAGDBBGoBAGDBBGgBAGDBBGGBAGABAGDBBGOBAG4BAGDBBmCBAABBHCTIMTBCGPaJBFiVBAABBDFBBOAmrJAAaATAGQUAGZPAQABCmKBAATCLCGHBGGRHCIABIGSHBIATBBIGRHBBLGMBAGCBAHBBLGzHBIAHGIHHAIBHKTCFATCYAGAHABBKJBFMJBFTFOATDHCcAHAKJBFGiFAG0BGGEHBGhHAGABEmFBAABJGeBAHCIDHBICBDIBHAIFHCBDaABCTBKJGdBBGEBKGrBDGZBFKJMABCahGWHBIBHABBTBG0IAHAIAHGBAHAIAHAIBHHIFHJBBHAKJBFKJBFTGFATFBBHNJAHPBwHDIAGuHAIAHEIAHAIEHAIBGHBCKJTGaJHIaITBBAHBIAGdIAHDIBHBIAHCGBKJGrHAIAHBICHAIAHCIBBHTDGjIHHHIBHBBCTEKJBCGCKJGdFFTBDIBGCqBBCCTHBHHCTAHMIAHGGDHAGFHAGBIAHBGABEDrF+DMFADhFkH/gVCAADHghBAADHCHDFBBCFBBDHCHDHCHDFBBCFBBDHBACABACABACABACADHCHDNBBDHEHDHEHDHEHDEBADBCDEAZADAZCDCBADBCDEAZCDDBBDBCDBAZCDHCEZCBBDCBADBCDEAZBBAUKcEOFTBRASAPARBSAPARATHVAWAcEUATIRASATDNBTCXAPAQATKXATANATJUAcEBAcJMAFABBMFXCPAQAFAMJXCPAQABAFMBCYgBOHMJDHAJCHLBOaBCAaDCAaBDACCDBCCDAaACAaBXACEaFCAaACAaACAaACDaADACDDAGDDAaBDBCBXECADDaAXAaBDAaAMPLiCADALDMAaBBDXEaEXBaDXAaBXAaBXAaGXAaeXBaBXAaAXAae3LEAAaHPAQAPAQAaTXBaGPAQA6QBAAXAadXYanXF6EBAABYaKBUM76NBAAMV62CAAXAaIXAa1XH6uBAAXA63DAAPAQAPAQAPAQAPAQAPAQAPAQAPAQAMdarXEPAQAXePAQAPAQAPAQAPAQAPAQAXP6/DAA3CCAAPAQAPAQAPAQAPAQAPAQAPAQAPAQAPAQAPAQAPAQAPAQAX+PAQAPAQAXfPAQA3BEAAavXUaBXFamBBafBA6oBAACvDvABCCDBAFCCADDACADFFBCBgjBAADAaFADHCCADABETDMATBDlBADABEDABBG3BGFATABNHAGWBIGGBAGGBAGGBAGGBAGGBAGGBAGGBAGGBAHfTBRASARASATCRASATARASATIOATBOATARASATBRASAPAQAPAQAPAQAPAQATEFATJOBTDOATAPATMaBTCPAQAPAQAPAQAPAQAOABhaZBA6YBAABL6VDAABZaLBDUATCaAFAGALAPAQAPAQAPAQAPAQAPAQAaBPAQAPAQAPAQAPAQAOAPAQBaALIHDIBOAFEaBLCFAGATAaBBAmVBAABBHBZBFBGAOAmZBAATAFCGABEGqBAmdBAABAaBMDaJGfajBLGPaeBAMJadMHaAMOafMJamMO6/EAAm/mBAa/mUIFAFAm2RAABCa2BIGnFFTBmLEAAFATCGPKJGBBTAtGAHAJCTAHJTAFAAbFBHBmFBAALJHBTFBHZWFIZBANDBA9FADHADCAAJFAZBADGAADDBATCDABCDAPCCADBECADABADABADAADBXFCCADAGAFBDAGGHAGCHAGDHAGWIBHBIAaDHABCMFaBYAaABFGzTDBHIBGxIPHBBHTBKJBFHRGFTCGATAGBHAKJGbHHTBGWHKIBBKTAGcBCHCIAGuHAIBHDIBHBICTMBAFAKJBDTBGEHAFAGIKJGEBAGoHFIBHBIBHBBIGCHAGHHAIABBKJBBTDGPFAGFaCGAIAHAIAGxHAGAHCGBHBGEHBGAHAGABXGBFATBGKIAHBIBTBGAFBIAHABJGFBBGFBBGFBIGGBAGGBADqZAFDDIFAZBBDjPBAAGiIBHAIBHAIBTAIAHABBKJBFmjuCABLGWBDGwhDgAA9/jBAmtFAABBmpBAABlDGBLDEBEGAHAGJXAGMBAGEBAGABAGBBAGBBAmrBAAZQBPmqFAAQAPAaPG/BBG1BGaABfGLYAaCHPTGPAQATABFHPTAOBNBPAQAPAQAPAQAPAQAPAQAPAQAPAQAPAQATBPAQATDNCTCBATDOAPAQAPAQAPAQATCXAOAXCBATAYATBBDGEBAmGCAABBcABATCYATCPAQATAXATAOATBKJTBXCTBCZPATAQAZANAZADZPAXAQAXAPAQATAPAQATBGJFAGsFBGeBCGFBBGFBBGFBBGCBCYBXAZAaAYBBAaAXDaBBJcCaBBBGLBAGZBAGSBAGBBAGOBBGNBhm6BAABETCBDMsBCaIL0MDaQMBaCBAaMBCaABuasHAhBCAAGcBCGwBOHAMaBDGfMDBIGTLAGHLABEGlHEBEGdBATAGjBDGHTALEBpCnDnmNBAABBKJBFCjBDDjBDGnBHGzBKTACKBACOBACGBACBBADKBADOBADGBADBhCBAAm2EAABIGVBJGHBXFFBAFpBAFIhEBAAGFBBGABAGrBAGBBCGABBGWBATAMHGWaBMGGeBHMIBvGSBAGBBEMEGVMFBCTAGZBETAB/G3BDMBGBMPBBMtGAHCBAHBBEHDGDBAGCBAGcBBHCBDHAMIBGTIBGGcMBTAGcMCBfGHaAGbHBBDMETGBIG1BCTGGVBBMHGSBEMHGRBGTDBLMGhPBAAmIBAAB2CyBMDyBGMFGjHDBHKJhlEAAMeBAGpBAHBOABBGBhKBAAHCGcMJGABHGVHKMDTEBVGRHDTDBlGUMGBTGWBIIAHAIAG0HOTGBDMTKJHAGBHBGABIHCIAGsICHDIBHBTBcATDHABJcABBGYBGKJBFHCGjHEIAHHBAKJTDGAIBGABHGiHATBGABIHBIAGvICHIIBGDTDHDTAIAHAKJGATAGATCBAMTBKGRBAGYICHCIBHAIAHBTFHAGBHAB9GGBAGABAGDBAGOBAGJTABFGuHAICHHBEKJBFHBIBBAGHBBGBBBGVBAGGBAGBBAGEBAHBGAIBHAIDBBIBBBICBBGABFIABEGEIBBBHGBCHEhKCAAG0ICHHIBHCIAHAGDTEKJTBBATAHAGCBdGvICHFIAHAIDHBIAHBGBTAGABHKJhlCAAGuICHDBBIDHBIAHBTWGDHBBhGvICHHIBHAIAHBTCGABKKJBFTMBSGqHAIAHAIBHFIAHAGATABFKJB1GaBBHCIBHDIAHEBDKJMBTCaAGGh4CAAGrICHIIAHBTAhjBAACfDfKJMIBLGHBBGABBGHBAGBBAGXIFBAIBBBHBIAHAGAIAGAIAHATCBIKJhFBAAGHBBGmICHDBBHBIDHAGATAGAIABaGAHJGnHFIAGAHDTHHABHGAHFIBHCGtHMIAHBTCGATEBMmIBAABGTJh1DAAGIBAGkIAHGBAHFIAHAGATEBJKJMSBCTBGdBBHVBAIAHGIAHBIAHBhIBAAGGBAGBBAGlHFBCHABAHBBAHGGAHABHKJBFGFBAGBBAGfIEBAHBBAIBHAIAHAGABGKJh1EAAGSHBIBTBBGHBGAIAGMBAGhIBHEBCIBHAIAHATMKJhVBAAGABOMUaHYDaQBMTAmZOAAhlBAAruBAABATEBKmDDAAhLpAAmgBAATBBMmvQAAcPHAGFHOhp+AAmGJAAh4GCAm4IAABGGeBAKJBDTBmOBAABAKJBFGdBBHETABJGvHGTEaDFDTAaABJKJBAMGBAGUBEGShvKAACfDfMWTDhkBAAmKBAABDHAGAI2BGHDFMB/FBTAFAHABKIBBNm3fBABHmVTAABpGIhmLCAFDBAFGBAFBBAmiEAABOGABcGCBBGABNGDBHmLGAAhDkAAmqBAABEGMBCGIBGGJBBaAHBTAcDhbJBAHtBBHWBI6zBAAB761DAABJamBBa7IBHCaCIFcHHHaBHGadHDa8BU6BBAAHCaAh5BAAMTBLMTBL6WBAABIMYhGCAACZDZCZDGBADRCZDZCABACBBBCABBCBBBCDBACHDDBADABADGBADKCZDZCBBACDBBCHBACGBADZCBBACDBACEBACABCCGBADZCZDZCZDZCZDZCZDZCZDZCZDbBBCYXADYXADFCYXADYXADFCYXADYXADFCYXADYXADFCYXADYXADFCADABBKx6/HAAH2aDHxaHHAaNHAaBTEBOHEBAHOhPRAADJGADTBFDFhUDAAHGBAHQBBHGBAHBBAHEBEF9BgHAhvBAAGsBCHGFGBBKJBDGAaAh/EAAGdHABQGrHDKJBEYAhPHAAGaFAHDKJhlLAAGGBAGDBAGBBAGOBAmEDAABBMIHGBoChDhHGFABDKJBDTBhQMAAM6aAMCYAMDhLBAAMsaAMOhBDAAGDBAGaBAGBBAGABBGABAGJBAGDBAGABAGABFGABDGABAGABAGABAGCBAGBBAGABBGABAGABAGABAGABAGABAGBBAGABBGDBAGGBAGDBAGDBAGABAGJBAGQBEGCBAGEBAGQBzXBhNEAAarBD6jBAABLaOBBaOBAaOBAakBJMM6gCAAB3acBMarBDaIBGaBBNaFhZCAA66DAAZE6XLAABDaQBCaMBC62BAABD6eBAABFaLBDaABOaLBDa3BHaJBFanBHadBBaBhNBAA6TFAABLaNBBaMBCaIBGatBAaGBHaNBDaIBGaIBG6SCAABAa2BkKJhFQAAmfbKABfm5ABABFmdDAABBmBaBABNmw0BAhewAAmdIAAhhXAAmKNBABEmfBBAhQxtCcABd8fBAAh/BAAnvDAAhP4PA99/PABB99/PA");function se(pe){return pe===32||pe===9||pe===10||pe===13}const Ae=[u(Q(":")),h(Q("A"),Q("Z")),u(Q("_")),h(Q("a"),Q("z")),h(192,214),h(216,246),h(192,214),h(216,246),h(248,767),h(880,893),h(895,8191),h(8204,8205),h(8304,8591),h(11264,12271),h(12289,55295),h(63744,64975),h(65008,65533),h(65536,983039)].reduce(x),Le=[Ae,u(Q("-")),u(Q(".")),h(Q("0"),Q("9")),u(183),h(768,879),h(8255,8256)].reduce(x),ve=me.get("Nd"),Ie=Re(ve),Ue=oe(h(0,1114111),[me.get("P"),me.get("Z"),me.get("C")].reduce(x)),tt=Re(Ue);function Be(pe){return pe!==10&&pe!==13&&!be(pe)}const Ne={s:se,S:Re(se),i:Ae,I:Re(Ae),c:Le,C:Re(Le),d:ve,D:Ie,w:Ue,W:tt},Ze=L("*"),ot=L("\\"),It=L("{"),fe=L("}"),ie=L("["),xe=L("]"),st=L("^"),At=L("$"),le=L(","),zt=L("-"),Wt=L("("),Bn=L(")"),qn=L("."),ke=L("|"),Ce=L("+"),lt=L("?"),Z=L("-["),Ot=Q("0");function Gt(pe){function je(mt){return new Set(mt.split("").map(Kt=>Q(Kt)))}function it(mt,Kt){const ba=mt.codePointAt(Kt);return ba===void 0?X(Kt,["any character"]):G(Kt+String.fromCodePoint(ba).length,ba)}const Je=pe.language==="xpath"?U(ot,P([F(L("n"),()=>10),F(L("r"),()=>13),F(L("t"),()=>9),F(P([ot,ke,qn,zt,st,lt,Ze,Ce,It,fe,At,Wt,Bn,ie,xe]),mt=>Q(mt))])):U(ot,P([F(L("n"),()=>10),F(L("r"),()=>13),F(L("t"),()=>9),F(P([ot,ke,qn,zt,st,lt,Ze,Ce,It,fe,Wt,Bn,ie,xe]),mt=>Q(mt))]));function _t(mt,Kt){const ba=je(Kt);return E(L(mt),R(V(it,Zn=>ba.has(Zn),Kt.split(""))),(Zn,mn)=>function(Ta){const lr=me.get(Ta);if(lr==null)throw new Error(`${Ta} is not a valid unicode category`);return lr}(mn===null?Zn:Zn+String.fromCodePoint(mn)))}const Ht=P([_t("L","ultmo"),_t("M","nce"),_t("N","dlo"),_t("P","cdseifo"),_t("Z","slp"),_t("S","mcko"),_t("C","cfon")]),un=[h(Q("a"),Q("z")),h(Q("A"),Q("Z")),h(Q("0"),Q("9")),u(45)].reduce(x),nn=F(U(L("Is"),function(mt){return(Kt,ba)=>{const Zn=mt(Kt,ba);return Zn.success?G(Zn.offset,Kt.slice(ba,Zn.offset)):Zn}}(O(V(it,un,["block identifier"])))),mt=>function(Kt,ba){const Zn=ge.get(Kt);if(Zn===void 0){if(ba)return y;throw new Error(`The unicode block identifier "${Kt}" is not known.`)}return Zn}(mt,pe.language!=="xpath")),pn=P([Ht,nn]),$e=$(L("\\p{"),pn,fe,!0),Qe=F($(L("\\P{"),pn,fe,!0),Re),Ln=U(ot,F(P("sSiIcCdDwW".split("").map(mt=>L(mt))),mt=>Ne[mt])),ir=F(qn,()=>Be),q=P([Ln,$e,Qe]),jn=je("\\[]"),Ga=V(it,mt=>!jn.has(mt),["unescaped character"]),or=P([Je,Ga]),Ar=P([F(zt,()=>null),or]),qa=E(Ar,U(zt,Ar),h);function xr(mt,Kt){return[mt].concat(Kt||[])}const dr=F(function(mt){return(Kt,ba)=>{const Zn=mt(Kt,ba);return Zn.success?G(ba,Zn.value):Zn}}(P([xe,Z])),()=>null),Za=Q("-"),ya=P([F(Y(Y(zt,ee(ie,["not ["])),dr),()=>Za),U(ee(zt,["not -"]),or)]),Ur=P([E(F(ya,u),P([function(mt,Kt){return Ur(mt,Kt)},dr]),xr),E(P([qa,q]),P([Va,dr]),xr)]),zn=P([E(F(or,u),P([Ur,dr]),xr),E(P([qa,q]),P([Va,dr]),xr)]);function Va(mt,Kt){return zn(mt,Kt)}const Sa=F(zn,mt=>mt.reduce(x)),Sr=F(U(st,Sa),Re),lo=E(P([U(ee(st,["not ^"]),Sa),Sr]),R(U(zt,function(mt,Kt){return Zr(mt,Kt)})),oe),Zr=$(ie,lo,xe,!0),za=pe.language==="xpath"?P([F(Je,u),q,Zr,ir,F(st,()=>mt=>mt===A),F(At,()=>mt=>mt===j)]):P([F(Je,u),q,Zr,ir]),Oa=pe.language==="xpath"?je(".\\?*+{}()|^$[]"):je(".\\?*+{}()|[]"),uo=V(it,mt=>!Oa.has(mt),["NormalChar"]),Rs=F(U(ot,E(F(V(it,h(Q("1"),Q("9")),["digit"]),mt=>mt-Ot),N(F(V(it,h(Ot,Q("9")),["digit"]),mt=>mt-Ot)),(mt,Kt)=>{Kt.reduce((ba,Zn)=>10*ba+Zn,mt)})),mt=>{throw new Error("Backreferences in XPath patterns are not yet implemented.")}),zr=pe.language==="xpath"?P([F(uo,mt=>({kind:"predicate",value:u(mt)})),F(za,mt=>({kind:"predicate",value:mt})),F($(Wt,U(R(L("?:")),Rn),Bn,!0),mt=>({kind:"regexp",value:mt})),Rs]):P([F(uo,mt=>({kind:"predicate",value:u(mt)})),F(za,mt=>({kind:"predicate",value:mt})),F($(Wt,Rn,Bn,!0),mt=>({kind:"regexp",value:mt}))]),dn=F(O(F(V(it,h(Ot,Q("9")),["digit"]),mt=>mt-Ot)),mt=>mt.reduce((Kt,ba)=>10*Kt+ba)),Ha=P([E(dn,U(le,dn),(mt,Kt)=>{if(Kt<mt)throw new Error("quantifier range is in the wrong order");return{min:mt,max:Kt}}),E(dn,le,mt=>({min:mt,max:null})),F(dn,mt=>({min:mt,max:mt}))]),Jr=pe.language==="xpath"?E(P([F(lt,()=>({min:0,max:1})),F(Ze,()=>({min:0,max:null})),F(Ce,()=>({min:1,max:null})),$(It,Ha,fe,!0)]),R(lt),(mt,Kt)=>mt):P([F(lt,()=>({min:0,max:1})),F(Ze,()=>({min:0,max:null})),F(Ce,()=>({min:1,max:null})),$(It,Ha,fe,!0)]),En=E(zr,F(R(Jr),mt=>mt===null?{min:1,max:1}:mt),(mt,Kt)=>[mt,Kt]),co=N(En),$n=E(co,N(U(ke,ae(co))),(mt,Kt)=>[mt].concat(Kt));function Rn(mt,Kt){return $n(mt,Kt)}const Or=function(mt){return E(mt,re,B)}($n);return function(mt){let Kt;try{Kt=Or(mt,0)}catch(ba){throw new Error(`Error parsing pattern "${mt}": ${ba instanceof Error?ba.message:ba}`)}return Kt.success?Kt.value:function(ba,Zn,mn){const Ta=mn.map(lr=>`"${lr}"`);throw new Error(`Error parsing pattern "${ba}" at offset ${Zn}: expected ${Ta.length>1?"one of "+Ta.join(", "):Ta[0]} but found "${ba.slice(Zn,Zn+1)}"`)}(mt,Kt.offset,Kt.expected)}}function Xe(pe){return[...pe].map(je=>je.codePointAt(0))}f.compile=function(pe,je={language:"xsd"}){const it=Gt(je)(pe),Je=d.compileVM(_t=>{S(_t,it,je.language==="xpath"),_t.accept()});return function(_t){const Ht=je.language==="xpath"?[A,...Xe(_t),j]:Xe(_t);return Je.execute(Ht).success}},Object.defineProperty(f,"__esModule",{value:!0})}((a=typeof globalThis<"u"?globalThis:a||self).xspattern={},a.whynot),(o=this).fontoxpath=(l=o.xspattern,p=o.prsc,function(f,d){const u="3.29.0",h={};var y;function b(t){var r=0;return function(){return r<t.length?{done:!1,value:t[r++]}:{done:!0}}}var x=typeof Object.defineProperties=="function"?Object.defineProperty:function(t,r,s){return t==Array.prototype||t==Object.prototype||(t[r]=s.value),t};function A(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global];for(var r=0;r<t.length;++r){var s=t[r];if(s&&s.Math==Math)return s}throw Error("Cannot find global object")}var j=A(this);function T(t,r){if(r)e:{var s=j;t=t.split(".");for(var i=0;i<t.length-1;i++){var c=t[i];if(!(c in s))break e;s=s[c]}(r=r(i=s[t=t[t.length-1]]))!=i&&r!=null&&x(s,t,{configurable:!0,writable:!0,value:r})}}function I(t){return(t={next:t})[Symbol.iterator]=function(){return this},t}function S(t){var r=typeof Symbol<"u"&&Symbol.iterator&&t[Symbol.iterator];return r?r.call(t):{next:b(t)}}function G(t){for(var r,s=[];!(r=t.next()).done;)s.push(r.value);return s}function D(t){return t instanceof Array?t:G(S(t))}T("Symbol",function(t){function r(g){if(this instanceof r)throw new TypeError("Symbol is not a constructor");return new s(i+(g||"")+"_"+c++,g)}function s(g,w){this.h=g,x(this,"description",{configurable:!0,writable:!0,value:w})}if(t)return t;s.prototype.toString=function(){return this.h};var i="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",c=0;return r}),T("Symbol.iterator",function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var r="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),s=0;s<r.length;s++){var i=j[r[s]];typeof i=="function"&&typeof i.prototype[t]!="function"&&x(i.prototype,t,{configurable:!0,writable:!0,value:function(){return I(b(this))}})}return t}),T("Symbol.asyncIterator",function(t){return t||Symbol("Symbol.asyncIterator")});var X,L=typeof Object.create=="function"?Object.create:function(t){function r(){}return r.prototype=t,new r};if(typeof Object.setPrototypeOf=="function")X=Object.setPrototypeOf;else{var F;e:{var V={a:!0},P={};try{P.__proto__=V,F=P.a;break e}catch{}F=!1}X=F?function(t,r){if(t.__proto__=r,t.__proto__!==r)throw new TypeError(t+" is not extensible");return t}:null}var R=X;function N(t,r){if(t.prototype=L(r.prototype),t.prototype.constructor=t,R)R(t,r);else for(var s in r)if(s!="prototype")if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i)}else t[s]=r[s];t.zc=r.prototype}function E(){this.B=!1,this.o=null,this.l=void 0,this.h=1,this.da=0,this.v=null}function O(t){if(t.B)throw new TypeError("Generator is already running");t.B=!0}function B(t,r){t.v={kc:r,mc:!0},t.h=t.da}function M(t){this.h=new E,this.o=t}function U(t,r){O(t.h);var s=t.h.o;return s?Y(t,"return"in s?s.return:function(i){return{value:i,done:!0}},r,t.h.return):(t.h.return(r),$(t))}function Y(t,r,s,i){try{var c=r.call(t.h.o,s);if(!(c instanceof Object))throw new TypeError("Iterator result "+c+" is not an object");if(!c.done)return t.h.B=!1,c;var g=c.value}catch(w){return t.h.o=null,B(t.h,w),$(t)}return t.h.o=null,i.call(t.h,g),$(t)}function $(t){for(;t.h.h;)try{var r=t.o(t.h);if(r)return t.h.B=!1,{value:r.value,done:!1}}catch(s){t.h.l=void 0,B(t.h,s)}if(t.h.B=!1,t.h.v){if(r=t.h.v,t.h.v=null,r.mc)throw r.kc;return{value:r.return,done:!0}}return{value:void 0,done:!0}}function ee(t){this.next=function(r){return O(t.h),t.h.o?r=Y(t,t.h.o.next,r,t.h.s):(t.h.s(r),r=$(t)),r},this.throw=function(r){return O(t.h),t.h.o?r=Y(t,t.h.o.throw,r,t.h.s):(B(t.h,r),r=$(t)),r},this.return=function(r){return U(t,r)},this[Symbol.iterator]=function(){return this}}function ae(t){function r(i){return t.next(i)}function s(i){return t.throw(i)}return new Promise(function(i,c){function g(w){w.done?i(w.value):Promise.resolve(w.value).then(r,s).then(g,c)}g(t.next())})}function re(){for(var t=Number(this),r=[],s=t;s<arguments.length;s++)r[s-t]=arguments[s];return r}function J(t,r){return Object.prototype.hasOwnProperty.call(t,r)}E.prototype.s=function(t){this.l=t},E.prototype.return=function(t){this.v={return:t},this.h=this.da},T("Promise",function(t){function r(w){this.o=0,this.v=void 0,this.h=[],this.da=!1;var k=this.B();try{w(k.resolve,k.reject)}catch(C){k.reject(C)}}function s(){this.h=null}function i(w){return w instanceof r?w:new r(function(k){k(w)})}if(t)return t;s.prototype.o=function(w){if(this.h==null){this.h=[];var k=this;this.v(function(){k.l()})}this.h.push(w)};var c=j.setTimeout;s.prototype.v=function(w){c(w,0)},s.prototype.l=function(){for(;this.h&&this.h.length;){var w=this.h;this.h=[];for(var k=0;k<w.length;++k){var C=w[k];w[k]=null;try{C()}catch(W){this.B(W)}}}this.h=null},s.prototype.B=function(w){this.v(function(){throw w})},r.prototype.B=function(){function w(W){return function(ne){C||(C=!0,W.call(k,ne))}}var k=this,C=!1;return{resolve:w(this.la),reject:w(this.l)}},r.prototype.la=function(w){if(w===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof r)this.ab(w);else{e:switch(typeof w){case"object":var k=w!=null;break e;case"function":k=!0;break e;default:k=!1}k?this.S(w):this.s(w)}},r.prototype.S=function(w){var k=void 0;try{k=w.then}catch(C){return void this.l(C)}typeof k=="function"?this.Ba(k,w):this.s(w)},r.prototype.l=function(w){this.ta(2,w)},r.prototype.s=function(w){this.ta(1,w)},r.prototype.ta=function(w,k){if(this.o!=0)throw Error("Cannot settle("+w+", "+k+"): Promise already settled in state"+this.o);this.o=w,this.v=k,this.o===2&&this.pa(),this.A()},r.prototype.pa=function(){var w=this;c(function(){if(w.K()){var k=j.console;k!==void 0&&k.error(w.v)}},1)},r.prototype.K=function(){if(this.da)return!1;var w=j.CustomEvent,k=j.Event,C=j.dispatchEvent;return C===void 0||(typeof w=="function"?w=new w("unhandledrejection",{cancelable:!0}):typeof k=="function"?w=new k("unhandledrejection",{cancelable:!0}):(w=j.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,w),w.promise=this,w.reason=this.v,C(w))},r.prototype.A=function(){if(this.h!=null){for(var w=0;w<this.h.length;++w)g.o(this.h[w]);this.h=null}};var g=new s;return r.prototype.ab=function(w){var k=this.B();w.rb(k.resolve,k.reject)},r.prototype.Ba=function(w,k){var C=this.B();try{w.call(k,C.resolve,C.reject)}catch(W){C.reject(W)}},r.prototype.then=function(w,k){function C(ze,Ke){return typeof ze=="function"?function(ut){try{W(ze(ut))}catch(ft){ne(ft)}}:Ke}var W,ne,_e=new r(function(ze,Ke){W=ze,ne=Ke});return this.rb(C(w,W),C(k,ne)),_e},r.prototype.catch=function(w){return this.then(void 0,w)},r.prototype.rb=function(w,k){function C(){switch(W.o){case 1:w(W.v);break;case 2:k(W.v);break;default:throw Error("Unexpected state: "+W.o)}}var W=this;this.h==null?g.o(C):this.h.push(C),this.da=!0},r.resolve=i,r.reject=function(w){return new r(function(k,C){C(w)})},r.race=function(w){return new r(function(k,C){for(var W=S(w),ne=W.next();!ne.done;ne=W.next())i(ne.value).rb(k,C)})},r.all=function(w){var k=S(w),C=k.next();return C.done?i([]):new r(function(W,ne){function _e(ut){return function(ft){ze[ut]=ft,--Ke==0&&W(ze)}}var ze=[],Ke=0;do ze.push(void 0),Ke++,i(C.value).rb(_e(ze.length-1),ne),C=k.next();while(!C.done)})},r});var ue=typeof Object.assign=="function"?Object.assign:function(t,r){for(var s=1;s<arguments.length;s++){var i=arguments[s];if(i)for(var c in i)J(i,c)&&(t[c]=i[c])}return t};function Q(t,r,s){if(t==null)throw new TypeError("The 'this' value for String.prototype."+s+" must not be null or undefined");if(r instanceof RegExp)throw new TypeError("First argument to String.prototype."+s+" must not be a regular expression");return t+""}function be(t,r){return t=t!==void 0?String(t):" ",0<r&&t?t.repeat(Math.ceil(r/t.length)).substring(0,r):""}function Re(t,r,s){t instanceof String&&(t=String(t));for(var i=t.length,c=0;c<i;c++){var g=t[c];if(r.call(s,g,c,t))return{Jb:c,Qb:g}}return{Jb:-1,Qb:void 0}}function oe(t){return t||Array.prototype.fill}function ge(t,r){t instanceof String&&(t+="");var s=0,i=!1,c={next:function(){if(!i&&s<t.length){var g=s++;return{value:r(g,t[g]),done:!1}}return i=!0,{done:!0,value:void 0}}};return c[Symbol.iterator]=function(){return c},c}function me(t,r){if(!(t!=="0"&&t!=="-0"||r!=="0"&&r!=="-0"))return 0;var s=/(?:\+|(-))?(\d+)?(?:\.(\d+))?/;t=s.exec(t+"");var i=s.exec(r+""),c=!t[1],g=!i[1];return r=(t[2]||"").replace(/^0*/,""),s=(i[2]||"").replace(/^0*/,""),t=t[3]||"",i=i[3]||"",c&&!g?1:!c&&g?-1:(c=c&&g,r.length>s.length?c?1:-1:r.length<s.length?c?-1:1:r>s?c?1:-1:r<s?c?-1:1:(r=Math.max(t.length,i.length),(s=t.padEnd(r,"0"))>(r=i.padEnd(r,"0"))?c?1:-1:s<r?c?-1:1:0))}function se(t,r){return!(-1<(t=t.toString()).indexOf(".")&&r===0)&&(!(t=/^[-+]?0*([1-9]\d*)?(?:\.((?:\d*[1-9])*)0*)?$/.exec(t))[2]||t[2].length<=r)}function Ae(){return function(t,r){return 1>me(t,r)}}function Le(){return function(t,r){return 0>me(t,r)}}function ve(){return function(t,r){return-1<me(t,r)}}function Ie(){return function(t,r){return 0<me(t,r)}}function Ue(t,r){switch(r){case"required":return/(Z)|([+-])([01]\d):([0-5]\d)$/.test(t.toString());case"prohibited":return!/(Z)|([+-])([01]\d):([0-5]\d)$/.test(t.toString());case"optional":return!0}}function tt(t){switch(t){case 1:case 0:case 6:case 3:case 18:case 22:case 21:case 20:case 23:case 44:return{};case 4:return{na:se,ya:Ae(),xc:Le(),za:ve(),yc:Ie()};case 9:case 8:case 7:case 11:case 12:case 13:case 15:case 14:return{Ea:Ue};default:return null}}T("Object.assign",function(t){return t||ue}),T("String.prototype.repeat",function(t){return t||function(r){var s=Q(this,null,"repeat");if(0>r||1342177279<r)throw new RangeError("Invalid count value");r|=0;for(var i="";r;)1&r&&(i+=s),(r>>>=1)&&(s+=s);return i}}),T("String.prototype.padEnd",function(t){return t||function(r,s){var i=Q(this,null,"padStart");return i+be(s,r-i.length)}}),T("WeakMap",function(t){function r(C){if(this.h=(k+=Math.random()+1).toString(),C){C=S(C);for(var W;!(W=C.next()).done;)W=W.value,this.set(W[0],W[1])}}function s(){}function i(C){var W=typeof C;return W==="object"&&C!==null||W==="function"}function c(C){if(!J(C,w)){var W=new s;x(C,w,{value:W})}}function g(C){var W=Object[C];W&&(Object[C]=function(ne){return ne instanceof s?ne:(Object.isExtensible(ne)&&c(ne),W(ne))})}if(function(){if(!t||!Object.seal)return!1;try{var C=Object.seal({}),W=Object.seal({}),ne=new t([[C,2],[W,3]]);return ne.get(C)==2&&ne.get(W)==3&&(ne.delete(C),ne.set(W,4),!ne.has(C)&&ne.get(W)==4)}catch{return!1}}())return t;var w="$jscomp_hidden_"+Math.random();g("freeze"),g("preventExtensions"),g("seal");var k=0;return r.prototype.set=function(C,W){if(!i(C))throw Error("Invalid WeakMap key");if(c(C),!J(C,w))throw Error("WeakMap key fail: "+C);return C[w][this.h]=W,this},r.prototype.get=function(C){return i(C)&&J(C,w)?C[w][this.h]:void 0},r.prototype.has=function(C){return i(C)&&J(C,w)&&J(C[w],this.h)},r.prototype.delete=function(C){return!!(i(C)&&J(C,w)&&J(C[w],this.h))&&delete C[w][this.h]},r}),T("Map",function(t){function r(){var k={};return k.Ga=k.next=k.head=k}function s(k,C){var W=k.h;return I(function(){if(W){for(;W.head!=k.h;)W=W.Ga;for(;W.next!=W.head;)return W=W.next,{done:!1,value:C(W)};W=null}return{done:!0,value:void 0}})}function i(k,C){var W=C&&typeof C;W=="object"||W=="function"?g.has(C)?W=g.get(C):(W=""+ ++w,g.set(C,W)):W="p_"+C;var ne=k.o[W];if(ne&&J(k.o,W))for(k=0;k<ne.length;k++){var _e=ne[k];if(C!=C&&_e.key!=_e.key||C===_e.key)return{id:W,list:ne,index:k,ka:_e}}return{id:W,list:ne,index:-1,ka:void 0}}function c(k){if(this.o={},this.h=r(),this.size=0,k){k=S(k);for(var C;!(C=k.next()).done;)C=C.value,this.set(C[0],C[1])}}if(function(){if(!t||typeof t!="function"||!t.prototype.entries||typeof Object.seal!="function")return!1;try{var k=Object.seal({x:4}),C=new t(S([[k,"s"]]));if(C.get(k)!="s"||C.size!=1||C.get({x:4})||C.set({x:4},"t")!=C||C.size!=2)return!1;var W=C.entries(),ne=W.next();return!ne.done&&ne.value[0]==k&&ne.value[1]=="s"&&!((ne=W.next()).done||ne.value[0].x!=4||ne.value[1]!="t"||!W.next().done)}catch{return!1}}())return t;var g=new WeakMap;c.prototype.set=function(k,C){var W=i(this,k=k===0?0:k);return W.list||(W.list=this.o[W.id]=[]),W.ka?W.ka.value=C:(W.ka={next:this.h,Ga:this.h.Ga,head:this.h,key:k,value:C},W.list.push(W.ka),this.h.Ga.next=W.ka,this.h.Ga=W.ka,this.size++),this},c.prototype.delete=function(k){return!(!(k=i(this,k)).ka||!k.list||(k.list.splice(k.index,1),k.list.length||delete this.o[k.id],k.ka.Ga.next=k.ka.next,k.ka.next.Ga=k.ka.Ga,k.ka.head=null,this.size--,0))},c.prototype.clear=function(){this.o={},this.h=this.h.Ga=r(),this.size=0},c.prototype.has=function(k){return!!i(this,k).ka},c.prototype.get=function(k){return(k=i(this,k).ka)&&k.value},c.prototype.entries=function(){return s(this,function(k){return[k.key,k.value]})},c.prototype.keys=function(){return s(this,function(k){return k.key})},c.prototype.values=function(){return s(this,function(k){return k.value})},c.prototype.forEach=function(k,C){for(var W,ne=this.entries();!(W=ne.next()).done;)W=W.value,k.call(C,W[1],W[0],this)},c.prototype[Symbol.iterator]=c.prototype.entries;var w=0;return c}),T("Array.prototype.find",function(t){return t||function(r,s){return Re(this,r,s).Qb}}),T("String.prototype.startsWith",function(t){return t||function(r,s){var i=Q(this,r,"startsWith"),c=i.length,g=r.length;s=Math.max(0,Math.min(0|s,i.length));for(var w=0;w<g&&s<c;)if(i[s++]!=r[w++])return!1;return w>=g}}),T("Array.prototype.fill",function(t){return t||function(r,s,i){var c=this.length||0;for(0>s&&(s=Math.max(0,c+s)),(i==null||i>c)&&(i=c),0>(i=Number(i))&&(i=Math.max(0,c+i)),s=Number(s||0);s<i;s++)this[s]=r;return this}}),T("Int8Array.prototype.fill",oe),T("Uint8Array.prototype.fill",oe),T("Uint8ClampedArray.prototype.fill",oe),T("Int16Array.prototype.fill",oe),T("Uint16Array.prototype.fill",oe),T("Int32Array.prototype.fill",oe),T("Uint32Array.prototype.fill",oe),T("Float32Array.prototype.fill",oe),T("Float64Array.prototype.fill",oe),T("Array.from",function(t){return t||function(r,s,i){s=s??function(k){return k};var c=[],g=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];if(typeof g=="function"){r=g.call(r);for(var w=0;!(g=r.next()).done;)c.push(s.call(i,g.value,w++))}else for(g=r.length,w=0;w<g;w++)c.push(s.call(i,r[w],w));return c}}),T("Object.is",function(t){return t||function(r,s){return r===s?r!==0||1/r==1/s:r!=r&&s!=s}}),T("Array.prototype.includes",function(t){return t||function(r,s){var i=this;i instanceof String&&(i=String(i));var c=i.length;for(0>(s=s||0)&&(s=Math.max(s+c,0));s<c;s++){var g=i[s];if(g===r||Object.is(g,r))return!0}return!1}}),T("String.prototype.includes",function(t){return t||function(r,s){return Q(this,r,"includes").indexOf(r,s||0)!==-1}}),T("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991}),T("Number.MIN_SAFE_INTEGER",function(){return-9007199254740991}),T("Math.trunc",function(t){return t||function(r){if(r=Number(r),isNaN(r)||r===1/0||r===-1/0||r===0)return r;var s=Math.floor(Math.abs(r));return 0>r?-s:s}}),T("Number.isFinite",function(t){return t||function(r){return typeof r=="number"&&!isNaN(r)&&r!==1/0&&r!==-1/0}}),T("String.prototype.padStart",function(t){return t||function(r,s){var i=Q(this,null,"padStart");return be(s,r-i.length)+i}}),T("Array.prototype.keys",function(t){return t||function(){return ge(this,function(r){return r})}}),T("Number.isInteger",function(t){return t||function(r){return!!Number.isFinite(r)&&r===Math.floor(r)}}),T("Number.isSafeInteger",function(t){return t||function(r){return Number.isInteger(r)&&Math.abs(r)<=Number.MAX_SAFE_INTEGER}}),T("Array.prototype.findIndex",function(t){return t||function(r,s){return Re(this,r,s).Jb}}),T("String.prototype.endsWith",function(t){return t||function(r,s){var i=Q(this,r,"endsWith");s===void 0&&(s=i.length),s=Math.max(0,Math.min(0|s,i.length));for(var c=r.length;0<c&&0<s;)if(i[--s]!=r[--c])return!1;return 0>=c}}),T("String.fromCodePoint",function(t){return t||function(r){for(var s="",i=0;i<arguments.length;i++){var c=Number(arguments[i]);if(0>c||1114111<c||c!==Math.floor(c))throw new RangeError("invalid_code_point "+c);65535>=c?s+=String.fromCharCode(c):(c-=65536,s+=String.fromCharCode(c>>>10&1023|55296),s+=String.fromCharCode(1023&c|56320))}return s}}),T("String.prototype.codePointAt",function(t){return t||function(r){var s=Q(this,null,"codePointAt"),i=s.length;if(0<=(r=Number(r)||0)&&r<i){r|=0;var c=s.charCodeAt(r);return 55296>c||56319<c||r+1===i||56320>(r=s.charCodeAt(r+1))||57343<r?c:1024*(c-55296)+r+9216}}}),T("Set",function(t){function r(s){if(this.h=new Map,s){s=S(s);for(var i;!(i=s.next()).done;)this.add(i.value)}this.size=this.h.size}return function(){if(!t||typeof t!="function"||!t.prototype.entries||typeof Object.seal!="function")return!1;try{var s=Object.seal({x:4}),i=new t(S([s]));if(!i.has(s)||i.size!=1||i.add(s)!=i||i.size!=1||i.add({x:4})!=i||i.size!=2)return!1;var c=i.entries(),g=c.next();return!g.done&&g.value[0]==s&&g.value[1]==s&&!(g=c.next()).done&&g.value[0]!=s&&g.value[0].x==4&&g.value[1]==g.value[0]&&c.next().done}catch{return!1}}()?t:(r.prototype.add=function(s){return s=s===0?0:s,this.h.set(s,s),this.size=this.h.size,this},r.prototype.delete=function(s){return s=this.h.delete(s),this.size=this.h.size,s},r.prototype.clear=function(){this.h.clear(),this.size=0},r.prototype.has=function(s){return this.h.has(s)},r.prototype.entries=function(){return this.h.entries()},r.prototype.values=function(){return this.h.values()},r.prototype.keys=r.prototype.values,r.prototype[Symbol.iterator]=r.prototype.values,r.prototype.forEach=function(s,i){var c=this;this.h.forEach(function(g){return s.call(i,g,g,c)})},r)}),T("Math.log10",function(t){return t||function(r){return Math.log(r)/Math.LN10}}),T("Object.values",function(t){return t||function(r){var s,i=[];for(s in r)J(r,s)&&i.push(r[s]);return i}}),T("Number.isNaN",function(t){return t||function(r){return typeof r=="number"&&isNaN(r)}}),T("Array.prototype.values",function(t){return t||function(){return ge(this,function(r,s){return s})}}),T("Object.getOwnPropertySymbols",function(t){return t||function(){return[]}});var Be={},Ne={};function Ze(t){return/^([+-]?(\d*(\.\d*)?([eE][+-]?\d*)?|INF)|NaN)$/.test(t)}function ot(t){return/^[_:A-Za-z][-._:A-Za-z0-9]*$/.test(t)}function It(t){return ot(t)&&/^[_A-Za-z]([-._A-Za-z0-9])*$/.test(t)}function fe(t){return(t=t.split(":")).length===1?It(t[0]):t.length===2&&It(t[0])&&It(t[1])}function ie(t){return!/[\u0009\u000A\u000D]/.test(t)}function xe(t){return It(t)}var st=new Map([[45,function(){return!0}],[46,function(){return!0}],[1,function(){return!0}],[0,function(t){return/^(0|1|true|false)$/.test(t)}],[6,function(t){return Ze(t)}],[3,Ze],[4,function(t){return/^[+-]?\d*(\.\d*)?$/.test(t)}],[18,function(t){return/^(-)?P(\d+Y)?(\d+M)?(\d+D)?(T(\d+H)?(\d+M)?(\d+(\.\d*)?S)?)?$/.test(t)}],[9,function(t){return/^-?([1-9][0-9]{3,}|0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T(([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\.[0-9]+)?|(24:00:00(\.0+)?))(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(t)}],[8,function(t){return/^(([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\.[0-9]+)?|(24:00:00(\.0+)?))(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(t)}],[7,function(t){return/^-?([1-9][0-9]{3,}|0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(t)}],[11,function(t){return/^-?([1-9][0-9]{3,}|0[0-9]{3})-(0[1-9]|1[0-2])(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(t)}],[12,function(t){return/^-?([1-9][0-9]{3,}|0[0-9]{3})(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(t)}],[13,function(t){return/^--(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(t)}],[15,function(t){return/^---(0[1-9]|[12][0-9]|3[01])(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(t)}],[14,function(t){return/^--(0[1-9]|1[0-2])(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(t)}],[22,function(t){return/^([0-9A-Fa-f]{2})*$/.test(t)}],[21,function(t){return new RegExp(/^((([A-Za-z0-9+/] ?){4})*((([A-Za-z0-9+/] ?){3}[A-Za-z0-9+/])|(([A-Za-z0-9+/] ?){2}[AEIMQUYcgkosw048] ?=)|(([A-Za-z0-9+/] ?)[AQgw] ?= ?=)))?$/).test(t)}],[20,function(){return!0}],[44,fe],[48,ie],[52,function(t){return ie(t)&&!/^ | {2,}| $/.test(t)}],[51,function(t){return/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/.test(t)}],[50,function(t){return/^[-._:A-Za-z0-9]+$/.test(t)}],[25,ot],[23,fe],[24,It],[42,xe],[41,xe],[26,function(t){return It(t)}],[5,function(t){return/^[+-]?\d+$/.test(t)}],[16,function(t){return/^-?P[0-9]+(Y([0-9]+M)?|M)$/.test(t)}],[17,function(t){return/^-?P([0-9]+D)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9]+)?S)?)?$/.test(t)}]]),At=Object.create(null);function le(t,r){if(!At[r])throw Error("Unknown type");return{type:r,value:t}}[{D:0,name:59},{D:0,name:46,parent:59,L:{whiteSpace:"preserve"}},{D:0,name:19,parent:46},{D:0,name:1,parent:46},{D:0,name:0,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:4,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:6,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:3,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:18,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:9,parent:46,L:{Ea:"optional",whiteSpace:"collapse"}},{D:0,name:8,parent:46,L:{Ea:"optional",whiteSpace:"collapse"}},{D:0,name:7,parent:46,L:{Ea:"optional",whiteSpace:"collapse"}},{D:0,name:11,parent:46,L:{Ea:"optional",whiteSpace:"collapse"}},{D:0,name:12,parent:46,L:{Ea:"optional",whiteSpace:"collapse"}},{D:0,name:13,parent:46,L:{Ea:"optional",whiteSpace:"collapse"}},{D:0,name:15,parent:46,L:{Ea:"optional",whiteSpace:"collapse"}},{D:0,name:14,parent:46,L:{Ea:"optional",whiteSpace:"collapse"}},{D:0,name:22,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:21,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:20,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:23,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:44,parent:46,L:{whiteSpace:"collapse"}},{D:1,name:10,T:9,L:{whiteSpace:"collapse",Ea:"required"}},{D:1,name:48,T:1,L:{whiteSpace:"replace"}},{D:1,name:52,T:48,L:{whiteSpace:"collapse"}},{D:1,name:51,T:52,L:{whiteSpace:"collapse"}},{D:1,name:50,T:52,L:{whiteSpace:"collapse"}},{D:2,name:49,type:50,L:{minLength:1,whiteSpace:"collapse"}},{D:1,name:25,T:52,L:{whiteSpace:"collapse"}},{D:1,name:24,T:25,L:{whiteSpace:"collapse"}},{D:1,name:42,T:24,L:{whiteSpace:"collapse"}},{D:1,name:41,T:24,L:{whiteSpace:"collapse"}},{D:2,name:43,type:41,L:{minLength:1,whiteSpace:"collapse"}},{D:1,name:26,T:24,L:{whiteSpace:"collapse"}},{D:2,name:40,type:26,L:{minLength:1,whiteSpace:"collapse"}},{D:0,name:5,parent:4,L:{na:0,whiteSpace:"collapse"}},{D:1,name:27,T:5,L:{na:0,ya:"0",whiteSpace:"collapse"}},{D:1,name:28,T:27,L:{na:0,ya:"-1",whiteSpace:"collapse"}},{D:1,name:31,T:5,L:{na:0,ya:"9223372036854775807",za:"-9223372036854775808",whiteSpace:"collapse"}},{D:1,name:32,T:31,L:{na:0,ya:"2147483647",za:"-2147483648",whiteSpace:"collapse"}},{D:1,name:33,T:32,L:{na:0,ya:"32767",za:"-32768",whiteSpace:"collapse"}},{D:1,name:34,T:33,L:{na:0,ya:"127",za:"-128",whiteSpace:"collapse"}},{D:1,name:30,T:5,L:{na:0,za:"0",whiteSpace:"collapse"}},{D:1,name:36,T:30,L:{na:0,ya:"18446744073709551615",za:"0",whiteSpace:"collapse"}},{D:1,name:35,T:36,L:{na:0,ya:"4294967295",za:"0",whiteSpace:"collapse"}},{D:1,name:38,T:35,L:{na:0,ya:"65535",za:"0",whiteSpace:"collapse"}},{D:1,name:37,T:38,L:{na:0,ya:"255",za:"0",whiteSpace:"collapse"}},{D:1,name:29,T:30,L:{na:0,za:"1",whiteSpace:"collapse"}},{D:1,name:16,T:18,L:{whiteSpace:"collapse"}},{D:1,name:17,T:18,L:{whiteSpace:"collapse"}},{D:1,name:60,T:59},{D:3,name:39,Fa:[]},{D:1,name:61,T:60},{D:1,name:62,T:60},{D:0,name:53,parent:59},{D:1,name:54,T:53},{D:1,name:58,T:53},{D:1,name:47,T:53},{D:1,name:56,T:53},{D:1,name:57,T:53},{D:1,name:55,T:53},{D:3,name:2,Fa:[4,5,6,3]},{D:3,name:63,Fa:[]}].forEach(function(t){var r=t.name,s=t.L||{};switch(t.D){case 0:t=t.parent?At[t.parent]:null;var i=st.get(r)||null;At[r]={D:0,type:r,Na:s,parent:t,kb:i,Pa:tt(r),Fa:[]};break;case 1:t=At[t.T],i=st.get(r)||null,At[r]={D:1,type:r,Na:s,parent:t,kb:i,Pa:t.Pa,Fa:[]};break;case 2:At[r]={D:2,type:r,Na:s,parent:At[t.type],kb:null,Pa:Be,Fa:[]};break;case 3:t=t.Fa.map(function(c){return At[c]}),At[r]={D:3,type:r,Na:s,parent:null,kb:null,Pa:Ne,Fa:t}}});var zt=le(!0,0),Wt=le(!1,0);function Bn(t){return Error("FORG0006: "+(t===void 0?"A wrong argument type was specified in a function call.":t))}function qn(t,r){this.done=t,this.value=r}var ke=new qn(!0,void 0);function Ce(t){return new qn(!1,t)}function lt(t,r){if(r.D===3)return!!r.Fa.find(function(s){return lt(t,s)});for(;t;){if(t.type===r.type)return!0;if(t.D===3)return!!t.Fa.find(function(s){return Z(s.type,r.type)});t=t.parent}return!1}function Z(t,r){return t===r||lt(At[t],At[r])}function Ot(t){this.o=q,this.h=t;var r=-1;this.value={next:function(){return++r>=t.length?ke:Ce(t[r])}}}function Gt(){this.value={next:function(){return ke}}}function Xe(t,r){this.type=t,this.value=r}(y=Ot.prototype).sb=function(){return this},y.filter=function(t){var r=this,s=-1;return this.o.create({next:function(){for(s++;s<r.h.length&&!t(r.h[s],s,r);)s++;return s>=r.h.length?ke:Ce(r.h[s])}})},y.first=function(){return this.h[0]},y.O=function(){return this.h},y.ha=function(){if(Z(this.h[0].type,53))return!0;throw Bn("Cannot determine the effective boolean value of a sequence with a length higher than one.")},y.Qa=function(){return this.h.length},y.G=function(){return!1},y.wa=function(){return!1},y.map=function(t){var r=this,s=-1;return this.o.create({next:function(){return++s>=r.h.length?ke:Ce(t(r.h[s],s,r))}},this.h.length)},y.M=function(t){return t(this.h)},y.Z=function(t){return t.multiple?t.multiple(this):t.default(this)},(y=Gt.prototype).sb=function(){return this},y.filter=function(){return this},y.first=function(){return null},y.O=function(){return[]},y.ha=function(){return!1},y.Qa=function(){return 0},y.G=function(){return!0},y.wa=function(){return!1},y.map=function(){return this},y.M=function(t){return t([])},y.Z=function(t){return t.empty?t.empty(this):t.default(this)};var pe={},je=(pe[0]="xs:boolean",pe[1]="xs:string",pe[2]="xs:numeric",pe[3]="xs:double",pe[4]="xs:decimal",pe[5]="xs:integer",pe[6]="xs:float",pe[7]="xs:date",pe[8]="xs:time",pe[9]="xs:dateTime",pe[10]="xs:dateTimeStamp",pe[11]="xs:gYearMonth",pe[12]="xs:gYear",pe[13]="xs:gMonthDay",pe[14]="xs:gMonth",pe[15]="xs:gDay",pe[16]="xs:yearMonthDuration",pe[17]="xs:dayTimeDuration",pe[18]="xs:duration",pe[19]="xs:untypedAtomic",pe[20]="xs:anyURI",pe[21]="xs:base64Binary",pe[22]="xs:hexBinary",pe[23]="xs:QName",pe[24]="xs:NCName",pe[25]="xs:Name",pe[26]="xs:ENTITY",pe[27]="xs:nonPositiveInteger",pe[28]="xs:negativeInteger",pe[29]="xs:positiveInteger",pe[30]="xs:nonNegativeInteger",pe[31]="xs:long",pe[32]="xs:int",pe[33]="xs:short",pe[34]="xs:byte",pe[35]="xs:unsignedInt",pe[36]="xs:unsignedLong",pe[37]="xs:unsignedByte",pe[38]="xs:unsignedShort",pe[39]="xs:error",pe[40]="xs:ENTITIES",pe[41]="xs:IDREF",pe[42]="xs:ID",pe[43]="xs:IDREFS",pe[44]="xs:NOTATION",pe[45]="xs:anySimpleType",pe[46]="xs:anyAtomicType",pe[47]="attribute()",pe[48]="xs:normalizedString",pe[49]="xs:NMTOKENS",pe[50]="xs:NMTOKEN",pe[51]="xs:language",pe[52]="xs:token",pe[53]="node()",pe[54]="element()",pe[55]="document-node()",pe[56]="text()",pe[57]="processing-instruction()",pe[58]="comment()",pe[59]="item()",pe[60]="function(*)",pe[61]="map(*)",pe[62]="array(*)",pe[63]="none",pe),it={"xs:boolean":0,"xs:string":1,"xs:numeric":2,"xs:double":3,"xs:decimal":4,"xs:integer":5,"xs:float":6,"xs:date":7,"xs:time":8,"xs:dateTime":9,"xs:dateTimeStamp":10,"xs:gYearMonth":11,"xs:gYear":12,"xs:gMonthDay":13,"xs:gMonth":14,"xs:gDay":15,"xs:yearMonthDuration":16,"xs:dayTimeDuration":17,"xs:duration":18,"xs:untypedAtomic":19,"xs:anyURI":20,"xs:base64Binary":21,"xs:hexBinary":22,"xs:QName":23,"xs:NCName":24,"xs:Name":25,"xs:ENTITY":26,"xs:nonPositiveInteger":27,"xs:negativeInteger":28,"xs:positiveInteger":29,"xs:nonNegativeInteger":30,"xs:long":31,"xs:int":32,"xs:short":33,"xs:byte":34,"xs:unsignedInt":35,"xs:unsignedLong":36,"xs:unsignedByte":37,"xs:unsignedShort":38,"xs:error":39,"xs:ENTITIES":40,"xs:IDREF":41,"xs:ID":42,"xs:IDREFS":43,"xs:NOTATION":44,"xs:anySimpleType":45,"xs:anyAtomicType":46,"attribute()":47,"xs:normalizedString":48,"xs:NMTOKENS":49,"xs:NMTOKEN":50,"xs:language":51,"xs:token":52,"node()":53,"element()":54,"document-node()":55,"text()":56,"processing-instruction()":57,"comment()":58,"item()":59,"function(*)":60,"map(*)":61,"array(*)":62};function Je(t){return t.g===2?je[t.type]+"*":t.g===1?je[t.type]+"+":t.g===0?je[t.type]+"?":je[t.type]}function _t(t){if(t==="none")throw Error('XPST0051: The type "none" could not be found');if(!t.startsWith("xs:")&&0<=t.indexOf(":"))throw Error("XPST0081: Invalid prefix for input "+t);var r=it[t];if(r===void 0)throw Error('XPST0051: The type "'+t+'" could not be found');return r}function Ht(t){switch(t[t.length-1]){case"*":return{type:_t(t.substr(0,t.length-1)),g:2};case"?":return{type:_t(t.substr(0,t.length-1)),g:0};case"+":return{type:_t(t.substr(0,t.length-1)),g:1};default:return{type:_t(t),g:3}}}function un(t){switch(t){case"*":return 2;case"?":return 0;case"+":return 1;default:return 3}}function nn(t){var r=t.value;if(Z(t.type,53))return!0;if(Z(t.type,0))return r;if(Z(t.type,1)||Z(t.type,20)||Z(t.type,19))return r.length!==0;if(Z(t.type,2))return!isNaN(r)&&r!==0;throw Bn("Cannot determine the effective boolean value of a value with the type "+je[t.type])}function pn(t,r){var s=this;this.B=q,this.value={next:function(i){return s.o!==null&&s.h>=s.o?ke:s.v[s.h]!==void 0?Ce(s.v[s.h++]):(i=t.next(i)).done?(s.o=s.h,i):((s.l||2>s.h)&&(s.v[s.h]=i.value),s.h++,i)}},this.l=!1,this.v=[],this.h=0,this.o=r===void 0?null:r}function $e(t,r){t.h=r===void 0?0:r}function Qe(t){this.v=q,this.h=t;var r=!1;this.value={next:function(){return r?ke:(r=!0,Ce(t))}},this.o=null}(y=pn.prototype).sb=function(){return this.B.create(this.O())},y.filter=function(t){var r=this,s=-1,i=this.value;return this.B.create({next:function(c){for(s++,c=i.next(c);!c.done&&!t(c.value,s,r);)s++,c=i.next(0);return c}})},y.first=function(){if(this.v[0]!==void 0)return this.v[0];var t=this.value.next(0);return $e(this),t.done?null:t.value},y.O=function(){if(this.h>this.v.length&&this.o!==this.v.length)throw Error("Implementation error: Sequence Iterator has progressed.");var t=this.value;this.l=!0;for(var r=t.next(0);!r.done;)r=t.next(0);return this.v},y.ha=function(){var t=this.value,r=this.h;$e(this);var s=t.next(0);if(s.done)return $e(this,r),!1;if(Z((s=s.value).type,53))return $e(this,r),!0;if(!t.next(0).done)throw Bn("Cannot determine the effective boolean value of a sequence with a length higher than one.");return $e(this,r),nn(s)},y.Qa=function(t){if(this.o!==null)return this.o;if(t!==void 0&&t)return-1;t=this.h;var r=this.O().length;return $e(this,t),r},y.G=function(){return this.o===0||this.first()===null},y.wa=function(){if(this.o!==null)return this.o===1;var t=this.value,r=this.h;return $e(this),t.next(0).done?($e(this,r),!1):(t=t.next(0),$e(this,r),t.done)},y.map=function(t){var r=this,s=0,i=this.value;return this.B.create({next:function(c){return(c=i.next(c)).done?ke:Ce(t(c.value,s++,r))}},this.o)},y.M=function(t,r){var s,i=this.value,c=[],g=!0;return function(){for(var w=i.next(g?0:r);!w.done;w=i.next(r))g=!1,c.push(w.value);s=t(c).value}(),this.B.create({next:function(){return s.next(0)}})},y.Z=function(t){function r(c){i=c.value,(c=c.Qa(!0))!==-1&&(s.o=c)}var s=this,i=null;return this.B.create({next:function(c){return i?i.next(c):s.G()?(r(t.empty?t.empty(s):t.default(s)),i.next(c)):s.wa()?(r(t.m?t.m(s):t.default(s)),i.next(c)):(r(t.multiple?t.multiple(s):t.default(s)),i.next(c))}})},(y=Qe.prototype).sb=function(){return this},y.filter=function(t){return t(this.h,0,this)?this:this.v.create()},y.first=function(){return this.h},y.O=function(){return[this.h]},y.ha=function(){return this.o===null&&(this.o=nn(this.h)),this.o},y.Qa=function(){return 1},y.G=function(){return!1},y.wa=function(){return!0},y.map=function(t){return this.v.create(t(this.h,0,this))},y.M=function(t){return t([this.h])},y.Z=function(t){return t.m?t.m(this):t.default(this)};var Ln=new Gt;function ir(t,r){if((t=t===void 0?null:t)===null)return Ln;if(Array.isArray(t))switch(t.length){case 0:return Ln;case 1:return new Qe(t[0]);default:return new Ot(t)}return t.next?new pn(t,r===void 0?null:r):new Qe(t)}var q={create:ir,m:function(t){return new Qe(t)},empty:function(){return ir()},ba:function(){return ir(zt)},W:function(){return ir(Wt)}};function jn(t){var r=[],s=t.value;return function(){var i=0;return q.create({next:function(){if(r[i]!==void 0)return r[i++];var c=s.next(0);return c.done?c:r[i++]=c}})}}function Ga(t,r,s){this.namespaceURI=r||null,this.prefix=t||"",this.localName=s}function or(t){var r=t.j,s=t.arity,i=t.Sa!==void 0&&t.Sa,c=t.I!==void 0&&t.I,g=t.localName,w=t.namespaceURI,k=t.i;for(t=t.value,Xe.call(this,60,null),this.value=t,this.I=c,c=-1,t=0;t<r.length;t++)r[t]===4&&(c=t);-1<c&&(t=Array(s-(r.length-1)).fill(r[c-1]),r=r.slice(0,c).concat(t)),this.o=r,this.v=s,this.da=i,this.B=g,this.l=w,this.s=k}function Ar(t,r){var s=t.value,i=r.map(function(c){return c===null?null:jn(c)});return r=new or({j:r=r.reduce(function(c,g,w){return g===null&&c.push(t.o[w]),c},[]),arity:r.length,Sa:!0,I:t.I,localName:"boundFunction",namespaceURI:t.l,i:t.s,value:function(c,g,w){var k=Array.from(arguments).slice(3),C=i.map(function(W){return W===null?k.shift():W()});return s.apply(void 0,[c,g,w].concat(C))}}),q.m(r)}function qa(t,r){var s=[];return t!==2&&t!==1||s.push("type-1-or-type-2"),s.push("type-"+t),r&&s.push("name-"+r),s}function xr(t){var r=t.node.nodeType;if(r===2||r===1)var s=t.node.localName;return qa(r,s)}function dr(t){var r=t.nodeType;if(r===2||r===1)var s=t.localName;return qa(r,s)}function Za(){}function ya(){}Ga.prototype.Ca=function(){return this.prefix?this.prefix+":"+this.localName:this.localName},N(or,Xe),or.prototype.Sa=function(){return this.da},Za.prototype.getAllAttributes=function(t,r){return r=r===void 0?null:r,t.nodeType!==1?[]:(t=Array.from(t.attributes),r===null?t:t.filter(function(s){return dr(s).includes(r)}))},Za.prototype.getAttribute=function(t,r){return t.nodeType!==1?null:t.getAttribute(r)},Za.prototype.getChildNodes=function(t,r){return r=r===void 0?null:r,t=Array.from(t.childNodes),r===null?t:t.filter(function(s){return dr(s).includes(r)})},Za.prototype.getData=function(t){return t.nodeType===2?t.value:t.data},Za.prototype.getFirstChild=function(t,r){for(r=r===void 0?null:r,t=t.firstChild;t;t=t.nextSibling)if(r===null||dr(t).includes(r))return t;return null},Za.prototype.getLastChild=function(t,r){for(r=r===void 0?null:r,t=t.lastChild;t;t=t.previousSibling)if(r===null||dr(t).includes(r))return t;return null},Za.prototype.getNextSibling=function(t,r){for(r=r===void 0?null:r,t=t.nextSibling;t;t=t.nextSibling)if(r===null||dr(t).includes(r))return t;return null},Za.prototype.getParentNode=function(t,r){return r=r===void 0?null:r,(t=t.nodeType===2?t.ownerElement:t.parentNode)&&(r===null||dr(t).includes(r))?t:null},Za.prototype.getPreviousSibling=function(t,r){for(r=r===void 0?null:r,t=t.previousSibling;t;t=t.previousSibling)if(r===null||dr(t).includes(r))return t;return null},(y=ya.prototype).insertBefore=function(t,r,s){return t.insertBefore(r,s)},y.removeAttributeNS=function(t,r,s){return t.removeAttributeNS(r,s)},y.removeChild=function(t,r){return t.removeChild(r)},y.setAttributeNS=function(t,r,s,i){t.setAttributeNS(r,s,i)},y.setData=function(t,r){t.data=r};var Ur=new ya;function zn(t){this.h=t}function Va(t){return t.Ta!==void 0}function Sa(t,r,s){var i=null;return r&&(Va(r.node)?i={F:r.F,offset:s,parent:r.node}:r.F&&(i=r.F)),{node:t,F:i}}function Sr(t){this.h=t,this.o=[]}function lo(t,r,s){return t.getAllAttributes(r.node,s===void 0?null:s).map(function(i){return Sa(i,r,i.nodeName)})}function Zr(t,r,s){return Va(r=r.node)?(t=r.attributes.find(function(i){return s===i.name}))?t.value:null:(t=t.h.getAttribute(r,s))?t:null}function za(t,r,s){return t.getChildNodes(r.node,s===void 0?null:s).map(function(i,c){return Sa(i,r,c)})}function Oa(t,r){return t.getData(r.node)}function uo(t,r,s){var i=r.node;return Va(i)?t=i.childNodes[0]:((s=t.h.getFirstChild(i,s===void 0?null:s))&&s.nodeType===10&&(s=t.h.getNextSibling(s)),t=s),t?Sa(t,r,0):null}function Rs(t,r,s){s=s===void 0?null:s;var i=r.node;return Va(i)?(t=i.childNodes.length-1,i=i.childNodes[t]):((i=t.h.getLastChild(i,s))&&i.nodeType===10&&(i=t.h.getPreviousSibling(i)),t=t.getChildNodes(r.node,s).length-1),i?Sa(i,r,t):null}function zr(t,r,s){s=s===void 0?null:s;var i=r.node,c=r.F;if(Va(i)){if(c)var g=c.offset+1,w=c.parent.childNodes[g]}else{if(!c){for(w=i;w&&(!(w=t.h.getNextSibling(w,s))||w.nodeType===10););return w?{node:w,F:null}:null}g=c.offset+1;var k=dn(t,r,null);w=t.getChildNodes(k.node,s)[g]}return w?Sa(w,k||dn(t,r,s),g):null}function dn(t,r,s){s=s===void 0?null:s;var i=r.node,c=r.F;if(c)typeof c.offset=="number"&&i===c.parent.childNodes[c.offset]||typeof c.offset=="string"&&i===c.parent.attributes.find(function(g){return c.offset===g.nodeName})?(t=c.parent,r=c.F):(t=t.getParentNode(i,s),r=c);else{if(Va(i))return null;t=t.getParentNode(i,s),r=null}return t?{node:t,F:r}:null}function Ha(t,r,s){s=s===void 0?null:s;var i=r.node,c=r.F;if(Va(i)){if(c)var g=c.offset-1,w=c.parent.childNodes[g]}else{if(!c){for(w=i;w&&(!(w=t.h.getPreviousSibling(w,s))||w.nodeType===10););return w?{node:w,F:null}:null}g=c.offset-1;var k=dn(t,r,null);w=t.getChildNodes(k.node,s)[g]}return w?Sa(w,k||dn(t,r,s),g):null}function Jr(t,r,s,i,c){return c.M(function(g){var w=S(g).next().value;return i.M(function(k){k=S(k).next().value;var C=w.value;if(0>=C||C>k.P.length)throw Error("FOAY0001: array position out of bounds.");return k.P[C-1]()})})}function En(t){or.call(this,{value:function(s,i,c,g){return Jr(s,i,c,q.m(r),g)},localName:"get",namespaceURI:"http://www.w3.org/2005/xpath-functions/array",j:[{type:5,g:3}],arity:1,i:{type:59,g:2}});var r=this;this.type=62,this.P=t}function co(t){switch(t.node.nodeType){case 2:return 47;case 1:return 54;case 3:case 4:return 56;case 7:return 57;case 8:return 58;case 9:return 55;default:return 53}}function $n(t){return{type:co(t),value:t}}function Rn(t,r){return t=t.map(function(s){return s.first()}),r(t)}function Or(t,r){var s=Z(t.type,1)||Z(t.type,20)||Z(t.type,19),i=Z(r.type,1)||Z(r.type,20)||Z(r.type,19);return s&&i?t.value===r.value:(s=Z(t.type,4)||Z(t.type,3)||Z(t.type,6),i=Z(r.type,4)||Z(r.type,3)||Z(r.type,6),s&&i?!(!isNaN(t.value)||!isNaN(r.value))||t.value===r.value:(s=Z(t.type,0)||Z(t.type,22)||Z(t.type,18)||Z(t.type,23)||Z(t.type,44),i=Z(r.type,0)||Z(r.type,22)||Z(r.type,18)||Z(r.type,23)||Z(r.type,44),!(!s||!i)&&t.value===r.value))}function mt(t,r,s,i,c){return Rn([i,c],function(g){var w=(g=S(g)).next().value,k=g.next().value;return(g=w.h.find(function(C){return Or(C.key,k)}))?g.value():q.empty()})}function Kt(t){or.call(this,{j:[{type:59,g:3}],arity:1,localName:"get",namespaceURI:"http://www.w3.org/2005/xpath-functions/map",value:function(s,i,c,g){return mt(s,i,c,q.m(r),g)},i:{type:59,g:2}});var r=this;this.type=61,this.h=t}function ba(){}function Zn(t,r){return t.eb()===r.eb()&&t.fb()===r.fb()}function mn(t){if(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)throw Error("FODT0002: Number of seconds given to construct DayTimeDuration overflows MAX_SAFE_INTEGER or MIN_SAFE_INTEGER");this.ea=t}function Ta(t){var r=Math.abs(t.bb()),s=Math.abs(t.getHours()),i=Math.abs(t.getMinutes());return s=(s?s+"H":"")+(i?i+"M":"")+((t=Math.abs(t.getSeconds()))?t+"S":""),(r=r?r+"D":"")&&s?r+"T"+s:r||(s?"T"+s:"T0S")}function lr(t,r,s,i,c,g){return t=86400*t+3600*r+60*s+i+c,new mn(g||t===0?t:-t)}function ds(t){return(t=/^(-)?P(\d+Y)?(\d+M)?(\d+D)?(?:T(\d+H)?(\d+M)?(\d+(\.\d*)?S)?)?$/.exec(t))?lr(t[4]?parseInt(t[4],10):0,t[5]?parseInt(t[5],10):0,t[6]?parseInt(t[6],10):0,t[7]?parseInt(t[7],10):0,t[8]?parseFloat(t[8]):0,!t[1]):null}function vo(t){return(t=/^(Z)|([+-])([01]\d):([0-5]\d)$/.exec(t))[1]==="Z"?lr(0,0,0,0,0,!0):lr(0,t[3]?parseInt(t[3],10):0,t[4]?parseInt(t[4],10):0,0,0,t[2]==="+")}function fs(t,r){if(isNaN(r))throw Error("FOCA0005: Cannot multiply xs:dayTimeDuration by NaN");if((t=t.ea*r)>Number.MAX_SAFE_INTEGER||!Number.isFinite(t))throw Error("FODT0002: Value overflow while multiplying xs:dayTimeDuration");return new mn(t<Number.MIN_SAFE_INTEGER||Object.is(-0,t)?0:t)}function Br(t){return t?parseInt(t,10):null}function po(t){var r=(t+="").startsWith("-");return r&&(t=t.substring(1)),(r?"-":"")+t.padStart(4,"0")}function Gn(t){return(t+"").padStart(2,"0")}function Fs(t){return(t+="").split(".")[0].length===1&&(t=t.padStart(t.length+1,"0")),t}function mr(t){return t.getHours()===0&&t.getMinutes()===0?"Z":(t.qa()?"+":"-")+Gn(Math.abs(t.getHours()))+":"+Gn(Math.abs(t.getMinutes()))}function ja(t,r,s,i,c,g,w,k,C){this.v=t,this.h=r,this.o=s+(i===24?1:0),this.l=i===24?0:i,this.s=c,this.B=g,this.sa=w,this.Y=k,this.type=C===void 0?9:C}function wa(t){var r=/^(?:(-?\d{4,}))?(?:--?(\d\d))?(?:-{1,3}(\d\d))?(T)?(?:(\d\d):(\d\d):(\d\d))?(\.\d+)?(Z|(?:[+-]\d\d:\d\d))?$/.exec(t);t=r[1]?parseInt(r[1],10):null;var s=Br(r[2]),i=Br(r[3]),c=r[4],g=Br(r[5]),w=Br(r[6]),k=Br(r[7]),C=r[8]?parseFloat(r[8]):0;if(r=r[9]?vo(r[9]):null,t&&(-271821>t||273860<t))throw Error("FODT0001: Datetime year is out of bounds");return c?new ja(t,s,i,g,w,k,C,r,9):g!==null&&w!==null&&k!==null?new ja(1972,12,31,g,w,k,C,r,8):t!==null&&s!==null&&i!==null?new ja(t,s,i,0,0,0,0,r,7):t!==null&&s!==null?new ja(t,s,1,0,0,0,0,r,11):s!==null&&i!==null?new ja(1972,s,i,0,0,0,0,r,13):t!==null?new ja(t,1,1,0,0,0,0,r,12):s!==null?new ja(1972,s,1,0,0,0,0,r,14):new ja(1972,12,i,0,0,0,0,r,15)}function Wa(t,r){switch(r){case 15:return new ja(1972,12,t.o,0,0,0,0,t.Y,15);case 14:return new ja(1972,t.h,1,0,0,0,0,t.Y,14);case 12:return new ja(t.v,1,1,0,0,0,0,t.Y,12);case 13:return new ja(1972,t.h,t.o,0,0,0,0,t.Y,13);case 11:return new ja(t.v,t.h,1,0,0,0,0,t.Y,11);case 8:return new ja(1972,12,31,t.l,t.s,t.B,t.sa,t.Y,8);case 7:return new ja(t.v,t.h,t.o,0,0,0,0,t.Y,7);default:return new ja(t.v,t.h,t.o,t.l,t.s,t.B,t.sa,t.Y,9)}}function $r(t,r){return r=t.Y||r||vo("Z"),new Date(Date.UTC(t.v,t.h-1,t.o,t.l-r.getHours(),t.s-r.getMinutes(),t.B,1e3*t.sa))}function Qr(t,r,s){var i=$r(t,s).getTime();return i===(s=$r(r,s).getTime())?t.sa===r.sa?0:t.sa>r.sa?1:-1:i>s?1:-1}function xo(t,r,s){return Qr(t,r,s)===0}function fo(t,r,s){return new mn(t=($r(t,s).getTime()-$r(r,s).getTime())/1e3)}function Gr(t){throw Error("Not implemented: adding durations to "+je[t.type])}function ur(t){throw Error("Not implemented: subtracting durations from "+je[t.type])}function ei(t,r){if(t===null)return null;switch(typeof t){case"boolean":return t?zt:Wt;case"number":return le(t,3);case"string":return le(t,1);case"object":if("nodeType"in t)return $n({node:t,F:null});if(Array.isArray(t))return new En(t.map(function(i){return i===void 0?function(){return q.empty()}:jn(i=(i=ei(i))===null?q.empty():q.m(i))}));if(t instanceof Date){var s=wa(t.toISOString());return le(s,s.type)}return new Kt(Object.keys(t).filter(function(i){return t[i]!==void 0}).map(function(i){var c=ei(t[i]);return c=c===null?q.empty():q.m(c),{key:le(i,1),value:jn(c)}}))}throw Error("Value "+String(t)+' of type "'+typeof t+'" is not adaptable to an XPath value.')}function ti(t,r){if(typeof t!="number"&&(typeof t!="string"||!st.get(r)(t)))throw Error("Cannot convert JavaScript value '"+t+"' to the XPath type "+je[r]+" since it is not valid.")}function Tr(t,r,s){if(r===null)return null;switch(t){case 0:return r?zt:Wt;case 1:return le(r+"",1);case 3:case 2:return ti(r,3),le(+r,3);case 4:return ti(r,t),le(+r,4);case 5:return ti(r,t),le(0|r,5);case 6:return ti(r,t),le(+r,6);case 7:case 8:case 9:case 11:case 12:case 13:case 14:case 15:if(!(r instanceof Date))throw Error("The JavaScript value "+r+" with type "+typeof r+" is not a valid type to be converted to an XPath "+je[t]+".");return le(Wa(wa(r.toISOString()),t),t);case 53:case 47:case 55:case 54:case 56:case 57:case 58:if(typeof r!="object"||!("nodeType"in r))throw Error("The JavaScript value "+r+" with type "+typeof r+" is not a valid type to be converted to an XPath "+je[t]+".");return $n({node:r,F:null});case 59:case 61:return ei(r);default:throw Error('Values of the type "'+je[t]+'" can not be adapted from JavaScript to equivalent XPath values.')}}function gr(t,r,s){if(s.g===0)return(r=Tr(s.type,r))===null?[]:[r];if(s.g===2||s.g===1){if(!Array.isArray(r))throw Error("The JavaScript value "+r+" should be an array if it is to be converted to "+Je(s)+".");return r.map(function(c){return Tr(s.type,c)}).filter(function(c){return c!==null})}var i=Tr(s.type,r);if(i===null)throw Error("The JavaScript value "+r+" should be a single entry if it is to be converted to "+Je(s)+".");return[i]}function sr(t,r,s){return s=s===void 0?{type:59,g:0}:s,q.create(gr(t,r,s))}function ia(){var t=t===void 0?Math.floor(Math.random()*_o):t;this.h=Math.abs(t%_o)}(y=zn.prototype).insertBefore=function(t,r,s){return this.h.insertBefore(t,r,s)},y.removeAttributeNS=function(t,r,s){return this.h.removeAttributeNS(t,r,s)},y.removeChild=function(t,r){return this.h.removeChild(t,r)},y.setAttributeNS=function(t,r,s,i){this.h.setAttributeNS(t,r,s,i)},y.setData=function(t,r){this.h.setData(t,r)},Sr.prototype.getAllAttributes=function(t,r){return Va(t)?t.attributes:this.h.getAllAttributes(t,r===void 0?null:r)},Sr.prototype.getChildNodes=function(t,r){return r=Va(t)?t.childNodes:this.h.getChildNodes(t,r===void 0?null:r),t.nodeType===9?r.filter(function(s){return s.nodeType!==10}):r},Sr.prototype.getData=function(t){return Va(t)?t.nodeType===2?t.value:t.data:this.h.getData(t)||""},Sr.prototype.getParentNode=function(t,r){return this.h.getParentNode(t,r===void 0?null:r)},N(En,or),N(Kt,or),(y=ba.prototype).bb=function(){return 0},y.getHours=function(){return 0},y.getMinutes=function(){return 0},y.cb=function(){return 0},y.eb=function(){return 0},y.fb=function(){return 0},y.getSeconds=function(){return 0},y.gb=function(){return 0},y.qa=function(){return!0},N(mn,ba),(y=mn.prototype).bb=function(){return Math.trunc(this.ea/86400)},y.getHours=function(){return Math.trunc(this.ea%86400/3600)},y.getMinutes=function(){return Math.trunc(this.ea%3600/60)},y.fb=function(){return this.ea},y.getSeconds=function(){var t=this.ea%60;return Object.is(-0,t)?0:t},y.qa=function(){return!Object.is(-0,this.ea)&&0<=this.ea},y.toString=function(){return(this.qa()?"P":"-P")+Ta(this)},(y=ja.prototype).getDay=function(){return this.o},y.getHours=function(){return this.l},y.getMinutes=function(){return this.s},y.getMonth=function(){return this.h},y.getSeconds=function(){return this.B},y.getYear=function(){return this.v},y.toString=function(){switch(this.type){case 9:return po(this.v)+"-"+Gn(this.h)+"-"+Gn(this.o)+"T"+Gn(this.l)+":"+Gn(this.s)+":"+Fs(this.B+this.sa)+(this.Y?mr(this.Y):"");case 7:return po(this.v)+"-"+Gn(this.h)+"-"+Gn(this.o)+(this.Y?mr(this.Y):"");case 8:return Gn(this.l)+":"+Gn(this.s)+":"+Fs(this.B+this.sa)+(this.Y?mr(this.Y):"");case 15:return"---"+Gn(this.o)+(this.Y?mr(this.Y):"");case 14:return"--"+Gn(this.h)+(this.Y?mr(this.Y):"");case 13:return"--"+Gn(this.h)+"-"+Gn(this.o)+(this.Y?mr(this.Y):"");case 12:return po(this.v)+(this.Y?mr(this.Y):"");case 11:return po(this.v)+"-"+Gn(this.h)+(this.Y?mr(this.Y):"")}throw Error("Unexpected subType")};var _o=Math.pow(2,32);function Bo(t,r,s){r=r===void 0?{yb:null,Db:null,tb:!1}:r,s=s===void 0?new ia:s,this.h=r,this.Ka=t.Ka,this.Da=t.Da,this.N=t.N,this.Aa=t.Aa||Object.create(null),this.o=s}function hs(t,r){var s=0,i=r.value;return{next:function(c){return(c=i.next(c)).done?ke:Ce(_r(t,s++,c.value,r))}}}function Ro(t){return t.h.tb||(t.h.tb=!0,t.h.yb=wa(new Date().toISOString()),t.h.Db=ds("PT0S")),t.h.yb}function cr(t){return t.h.tb||(t.h.tb=!0,t.h.yb=wa(new Date().toISOString()),t.h.Db=ds("PT0S")),t.h.Db}function ko(t,r){return t=29421*((r=r===void 0?null:r)!=null?r:t.o.h)%_o,{zb:Math.floor(t),jc:t/_o}}function _r(t,r,s,i){return new Bo({N:s,Ka:r,Da:i||t.Da,Aa:t.Aa},t.h,t.o)}function Rr(t,r){return new Bo({N:t.N,Ka:t.Ka,Da:t.Da,Aa:Object.assign(Object.create(null),t.Aa,r)},t.h,t.o)}function Ni(t,r,s,i,c,g,w,k,C){this.debug=t,this.La=r,this.h=s,this.o=i,this.B=c,this.l=g,this.da=w,this.s=k,this.v=C}function Pa(t){var r=0,s=null,i=!0;return q.create({next:function(c){for(;r<t.length;){s||(s=t[r].value,i=!0);var g=s.next(i?0:c);if(i=!1,!g.done)return g;r++,s=null}return ke}})}function Vr(t,r,s){return Error("FORG0001: Cannot cast "+t+" to "+je[r]+(s?", "+s:""))}function Ja(t){return Error("XPDY0002: "+t)}function pa(t){return Error("XPTY0004: "+t)}function Eo(t){return Error("FOTY0013: Atomization is not supported for "+je[t]+".")}function ms(t){return Error("XPST0081: The prefix "+t+" could not be resolved.")}function Ba(t,r){if(Z(t.type,46)||Z(t.type,19)||Z(t.type,0)||Z(t.type,4)||Z(t.type,3)||Z(t.type,6)||Z(t.type,5)||Z(t.type,2)||Z(t.type,23)||Z(t.type,1))return q.create(t);var s=r.h;if(Z(t.type,53)){var i=t.value;if(i.node.nodeType===2||i.node.nodeType===3)return q.create(le(Oa(s,i),19));if(i.node.nodeType===8||i.node.nodeType===7)return q.create(le(Oa(s,i),1));var c=[];return function g(w){if(i.node.nodeType!==8&&i.node.nodeType!==7){var k=w.nodeType;k===3||k===4?c.push(s.getData(w)):k!==1&&k!==9||s.getChildNodes(w).forEach(function(C){g(C)})}}(i.node),q.create(le(c.join(""),19))}if(Z(t.type,60)&&!Z(t.type,62))throw Eo(t.type);if(Z(t.type,62))return Pa(t.P.map(function(g){return Ra(g(),r)}));throw Error("Atomizing "+t.type+" is not implemented.")}function Ra(t,r){var s=!1,i=t.value,c=null;return q.create({next:function(){for(;!s;){if(!c){var g=i.next(0);if(g.done){s=!0;break}c=Ba(g.value,r).value}if(!(g=c.next(0)).done)return g;c=null}return ke}})}function gs(t){for(t=At[t];t&&t.D!==0;)t=t.parent;return t?t.type:null}function Ms(t,r){var s=(r=At[r]).Na;if(!s||!s.whiteSpace)return r.parent?Ms(t,r.parent.type):t;switch(r.Na.whiteSpace){case"replace":return t.replace(/[\u0009\u000A\u000D]/g," ");case"collapse":return t.replace(/[\u0009\u000A\u000D]/g," ").replace(/ {2,}/g," ").replace(/^ | $/g,"")}return t}function Ko(t,r){for(r=At[r];r&&r.kb===null;){if(r.D===2||r.D===3)return!0;r=r.parent}return!r||r.kb(t)}function Di(t,r){for(;t;){if(t.Pa&&t.Pa[r])return t.Pa[r];t=t.parent}return function(){return!0}}function ys(t,r){for(var s=At[r];s;){if(s.Na&&!Object.keys(s.Na).every(function(i){if(i==="whiteSpace")return!0;var c=Di(s,i);return!c||c(t,s.Na[i])}))return!1;s=s.parent}return!0}function Fo(t){return!t||t.g===2||t.g===0}function Ci(t){return t(1)||t(19)?function(r){return{u:!0,value:le(r,20)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:anyURI or any of its derived types.")}}}function Oi(t){return t(22)?function(r){for(var s="",i=0;i<r.length;i+=2)s+=String.fromCharCode(parseInt(r.substr(i,2),16));return{u:!0,value:le(btoa(s),21)}}:t(1)||t(19)?function(r){return{u:!0,value:le(r,21)}}:function(){return{error:Error("XPTY0004: Casting not supported from given type to xs:base64Binary or any of its derived types."),u:!1}}}function ll(t){return t(2)?function(r){return{u:!0,value:r===0||isNaN(r)?Wt:zt}}:t(1)||t(19)?function(r){switch(r){case"true":case"1":return{u:!0,value:zt};case"false":case"0":return{u:!0,value:Wt};default:return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:boolean or any of its derived types.")}}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:boolean or any of its derived types.")}}}function ul(t){return t(9)?function(r){return{u:!0,value:le(Wa(r,7),7)}}:t(19)||t(1)?function(r){return{u:!0,value:le(wa(r),7)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:date or any of its derived types.")}}}function cl(t){return t(7)?function(r){return{u:!0,value:le(Wa(r,9),9)}}:t(19)||t(1)?function(r){return{u:!0,value:le(wa(r),9)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:dateTime or any of its derived types.")}}}function pl(t){return t(18)&&!t(16)?function(r){return{u:!0,value:le(r.Ja,17)}}:t(16)?function(){return{u:!0,value:le(ds("PT0.0S"),17)}}:t(19)||t(1)?function(r){var s=ds(r);return s?{u:!0,value:le(s,17)}:{u:!1,error:Error("FORG0001: Can not cast "+r+" to xs:dayTimeDuration")}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:dayTimeDuration or any of its derived types.")}}}function Ps(t){return t(5)?function(r){return{u:!0,value:le(r,4)}}:t(6)||t(3)?function(r){return isNaN(r)||!isFinite(r)?{u:!1,error:Error("FOCA0002: Can not cast "+r+" to xs:decimal")}:Math.abs(r)>Number.MAX_VALUE?{u:!1,error:Error("FOAR0002: Can not cast "+r+" to xs:decimal, it is out of bounds for JavaScript numbers")}:{u:!0,value:le(r,4)}}:t(0)?function(r){return{u:!0,value:le(r?1:0,4)}}:t(1)||t(19)?function(r){var s=parseFloat(r);return!isNaN(s)||isFinite(s)?{u:!0,value:le(s,4)}:{u:!1,error:Error("FORG0001: Can not cast "+r+" to xs:decimal")}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:decimal or any of its derived types.")}}}function Ls(t,r){return t(2)?function(s){return{u:!0,value:s}}:t(0)?function(s){return{u:!0,value:s?1:0}}:t(1)||t(19)?function(s){switch(s){case"NaN":return{u:!0,value:NaN};case"INF":case"+INF":return{u:!0,value:1/0};case"-INF":return{u:!0,value:-1/0};case"0":case"+0":return{u:!0,value:0};case"-0":return{u:!0,value:-0}}var i=parseFloat(s);return isNaN(i)?{u:!1,error:Vr(s,r)}:{u:!0,value:i}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to "+r+" or any of its derived types.")}}}function Ao(t){var r=Ls(t,3);return function(s){return(s=r(s)).u?{u:!0,value:le(s.value,3)}:s}}function ho(t){if(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)throw Error("FODT0002: Number of months given to construct YearMonthDuration overflows MAX_SAFE_INTEGER or MIN_SAFE_INTEGER");this.ga=t}function ni(t){var r=Math.abs(t.gb());return(r?r+"Y":"")+((t=Math.abs(t.cb()))?t+"M":"")||"0M"}function ai(t){var r=/^(-)?P(\d+Y)?(\d+M)?(\d+D)?(?:T(\d+H)?(\d+M)?(\d+(\.\d*)?S)?)?$/.exec(t);if(r){if(t=!r[1],(r=12*(r[2]?parseInt(r[2],10):0)+(r[3]?parseInt(r[3],10):0))>Number.MAX_SAFE_INTEGER||!Number.isFinite(r))throw Error("FODT0002: Value overflow while constructing xs:yearMonthDuration");t=new ho(t||r===0?r:-r)}else t=null;return t}function Mo(t,r){if(isNaN(r))throw Error("FOCA0005: Cannot multiply xs:yearMonthDuration by NaN");if((t=Math.round(t.ga*r))>Number.MAX_SAFE_INTEGER||!Number.isFinite(t))throw Error("FODT0002: Value overflow while constructing xs:yearMonthDuration");return new ho(t<Number.MIN_SAFE_INTEGER||t===0?0:t)}function Xo(t,r){this.Wa=t,this.Ja=r}function bs(t){return t(16)?function(r){return{u:!0,value:le(new Xo(r,new mn(r.qa()?0:-0)),18)}}:t(17)?function(r){return{u:!0,value:le(r=new Xo(new ho(r.qa()?0:-0),r),18)}}:t(18)?function(r){return{u:!0,value:le(r,18)}}:t(19)||t(1)?function(r){return{u:!0,value:le(new Xo(ai(r),ds(r)),18)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:duration or any of its derived types.")}}}function Us(t){var r=Ls(t,6);return function(s){return(s=r(s)).u?{u:!0,value:le(s.value,6)}:s}}function ri(t){return t(7)||t(9)?function(r){return{u:!0,value:le(Wa(r,15),15)}}:t(19)||t(1)?function(r){return{u:!0,value:le(wa(r),15)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:gDay or any of its derived types.")}}}function Bi(t){return t(7)||t(9)?function(r){return{u:!0,value:le(Wa(r,14),14)}}:t(19)||t(1)?function(r){return{u:!0,value:le(wa(r),14)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:gMonth or any of its derived types.")}}}function oi(t){return t(7)||t(9)?function(r){return{u:!0,value:le(Wa(r,13),13)}}:t(19)||t(1)?function(r){return{u:!0,value:le(wa(r),13)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:gMonthDay or any of its derived types.")}}}function So(t){return t(7)||t(9)?function(r){return{u:!0,value:le(Wa(r,12),12)}}:t(19)||t(1)?function(r){return{u:!0,value:le(wa(r),12)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:gYear or any of its derived types.")}}}function Ri(t){return t(7)||t(9)?function(r){return{u:!0,value:le(Wa(r,11),11)}}:t(19)||t(1)?function(r){return{u:!0,value:le(wa(r),11)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:gYearMonth or any of its derived types.")}}}function Fi(t){return t(21)?function(r){for(var s="",i=0,c=(r=atob(r)).length;i<c;i++)s+=Number(r.charCodeAt(i)).toString(16);return{u:!0,value:le(s.toUpperCase(),22)}}:t(1)||t(19)?function(r){return{u:!0,value:le(r,22)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:hexBinary or any of its derived types.")}}}function Mi(t){return t(0)?function(r){return{u:!0,value:le(r?1:0,5)}}:t(2)?function(r){var s=Math.trunc(r);return!isFinite(s)||isNaN(s)?{u:!1,error:Error("FOCA0002: can not cast "+r+" to xs:integer")}:Number.isSafeInteger(s)?{u:!0,value:le(s,5)}:{u:!1,error:Error("FOAR0002: can not cast "+r+" to xs:integer, it is out of bounds for JavaScript numbers.")}}:t(1)||t(19)?function(r){var s=parseInt(r,10);return isNaN(s)?{u:!1,error:Vr(r,5)}:Number.isSafeInteger(s)?{u:!0,value:le(s,5)}:{u:!1,error:Error("FOCA0003: can not cast "+r+" to xs:integer, it is out of bounds for JavaScript numbers.")}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:integer or any of its derived types.")}}}N(ho,ba),(y=ho.prototype).cb=function(){var t=this.ga%12;return t===0?0:t},y.eb=function(){return this.ga},y.gb=function(){return Math.trunc(this.ga/12)},y.qa=function(){return!Object.is(-0,this.ga)&&0<=this.ga},y.toString=function(){return(this.qa()?"P":"-P")+ni(this)},N(Xo,ba),(y=Xo.prototype).bb=function(){return this.Ja.bb()},y.getHours=function(){return this.Ja.getHours()},y.getMinutes=function(){return this.Ja.getMinutes()},y.cb=function(){return this.Wa.cb()},y.eb=function(){return this.Wa.eb()},y.fb=function(){return this.Ja.fb()},y.getSeconds=function(){return this.Ja.getSeconds()},y.gb=function(){return this.Wa.gb()},y.qa=function(){return this.Wa.qa()&&this.Ja.qa()},y.toString=function(){var t=this.qa()?"P":"-P",r=ni(this.Wa),s=Ta(this.Ja);return r==="0M"?t+s:s==="T0S"?t+r:t+r+s};var eo=[3,6,4,5];function jr(t){var r=ws;return function(s){for(var i=S(eo),c=i.next();!c.done;c=i.next())if((c=r(t,c.value)(s)).u)return c;return{u:!1,error:Error('XPTY0004: Casting not supported from "'+s+'" given type to xs:numeric or any of its derived types.')}}}function pr(t){if(t(1)||t(19))return function(r){return{u:!0,value:r+""}};if(t(20))return function(r){return{u:!0,value:r}};if(t(23))return function(r){return{u:!0,value:r.prefix?r.prefix+":"+r.localName:r.localName}};if(t(44))return function(r){return{u:!0,value:r.toString()}};if(t(2)){if(t(5)||t(4))return function(r){return{u:!0,value:(r+"").replace("e","E")}};if(t(6)||t(3))return function(r){return isNaN(r)?{u:!0,value:"NaN"}:isFinite(r)?Object.is(r,-0)?{u:!0,value:"-0"}:{u:!0,value:(r+"").replace("e","E").replace("E+","E")}:{u:!0,value:(0>r?"-":"")+"INF"}}}return t(9)||t(7)||t(8)||t(15)||t(14)||t(13)||t(12)||t(11)||t(16)||t(17)||t(18)?function(r){return{u:!0,value:r.toString()}}:t(22)?function(r){return{u:!0,value:r.toUpperCase()}}:function(r){return{u:!0,value:r+""}}}function dl(t){var r=pr(t);return function(s){return(s=r(s)).u?{u:!0,value:le(s.value,1)}:s}}function zs(t){return t(9)?function(r){return{u:!0,value:le(Wa(r,8),8)}}:t(19)||t(1)?function(r){return{u:!0,value:le(wa(r),8)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:time or any of its derived types.")}}}function si(t){var r=pr(t);return function(s){return(s=r(s)).u?{u:!0,value:le(s.value,19)}:s}}function fl(t){return t(18)&&!t(17)?function(r){return{u:!0,value:le(r.Wa,16)}}:t(17)?function(){return{u:!0,value:le(ai("P0M"),16)}}:t(19)||t(1)?function(r){var s=ai(r);return s?{u:!0,value:le(s,16)}:{u:!1,error:Vr(r,16)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:yearMonthDuration or any of its derived types.")}}}var Yo=[2,5,17,16];function ws(t,r){function s(i){return Z(t,i)}if(r===39)return function(){return{u:!1,error:Error("FORG0001: Casting to xs:error is always invalid.")}};switch(r){case 19:return si(s);case 1:return dl(s);case 6:return Us(s);case 3:return Ao(s);case 4:return Ps(s);case 5:return Mi(s);case 2:return jr(t);case 18:return bs(s);case 16:return fl(s);case 17:return pl(s);case 9:return cl(s);case 8:return zs(s);case 7:return ul(s);case 11:return Ri(s);case 12:return So(s);case 13:return oi(s);case 15:return ri(s);case 14:return Bi(s);case 0:return ll(s);case 21:return Oi(s);case 22:return Fi(s);case 20:return Ci(s);case 23:throw Error("Casting to xs:QName is not implemented.")}return function(){return{u:!1,error:Error("XPTY0004: Casting not supported from "+t+" to "+r+".")}}}var to=Object.create(null);function qo(t,r){if(t===19&&r===1)return function(g){return{u:!0,value:le(g,1)}};if(r===44)return function(){return{u:!1,error:Error("XPST0080: Casting to xs:NOTATION is not permitted.")}};if(r===39)return function(){return{u:!1,error:Error("FORG0001: Casting to xs:error is not permitted.")}};if(t===45||r===45)return function(){return{u:!1,error:Error("XPST0080: Casting from or to xs:anySimpleType is not permitted.")}};if(t===46||r===46)return function(){return{u:!1,error:Error("XPST0080: Casting from or to xs:anyAtomicType is not permitted.")}};if(Z(t,60)&&r===1)return function(){return{u:!1,error:Error("FOTY0014: Casting from function item to xs:string is not permitted.")}};if(t===r)return function(g){return{u:!0,value:{type:r,value:g}}};var s=Yo.includes(t)?t:gs(t),i=Yo.includes(r)?r:gs(r);if(i===null||s===null)return function(){return{u:!1,error:Error("XPST0081: Can not cast: type "+(i?je[t]:je[r])+" is unknown.")}};var c=[];return s!==1&&s!==19||c.push(function(g){var w=Ms(g,r);return Ko(w,r)?{u:!0,value:w}:{u:!1,error:Vr(g,r,"pattern validation failed.")}}),s!==i&&(c.push(ws(s,i)),c.push(function(g){return{u:!0,value:g.value}})),i!==19&&i!==1||c.push(function(g){return Ko(g,r)?{u:!0,value:g}:{u:!1,error:Vr(g,r,"pattern validation failed.")}}),c.push(function(g){return ys(g,r)?{u:!0,value:g}:{u:!1,error:Vr(g,r,"pattern validation failed.")}}),c.push(function(g){return{u:!0,value:{type:r,value:g}}}),function(g){g={u:!0,value:g};for(var w=0,k=c.length;w<k&&(g=c[w](g.value)).u!==!1;++w);return g}}function Te(t,r){var s=t.type+1e4*r,i=to[s];return i||(i=to[s]=qo(t.type,r)),i.call(void 0,t.value,r)}function Ee(t,r){if((t=Te(t,r)).u===!0)return t.value;throw t.error}function Fe(t){var r=!1;return{next:function(){return r?ke:(r=!0,Ce(t))}}}function nt(t,r){return t===r||!(!t||!r||t.offset!==r.offset||t.parent!==r.parent)&&nt(t.F,r.F)}function Ve(t,r){return!!(t===r||t.node===r.node&&nt(t.F,r.F))}function rt(t,r,s){var i=dn(t,r,null);t=za(t,i,null),i=0;for(var c=t.length;i<c;++i){var g=t[i];if(Ve(g,r))return-1;if(Ve(g,s))return 1}}function et(t,r){for(var s=[];r;r=dn(t,r,null))s.unshift(r);return s}function Tt(t,r){for(var s=[];r;r=t.getParentNode(r,null))s.unshift(r);return s}function Nt(t,r,s,i){if(s.F||i.F||Va(s.node)||Va(i.node)){if(Ve(s,i))return 0;s=et(r,s),i=et(r,i);var c=s[0],g=i[0];if(!Ve(c,g))return r=t.findIndex(function(ne){return Ve(ne,c)}),s=t.findIndex(function(ne){return Ve(ne,g)}),r===-1&&(r=t.push(c)),s===-1&&(s=t.push(g)),r-s;t=1;for(var w=Math.min(s.length,i.length);t<w&&Ve(s[t],i[t]);++t);return s[t]?i[t]?rt(r,s[t],i[t]):1:-1}if((s=s.node)===(i=i.node))return 0;if(s=Tt(r,s),i=Tt(r,i),s[0]!==i[0]){var k={node:s[0],F:null},C={node:i[0],F:null};return r=t.findIndex(function(ne){return Ve(ne,k)}),s=t.findIndex(function(ne){return Ve(ne,C)}),r===-1&&(r=t.push(k)),s===-1&&(s=t.push(C)),r-s}for(w=1,t=Math.min(s.length,i.length);w<t&&s[w]===i[w];++w);if(t=s[w],s=i[w],!t)return-1;if(!s)return 1;for(r=r.getChildNodes(i[w-1],null),i=0,w=r.length;i<w;++i){var W=r[i];if(W===t)return-1;if(W===s)return 1}}function kt(t,r,s,i){var c=Z(s.type,47),g=Z(i.type,47);if(c&&!g){if(Ve(s=dn(r,s.value),i=i.value))return 1}else if(g&&!c){if(Ve(s=s.value,i=dn(r,i.value)))return-1}else if(c&&g){if(Ve(dn(r,i.value),dn(r,s.value)))return s.value.node.localName>i.value.node.localName?1:-1;s=dn(r,s.value),i=dn(r,i.value)}else s=s.value,i=i.value;return Nt(t,r,s,i)}function Dt(t,r,s){return kt(t.o,t,r,s)}function St(t,r){return Yt(r,function(s,i){return kt(t.o,t,s,i)}).filter(function(s,i,c){return i===0||!Ve(s.value,c[i-1].value)})}function ln(t,r){return t<r?-1:0}function Yt(t,r){if(r=r===void 0?ln:r,1>=t.length)return t;var s=Math.floor(t.length/2),i=Yt(t.slice(0,s),r);for(t=Yt(t.slice(s),r),s=[];i.length&&t.length;)0>r(i[0],t[0])?s.push(i.shift()):s.push(t.shift());return s.concat(i.concat(t))}var qt=f;function Mt(t,r){if(Z(t.type,2)){if(Z(t.type,6))return r===3?le(t.value,3):null;if(Z(t.type,4)){if(r===6)return le(t.value,6);if(r===3)return le(t.value,3)}return null}return Z(t.type,20)&&r===1?le(t.value,1):null}function Xt(t,r,s,i,c){if(Z(t.type,r.type)||(Z(r.type,46)&&Z(t.type,53)&&(t=Ba(t,s).first()),Z(t.type,r.type)||r.type===46))return t;if(Z(t.type,19)){if(!(s=Ee(t,r.type)))throw Error("XPTY0004 Unable to convert "+(c?"return":"argument")+" of type "+je[t.type]+" to type "+Je(r)+" while calling "+i);return s}if(!(s=Mt(t,r.type)))throw Error("XPTY0004 Unable to cast "+(c?"return":"argument")+" of type "+je[t.type]+" to type "+Je(r)+" while calling "+i);return s}function Jt(t){switch(t){case 2:return"*";case 1:return"+";case 0:return"?";case 3:return""}}function gn(t,r,s,i,c){return t.g===0?r.Z({default:function(){return r.map(function(g){return Xt(g,t,s,i,c)})},multiple:function(){throw Error("XPTY0004: Multiplicity of "+(c?"function return value":"function argument")+" of type "+je[t.type]+Jt(t.g)+" for "+i+' is incorrect. Expected "?", but got "+".')}}):t.g===1?r.Z({empty:function(){throw Error("XPTY0004: Multiplicity of "+(c?"function return value":"function argument")+" of type "+je[t.type]+Jt(t.g)+" for "+i+' is incorrect. Expected "+", but got "empty-sequence()"')},default:function(){return r.map(function(g){return Xt(g,t,s,i,c)})}}):t.g===2?r.map(function(g){return Xt(g,t,s,i,c)}):r.Z({m:function(){return r.map(function(g){return Xt(g,t,s,i,c)})},default:function(){throw Error("XPTY0004: Multiplicity of "+(c?"function return value":"function argument")+" of type "+je[t.type]+Jt(t.g)+" for "+i+" is incorrect. Expected exactly one")}})}function Jn(t,r){return Z(t,5)?le(r,5):Z(t,6)?le(r,6):Z(t,3)?le(r,3):le(r,4)}var Fa=[{oa:"M",ma:1e3},{oa:"CM",ma:900},{oa:"D",ma:500},{oa:"CD",ma:400},{oa:"C",ma:100},{oa:"XC",ma:90},{oa:"L",ma:50},{oa:"XL",ma:40},{oa:"X",ma:10},{oa:"IX",ma:9},{oa:"V",ma:5},{oa:"IV",ma:4},{oa:"I",ma:1}];function Fr(t,r){var s=parseInt(t,10);if(t=0>s,!(s=Math.abs(s)))return"-";var i=Fa.reduce(function(c,g){var w=Math.floor(s/g.ma);return s-=w*g.ma,c+g.oa.repeat(w)},"");return r&&(i=i.toLowerCase()),t&&(i="-"+i),i}var Ka="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");function In(t,r){var s=0>(t=parseInt(t,10));if(!(t=Math.abs(t)))return"-";for(var i,c="";0<t;)i=(t-1)%Ka.length,c=Ka[i]+c,t=(t-i)/Ka.length|0;return r&&(c=c.toLowerCase()),s&&(c="-"+c),c}function Da(t){if(Math.floor(t)===t||isNaN(t))return 0;var r=(t=/\d+(?:\.(\d*))?(?:[Ee](-)?(\d+))*/.exec(""+t))[1]?t[1].length:0;return t[3]?t[2]?r+parseInt(t[3],10):0>(t=r-parseInt(t[3],10))?0:t:r}function la(t,r,s){return r&&t*s%1%.5==0?Math.floor(t*s)%2==0?Math.floor(t*s)/s:Math.ceil(t*s)/s:Math.round(t*s)/s}function Kn(t,r,s,i,c,g){var w=!1;return q.create({next:function(){if(w)return ke;var k,C=c.first();if(!C)return w=!0,ke;if((Z(C.type,6)||Z(C.type,3))&&(C.value===0||isNaN(C.value)||C.value===1/0||C.value===-1/0))return w=!0,Ce(C);if(k=g?g.first().value:0,w=!0,Da(C.value)<k)return Ce(C);var W=[5,4,3,6].find(function(ne){return Z(C.type,ne)});switch(k=la(Ee(C,4).value,t,Math.pow(10,k)),W){case 4:return Ce(le(k,4));case 3:return Ce(le(k,3));case 6:return Ce(le(k,6));case 5:return Ce(le(k,5))}}})}function $a(t,r,s,i){return Ra(i,r).Z({empty:function(){return q.m(le(NaN,3))},m:function(){var c=Te(i.first(),3);return c.u?q.m(c.value):q.m(le(NaN,3))},multiple:function(){throw Error("fn:number may only be called with zero or one values")}})}function Qn(t){for(var r=5381,s=0;s<t.length;++s)r=33*r+t.charCodeAt(s),r%=Number.MAX_SAFE_INTEGER;return r}function ye(t,r,s,i){function c(g){function w(k,C,W,ne){if(ne.G()||ne.wa())return ne;for(k=ne.O(),C=g,W=k.length-1;1<W;W--){var _e=k[ne=(C=ko(t,C).zb)%W];k[ne]=k[W],k[W]=_e}return q.create(k)}return q.m(new Kt([{key:le("number",1),value:function(){return q.m(le(ko(t,g).jc,3))}},{key:le("next",1),value:function(){return q.m(new or({value:function(){return c(ko(t,g).zb)},Sa:!0,localName:"",namespaceURI:"",j:[],arity:0,i:{type:61,g:3}}))}},{key:le("permute",1),value:function(){return q.m(new or({value:w,Sa:!0,localName:"",namespaceURI:"",j:[{type:59,g:2}],arity:1,i:{type:59,g:2}}))}}]))}return c(((i=i===void 0?q.empty():i).G()?ko(t):ko(t,Qn(Ee(i.first(),1).value))).zb)}var Me=[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"abs",j:[{type:2,g:0}],i:{type:2,g:0},callFunction:function(t,r,s,i){return i.map(function(c){return Jn(c.type,Math.abs(c.value))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"format-integer",j:[{type:5,g:0},{type:1,g:3}],i:{type:1,g:3},callFunction:function(t,r,s,i,c){if(t=i.first(),c=c.first(),i.G())return q.m(le("",1));switch(c.value){case"I":return i=Fr(t.value),q.m(le(i,1));case"i":return i=Fr(t.value,!0),q.m(le(i,1));case"A":return q.m(le(In(t.value),1));case"a":return q.m(le(In(t.value,!0),1));default:throw Error("Picture: "+c.value+' is not implemented yet. The supported picture strings are "A", "a", "I", and "i"')}}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"ceiling",j:[{type:2,g:0}],i:{type:2,g:0},callFunction:function(t,r,s,i){return i.map(function(c){return Jn(c.type,Math.ceil(c.value))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"floor",j:[{type:2,g:0}],i:{type:2,g:0},callFunction:function(t,r,s,i){return i.map(function(c){return Jn(c.type,Math.floor(c.value))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"round",j:[{type:2,g:0}],i:{type:2,g:0},callFunction:Kn.bind(null,!1)},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"round",j:[{type:2,g:0},{type:5,g:3}],i:{type:2,g:0},callFunction:Kn.bind(null,!1)},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"round-half-to-even",j:[{type:2,g:0}],i:{type:2,g:0},callFunction:Kn.bind(null,!0)},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"round-half-to-even",j:[{type:2,g:0},{type:5,g:3}],i:{type:2,g:0},callFunction:Kn.bind(null,!0)},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"number",j:[{type:46,g:0}],i:{type:3,g:3},callFunction:$a},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"number",j:[],i:{type:3,g:3},callFunction:function(t,r,s){var i=t.N&&gn({type:46,g:0},q.m(t.N),r,"fn:number",!1);if(!i)throw Ja("fn:number needs an atomizable context item.");return $a(t,r,s,i)}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"random-number-generator",j:[],i:{type:61,g:3},callFunction:ye},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"random-number-generator",j:[{type:46,g:0}],i:{type:61,g:3},callFunction:ye}];function We(){throw Error("FOCH0002: No collations are supported")}function Pe(t,r,s,i){if(r.N===null)throw Ja("The function which was called depends on dynamic context, which is absent.");return t(r,s,i,q.m(r.N))}function at(t,r,s,i){return i.Z({empty:function(){return q.m(le("",1))},default:function(){return i.map(function(c){if(Z(c.type,53)){var g=Ba(c,r).first();return Z(c.type,47)?Ee(g,1):g}return Ee(c,1)})}})}function qe(t,r,s,i,c){return Rn([c],function(g){var w=S(g).next().value;return Ra(i,r).M(function(k){return k=k.map(function(C){return Ee(C,1).value}).join(w.value),q.m(le(k,1))})})}function gt(t,r,s,i){return i.G()?q.m(le(0,5)):(t=i.first().value,q.m(le(Array.from(t).length,5)))}function Ye(t,r,s,i,c,g){var w=Kn(!1,t,r,s,c,null),k=g!==null?Kn(!1,t,r,s,g,null):null,C=!1,W=null,ne=null,_e=null;return q.create({next:function(){return C?ke:W||(W=i.first())!==null?(ne||(ne=w.first()),!_e&&g&&(_e=null,_e=k.first()),C=!0,Ce(le(Array.from(W.value).slice(Math.max(ne.value-1,0),g?ne.value+_e.value-1:void 0).join(""),1))):(C=!0,Ce(le("",1)))}})}function wt(t,r,s,i,c){return i.G()||i.first().value.length===0?q.empty():(t=i.first().value,c=Vt(c=c.first().value),q.create(t.split(c).map(function(g){return le(g,1)})))}function xt(t,r,s,i){return i.G()?q.m(le("",1)):(t=i.first().value.trim(),q.m(le(t.replace(/\s+/g," "),1)))}var $t=new Map,en=new Map;function Vt(t){if(en.has(t))return en.get(t);try{var r=new RegExp(t,"g")}catch(s){throw Error("FORX0002: "+s)}if(r.test(""))throw Error("FORX0003: the pattern "+t+" matches the zero length string");return en.set(t,r),r}var tn=[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"compare",j:[{type:1,g:0},{type:1,g:0}],i:{type:5,g:0},callFunction:function(t,r,s,i,c){return i.G()||c.G()?q.empty():(t=i.first().value)>(c=c.first().value)?q.m(le(1,5)):t<c?q.m(le(-1,5)):q.m(le(0,5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"compare",j:[{type:1,g:0},{type:1,g:0},{type:1,g:3}],i:{type:5,g:0},callFunction:We},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"concat",j:[{type:46,g:0},{type:46,g:0},4],i:{type:1,g:3},callFunction:function(t,r,s){var i=re.apply(3,arguments);return Rn(i=i.map(function(c){return Ra(c,r).M(function(g){return q.m(le(g.map(function(w){return w===null?"":Ee(w,1).value}).join(""),1))})}),function(c){return q.m(le(c.map(function(g){return g.value}).join(""),1))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"contains",j:[{type:1,g:0},{type:1,g:0},{type:1,g:0}],i:{type:0,g:3},callFunction:We},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"contains",j:[{type:1,g:0},{type:1,g:0}],i:{type:0,g:3},callFunction:function(t,r,s,i,c){return t=i.G()?"":i.first().value,(c=c.G()?"":c.first().value).length===0?q.ba():t.length===0?q.W():t.includes(c)?q.ba():q.W()}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"ends-with",j:[{type:1,g:0},{type:1,g:0}],i:{type:0,g:3},callFunction:function(t,r,s,i,c){return(t=c.G()?"":c.first().value).length===0?q.ba():(i=i.G()?"":i.first().value).length===0?q.W():i.endsWith(t)?q.ba():q.W()}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"ends-with",j:[{type:1,g:0},{type:1,g:0},{type:1,g:3}],i:{type:0,g:3},callFunction:We},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"normalize-space",j:[{type:1,g:0}],i:{type:1,g:3},callFunction:xt},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"normalize-space",j:[],i:{type:1,g:3},callFunction:Pe.bind(null,function(t,r,s,i){return xt(t,r,s,at(t,r,s,i))})},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"starts-with",j:[{type:1,g:0},{type:1,g:0}],i:{type:0,g:3},callFunction:function(t,r,s,i,c){return(t=c.G()?"":c.first().value).length===0?q.ba():(i=i.G()?"":i.first().value).length===0?q.W():i.startsWith(t)?q.ba():q.W()}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"starts-with",j:[{type:1,g:0},{type:1,g:0},{type:1,g:3}],i:{type:0,g:3},callFunction:We},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"string",j:[{type:59,g:0}],i:{type:1,g:3},callFunction:at},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"string",j:[],i:{type:1,g:3},callFunction:Pe.bind(null,at)},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"substring-before",j:[{type:1,g:0},{type:1,g:0}],i:{type:1,g:3},callFunction:function(t,r,s,i,c){return t=i.G()?"":i.first().value,(c=c.G()?"":c.first().value)===""||(c=t.indexOf(c))===-1?q.m(le("",1)):q.m(le(t.substring(0,c),1))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"substring-after",j:[{type:1,g:0},{type:1,g:0}],i:{type:1,g:3},callFunction:function(t,r,s,i,c){return t=i.G()?"":i.first().value,(c=c.G()?"":c.first().value)===""?q.m(le(t,1)):(r=t.indexOf(c))===-1?q.m(le("",1)):q.m(le(t.substring(r+c.length),1))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"substring",j:[{type:1,g:0},{type:3,g:3}],i:{type:1,g:3},callFunction:Ye},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"substring",j:[{type:1,g:0},{type:3,g:3},{type:3,g:3}],i:{type:1,g:3},callFunction:Ye},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"upper-case",j:[{type:1,g:0}],i:{type:1,g:3},callFunction:function(t,r,s,i){return i.G()?q.m(le("",1)):i.map(function(c){return le(c.value.toUpperCase(),1)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"lower-case",j:[{type:1,g:0}],i:{type:1,g:3},callFunction:function(t,r,s,i){return i.G()?q.m(le("",1)):i.map(function(c){return le(c.value.toLowerCase(),1)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"string-join",j:[{type:46,g:2},{type:1,g:3}],i:{type:1,g:3},callFunction:qe},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"string-join",j:[{type:46,g:2}],i:{type:1,g:3},callFunction:function(t,r,s,i){return qe(t,r,s,i,q.m(le("",1)))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"string-length",j:[{type:1,g:0}],i:{type:5,g:3},callFunction:gt},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"string-length",j:[],i:{type:5,g:3},callFunction:Pe.bind(null,function(t,r,s,i){return gt(t,r,s,at(t,r,s,i))})},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"tokenize",j:[{type:1,g:0},{type:1,g:3},{type:1,g:3}],i:{type:1,g:2},callFunction:function(){throw Error("Not implemented: Using flags in tokenize is not supported")}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"tokenize",j:[{type:1,g:0},{type:1,g:3}],i:{type:1,g:2},callFunction:wt},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"tokenize",j:[{type:1,g:0}],i:{type:1,g:2},callFunction:function(t,r,s,i){return wt(t,r,s,xt(t,r,s,i),q.m(le(" ",1)))}},{j:[{type:1,g:0},{type:1,g:3},{type:1,g:3}],callFunction:function(t,r,s,i,c,g){return Rn([i,c,g],function(w){var k=S(w),C=k.next().value;w=k.next().value,k=k.next().value,C=Array.from(C?C.value:"");var W=Array.from(w.value),ne=Array.from(k.value);return w=C.map(function(_e){return W.includes(_e)?(_e=W.indexOf(_e))<=ne.length?ne[_e]:void 0:_e}),q.m(le(w.join(""),1))})},localName:"translate",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{j:[{type:5,g:2}],callFunction:function(t,r,s,i){return i.M(function(c){return c=c.map(function(g){if((g=g.value)===9||g===10||g===13||32<=g&&55295>=g||57344<=g&&65533>=g||65536<=g&&1114111>=g)return String.fromCodePoint(g);throw Error("FOCH0001")}).join(""),q.m(le(c,1))})},localName:"codepoints-to-string",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{j:[{type:1,g:0}],callFunction:function(t,r,s,i){return Rn([i],function(c){return(c=(c=S(c).next().value)?c.value.split(""):[]).length===0?q.empty():q.create(c.map(function(g){return le(g.codePointAt(0),5)}))})},localName:"string-to-codepoints",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:5,g:2}},{j:[{type:1,g:0}],callFunction:function(t,r,s,i){return Rn([i],function(c){return(c=S(c).next().value)===null||c.value.length===0?q.create(le("",1)):q.create(le(encodeURIComponent(c.value).replace(/[!'()*]/g,function(g){return"%"+g.charCodeAt(0).toString(16).toUpperCase()}),1))})},localName:"encode-for-uri",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{j:[{type:1,g:0}],callFunction:function(t,r,s,i){return Rn([i],function(c){return(c=S(c).next().value)===null||c.value.length===0?q.create(le("",1)):q.create(le(c.value.replace(/([\u00A0-\uD7FF\uE000-\uFDCF\uFDF0-\uFFEF "<>{}|\\^`/\n\u007f\u0080-\u009f]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,function(g){return encodeURI(g)}),1))})},localName:"iri-to-uri",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{j:[{type:1,g:0},{type:1,g:0}],callFunction:function(t,r,s,i,c){return Rn([i,c],function(g){var w=S(g);if(g=w.next().value,w=w.next().value,g===null||w===null)return q.empty();if(g=g.value,w=w.value,g.length!==w.length)return q.W();g=g.split(""),w=w.split("");for(var k=0;k<g.length;k++)if(g[k].codePointAt(0)!==w[k].codePointAt(0))return q.W();return q.ba()})},localName:"codepoint-equal",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:0,g:0}},{j:[{type:1,g:0},{type:1,g:3}],callFunction:function(t,r,s,i,c){return Rn([i,c],function(g){var w=S(g);g=w.next().value,w=w.next().value,g=g?g.value:"",w=w.value;var k=$t.get(w);if(!k){try{k=qt.compile(w,{language:"xpath"})}catch(C){throw Error("FORX0002: "+C)}$t.set(w,k)}return k(g)?q.ba():q.W()})},localName:"matches",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:0,g:3}},{j:[{type:1,g:0},{type:1,g:3},{type:1,g:3}],callFunction:function(t,r,s,i,c,g){return Rn([i,c,g],function(w){var k=S(w);w=k.next().value;var C=k.next().value;if(k=k.next().value,w=w?w.value:"",C=C.value,(k=k.value).includes("$0"))throw Error("Using $0 in fn:replace to replace substrings with full matches is not supported.");return k=k.split(/((?:\$\$)|(?:\\\$)|(?:\\\\))/).map(function(W){switch(W){case"\\$":return"$$";case"\\\\":return"\\";case"$$":throw Error('FORX0004: invalid replacement: "$$"');default:return W}}).join(""),C=Vt(C),w=w.replace(C,k),q.m(le(w,1))})},localName:"replace",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{j:[{type:1,g:0},{type:1,g:3},{type:1,g:3},{type:1,g:3}],localName:"replace",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3},callFunction:function(){throw Error("Not implemented: Using flags in replace is not supported")}}];function cn(t,r,s,i,c){if(s.N===null)throw Ja("The function "+t+" depends on dynamic context, which is absent.");return r(s,i,c,q.m(s.N))}function Fn(t,r,s,i){return Rn([i],function(c){if((c=S(c).next().value)===null)return q.empty();switch((c=c.value).node.nodeType){case 1:case 2:return q.m(le(new Ga(c.node.prefix,c.node.namespaceURI,c.node.localName),23));case 7:return q.m(le(new Ga("","",c.node.target),23));default:return q.empty()}})}function Ia(t,r,s,i){return i.Z({default:function(){return at(t,r,s,Fn(t,r,s,i))},empty:function(){return q.m(le("",1))}})}function kr(t,r,s,i){return Ra(i,r)}function Ir(t,r,s,i){return Rn([i],function(c){return(c=(c=S(c).next().value)?c.value:null)!==null&&uo(r.h,c,null)?q.ba():q.W()})}function mo(t,r,s,i){return Rn([i],function(c){function g(W){for(var ne=0,_e=W;_e!==null;)W.node.nodeType===_e.node.nodeType&&(_e.node.nodeType===1?_e.node.localName===W.node.localName&&_e.node.namespaceURI===W.node.namespaceURI:_e.node.nodeType!==7||_e.node.target===W.node.target)&&ne++,_e=Ha(k,_e,null);return ne}var w=S(c).next().value;if(w===null)return q.empty();var k=r.h;for(c="",w=w.value;dn(r.h,w,null)!==null;w=dn(r.h,w,null))switch(w.node.nodeType){case 1:var C=w;c="/Q{"+(C.node.namespaceURI||"")+"}"+C.node.localName+"["+g(C)+"]"+c;break;case 2:c="/@"+((C=w).node.namespaceURI?"Q{"+C.node.namespaceURI+"}":"")+C.node.localName+c;break;case 3:c="/text()["+g(w)+"]"+c;break;case 7:c="/processing-instruction("+(C=w).node.target+")["+g(C)+"]"+c;break;case 8:c="/comment()["+g(w)+"]"+c}return w.node.nodeType===9?q.create(le(c||"/",1)):q.create(le("Q{http://www.w3.org/2005/xpath-functions}root()"+c,1))})}function ii(t,r,s,i){return i.map(function(c){return le(c.value.node.namespaceURI||"",20)})}function vs(t,r,s,i){return i.Z({default:function(){return i.map(function(c){return c.value.node.nodeType===7?le(c.value.node.target,1):le(c.value.node.localName||"",1)})},empty:function(){return q.m(le("",1))}})}function $s(t,r,s){if(r.node.nodeType===2)return Ve(r,s);for(;s;){if(Ve(r,s))return!0;if(s.node.nodeType===9)break;s=dn(t,s,null)}return!1}function xs(t,r,s,i){return i.map(function(c){if(!Z(c.type,53))throw Error("XPTY0004 Argument passed to fn:root() should be of the type node()");for(c=c.value;c;){var g=c;c=dn(r.h,g,null)}return $n(g)})}var Pi=[{j:[{type:53,g:0}],callFunction:Ia,localName:"name",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{j:[],callFunction:cn.bind(null,"name",Ia),localName:"name",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{j:[{type:53,g:3}],callFunction:ii,localName:"namespace-uri",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:20,g:3}},{j:[],callFunction:cn.bind(null,"namespace-uri",ii),localName:"namespace-uri",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:20,g:3}},{j:[{type:53,g:2}],callFunction:function(t,r,s,i){return i.M(function(c){return c.length?(c=St(r.h,c).reduceRight(function(g,w,k,C){return k===C.length-1?(g.push(w),g):($s(r.h,w.value,g[0].value)||g.unshift(w),g)},[]),q.create(c)):q.empty()})},localName:"innermost",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:53,g:2}},{j:[{type:53,g:2}],callFunction:function(t,r,s,i){return i.M(function(c){return c.length?(c=St(r.h,c).reduce(function(g,w,k){return k===0?(g.push(w),g):($s(r.h,g[g.length-1].value,w.value)||g.push(w),g)},[]),q.create(c)):q.empty()},1)},localName:"outermost",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:53,g:2}},{j:[{type:53,g:0}],callFunction:Ir,localName:"has-children",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:0,g:3}},{j:[],callFunction:cn.bind(null,"has-children",Ir),localName:"has-children",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:0,g:3}},{j:[{type:53,g:0}],callFunction:mo,localName:"path",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:0}},{j:[],callFunction:cn.bind(null,"path",mo),localName:"path",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:0}},{j:[{type:53,g:0}],callFunction:Fn,localName:"node-name",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:23,g:0}},{j:[],callFunction:cn.bind(null,"node-name",Fn),localName:"node-name",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:23,g:0}},{j:[{type:53,g:0}],callFunction:vs,localName:"local-name",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{j:[],callFunction:cn.bind(null,"local-name",vs),localName:"local-name",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{j:[{type:53,g:0}],callFunction:xs,localName:"root",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:53,g:0}},{j:[],callFunction:cn.bind(null,"root",xs),localName:"root",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:53,g:0}},{j:[],callFunction:cn.bind(null,"data",kr),localName:"data",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:2}},{j:[{type:59,g:2}],callFunction:kr,localName:"data",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:2}}];function Li(t,r){var s=0,i=t.length,c=!1,g=null;return{next:function(){if(!c){for(;s<i;){g||(g=r(t[s],s,t));var w=g.next(0);if(g=null,!w.value)return Ce(!1);s++}return c=!0,Ce(!0)}return ke}}}function li(t){return(t=t.node.nodeType)===1||t===3}function jt(t,r){if((Z(t.type,4)||Z(t.type,6))&&(Z(r.type,4)||Z(r.type,6))){var s=Ee(t,6),i=Ee(r,6);return s.value===i.value||isNaN(t.value)&&isNaN(r.value)}return(Z(t.type,4)||Z(t.type,6)||Z(t.type,3))&&(Z(r.type,4)||Z(r.type,6)||Z(r.type,3))?(s=Ee(t,3),i=Ee(r,3),s.value===i.value||isNaN(t.value)&&isNaN(r.value)):Z(t.type,23)&&Z(r.type,23)?t.value.namespaceURI===r.value.namespaceURI&&t.value.localName===r.value.localName:(Z(t.type,9)||Z(t.type,7)||Z(t.type,8)||Z(t.type,11)||Z(t.type,12)||Z(t.type,13)||Z(t.type,14)||Z(t.type,15))&&(Z(r.type,9)||Z(r.type,7)||Z(r.type,8)||Z(r.type,11)||Z(r.type,12)||Z(r.type,13)||Z(r.type,14)||Z(r.type,15))?xo(t.value,r.value):(Z(t.type,16)||Z(t.type,17)||Z(t.type,18))&&(Z(r.type,16)||Z(r.type,17)||Z(r.type,17))?Zn(t.value,r.value):t.value===r.value}function yn(t,r,s){return s=S([r,s].map(function(i){return{type:1,value:i.reduce(function(c,g){return c+Ba(g,t).first().value},"")}})),Ce(jt(r=s.next().value,s=s.next().value))}function ea(t,r,s,i){for(;t.value&&Z(t.value.type,56);){r.push(t.value);var c=zr(i,t.value.value);if(t=s.next(0),c&&c.node.nodeType!==3)break}return t}function Pn(t,r,s,i,c){var g,w=r.h,k=i.value,C=c.value,W=null,ne=null,_e=null,ze=[],Ke=[];return{next:function(){for(;!g;)if(W||(W=k.next(0)),W=ea(W,ze,k,w),ne||(ne=C.next(0)),ne=ea(ne,Ke,C,w),ze.length||Ke.length){var ut=yn(r,ze,Ke);if(ze.length=0,Ke.length=0,ut.value===!1)return g=!0,ut}else{if(W.done||ne.done)return g=!0,Ce(W.done===ne.done);if(_e||(_e=Mr(t,r,s,W.value,ne.value)),ut=_e.next(0),_e=null,ut.value===!1)return g=!0,ut;ne=W=null}return ke}}}function Vn(t,r,s,i,c){return i.h.length!==c.h.length?Fe(!1):Li(i.h,function(g){var w=c.h.find(function(k){return jt(k.key,g.key)});return w?Pn(t,r,s,g.value(),w.value()):Fe(!1)})}function Dn(t,r,s,i,c){return i.P.length!==c.P.length?Fe(!1):Li(i.P,function(g,w){return w=c.P[w],Pn(t,r,s,g(),w())})}function va(t,r,s,i,c){return i=za(r.h,i.value),c=za(r.h,c.value),i=i.filter(function(g){return li(g)}),c=c.filter(function(g){return li(g)}),Pn(t,r,s,i=q.create(i.map(function(g){return $n(g)})),c=q.create(c.map(function(g){return $n(g)})))}function An(t,r,s,i,c){var g=Pn(t,r,s,Fn(t,r,s,q.m(i)),Fn(t,r,s,q.m(c))),w=va(t,r,s,i,c);i=lo(r.h,i.value).filter(function(W){return W.node.namespaceURI!=="http://www.w3.org/2000/xmlns/"}).sort(function(W,ne){return W.node.nodeName>ne.node.nodeName?1:-1}).map(function(W){return $n(W)}),c=lo(r.h,c.value).filter(function(W){return W.node.namespaceURI!=="http://www.w3.org/2000/xmlns/"}).sort(function(W,ne){return W.node.nodeName>ne.node.nodeName?1:-1}).map(function(W){return $n(W)});var k=Pn(t,r,s,q.create(i),q.create(c)),C=!1;return{next:function(){if(C)return ke;var W=g.next(0);return!W.done&&W.value===!1||!(W=k.next(0)).done&&W.value===!1?(C=!0,W):(W=w.next(0),C=!0,W)}}}function xa(t,r,s,i,c){var g=Pn(t,r,s,Fn(t,r,s,q.m(i)),Fn(t,r,s,q.m(c))),w=!1;return{next:function(){if(w)return ke;var k=g.next(0);return k.done||k.value!==!1?Ce(jt(Ba(i,r).first(),Ba(c,r).first())):(w=!0,k)}}}function Mr(t,r,s,i,c){if(Z(i.type,46)&&Z(c.type,46))return Fe(jt(i,c));if(Z(i.type,61)&&Z(c.type,61))return Vn(t,r,s,i,c);if(Z(i.type,62)&&Z(c.type,62))return Dn(t,r,s,i,c);if(Z(i.type,53)&&Z(c.type,53)){if(Z(i.type,55)&&Z(c.type,55))return va(t,r,s,i,c);if(Z(i.type,54)&&Z(c.type,54))return An(t,r,s,i,c);if(Z(i.type,47)&&Z(c.type,47)||Z(i.type,57)&&Z(c.type,57)||Z(i.type,58)&&Z(c.type,58))return xa(t,r,s,i,c)}return Fe(!1)}function Xn(t){return Error("XUST0001: "+(t===void 0?"Can not execute an updating expression in a non-updating context.":t))}function Gs(t){return Error("XUTY0004: The attribute "+t.name+'="'+t.value+'" follows a node that is not an attribute node.')}function _s(){return Error("XUTY0005: The target of a insert expression with into must be a single element or document node.")}function Xc(){return Error("XUTY0006: The target of a insert expression with before or after must be a single element, text, comment, or processing instruction node.")}function Zl(){return Error("XUTY0008: The target of a replace expression must be a single element, attribute, text, comment, or processing instruction node.")}function of(){return Error("XUTY0012: The target of a rename expression must be a single element, attribute, or processing instruction node.")}function Yc(t){return Error("XUDY0017: The target "+t.outerHTML+" is used in more than one replace value of expression.")}function tc(t){return Error("XUDY0021: Applying the updates will result in the XDM instance violating constraint: '"+t+"'")}function Jl(t){return Error("XUDY0023: The namespace binding "+t+" is conflicting.")}function Zo(t){return Error("XUDY0024: The namespace binding "+t+" is conflicting.")}function hl(){return Error("XUDY0027: The target for an insert, replace, or rename expression expression should not be empty.")}function Et(t,r,s,i,c){s=s===void 0?{C:!1,X:!1,R:"unsorted",subtree:!1}:s,this.o=t,this.da=s.R||"unsorted",this.subtree=!!s.subtree,this.X=!!s.X,this.C=!!s.C,this.ta=r,this.I=!1,this.ab=null,this.Yb=i!==void 0&&i,this.type=c}function bn(t,r,s){return r&&r.N!==null&&t.C?(t.ab===null&&(t.ab=jn(t.h(null,s).sb())),t=t.ab()):t=t.h(r,s),t}function nc(t,r){this.J=t,this.fa=r}function ac(t){t&&typeof t=="object"&&"nodeType"in t&&typeof(t=t.ownerDocument||t).createElementNS=="function"&&typeof t.createProcessingInstruction=="function"&&typeof t.createTextNode=="function"&&typeof t.createComment=="function"&&(this.h=t),this.h||(this.h=null)}function qc(t,r,s,i){var c=dn(s,t).node,g=(t=zr(s,t))?t.node:null;r.forEach(function(w){i.insertBefore(c,w.node,g)})}function rc(t,r,s,i){var c=dn(s,t).node;r.forEach(function(g){i.insertBefore(c,g.node,t.node)})}function oc(t,r,s,i){var c=(s=uo(s,t))?s.node:null;r.forEach(function(g){i.insertBefore(t.node,g.node,c)})}function Zc(t,r,s){r.forEach(function(i){s.insertBefore(t.node,i.node,null)})}function Jc(t,r,s,i){r.forEach(function(c){var g=c.node.nodeName;if(Zr(s,t,g))throw tc("An attribute "+g+" already exists.");i.setAttributeNS(t.node,c.node.namespaceURI,g,Oa(s,c))})}function sf(t,r,s,i,c){switch(i||(i=new ac(t?t.node:null)),t.node.nodeType){case 1:var g=s.getAllAttributes(t.node),w=s.getChildNodes(t.node),k=i.createElementNS(r.namespaceURI,r.Ca()),C={node:k,F:null};g.forEach(function(W){c.setAttributeNS(k,W.namespaceURI,W.nodeName,W.value)}),w.forEach(function(W){c.insertBefore(k,W,null)});break;case 2:(r=i.createAttributeNS(r.namespaceURI,r.Ca())).value=Oa(s,t),C={node:r,F:null};break;case 7:C={node:i.createProcessingInstruction(r.Ca(),Oa(s,t)),F:null}}if(!dn(s,t))throw Error("Not supported: renaming detached nodes.");Qc(t,[C],s,c)}function lf(t,r,s,i){s.getChildNodes(t.node).forEach(function(c){return i.removeChild(t.node,c)}),r&&i.insertBefore(t.node,r.node,null)}function Qc(t,r,s,i){var c=dn(s,t),g=t.node.nodeType;if(g===2){if(r.some(function(C){return C.node.nodeType!==2}))throw Error('Constraint "If $target is an attribute node, $replacement must consist of zero or more attribute nodes." failed.');var w=c?c.node:null;i.removeAttributeNS(w,t.node.namespaceURI,t.node.nodeName),r.forEach(function(C){var W=C.node.nodeName;if(Zr(s,c,W))throw tc("An attribute "+W+" already exists.");i.setAttributeNS(w,C.node.namespaceURI,W,Oa(s,C))})}if(g===1||g===3||g===8||g===7){var k=(g=zr(s,t))?g.node:null;i.removeChild(c.node,t.node),r.forEach(function(C){i.insertBefore(c.node,C.node,k)})}}function ep(t,r,s,i){if(uf(t,r),t.filter(function(c){return["insertInto","insertAttributes","replaceValue","rename"].indexOf(c.type)!==-1}).forEach(function(c){switch(c.type){case"insertInto":Zc(c.target,c.content,i);break;case"insertAttributes":Jc(c.target,c.content,r,i);break;case"rename":sf(c.target,c.o,r,s,i);break;case"replaceValue":var g=c.target;if(c=c.o,g.node.nodeType===2){var w=dn(r,g);w?i.setAttributeNS(w.node,g.node.namespaceURI,g.node.nodeName,c):g.node.value=c}else i.setData(g.node,c)}}),t.filter(function(c){return["insertBefore","insertAfter","insertIntoAsFirst","insertIntoAsLast"].indexOf(c.type)!==-1}).forEach(function(c){switch(c.type){case"insertAfter":qc(c.target,c.content,r,i);break;case"insertBefore":rc(c.target,c.content,r,i);break;case"insertIntoAsFirst":oc(c.target,c.content,r,i);break;case"insertIntoAsLast":Zc(c.target,c.content,i)}}),t.filter(function(c){return c.type==="replaceNode"}).forEach(function(c){Qc(c.target,c.o,r,i)}),t.filter(function(c){return c.type==="replaceElementContent"}).forEach(function(c){lf(c.target,c.text,r,i)}),t.filter(function(c){return c.type==="delete"}).forEach(function(c){c=c.target;var g=dn(r,c);(g=g?g.node:null)&&(c.node.nodeType===2?i.removeAttributeNS(g,c.node.namespaceURI,c.node.nodeName):i.removeChild(g,c.node))}),t.some(function(c){return c.type==="put"}))throw Error('Not implemented: the execution for pendingUpdate "put" is not yet implemented.')}function uf(t,r){function s(g){return new Ga(g.node.prefix,g.node.namespaceURI,g.node.localName)}function i(g,w){var k=new Set;t.filter(function(C){return C.type===g}).map(function(C){return C.target}).forEach(function(C){C=C?C.node:null,k.has(C)&&w(C),k.add(C)})}i("rename",function(g){throw Error("XUDY0015: The target "+g.outerHTML+" is used in more than one rename expression.")}),i("replaceNode",function(g){throw Error("XUDY0016: The target "+g.outerHTML+" is used in more than one replace expression.")}),i("replaceValue",function(g){throw Yc(g)}),i("replaceElementContent",function(g){throw Yc(g)});var c=new Map;t.filter(function(g){return g.type==="replaceNode"&&g.target.node.nodeType===2}).forEach(function(g){var w=dn(r,g.target);w=w?w.node:null;var k=c.get(w);k?k.push.apply(k,D(g.o.map(s))):c.set(w,g.o.map(s))}),t.filter(function(g){return g.type==="rename"&&g.target.node.nodeType===2}).forEach(function(g){var w=dn(r,g.target);if(w){w=w.node;var k=c.get(w);k?k.push(g.o):c.set(w,[g.o])}}),c.forEach(function(g){var w={};g.forEach(function(k){if(w[k.prefix]||(w[k.prefix]=k.namespaceURI),w[k.prefix]!==k.namespaceURI)throw Zo(k.namespaceURI)})})}function Po(t){return t.concat.apply(t,D(re.apply(1,arguments).filter(Boolean)))}function Nr(t,r,s,i){Et.call(this,t,r,s,!0,i),this.I=!0}function Jo(t){return t.I?function(r,s){return t.s(r,s)}:function(r,s){var i=t.h(r,s);return{next:function(){return Ce({fa:[],J:i.O()})}}}}function Ui(t,r){return r((t=t.next(0)).value.fa),q.create(t.value.J)}function yr(t,r,s,i){Nr.call(this,t,r,s,i),this.I=this.ta.some(function(c){return c.I})}function cf(t){t.ta.some(function(r){return r.I})&&(t.I=!0)}Et.prototype.B=function(){return null},Et.prototype.v=function(t){if(this.ta.forEach(function(r){return r.v(t)}),!this.Yb&&this.ta.some(function(r){return r.I}))throw Xn()},(y=ac.prototype).createAttributeNS=function(t,r){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.createAttributeNS(t,r)},y.createCDATASection=function(t){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.createCDATASection(t)},y.createComment=function(t){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.createComment(t)},y.createDocument=function(){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.implementation.createDocument(null,null,null)},y.createElementNS=function(t,r){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.createElementNS(t,r)},y.createProcessingInstruction=function(t,r){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.createProcessingInstruction(t,r)},y.createTextNode=function(t){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.createTextNode(t)},N(Nr,Et),Nr.prototype.h=function(){throw Xn()},N(yr,Nr),yr.prototype.h=function(t,r){return this.A(t,r,this.ta.map(function(s){return function(i){return s.h(i,r)}}))},yr.prototype.s=function(t,r){var s=[],i=this.A(t,r,this.ta.map(function(g){return g.I?function(w){return Ui(w=g.s(w,r),function(k){return s=Po(s,k)})}:function(w){return g.h(w,r)}})),c=!1;return{next:function(){if(c)return ke;var g=i.O();return c=!0,Ce(new nc(g,s))}}},yr.prototype.v=function(t){Nr.prototype.v.call(this,t),cf(this)};var Ql=["external","attribute","nodeName","nodeType","universal"],pf=Ql.length;function ra(t){if(this.h=Ql.map(function(r){return t[r]||0}),Object.keys(t).some(function(r){return!Ql.includes(r)}))throw Error("Invalid specificity kind passed")}function To(t,r){for(var s=0;s<pf;++s){if(r.h[s]<t.h[s])return 1;if(r.h[s]>t.h[s])return-1}return 0}function sc(){return pa("Expected base expression of a function call to evaluate to a sequence of single function item")}function zi(t,r,s,i){for(var c=[],g=0;g<r.length;++g)if(r[g]===null)c.push(null);else{var w=gn(t[g],r[g],s,i,!1);c.push(w)}return c}function ic(t,r){if(!Z(t.type,60))throw pa("Expected base expression to evaluate to a function item");if(t.v!==r)throw sc();return t}function lc(t,r,s,i,c,g,w){var k=0;return c=c.map(function(C){return C?null:g[k++](s)}),0<=(c=zi(t.o,c,i,t.B)).indexOf(null)?Ar(t,c):(r=r.apply(void 0,[s,i,w].concat(D(c))),gn(t.s,r,i,t.B,!0))}function ks(t,r,s){var i={};yr.call(this,new ra((i.external=1,i)),[t].concat(r.filter(function(c){return!!c})),{R:"unsorted",X:!1,subtree:!1,C:!1},s),this.la=r.length,this.S=r.map(function(c){return c===null}),this.K=null,this.pa=t,this.Ba=r}function $i(t,r,s,i,c,g){return Rn([i,c,g],function(w){var k=S(w);w=k.next().value;var C=k.next().value;if(k=k.next().value,C=C.value,k=k.value,C>w.P.length||0>=C)throw Error("FOAY0001: subarray start out of bounds.");if(0>k)throw Error("FOAY0002: subarray length out of bounds.");if(C+k>w.P.length+1)throw Error("FOAY0001: subarray start + length out of bounds.");return q.m(new En(w.P.slice(C-1,k+C-1)))})}function eu(t,r,s,i,c){return Rn([i],function(g){var w=S(g).next().value;return c.M(function(k){k=k.map(function(ze){return ze.value}).sort(function(ze,Ke){return Ke-ze}).filter(function(ze,Ke,ut){return ut[Ke-1]!==ze});for(var C=w.P.concat(),W=0,ne=k.length;W<ne;++W){var _e=k[W];if(_e>w.P.length||0>=_e)throw Error("FOAY0001: subarray position out of bounds.");C.splice(_e-1,1)}return q.m(new En(C))})})}function tu(t){return Z(t,1)||Z(t,20)||Z(t,19)}function tp(t,r,s,i,c){return i.length===0?c.length!==0:c.length!==0&&Mr(t,r,s,i[0],c[0]).next(0).value?tp(t,r,s,i.slice(1),c.slice(1)):i[0].value!=i[0].value||(tu(i[0].type)&&c.length!==0&&tu(c[0].type)||c.length!==0)&&i[0].value<c[0].value}function np(t,r,s,i){return i.sort(function(c,g){return Pn(t,r,s,q.create(c),q.create(g)).next(0).value?0:tp(t,r,s,c,g)?-1:1}),q.m(new En(i.map(function(c){return function(){return q.create(c)}})))}function ap(t,r){return Z(r.type,62)?r.P.reduce(function(s,i){return i().M(function(c){return c.reduce(ap,s)})},t):Pa([t,q.m(r)])}ra.prototype.add=function(t){var r=this;return new ra(Ql.reduce(function(s,i,c){return s[i]=r.h[c]+t.h[c],s},Object.create(null)))},N(ks,yr),ks.prototype.s=function(t,r){var s=this;if(!this.l||!this.l.I)return yr.prototype.s.call(this,t,r);var i=[],c=lc(this.l,function(w,k,C){return Ui(s.l.value.apply(s.l,[w,k,C].concat(D(re.apply(3,arguments)))),function(W){i=Po(i,W)})},t,r,this.S,this.Ba.map(function(w){return function(){return w.I?Ui(w.s(t,r),function(k){i=Po(i,k)}):bn(w,t,r)}}),this.K),g=!1;return{next:function(){if(g)return ke;var w=c.O();return g=!0,Ce({fa:i,J:w})}}},ks.prototype.A=function(t,r,s){var i=this,c=(s=S(s)).next().value,g=G(s);if(this.l)return lc(this.l,function(k,C,W){return i.l.value.apply(i.l,[k,C,W].concat(D(re.apply(3,arguments))))},t,r,this.S,g,this.K);var w=c(t);return w.Z({default:function(){throw sc()},m:function(){return w.M(function(k){if((k=ic(k=S(k).next().value,i.la)).I)throw Error("XUDY0038: The function returned by the PrimaryExpr of a dynamic function invocation can not be an updating function");return lc(k,k.value,t,r,i.S,g,i.K)})}})},ks.prototype.v=function(t){if(this.K=oa(t),yr.prototype.v.call(this,t),this.pa.C){if(!(t=bn(this.pa,null,null)).wa())throw sc();this.l=ic(t.first(),this.la),this.l.I&&(this.I=!0)}};var ml=[{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"size",j:[{type:62,g:3}],i:{type:5,g:3},callFunction:function(t,r,s,i){return Rn([i],function(c){return c=S(c).next().value,q.m(le(c.P.length,5))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"get",j:[{type:62,g:3},{type:5,g:3}],i:{type:59,g:2},callFunction:Jr},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"put",j:[{type:62,g:3},{type:5,g:3},{type:59,g:2}],i:{type:62,g:3},callFunction:function(t,r,s,i,c,g){return Rn([c,i],function(w){var k=S(w);if(w=k.next().value,k=k.next().value,0>=(w=w.value)||w>k.P.length)throw Error("FOAY0001: array position out of bounds.");return(k=k.P.concat()).splice(w-1,1,jn(g)),q.m(new En(k))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"append",j:[{type:62,g:3},{type:59,g:2}],i:{type:62,g:3},callFunction:function(t,r,s,i,c){return Rn([i],function(g){return g=S(g).next().value.P.concat([jn(c)]),q.m(new En(g))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"subarray",j:[{type:62,g:3},{type:5,g:3},{type:5,g:3}],i:{type:62,g:3},callFunction:$i},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"subarray",j:[{type:62,g:3},{type:5,g:3}],i:{type:62,g:3},callFunction:function(t,r,s,i,c){var g=q.m(le(i.first().value.length-c.first().value+1,5));return $i(t,r,s,i,c,g)}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"remove",j:[{type:62,g:3},{type:5,g:2}],i:{type:62,g:3},callFunction:eu},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"insert-before",j:[{type:62,g:3},{type:5,g:3},{type:59,g:2}],i:{type:62,g:3},callFunction:function(t,r,s,i,c,g){return Rn([i,c],function(w){var k=S(w);if(w=k.next().value,(k=k.next().value.value)>w.P.length+1||0>=k)throw Error("FOAY0001: subarray position out of bounds.");return(w=w.P.concat()).splice(k-1,0,jn(g)),q.m(new En(w))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"head",j:[{type:62,g:3}],i:{type:59,g:2},callFunction:function(t,r,s,i){return Jr(t,r,s,i,q.m(le(1,5)))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"tail",j:[{type:62,g:3}],i:{type:59,g:2},callFunction:function(t,r,s,i){return eu(t,r,s,i,q.m(le(1,5)))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"reverse",j:[{type:62,g:3}],i:{type:62,g:3},callFunction:function(t,r,s,i){return Rn([i],function(c){return c=S(c).next().value,q.m(new En(c.P.concat().reverse()))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"join",j:[{type:62,g:2}],i:{type:62,g:3},callFunction:function(t,r,s,i){return i.M(function(c){return c=c.reduce(function(g,w){return g.concat(w.P)},[]),q.m(new En(c))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"for-each",j:[{type:62,g:3},{type:60,g:3}],i:{type:62,g:3},callFunction:function(t,r,s,i,c){return Rn([i,c],function(g){var w=(g=S(g)).next().value,k=g.next().value;if(k.v!==1)throw pa("The callback passed into array:for-each has a wrong arity.");return g=w.P.map(function(C){return jn(k.value.call(void 0,t,r,s,zi(k.o,[C()],r,"array:for-each")[0]))}),q.m(new En(g))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"filter",j:[{type:62,g:3},{type:60,g:3}],i:{type:62,g:3},callFunction:function(t,r,s,i,c){return Rn([i,c],function(g){var w=(g=S(g)).next().value,k=g.next().value;if(k.v!==1)throw pa("The callback passed into array:filter has a wrong arity.");var C=w.P.map(function(_e){return _e=zi(k.o,[_e()],r,"array:filter")[0],(0,k.value)(t,r,s,_e)}),W=[],ne=!1;return q.create({next:function(){if(ne)return ke;for(var _e=0,ze=w.P.length;_e<ze;++_e){var Ke=C[_e].ha();W[_e]=Ke}return _e=w.P.filter(function(ut,ft){return W[ft]}),ne=!0,Ce(new En(_e))}})})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"fold-left",j:[{type:62,g:3},{type:59,g:2},{type:60,g:3}],i:{type:59,g:2},callFunction:function(t,r,s,i,c,g){return Rn([i,g],function(w){var k=(w=S(w)).next().value,C=w.next().value;if(C.v!==2)throw pa("The callback passed into array:fold-left has a wrong arity.");return k.P.reduce(function(W,ne){return ne=zi(C.o,[ne()],r,"array:fold-left")[0],C.value.call(void 0,t,r,s,W,ne)},c)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"fold-right",j:[{type:62,g:3},{type:59,g:2},{type:60,g:3}],i:{type:59,g:2},callFunction:function(t,r,s,i,c,g){return Rn([i,g],function(w){var k=(w=S(w)).next().value,C=w.next().value;if(C.v!==2)throw pa("The callback passed into array:fold-right has a wrong arity.");return k.P.reduceRight(function(W,ne){return ne=zi(C.o,[ne()],r,"array:fold-right")[0],C.value.call(void 0,t,r,s,W,ne)},c)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"for-each-pair",j:[{type:62,g:3},{type:62,g:3},{type:60,g:3}],i:{type:62,g:3},callFunction:function(t,r,s,i,c,g){return Rn([i,c,g],function(w){var k=S(w);w=k.next().value;var C=k.next().value;if((k=k.next().value).v!==2)throw pa("The callback passed into array:for-each-pair has a wrong arity.");for(var W=[],ne=0,_e=Math.min(w.P.length,C.P.length);ne<_e;++ne){var ze=S(zi(k.o,[w.P[ne](),C.P[ne]()],r,"array:for-each-pair")),Ke=ze.next().value;ze=ze.next().value,W[ne]=jn(k.value.call(void 0,t,r,s,Ke,ze))}return q.m(new En(W))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"sort",j:[{type:62,g:3}],i:{type:62,g:3},callFunction:function(t,r,s,i){return Rn([i],function(c){return c=S(c).next().value.P.map(function(g){return g().O()}),np(t,r,s,c)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"flatten",j:[{type:59,g:2}],i:{type:59,g:2},callFunction:function(t,r,s,i){return i.M(function(c){return c.reduce(ap,q.empty())})}}];function Sn(t,r,s,i,c){return c.G()?c:q.m(Ee(c.first(),t))}var df=[{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"untypedAtomic",j:[{type:46,g:0}],i:{type:19,g:0},callFunction:Sn.bind(null,19)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"error",j:[{type:46,g:0}],i:{type:39,g:0},callFunction:Sn.bind(null,39)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"string",j:[{type:46,g:0}],i:{type:1,g:0},callFunction:Sn.bind(null,1)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"boolean",j:[{type:46,g:0}],i:{type:0,g:0},callFunction:Sn.bind(null,0)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"decimal",j:[{type:46,g:0}],i:{type:4,g:0},callFunction:Sn.bind(null,4)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"float",j:[{type:46,g:0}],i:{type:6,g:0},callFunction:Sn.bind(null,6)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"double",j:[{type:46,g:0}],i:{type:3,g:0},callFunction:Sn.bind(null,3)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"duration",j:[{type:46,g:0}],i:{type:18,g:0},callFunction:Sn.bind(null,18)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"dateTime",j:[{type:46,g:0}],i:{type:9,g:0},callFunction:Sn.bind(null,9)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"dateTimeStamp",j:[{type:46,g:0}],i:{type:10,g:0},callFunction:Sn.bind(null,10)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"time",j:[{type:46,g:0}],i:{type:8,g:0},callFunction:Sn.bind(null,8)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"date",j:[{type:46,g:0}],i:{type:7,g:0},callFunction:Sn.bind(null,7)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"gYearMonth",j:[{type:46,g:0}],i:{type:11,g:0},callFunction:Sn.bind(null,11)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"gYear",j:[{type:46,g:0}],i:{type:12,g:0},callFunction:Sn.bind(null,12)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"gMonthDay",j:[{type:46,g:0}],i:{type:13,g:0},callFunction:Sn.bind(null,13)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"gDay",j:[{type:46,g:0}],i:{type:15,g:0},callFunction:Sn.bind(null,15)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"gMonth",j:[{type:46,g:0}],i:{type:14,g:0},callFunction:Sn.bind(null,14)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"hexBinary",j:[{type:46,g:0}],i:{type:22,g:0},callFunction:Sn.bind(null,22)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"base64Binary",j:[{type:46,g:0}],i:{type:21,g:0},callFunction:Sn.bind(null,21)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"QName",j:[{type:46,g:0}],i:{type:23,g:0},callFunction:function(t,r,s,i){if(i.G())return i;if(Z((t=i.first()).type,2))throw Error("XPTY0004: The provided QName is not a string-like value.");if(!Ko(t=Ms(t=Ee(t,1).value,23),23))throw Error("FORG0001: The provided QName is invalid.");if(!t.includes(":"))return s=s.aa(""),q.m(le(new Ga("",s,t),23));if(r=(i=S(t.split(":"))).next().value,i=i.next().value,!(s=s.aa(r)))throw Error("FONS0004: The value "+t+" can not be cast to a QName. Did you mean to use fn:QName?");return q.m(le(new Ga(r,s,i),23))}},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"anyURI",j:[{type:46,g:0}],i:{type:20,g:0},callFunction:Sn.bind(null,20)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"normalizedString",j:[{type:46,g:0}],i:{type:48,g:0},callFunction:Sn.bind(null,48)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"token",j:[{type:46,g:0}],i:{type:52,g:0},callFunction:Sn.bind(null,52)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"language",j:[{type:46,g:0}],i:{type:51,g:0},callFunction:Sn.bind(null,51)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"NMTOKEN",j:[{type:46,g:0}],i:{type:50,g:0},callFunction:Sn.bind(null,50)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"NMTOKENS",j:[{type:46,g:0}],i:{type:49,g:2},callFunction:Sn.bind(null,49)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"Name",j:[{type:46,g:0}],i:{type:25,g:0},callFunction:Sn.bind(null,25)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"NCName",j:[{type:46,g:0}],i:{type:24,g:0},callFunction:Sn.bind(null,24)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"ID",j:[{type:46,g:0}],i:{type:42,g:0},callFunction:Sn.bind(null,42)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"IDREF",j:[{type:46,g:0}],i:{type:41,g:0},callFunction:Sn.bind(null,41)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"IDREFS",j:[{type:46,g:0}],i:{type:43,g:2},callFunction:Sn.bind(null,43)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"ENTITY",j:[{type:46,g:0}],i:{type:26,g:0},callFunction:Sn.bind(null,26)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"ENTITIES",j:[{type:46,g:0}],i:{type:40,g:2},callFunction:Sn.bind(null,40)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"integer",j:[{type:46,g:0}],i:{type:5,g:0},callFunction:Sn.bind(null,5)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"nonPositiveInteger",j:[{type:46,g:0}],i:{type:27,g:0},callFunction:Sn.bind(null,27)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"negativeInteger",j:[{type:46,g:0}],i:{type:28,g:0},callFunction:Sn.bind(null,28)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"long",j:[{type:46,g:0}],i:{type:31,g:0},callFunction:Sn.bind(null,31)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"int",j:[{type:46,g:0}],i:{type:32,g:0},callFunction:Sn.bind(null,32)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"short",j:[{type:46,g:0}],i:{type:33,g:0},callFunction:Sn.bind(null,33)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"byte",j:[{type:46,g:0}],i:{type:34,g:0},callFunction:Sn.bind(null,34)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"nonNegativeInteger",j:[{type:46,g:0}],i:{type:30,g:0},callFunction:Sn.bind(null,30)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"unsignedLong",j:[{type:46,g:0}],i:{type:36,g:0},callFunction:Sn.bind(null,36)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"unsignedInt",j:[{type:46,g:0}],i:{type:35,g:0},callFunction:Sn.bind(null,35)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"unsignedShort",j:[{type:46,g:0}],i:{type:38,g:0},callFunction:Sn.bind(null,38)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"unsignedByte",j:[{type:46,g:0}],i:{type:37,g:0},callFunction:Sn.bind(null,37)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"positiveInteger",j:[{type:46,g:0}],i:{type:29,g:0},callFunction:Sn.bind(null,29)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"yearMonthDuration",j:[{type:46,g:0}],i:{type:16,g:0},callFunction:Sn.bind(null,16)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"dayTimeDuration",j:[{type:46,g:0}],i:{type:17,g:0},callFunction:Sn.bind(null,17)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"dateTimeStamp",j:[{type:46,g:0}],i:{type:10,g:0},callFunction:Sn.bind(null,10)}];function rp(t,r,s,i){return i.G()?i:q.m(le(i.first().value.getYear(),5))}function op(t,r,s,i){return i.G()?i:q.m(le(i.first().value.getMonth(),5))}function sp(t,r,s,i){return i.G()?i:q.m(le(i.first().value.getDay(),5))}function ip(t,r,s,i){return i.G()?i:q.m(le(i.first().value.getHours(),5))}function lp(t,r,s,i){return i.G()?i:q.m(le(i.first().value.getMinutes(),5))}function up(t,r,s,i){return i.G()||(r=(t=q).m,i=i.first().value,i=r.call(t,le(i.B+i.sa,4))),i}function uc(t,r,s,i){return i.G()?i:(t=i.first().value.Y)?q.m(le(t,17)):q.empty()}var ff=[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"dateTime",j:[{type:7,g:0},{type:8,g:0}],i:{type:9,g:0},callFunction:function(t,r,s,i,c){if(i.G())return i;if(c.G())return c;if(t=i.first().value,c=c.first().value,r=t.Y,s=c.Y,r||s){if(!r||s){if(!r&&s)r=s;else if(!Zn(r,s))throw Error("FORG0008: fn:dateTime: got a date and time value with different timezones.")}}else r=null;return q.m(le(new ja(t.getYear(),t.getMonth(),t.getDay(),c.getHours(),c.getMinutes(),c.getSeconds(),c.sa,r),9))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"year-from-dateTime",j:[{type:9,g:0}],i:{type:5,g:0},callFunction:rp},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"month-from-dateTime",j:[{type:9,g:0}],i:{type:5,g:0},callFunction:op},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"day-from-dateTime",j:[{type:9,g:0}],i:{type:5,g:0},callFunction:sp},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"hours-from-dateTime",j:[{type:9,g:0}],i:{type:5,g:0},callFunction:ip},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"minutes-from-dateTime",j:[{type:9,g:0}],i:{type:5,g:0},callFunction:lp},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"seconds-from-dateTime",j:[{type:9,g:0}],i:{type:4,g:0},callFunction:up},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"timezone-from-dateTime",j:[{type:9,g:0}],i:{type:17,g:0},callFunction:uc},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"year-from-date",j:[{type:7,g:0}],i:{type:5,g:0},callFunction:rp},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"month-from-date",j:[{type:7,g:0}],i:{type:5,g:0},callFunction:op},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"day-from-date",j:[{type:7,g:0}],i:{type:5,g:0},callFunction:sp},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"timezone-from-date",j:[{type:7,g:0}],i:{type:17,g:0},callFunction:uc},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"hours-from-time",j:[{type:8,g:0}],i:{type:5,g:0},callFunction:ip},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"minutes-from-time",j:[{type:8,g:0}],i:{type:5,g:0},callFunction:lp},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"seconds-from-time",j:[{type:8,g:0}],i:{type:4,g:0},callFunction:up},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"timezone-from-time",j:[{type:8,g:0}],i:{type:17,g:0},callFunction:uc}];function nu(t,r){var s=r.h,i=r.o,c=r.B;switch(t.node.nodeType){case 1:var g=i.createElementNS(t.node.namespaceURI,t.node.nodeName);for(s.getAllAttributes(t.node).forEach(function(w){return c.setAttributeNS(g,w.namespaceURI,w.nodeName,w.value)}),t=(i=S(za(s,t))).next();!t.done;t=i.next())t=nu(t.value,r),c.insertBefore(g,t.node,null);return{node:g,F:null};case 2:return(r=i.createAttributeNS(t.node.namespaceURI,t.node.nodeName)).value=Oa(s,t),{node:r,F:null};case 4:return{node:i.createCDATASection(Oa(s,t)),F:null};case 8:return{node:i.createComment(Oa(s,t)),F:null};case 9:for(i=i.createDocument(),t=(s=S(za(s,t))).next();!t.done;t=s.next())t=nu(t.value,r),c.insertBefore(i,t.node,null);return{node:i,F:null};case 7:return{node:i.createProcessingInstruction(t.node.target,Oa(s,t)),F:null};case 3:return{node:i.createTextNode(Oa(s,t)),F:null}}}function cc(t,r){var s=r.B,i=r.o,c=r.h;if(!Va(t.node))return nu(t,r).node;switch(t.node.nodeType){case 2:return(i=i.createAttributeNS(t.node.namespaceURI,t.node.nodeName)).value=Oa(c,t),i;case 8:return i.createComment(Oa(c,t));case 1:var g=t.node.prefix,w=t.node.localName,k=i.createElementNS(t.node.namespaceURI,g?g+":"+w:w);return za(c,t).forEach(function(C){C=cc(C,r),s.insertBefore(k,C,null)}),lo(c,t).forEach(function(C){s.setAttributeNS(k,C.node.namespaceURI,C.node.nodeName,Oa(c,C))}),k.normalize(),k;case 7:return i.createProcessingInstruction(t.node.target,Oa(c,t));case 3:return i.createTextNode(Oa(c,t))}}function hf(t,r,s){var i=t;for(t=dn(s,i);t!==null;){if(i.node.nodeType===2)r.push(i.node.nodeName);else{var c=za(s,t);r.push(c.findIndex(function(g){return Ve(g,i)}))}t=dn(s,i=t)}return i}function mf(t,r,s){for(var i={};0<r.length;)i.$a=r.pop(),t=typeof i.$a=="string"?lo(s,t).find(function(c){return function(g){return g.node.nodeName===c.$a}}(i)):za(s,t)[i.$a],i={$a:i.$a};return t.node}function Dr(t,r,s){var i=t.node;if(!(Va(i)||s||t.F))return i;i=r.da;var c=[];return s?cc(t,r):(t=hf(t,c,r.h),(s=i.get(t.node))||(s={node:cc(t,r),F:null},i.set(t.node,s)),mf(s,c,r.h))}function cp(t,r,s,i,c){return i.M(function(g){for(var w="",k=0;k<g.length;k++){var C=g[k],W=r.v&&Z(C.type,53)?r.v.serializeToString(Dr(C.value,r,!1)):Ra(q.m(C),r).map(function(ne){return Ee(ne,1)}).first().value;w+="{type: "+je[C.type]+", value: "+W+`}
`}return c!==void 0&&(w+=c.first().value),r.s.trace(w),q.create(g)})}var pp=[{j:[{type:59,g:2}],callFunction:cp,localName:"trace",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{j:[{type:59,g:2},{type:1,g:3}],callFunction:cp,localName:"trace",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}}];function au(t,r,s,i,c){throw t=i===void 0||i.G()?new Ga("err","http://www.w3.org/2005/xqt-errors","FOER0000"):i.first().value,r="",c===void 0||c.G()||(r=": "+c.first().value),Error(""+t.localName+r)}var dp=[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"error",j:[],i:{type:63,g:3},callFunction:au},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"error",j:[{type:23,g:0}],i:{type:63,g:3},callFunction:au},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"error",j:[{type:23,g:0},{type:1,g:3}],i:{type:63,g:3},callFunction:au},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"error",j:[{type:23,g:0},{type:1,g:3},{type:59,g:2}],i:{type:63,g:3},callFunction:function(){throw Error("Not implemented: Using an error object in error is not supported")}}];function Lo(t){return typeof t=="string"?t:(t=new Za().getChildNodes(t).find(function(r){return r.nodeType===8}))?t.data:"some expression"}function ru(t,r){t=Error.call(this,t),this.message=t.message,"stack"in t&&(this.stack=t.stack),this.position={end:{ja:r.end.ja,line:r.end.line,offset:r.end.offset},start:{ja:r.start.ja,line:r.start.line,offset:r.start.offset}}}function no(t,r){if(r instanceof Error)throw r;typeof t!="string"&&(t=Lo(t));var s=ug(r);t=t.replace("\r","").split(`
`);var i=Math.floor(Math.log10(Math.min(s.end.line+2,t.length)))+1;throw t=t.reduce(function(c,g,w){var k=w+1;if(2<s.start.line-k||2<k-s.end.line)return c;if(w=Array(i).fill(" ",0,Math.floor(Math.log10(k))+1-i).join("")+k+": ",c.push(w+g),k>=s.start.line&&k<=s.end.line){var C=k<s.end.line?g.length+w.length:s.end.ja-1+w.length;k=k>s.start.line?w.length:s.start.ja-1+w.length,g=" ".repeat(w.length)+Array.from(g.substring(0,k-w.length),function(W){return W==="	"?"	":" "}).join("")+"^".repeat(C-k),c.push(g)}return c},[]),r=cg(r).join(`
`),new ru(t.join(`
`)+`

`+r,s)}N(ru,Error);var Es=Object.create(null);function fp(t,r){for(var s=[],i=0;i<t.length+1;++i)s[i]=[];return function c(g,w){if(g===0)return w;if(w===0)return g;if(s[g][w]!==void 0)return s[g][w];var k=0;return t[g-1]!==r[w-1]&&(k=1),k=Math.min(c(g-1,w)+1,c(g,w-1)+1,c(g-1,w-1)+k),s[g][w]=k}(t.length,r.length)}function ou(t){var r=Es[t]?Es[t]:Object.keys(Es).map(function(s){return{name:s,Ab:fp(t,s.slice(s.lastIndexOf(":")+1))}}).sort(function(s,i){return s.Ab-i.Ab}).slice(0,5).filter(function(s){return s.Ab<t.length/2}).reduce(function(s,i){return s.concat(Es[i.name])},[]).slice(0,5);return r.length?r.map(function(s){return'"Q{'+s.namespaceURI+"}"+s.localName+" ("+s.j.map(function(i){return i===4?"...":Je(i)}).join(", ")+')"'}).reduce(function(s,i,c,g){return c===0?s+i:s+(c!==g.length-1?", ":" or ")+i},"Did you mean ")+"?":"No similar functions found."}function pc(t,r,s){var i=Es[t+":"+r];return i&&(i=i.find(function(c){return c.j.some(function(g){return g===4})?c.j.length-1<=s:c.j.length===s}))?{j:i.j,arity:s,callFunction:i.callFunction,I:i.I,localName:r,namespaceURI:t,i:i.i}:null}function m(t,r,s,i,c){Es[t+":"+r]||(Es[t+":"+r]=[]),Es[t+":"+r].push({j:s,arity:s.length,callFunction:c,I:!1,localName:r,namespaceURI:t,i})}var H={},_=(H.xml="http://www.w3.org/XML/1998/namespace",H.xs="http://www.w3.org/2001/XMLSchema",H.fn="http://www.w3.org/2005/xpath-functions",H.map="http://www.w3.org/2005/xpath-functions/map",H.array="http://www.w3.org/2005/xpath-functions/array",H.math="http://www.w3.org/2005/xpath-functions/math",H.fontoxpath="http://fontoxml.com/fontoxpath",H.local="http://www.w3.org/2005/xquery-local-functions",H);function te(t,r,s,i){this.Ha=[Object.create(null)],this.Ia=Object.create(null),this.s=t,this.da=Object.keys(r).reduce(function(c,g){return r[g]===void 0||(c[g]="Q{}"+g+"[0]"),c},Object.create(null)),this.o=Object.create(null),this.h=Object.create(null),this.v=s,this.l=i,this.B=[]}function he(t){return Error("XPTY0004: "+t)}function de(t,r){return t=t.node.nodeType===2?t.node.nodeName+'="'+Oa(r,t)+'"':t.node.outerHTML,Error("XQTY0024: The node "+t+" follows a node that is not an attribute node or a namespace node.")}function Ge(t){return Error('XQDY0044: The node name "'+t.Ca()+'" is invalid for a computed attribute constructor.')}function Oe(){return Error("XQST0045: Functions and variables may not be declared in one of the reserved namespace URIs.")}function an(){return Error("XQST0060: Functions declared in a module or as an external function must reside in a namespace.")}function Se(){return Error("XQST0066: A Prolog may contain at most one default function namespace declaration.")}function He(){return Error("XQST0070: The prefixes xml and xmlns may not be used in a namespace declaration or be bound to another namespaceURI.")}function _a(t){return Error('XQDY0074: The value "'+t+'" of a name expressions cannot be converted to an expanded QName.')}function Qt(t){return Error('XPST0081: The prefix "'+t+'" could not be resolved')}function yt(t,r){return"Q{"+(t||"")+"}"+r}function _n(t,r){for(var s=t.length-1;0<=s;--s)if(r in t[s])return t[s][r]}function ka(t){this.o=t,this.s=this.h=0,this.B=[Object.create(null)],this.l=Object.create(null),this.v=null,this.Ia=t&&t.Ia,this.Ha=t&&t.Ha}function oa(t){for(var r=new ka(t.o),s=0;s<t.h+1;++s)r.B=[Object.assign(Object.create(null),r.B[0],t.B[s])],r.Ha=[Object.assign(Object.create(null),r.Ha[0],t.Ha[s])],r.l=Object.assign(Object.create(null),t.l),r.Ia=t.Ia,r.v=t.v;return r}function On(t){t.s++,t.h++,t.B[t.h]=Object.create(null),t.Ha[t.h]=Object.create(null)}function Ca(t,r,s){return(t=t.Ia[yt(r,s)])?t:null}function ta(t,r,s,i,c){if(i=yt(r,s)+"~"+i,t.l[i])throw Error('XQST0049: The function or variable "Q{'+r+"}"+s+'" is declared more than once.');t.l[i]=c}function Pt(t,r,s){t.B[t.h][r]=s}function Hn(t,r,s){return r=yt(r||"",s),t.Ha[t.h][r]=r+"["+t.s+"]"}function br(t,r,s,i){t.Ia[yt(r||"",s)+"["+t.s+"]"]=i}function wn(t){t.B.length=t.h,t.Ha.length=t.h,t.h--}function we(t,r){r==="*"||Array.isArray(r)||(r=[r]);for(var s=1;s<t.length;++s)if(Array.isArray(t[s])){var i=t[s];if(r==="*"||r.includes(i[0]))return i}return null}function Lt(t){return 2>t.length?"":typeof t[1]=="object"?t[2]||"":t[1]||""}function bt(t,r){return Array.isArray(t)?typeof(t=t[1])!="object"||Array.isArray(t)?null:r in t?t[r]:null:null}function ht(t,r){return r.reduce(we,t)}function rn(t,r){for(var s=[],i=1;i<t.length;++i)if(Array.isArray(t[i])){var c=t[i];r!=="*"&&c[0]!==r||s.push(c)}return s}function Ea(t){return{localName:Lt(t),namespaceURI:bt(t,"URI"),prefix:bt(t,"prefix")}}function ui(t){function r(g){switch(g[0]){case"documentTest":return 55;case"elementTest":return 54;case"attributeTest":return 47;case"piTest":return 57;case"commentTest":return 58;case"textTest":return 56;case"anyKindTest":return 53;case"anyItemType":return 59;case"anyFunctionTest":case"functionTest":case"typedFunctionTest":return 60;case"anyMapTest":case"typedMapTest":return 61;case"anyArrayTest":case"typedArrayTest":return 62;case"atomicType":return _t([bt(g,"prefix"),Lt(g)].join(":"));case"parenthesizedItemType":return r(we(g,"*"));default:throw Error('Type declaration "'+we(s,"*")[0]+'" is not supported.')}}var s=we(t,"typeDeclaration");if(!s||we(s,"voidSequenceType"))return{type:59,g:2};t={type:r(we(s,"*")),g:3};var i=null,c=we(s,"occurrenceIndicator");switch(c&&(i=Lt(c)),i){case"*":return t.g=2,t;case"?":return t.g=0,t;case"+":return t.g=1,t;case"":case null:return t}}function Nn(t,r,s){if(typeof t[1]!="object"||Array.isArray(t[1])){var i={};i[r]=s,t.splice(1,0,i)}else t[1][r]=s}function Yx(t){var r={type:62,g:3};return Nn(t,"type",r),r}function qx(t,r){if(!r||!r.ia)return{type:59,g:2};var s=we(t,"EQName");if(!s)return{type:59,g:2};var i=Ea(s);s=i.localName;var c=i.prefix;return i=rn(we(t,"arguments"),"*"),(s=r.ia.Ua({localName:s,prefix:c},i.length))&&(r=r.ia.xa(s.namespaceURI,s.localName,i.length+1))?(r.i.type!==59&&Nn(t,"type",r.i),r.i):{type:59,g:2}}function Bt(t,r,s){return(t<<20)+(r<<12)+(s.charCodeAt(0)<<8)+s.charCodeAt(1)}te.prototype.xa=function(t,r,s){return pc(t,r,s)},te.prototype.ib=function(t,r){return t?null:(t=this.da[r],this.o[r]||(this.o[r]={name:r}),t)},te.prototype.Ua=function(t,r){var s=this.l(t,r);if(s)this.B.push({nc:t,arity:r,Lb:s});else if(t.prefix===""){if(this.v)return{namespaceURI:this.v,localName:t.localName}}else if(r=this.aa(t.prefix,!0))return{namespaceURI:r,localName:t.localName};return s},te.prototype.aa=function(t,r){return r===void 0||r?_[t]?_[t]:(r=this.s(t),this.h[t]||(this.h[t]={namespaceURI:r,prefix:t}),r!==void 0||t?r:null):null},ka.prototype.xa=function(t,r,s,i){i=i!==void 0&&i;var c=this.l[yt(t,r)+"~"+s];return!c||i&&c.Eb?this.o===null?null:this.o.xa(t,r,s,i):c},ka.prototype.ib=function(t,r){var s=_n(this.Ha,yt(t,r));return s||(this.o===null?null:this.o.ib(t,r))},ka.prototype.Ua=function(t,r){var s=t.prefix,i=t.localName;return s===""&&this.v?{localName:i,namespaceURI:this.v}:s&&(s=this.aa(s,!1))?{localName:i,namespaceURI:s}:this.o===null?null:this.o.Ua(t,r)},ka.prototype.aa=function(t,r){var s=_n(this.B,t||"");return s===void 0?this.o===null?void 0:this.o.aa(t||"",r===void 0||r):s};var da={},hp=(da[Bt(2,2,"idivOp")]=5,da[Bt(16,16,"addOp")]=16,da[Bt(16,16,"subtractOp")]=16,da[Bt(16,16,"divOp")]=4,da[Bt(16,2,"multiplyOp")]=16,da[Bt(16,2,"divOp")]=16,da[Bt(2,16,"multiplyOp")]=16,da[Bt(17,17,"addOp")]=17,da[Bt(17,17,"subtractOp")]=17,da[Bt(17,17,"divOp")]=4,da[Bt(17,2,"multiplyOp")]=17,da[Bt(17,2,"divOp")]=17,da[Bt(2,17,"multiplyOp")]=17,da[Bt(9,9,"subtractOp")]=17,da[Bt(7,7,"subtractOp")]=17,da[Bt(8,8,"subtractOp")]=17,da[Bt(9,16,"addOp")]=9,da[Bt(9,16,"subtractOp")]=9,da[Bt(9,17,"addOp")]=9,da[Bt(9,17,"subtractOp")]=9,da[Bt(7,16,"addOp")]=7,da[Bt(7,16,"subtractOp")]=7,da[Bt(7,17,"addOp")]=7,da[Bt(7,17,"subtractOp")]=7,da[Bt(8,17,"addOp")]=8,da[Bt(8,17,"subtractOp")]=8,da[Bt(9,16,"addOp")]=9,da[Bt(9,16,"subtractOp")]=9,da[Bt(9,17,"addOp")]=9,da[Bt(9,17,"subtractOp")]=9,da[Bt(7,17,"addOp")]=7,da[Bt(7,17,"subtractOp")]=7,da[Bt(7,16,"addOp")]=7,da[Bt(7,16,"subtractOp")]=7,da[Bt(8,17,"addOp")]=8,da[Bt(8,17,"subtractOp")]=8,da),Wn={},q1=(Wn[Bt(2,2,"addOp")]=function(t,r){return t+r},Wn[Bt(2,2,"subtractOp")]=function(t,r){return t-r},Wn[Bt(2,2,"multiplyOp")]=function(t,r){return t*r},Wn[Bt(2,2,"divOp")]=function(t,r){return t/r},Wn[Bt(2,2,"modOp")]=function(t,r){return t%r},Wn[Bt(2,2,"idivOp")]=function(t,r){return Math.trunc(t/r)},Wn[Bt(16,16,"addOp")]=function(t,r){return new ho(t.ga+r.ga)},Wn[Bt(16,16,"subtractOp")]=function(t,r){return new ho(t.ga-r.ga)},Wn[Bt(16,16,"divOp")]=function(t,r){return t.ga/r.ga},Wn[Bt(16,2,"multiplyOp")]=Mo,Wn[Bt(16,2,"divOp")]=function(t,r){if(isNaN(r))throw Error("FOCA0005: Cannot divide xs:yearMonthDuration by NaN");if((t=Math.round(t.ga/r))>Number.MAX_SAFE_INTEGER||!Number.isFinite(t))throw Error("FODT0002: Value overflow while dividing xs:yearMonthDuration");return new ho(t<Number.MIN_SAFE_INTEGER||t===0?0:t)},Wn[Bt(2,16,"multiplyOp")]=function(t,r){return Mo(r,t)},Wn[Bt(17,17,"addOp")]=function(t,r){return new mn(t.ea+r.ea)},Wn[Bt(17,17,"subtractOp")]=function(t,r){return new mn(t.ea-r.ea)},Wn[Bt(17,17,"divOp")]=function(t,r){if(r.ea===0)throw Error("FOAR0001: Division by 0");return t.ea/r.ea},Wn[Bt(17,2,"multiplyOp")]=fs,Wn[Bt(17,2,"divOp")]=function(t,r){if(isNaN(r))throw Error("FOCA0005: Cannot divide xs:dayTimeDuration by NaN");if((t=t.ea/r)>Number.MAX_SAFE_INTEGER||!Number.isFinite(t))throw Error("FODT0002: Value overflow while dividing xs:dayTimeDuration");return new mn(t<Number.MIN_SAFE_INTEGER||Object.is(-0,t)?0:t)},Wn[Bt(2,17,"multiplyOp")]=function(t,r){return fs(r,t)},Wn[Bt(9,9,"subtractOp")]=fo,Wn[Bt(7,7,"subtractOp")]=fo,Wn[Bt(8,8,"subtractOp")]=fo,Wn[Bt(9,16,"addOp")]=Gr,Wn[Bt(9,16,"subtractOp")]=ur,Wn[Bt(9,17,"addOp")]=Gr,Wn[Bt(9,17,"subtractOp")]=ur,Wn[Bt(7,16,"addOp")]=Gr,Wn[Bt(7,16,"subtractOp")]=ur,Wn[Bt(7,17,"addOp")]=Gr,Wn[Bt(7,17,"subtractOp")]=ur,Wn[Bt(8,17,"addOp")]=Gr,Wn[Bt(8,17,"subtractOp")]=ur,Wn[Bt(9,16,"addOp")]=Gr,Wn[Bt(9,16,"subtractOp")]=ur,Wn[Bt(9,17,"addOp")]=Gr,Wn[Bt(9,17,"subtractOp")]=ur,Wn[Bt(7,17,"addOp")]=Gr,Wn[Bt(7,17,"subtractOp")]=ur,Wn[Bt(7,16,"addOp")]=Gr,Wn[Bt(7,16,"subtractOp")]=ur,Wn[Bt(8,17,"addOp")]=Gr,Wn[Bt(8,17,"subtractOp")]=ur,Wn);function Z1(t,r){return Z(t,5)&&Z(r,5)?5:Z(t,4)&&Z(r,4)?4:Z(t,6)&&Z(r,6)?6:3}var mp=[2,16,17,9,7,8];function J1(t,r,s){function i(ut,ft){return{U:c?c(ut):ut,V:g?g(ft):ft}}var c=null,g=null;Z(r,19)&&(c=function(ut){return Ee(ut,3)},r=3),Z(s,19)&&(g=function(ut){return Ee(ut,3)},s=3);var w=mp.filter(function(ut){return Z(r,ut)}),k=mp.filter(function(ut){return Z(s,ut)});if(w.includes(2)&&k.includes(2)){var C=q1[Bt(2,2,t)],W=hp[Bt(2,2,t)];return W||(W=Z1(r,s)),t==="divOp"&&W===5&&(W=4),t==="idivOp"?Q1(i,C)[0]:function(ut,ft){return ut=i(ut,ft),le(C(ut.U.value,ut.V.value),W)}}for(var ne=(w=S(w)).next();!ne.done;ne=w.next()){ne=ne.value;for(var _e={},ze=S(k),Ke=ze.next();!Ke.done;_e={nb:_e.nb,qb:_e.qb},Ke=ze.next())if(Ke=Ke.value,_e.nb=q1[Bt(ne,Ke,t)],_e.qb=hp[Bt(ne,Ke,t)],_e.nb&&_e.qb!==void 0)return function(ut){return function(ft,Ct){return ft=i(ft,Ct),le(ut.nb(ft.U.value,ft.V.value),ut.qb)}}(_e)}}function Zx(t,r,s){function i(_e,ze){return{U:g?g(_e):_e,V:w?w(ze):ze}}var c=[2,53,59,46,47];if(c.includes(r)||c.includes(s))return 2;var g=null,w=null;Z(r,19)&&(g=function(_e){return Ee(_e,3)},r=3),Z(s,19)&&(w=function(_e){return Ee(_e,3)},s=3);var k=mp.filter(function(_e){return Z(r,_e)});if(c=mp.filter(function(_e){return Z(s,_e)}),k.includes(2)&&c.includes(2))return(c=hp[Bt(2,2,t)])===void 0&&(c=Z1(r,s)),t==="divOp"&&c===5&&(c=4),t==="idivOp"?Q1(i,function(_e,ze){return Math.trunc(_e/ze)})[1]:c;for(var C=(k=S(k)).next();!C.done;C=k.next()){C=C.value;for(var W=S(c),ne=W.next();!ne.done;ne=W.next())if((ne=hp[Bt(C,ne.value,t)])!==void 0)return ne}}function Q1(t,r){return[function(s,i){if(s=(i=t(s,i)).U,(i=i.V).value===0)throw Error("FOAR0001: Divisor of idiv operator cannot be (-)0");if(Number.isNaN(s.value)||Number.isNaN(i.value)||!Number.isFinite(s.value))throw Error("FOAR0002: One of the operands of idiv is NaN or the first operand is (-)INF");return Number.isFinite(s.value)&&!Number.isFinite(i.value)?le(0,5):le(r(s.value,i.value),5)},5]}var eg=Object.create(null);function gf(t,r,s,i,c){Et.call(this,r.o.add(s.o),[r,s],{C:!1},!1,i),this.A=r,this.K=s,this.l=t,this.s=c}function Jx(t,r){for(var s=Mn,i=!1,c=1;c<t.length;c++)switch(t[c][0]){case"letClause":gp(r);var g=t[c],w=r,k=s,C=ht(g,["letClauseItem","typedVariableBinding","varName"]);C=Ea(C),k=k((g=ht(g,["letClauseItem","letExpr"]))[1],w),og(w,C.localName,k);break;case"forClause":i=!0,gp(r),Qx(t[c],r,s);break;case"whereClause":gp(r),s(w=t[c],r),Nn(w,"type",{type:0,g:3});break;case"orderByClause":gp(r);break;case"returnClause":return w=s,Nn(s=ht(c=t[c],["*"]),"type",r=w(s,r)),Nn(c,"type",r),(s=r)?(i&&(s={type:s.type,g:2}),s.type!==59&&Nn(t,"type",s),s):{type:59,g:2};default:return(s=s(t[c],r))?(i&&(s={type:s.type,g:2}),s.type!==59&&Nn(t,"type",s),s):{type:59,g:2}}if(!(0<r.h))throw Error("Variable scope out of bound");r.h--,r.o.pop(),r.v.pop()}function Qx(t,r,s){var i=Ea(ht(t,["forClauseItem","typedVariableBinding","varName"]));(t=ht(t,["forClauseItem","forExpr","sequenceExpr"]))&&((t=rn(t,"*").map(function(c){return s(c,r)})).includes(void 0)||t.includes(null)||(t=tg(t)).length===1&&og(r,i.localName,t[0]))}function tg(t){return t.filter(function(r,s,i){return i.findIndex(function(c){return c.type===r.type&&c.g===r.g})===s})}function e_(t,r){if(!r||!r.ia)return{type:59,g:2};var s=we(t,"functionName"),i=Ea(s),c=i.localName,g=i.prefix,w=i.namespaceURI;if(i=rn(we(t,"arguments"),"*"),w===null){if(!(g=r.ia.Ua({localName:c,prefix:g},i.length)))return{type:59,g:2};c=g.localName,Nn(s,"URI",w=g.namespaceURI),s[2]=c}return(r=r.ia.xa(w,c,i.length))&&r.i.type!==63?(r.i.type!==59&&Nn(t,"type",r.i),r.i):{type:59,g:2}}function t_(t){var r={type:61,g:3};return Nn(t,"type",r),r}function n_(t,r){if(!r||!r.ia)return{type:59,g:2};var s=we(t,"functionName"),i=Ea(s),c=i.localName,g=i.namespaceURI,w=i.prefix;if(i=Number(ht(t,["integerConstantExpr","value"])[1]),!g){if(!(g=r.ia.Ua({localName:c,prefix:w},i)))return{type:59,g:2};c=g.localName,Nn(s,"URI",g=g.namespaceURI)}return(r=r.ia.xa(g,c,i)||null)?(r.i.type!==59&&r.i.type!==63&&Nn(t,"type",r.i),r.i):{type:59,g:2}}function a_(t,r){var s=rn(t,"stepExpr");if(!s)return{type:59,g:2};for(var i=(s=S(s)).next();!i.done;i=s.next()){var c=i.value;i=r;var g=null;if(c){for(var w=rn(c,"*"),k="",C=(w=S(w)).next();!C.done;C=w.next())switch(C=C.value,C[0]){case"filterExpr":g=bt(ht(C,["*"]),"type");break;case"xpathAxis":e:{switch(k=C[1]){case"attribute":g={type:47,g:2};break e;case"child":case"decendant":case"self":case"descendant-or-self":case"following-sibling":case"following":case"namespace":case"parent":case"ancestor":case"preceding-sibling":case"preceding":case"ancestor-or-self":g={type:53,g:2};break e}g=void 0}break;case"nameTest":var W=Ea(C);if(W.namespaceURI!==null||k==="attribute"&&!W.prefix)break;(W=i.aa(W.prefix||""))!==void 0&&Nn(C,"URI",W);break;case"lookup":g={type:59,g:2}}g&&g.type!==59&&Nn(c,"type",g)}c=bt(c,"type")}return c&&c.type!==59&&Nn(t,"type",c),c}function r_(t){var r={type:0,g:3};return Nn(t,"type",r),r}function o_(t,r,s){return(r=r===0?{type:53,g:2}:r===1?s[0]:s.includes(void 0)||s.includes(null)||1<(r=tg(s)).length?{type:59,g:2}:{type:r[0].type,g:2})&&r.type!==59&&Nn(t,"type",r),r}function s_(t,r,s,i){if(!r||s.includes(void 0))return{type:59,g:2};for(var c=rn(t,"typeswitchExprCaseClause"),g=0;g<s.length;g++){var w=we(c[g],"*");switch(w[0]){case"sequenceType":if(w=ng(w,r,s[g]))return w.type!==59&&Nn(t,"type",w),w;continue;case"sequenceTypeUnion":for(i=rn(w,"*"),c=0;2>c;c++)if(w=ng(i[c],r,s[g]))return w.type!==59&&Nn(t,"type",w),w;default:return{type:59,g:2}}}return i.type!==59&&Nn(t,"type",i),i}function ng(t,r,s){var i=rn(t,"*"),c=we(t,"atomicType");if(!c)return{type:59,g:2};if(_t(bt(c,"prefix")+":"+c[2])===r.type){if(i.length===1){if(r.g===3)return s}else if(t=we(t,"occurrenceIndicator")[1],r.g===un(t))return s}}function ag(t,r){Mn(t,r)}function Mn(t,r){var s=i_.get(t[0]);if(s)return s(t,r);for(s=1;s<t.length;s++)t[s]&&Mn(t[s],r)}function su(t,r){var s=Mn(we(t,"firstOperand")[1],r),i=Mn(we(t,"secondOperand")[1],r),c=t[0];if(s&&i){if(!(r=Zx(c,s.type,i.type)))throw Error("XPTY0004: "+c+" not available for types "+Je(s)+" and "+Je(i));s={type:r,g:s.g},r!==2&&r!==59&&Nn(t,"type",s),t=s}else t={type:2,g:3};return t}function rg(t,r){Mn(we(t,"firstOperand")[1],r),Mn(we(t,"secondOperand")[1],r);e:{switch(t[0]){case"orOp":case"andOp":Nn(t,"type",r={type:0,g:3}),t=r;break e}t=void 0}return t}function yf(t,r){Mn(we(t,"firstOperand")[1],r),Mn(we(t,"secondOperand")[1],r);e:{switch(t[0]){case"unionOp":case"intersectOp":case"exceptOp":Nn(t,"type",r={type:53,g:2}),t=r;break e}t=void 0}return t}function iu(t,r){return Mn(we(t,"firstOperand")[1],r),Mn(we(t,"secondOperand")[1],r),Nn(t,"type",r={type:0,g:3}),r}function lu(t,r){Mn(we(t,"firstOperand")[1],r),Mn(we(t,"secondOperand")[1],r),r=bt(ht(t,["firstOperand","*"]),"type");var s=bt(ht(t,["secondOperand","*"]),"type");return Nn(t,"type",r={type:0,g:Fo(r)||Fo(s)?0:3}),r}function bf(t,r){Mn(we(t,"firstOperand")[1],r),Mn(we(t,"secondOperand")[1],r),r=bt(ht(t,["firstOperand","*"]),"type");var s=bt(ht(t,["secondOperand","*"]),"type");return Nn(t,"type",r={type:0,g:Fo(r)||Fo(s)?0:3}),r}N(gf,Et),gf.prototype.h=function(t,r){var s=this;return Ra(bn(this.A,t,r),r).M(function(i){return i.length===0?q.empty():Ra(bn(s.K,t,r),r).M(function(c){if(c.length===0)return q.empty();if(1<i.length||1<c.length)throw Error('XPTY0004: the operands of the "'+s.l+'" operator should be empty or singleton.');var g=i[0];if(c=c[0],s.s&&s.type)return q.m(s.s(g,c));var w=g.type,k=c.type,C=s.l,W=w+"~"+k+"~"+C,ne=eg[W];if(ne||(ne=eg[W]=J1(C,w,k)),!(w=ne))throw Error("XPTY0004: "+s.l+" not available for types "+je[g.type]+" and "+je[c.type]);return q.m(w(g,c))})})};var i_=new Map([["unaryMinusOp",function(t,r){return(r=Mn(we(t,"operand")[1],r))?Z(r.type,2)?(Nn(t,"type",r={type:r.type,g:r.g}),t=r):(Nn(t,"type",r={type:3,g:3}),t=r):(Nn(t,"type",r={type:2,g:2}),t=r),t}],["unaryPlusOp",function(t,r){return(r=Mn(we(t,"operand")[1],r))?Z(r.type,2)?(Nn(t,"type",r={type:r.type,g:r.g}),t=r):(Nn(t,"type",r={type:3,g:3}),t=r):(Nn(t,"type",r={type:2,g:2}),t=r),t}],["addOp",su],["subtractOp",su],["divOp",su],["idivOp",su],["modOp",su],["multiplyOp",su],["andOp",rg],["orOp",rg],["sequenceExpr",function(t,r){var s=rn(t,"*"),i=s.map(function(c){return Mn(c,r)});return o_(t,s.length,i)}],["unionOp",yf],["intersectOp",yf],["exceptOp",yf],["stringConcatenateOp",function(t,r){return Mn(we(t,"firstOperand")[1],r),Mn(we(t,"secondOperand")[1],r),Nn(t,"type",r={type:1,g:3}),r}],["rangeSequenceExpr",function(t,r){return Mn(we(t,"startExpr")[1],r),Mn(we(t,"endExpr")[1],r),Nn(t,"type",r={type:5,g:1}),r}],["equalOp",iu],["notEqualOp",iu],["lessThanOrEqualOp",iu],["lessThanOp",iu],["greaterThanOrEqualOp",iu],["greaterThanOp",iu],["eqOp",lu],["neOp",lu],["ltOp",lu],["leOp",lu],["gtOp",lu],["geOp",lu],["isOp",bf],["nodeBeforeOp",bf],["nodeAfterOp",bf],["pathExpr",function(t,r){var s=we(t,"rootExpr");return s&&s[1]&&Mn(s[1],r),rn(t,"stepExpr").map(function(i){return Mn(i,r)}),a_(t,r)}],["contextItemExpr",function(){return{type:59,g:2}}],["ifThenElseExpr",function(t,r){Mn(we(we(t,"ifClause"),"*"),r);var s=Mn(we(we(t,"thenClause"),"*"),r);return r=Mn(we(we(t,"elseClause"),"*"),r),s&&r&&s.type===r.type&&s.g===r.g?(s.type!==59&&Nn(t,"type",s),t=s):t={type:59,g:2},t}],["instanceOfExpr",function(t,r){return Mn(we(t,"argExpr"),r),Mn(we(t,"sequenceType"),r),Nn(t,"type",r={type:0,g:3}),r}],["integerConstantExpr",function(t){var r={type:5,g:3};return Nn(t,"type",r),r}],["doubleConstantExpr",function(t){var r={type:3,g:3};return Nn(t,"type",r),r}],["decimalConstantExpr",function(t){var r={type:4,g:3};return Nn(t,"type",r),r}],["stringConstantExpr",function(t){var r={type:1,g:3};return Nn(t,"type",r),r}],["functionCallExpr",function(t,r){return rn(we(t,"arguments"),"*").map(function(s){return Mn(s,r)}),e_(t,r)}],["arrowExpr",function(t,r){return Mn(we(t,"argExpr")[1],r),qx(t,r)}],["dynamicFunctionInvocationExpr",function(t,r){return Mn(ht(t,["functionItem","*"]),r),(t=we(t,"arguments"))&&Mn(t,r),{type:59,g:2}}],["namedFunctionRef",function(t,r){return n_(t,r)}],["inlineFunctionExpr",function(t,r){return Mn(we(t,"functionBody")[1],r),Nn(t,"type",r={type:60,g:3}),r}],["castExpr",function(t){var r=ht(t,["singleType","atomicType"]);return(r={type:_t(bt(r,"prefix")+":"+r[2]),g:3}).type!==59&&Nn(t,"type",r),r}],["castableExpr",function(t){var r={type:0,g:3};return Nn(t,"type",r),r}],["simpleMapExpr",function(t,r){for(var s,i=rn(t,"pathExpr"),c=0;c<i.length;c++)s=Mn(i[c],r);return s!=null?((r={type:s.type,g:2}).type!==59&&Nn(t,"type",r),t=r):t={type:59,g:2},t}],["mapConstructor",function(t,r){return rn(t,"mapConstructorEntry").map(function(s){return{key:Mn(ht(s,["mapKeyExpr","*"]),r),value:Mn(ht(s,["mapValueExpr","*"]),r)}}),t_(t)}],["arrayConstructor",function(t,r){return rn(we(t,"*"),"arrayElem").map(function(s){return Mn(s,r)}),Yx(t)}],["unaryLookup",function(t){return we(t,"NCName"),{type:59,g:2}}],["typeswitchExpr",function(t,r){return s_(t,Mn(we(t,"argExpr")[1],r),rn(t,"typeswitchExprCaseClause").map(function(s){return Mn(ht(s,["resultExpr"])[1],r)}),Mn(ht(t,["typeswitchExprDefaultClause","resultExpr"])[1],r))}],["quantifiedExpr",function(t,r){return rn(t,"*").map(function(s){return Mn(s,r)}),r_(t)}],["x:stackTrace",function(t,r){return Mn((t=rn(t,"*"))[0],r)}],["queryBody",function(t,r){return Mn(t[1],r)}],["flworExpr",function(t,r){return Jx(t,r)}],["varRef",function(t,r){var s,i=Ea(we(t,"name"));e:{for(s=r.h;0<=s;s--){var c=r.o[s][i.localName];if(c){s=c;break e}}s=void 0}return s&&s.type!==59&&Nn(t,"type",s),i.namespaceURI===null&&(r=r.aa(i.prefix))!==void 0&&Nn(t,"URI",r),s}]]);function dc(t){this.h=0,this.ia=t,this.o=[{}],this.v=[{}]}function og(t,r,s){if(t.o[t.h][r])throw Error("Another variable of in the scope "+t.h+" with the same name "+r+" already exists");t.o[t.h][r]=s}function gp(t){t.h++,t.o.push({}),t.v.push({})}function wf(t,r){var s={};Et.call(this,new ra((s.external=1,s)),t,{C:t.every(function(i){return i.C})},!1,r),this.l=t}function vf(t,r){var s={};Et.call(this,new ra((s.external=1,s)),t,{C:t.every(function(i){return i.C})},!1,r),this.l=t}function Vs(t){if(t===null)throw Ja("context is absent, it needs to be present to use axes.");if(!Z(t.type,53))throw Error("XPTY0020: Axes can only be applied to nodes.");return t.value}function l_(t,r,s){var i=r;return{next:function(){if(!i)return ke;var c=i;return i=dn(t,c,s),Ce($n(c))}}}function yp(t,r){r=r||{Ra:!1},Et.call(this,t.o,[t],{R:"reverse-sorted",X:!1,subtree:!1,C:!1}),this.l=t,this.s=!!r.Ra}dc.prototype.aa=function(t){for(var r=this.h;0<=r;r--){var s=this.v[r][t];if(s!==void 0)return s}return this.ia?this.ia.aa(t):void 0},N(wf,Et),wf.prototype.h=function(t,r){return this.l.length===0?q.m(new En([])):bn(this.l[0],t,r).M(function(s){return q.m(new En(s.map(function(i){return jn(q.m(i))})))})},N(vf,Et),vf.prototype.h=function(t,r){return q.m(new En(this.l.map(function(s){return jn(bn(s,t,r))})))},N(yp,Et),yp.prototype.h=function(t,r){var s=this;r=r.h,t=Vs(t.N);var i=this.l.B();return i=i&&(i.startsWith("name-")||i==="type-1")?"type-1":null,q.create(l_(r,this.s?t:dn(r,t,i),i)).filter(function(c){return s.l.l(c)})};var sg=new Map([["type-1-or-type-2",["name","type-1","type-2"]],["type-1",["name"]],["type-2",["name"]]]);function Uo(t,r){if(t===null)return r;if(r===null||t===r)return t;var s=t.startsWith("name-")?"name":t,i=r.startsWith("name-")?"name":r,c=sg.get(s);return c!==void 0&&c.includes(i)?r:(r=sg.get(i))!==void 0&&r.includes(s)?t:"empty"}function bp(t,r){var s={};Et.call(this,new ra((s.attribute=1,s)),[t],{R:"unsorted",subtree:!0,X:!0,C:!1}),this.l=t,this.s=Uo(this.l.B(),r)}function xf(t,r){Et.call(this,t.o,[t],{R:"sorted",subtree:!0,X:!0,C:!1}),this.s=t,this.l=Uo(r,t.B())}function _f(t,r,s){var i=r.node.nodeType;if(i!==1&&i!==9)return{next:function(){return ke}};var c=uo(t,r,s);return{next:function(){if(!c)return ke;var g=c;return c=zr(t,c,s),Ce(g)}}}function u_(t,r,s){var i=[Fe(r)];return{next:function(c){if(0<i.length&&1&c&&i.shift(),!i.length)return ke;for(c=i[0].next(0);c.done;){if(i.shift(),!i.length)return ke;c=i[0].next(0)}return i.unshift(_f(t,c.value,s)),Ce($n(c.value))}}}function wp(t,r){r=r||{Ra:!1},Et.call(this,t.o,[t],{C:!1,X:!1,R:"sorted",subtree:!0}),this.l=t,this.s=!!r.Ra,this.A=(t=this.l.B())&&(t.startsWith("name-")||t==="type-1")||t==="type-1-or-type-2"?"type-1":null}function ig(t,r,s){var i=t.node.nodeType;if(i!==1&&i!==9)return t;for(i=Rs(r,t,s);i!==null;){if(i.node.nodeType!==1)return i;i=Rs(r,t=i,s)}return t}function lg(t,r,s,i){if(s!==void 0&&s){var c=r,g=!1;return{next:function(){if(g)return ke;if(Ve(c,r))return Ve(c=ig(r,t,i),r)?(g=!0,ke):Ce($n(c));var k=c.node.nodeType,C=k===9||k===2?null:Ha(t,c,i);return C!==null?Ce($n(c=ig(C,t,i))):Ve(c=k===9?null:dn(t,c,i),r)?(g=!0,ke):Ce($n(c))}}}var w=[_f(t,r,i)];return{next:function(){if(!w.length)return ke;for(var k=w[0].next(0);k.done;){if(w.shift(),!w.length)return ke;k=w[0].next(0)}return w.unshift(_f(t,k.value,i)),Ce($n(k.value))}}}function c_(t,r,s){for(var i=[];r&&r.node.nodeType!==9;r=dn(t,r,null)){var c=zr(t,r,s);c&&i.push(c)}var g=null;return{next:function(){for(;g||i.length;){if(!g){g=lg(t,i[0],!1,s);var w=Ce($n(i[0])),k=zr(t,i[0],s);return k?i[0]=k:i.shift(),w}if(!(w=g.next(0)).done)return w;g=null}return ke}}}function kf(t){Et.call(this,t.o,[t],{R:"sorted",X:!0,subtree:!1,C:!1}),this.l=t,this.s=(t=this.l.B())&&(t.startsWith("name-")||t==="type-1")?"type-1":null}function p_(t,r,s){return{next:function(){return(r=r&&zr(t,r,s))?Ce($n(r)):ke}}}function Ef(t,r){Et.call(this,t.o,[t],{R:"sorted",X:!0,subtree:!1,C:!1}),this.l=t,this.s=Uo(this.l.B(),r)}function Af(t,r){Et.call(this,t.o,[t],{R:"reverse-sorted",X:!0,subtree:!0,C:!1}),this.l=t,this.s=Uo(r,this.l.B())}function d_(t,r,s){for(var i=[];r&&r.node.nodeType!==9;r=dn(t,r,null)){var c=Ha(t,r,s);c!==null&&i.push(c)}var g=null;return{next:function(){for(;g||i.length;){g||(g=lg(t,i[0],!0,s));var w=g.next(0);if(w.done){g=null,w=Ha(t,i[0],s);var k=Ce($n(i[0]));return w===null?i.shift():i[0]=w,k}return w}return ke}}}function Sf(t){Et.call(this,t.o,[t],{C:!1,X:!0,R:"reverse-sorted",subtree:!1}),this.l=t,this.s=(t=this.l.B())&&(t.startsWith("name-")||t==="type-1")?"type-1":null}function f_(t,r,s){return{next:function(){return(r=r&&Ha(t,r,s))?Ce($n(r)):ke}}}function Tf(t,r){Et.call(this,t.o,[t],{C:!1,X:!0,R:"reverse-sorted",subtree:!1}),this.l=t,this.s=Uo(this.l.B(),r)}function vp(t,r){Et.call(this,t.o,[t],{R:"sorted",subtree:!0,X:!0,C:!1}),this.l=t,this.s=Uo(this.l.B(),r)}function xp(t,r,s,i){var c=t.o.add(r.o).add(s.o);yr.call(this,c,[t,r,s],{C:t.C&&r.C&&s.C,X:r.X===s.X&&r.X,R:r.da===s.da?r.da:"unsorted",subtree:r.subtree===s.subtree&&r.subtree},i),this.l=t}function _p(t,r,s){this.location=t,this.o=r,this.h=s}function ug(t){return t.h instanceof Error?t.location:ug(t.h)}function cg(t){var r=t.h instanceof ru?["Inner error:",t.h.message]:t.h instanceof Error?[t.h.toString()]:cg(t.h);return r.push("  at <"+t.o+">:"+t.location.start.line+":"+t.location.start.ja+" - "+t.location.end.line+":"+t.location.end.ja),r}function kp(t,r,s){yr.call(this,s.o,[s],{C:s.C,X:s.X,R:s.da,subtree:s.subtree}),this.l=r,this.K={end:{ja:t.end.ja,line:t.end.line,offset:t.end.offset},start:{ja:t.start.ja,line:t.start.line,offset:t.start.offset}}}function go(t,r,s,i){Et.call(this,t,r,s,!0),this.l=i,this.I=this.l.I}function pg(t,r,s,i){var c=[],g=t.K(r,s,i,function(k){if(t.l instanceof go)return Ui(pg(t.l,r,k,i),function(W){return c=W});var C=null;return q.create({next:function(){for(;;){if(!C){var W=k.next(0);if(W.done)return ke;W=t.l.s(W.value,i),C=Ui(W,function(ne){return c=Po(c,ne)}).value}if(!(W=C.next(0)).done)return W;C=null}}})}),w=!1;return{next:function(){if(w)return ke;var k=g.O();return w=!0,Ce(new nc(k,c))}}}function dg(t,r,s,i){return t.K(r,s,i,function(c){if(t.l instanceof go)return dg(t.l,r,c,i);var g=null;return q.create({next:function(){for(;;){if(!g){var w=c.next(0);if(w.done)return ke;g=bn(t.l,w.value,i).value}if(!(w=g.next(0)).done)return w;g=null}}})})}function Ep(t,r,s,i){go.call(this,r.o.add(i.o),[r,i],{C:!1},i),this.S=t.prefix,this.la=t.namespaceURI,this.Xb=t.localName,this.Gb=null,this.A=s,this.Ba=null,this.pa=r}function Ap(t,r,s){var i={};Et.call(this,new ra((i.external=1,i)),[s],{C:!1,R:"unsorted"}),this.S=t.map(function(c){return c.name}),this.A=t.map(function(c){return c.type}),this.s=null,this.K=r,this.l=s}function Sp(t,r,s){if(go.call(this,r.o.add(s.o),[r,s],{C:!1,X:s.X,R:s.da,subtree:s.subtree},s),t.prefix||t.namespaceURI)throw Error("Not implemented: let expressions with namespace usage.");this.A=t.prefix,this.S=t.namespaceURI,this.Ba=t.localName,this.la=r,this.pa=null}function Gi(t,r){switch(Et.call(this,new ra({}),[],{C:!0,R:"sorted"},!1,r),r.type){case 5:var s=le(parseInt(t,10),r.type);break;case 1:s=le(t,r.type);break;case 4:case 3:s=le(parseFloat(t),r.type);break;default:throw new TypeError("Type "+r+" not expected in a literal")}this.l=function(){return q.m(s)}}function jf(t,r){var s={};Et.call(this,new ra((s.external=1,s)),t.reduce(function(i,c){return i.concat(c.key,c.value)},[]),{C:!1},!1,r),this.l=t}function Vi(t,r,s){var i={};Et.call(this,new ra((i.external=1,i)),[],{C:!0},!1,s),this.s=r,this.A=t,this.l=null}N(bp,Et),bp.prototype.h=function(t,r){var s=this;return r=r.h,(t=Vs(t.N)).node.nodeType!==1?q.empty():(t=lo(r,t,this.s).filter(function(i){return i.node.namespaceURI!=="http://www.w3.org/2000/xmlns/"}).map(function(i){return $n(i)}).filter(function(i){return s.l.l(i)}),q.create(t))},bp.prototype.B=function(){return"type-1"},N(xf,Et),xf.prototype.h=function(t,r){var s=this,i=r.h,c=Vs(t.N);if((t=c.node.nodeType)!==1&&t!==9)return q.empty();var g=null,w=!1;return q.create({next:function(){for(;!w;){if(!g){if(!(g=uo(i,c,s.l))){w=!0;continue}return Ce($n(g))}if(g=zr(i,g,s.l))return Ce($n(g));w=!0}return ke}}).filter(function(k){return s.s.l(k)})},N(wp,Et),wp.prototype.h=function(t,r){var s=this;return t=u_(r=r.h,t=Vs(t.N),this.A),this.s||t.next(0),q.create(t).filter(function(i){return s.l.l(i)})},N(kf,Et),kf.prototype.h=function(t,r){var s=this;return r=r.h,t=Vs(t.N),q.create(c_(r,t,this.s)).filter(function(i){return s.l.l(i)})},N(Ef,Et),Ef.prototype.h=function(t,r){var s=this;return r=r.h,t=Vs(t.N),q.create(p_(r,t,this.s)).filter(function(i){return s.l.l(i)})},N(Af,Et),Af.prototype.h=function(t,r){return(t=dn(r=r.h,t=Vs(t.N),this.s))?(t=$n(t),this.l.l(t)?q.m(t):q.empty()):q.empty()},N(Sf,Et),Sf.prototype.h=function(t,r){var s=this;return r=r.h,t=Vs(t.N),q.create(d_(r,t,this.s)).filter(function(i){return s.l.l(i)})},N(Tf,Et),Tf.prototype.h=function(t,r){var s=this;return r=r.h,t=Vs(t.N),q.create(f_(r,t,this.s)).filter(function(i){return s.l.l(i)})},N(vp,Et),vp.prototype.h=function(t){return Vs(t.N),this.l.l(t.N)?q.m(t.N):q.empty()},vp.prototype.B=function(){return this.s},N(xp,yr),xp.prototype.A=function(t,r,s){var i=null,c=s[0](t);return q.create({next:function(g){return i||(i=(c.ha()?s[1](t):s[2](t)).value),i.next(g)}})},xp.prototype.v=function(t){if(yr.prototype.v.call(this,t),this.l.I)throw Xn()},N(kp,yr),kp.prototype.A=function(t,r,s){var i=this;r=S(s).next().value;try{var c=r(t)}catch(g){throw new _p(this.K,this.l,g)}return q.create({next:function(g){try{return c.value.next(g)}catch(w){throw new _p(i.K,i.l,w)}}})},kp.prototype.v=function(t){try{yr.prototype.v.call(this,t)}catch(r){throw new _p(this.K,this.l,r)}},N(go,Et),go.prototype.h=function(t,r){var s=this;return this.K(t,Fe(t),r,function(i){if(s.l instanceof go)return dg(s.l,t,i,r);var c=null;return q.create({next:function(g){for(;;){if(!c){var w=i.next(0);if(w.done)return ke;c=bn(s.l,w.value,r).value}if(!(w=c.next(g)).done)return w;c=null}}})})},go.prototype.s=function(t,r){return pg(this,t,Fe(t),r)},go.prototype.v=function(t){Et.prototype.v.call(this,t),this.I=this.l.I;for(var r=(t=S(this.ta)).next();!r.done;r=t.next())if((r=r.value)!==this.l&&r.I)throw Xn()},N(Ep,go),Ep.prototype.K=function(t,r,s,i){var c=this,g=null,w=null,k=0;return i({next:function(){for(var C={};;){if(!g){var W=r.next(0);if(W.done)return ke;w=W.value,k=0,g=bn(c.pa,w,s).value}if(C.mb=g.next(0),!C.mb.done)return k++,(W={})[c.Gb]=function(ne){return function(){return q.m(ne.mb.value)}}(C),C=W,c.Ba&&(C[c.Ba]=function(){return q.m(new Xe(5,k))}),Ce(Rr(w,C));g=null,C={mb:C.mb}}}})},Ep.prototype.v=function(t){if(this.S&&(this.la=t.aa(this.S),!this.la&&this.S))throw Error("XPST0081: Could not resolve namespace for prefix "+this.S+" in a for expression");if(this.pa.v(t),On(t),this.Gb=Hn(t,this.la,this.Xb),this.A){if(this.A.prefix&&(this.A.namespaceURI=t.aa(this.A.prefix),!this.A.namespaceURI&&this.A.prefix))throw Error("XPST0081: Could not resolve namespace for prefix "+this.S+" in the positionalVariableBinding in a for expression");this.Ba=Hn(t,this.A.namespaceURI,this.A.localName)}if(this.l.v(t),wn(t),this.pa.I)throw Xn();this.l.I&&(this.I=!0)},N(Ap,Et),Ap.prototype.h=function(t,r){var s=this,i=new or({j:this.A,arity:this.A.length,Sa:!0,I:this.l.I,localName:"dynamic-function",namespaceURI:"",i:this.K,value:function(c,g,w){var k=re.apply(3,arguments),C=Rr(_r(t,-1,null,q.empty()),s.s.reduce(function(W,ne,_e){return W[ne]=jn(k[_e]),W},Object.create(null)));return bn(s.l,C,r)}});return q.m(i)},Ap.prototype.v=function(t){if(On(t),this.s=this.S.map(function(r){return Hn(t,r.namespaceURI,r.localName)}),this.l.v(t),wn(t),this.l.I)throw Error("Not implemented: inline functions can not yet be updating.")},N(Sp,go),Sp.prototype.K=function(t,r,s,i){var c=this;return i({next:function(){var g=r.next(0);if(g.done)return ke;var w={};return Ce(g=Rr(g=g.value,(w[c.pa]=jn(bn(c.la,g,s)),w)))}})},Sp.prototype.v=function(t){if(this.A&&(this.S=t.aa(this.A),!this.S&&this.A))throw Error("XPST0081: Could not resolve namespace for prefix "+this.A+" using in a for expression");if(this.la.v(t),On(t),this.pa=Hn(t,this.S,this.Ba),this.l.v(t),wn(t),this.I=this.l.I,this.la.I)throw Xn()},N(Gi,Et),Gi.prototype.h=function(){return this.l()},N(jf,Et),jf.prototype.h=function(t,r){var s=this;return Rn(this.l.map(function(i){return Ra(bn(i.key,t,r),r).Z({default:function(){throw Error("XPTY0004: A key of a map should be a single atomizable value.")},m:function(c){return c}})}),function(i){return q.m(new Kt(i.map(function(c,g){return{key:c,value:jn(bn(s.l[g].value,t,r))}})))})},N(Vi,Et),Vi.prototype.h=function(){var t=new or({j:this.l.j,I:this.l.I,arity:this.s,localName:this.l.localName,namespaceURI:this.l.namespaceURI,i:this.l.i,value:this.l.callFunction});return q.m(t)},Vi.prototype.v=function(t){var r=this.A.namespaceURI,s=this.A.localName,i=this.A.prefix;if(r===null){var c=t.Ua({localName:s,prefix:i},this.s);if(!c)throw Error("XPST0017: The function "+(i?i+":":"")+s+" with arity "+this.s+" could not be resolved. "+ou(s));r=c.namespaceURI,s=c.localName}if(this.l=t.xa(r,s,this.s)||null,!this.l)throw t=this.A,Error("XPST0017: Function "+(t.namespaceURI?"Q{"+t.namespaceURI+"}":t.prefix?t.prefix+":":"")+t.localName+" with arity of "+this.s+" not registered. "+ou(s));Et.prototype.v.call(this,t)};var Hr={},h_=(Hr[5]=5,Hr[27]=5,Hr[28]=5,Hr[31]=5,Hr[32]=5,Hr[33]=5,Hr[34]=5,Hr[30]=5,Hr[36]=5,Hr[35]=5,Hr[38]=5,Hr[37]=5,Hr[29]=5,Hr[4]=4,Hr[6]=6,Hr[3]=3,Hr);function Tp(t,r,s){Et.call(this,r.o,[r],{C:!1},!1,s),this.s=r,this.l=t}function jp(t,r){Et.call(this,t.reduce(function(s,i){return s.add(i.o)},new ra({})),t,{C:t.every(function(s){return s.C})},!1,r),this.l=t,this.s=t.reduce(function(s,i){return Uo(s,i.B())},null)}function Ip(t,r){var s,i=t.reduce(function(c,g){return 0<To(c,g.o)?c:g.o},new ra({}));for(Et.call(this,i,t,{C:t.every(function(c){return c.C})},!1,r),r=0;r<t.length&&(s===void 0&&(s=t[r].B()),s!==null);++r)if(s!==t[r].B()){s=null;break}this.s=s,this.l=t}function Np(t,r){var s;return q.create({next:function(i){for(;;){if(!s){var c=t.value.next(i);if(c.done)return ke;s=Ba(c.value,r)}if(!(c=s.value.next(i)).done)return c;s=null}}})}function m_(t,r){if(t==="eqOp")return function(s,i){return s=(i=r(s,i)).U,i=i.V,s.value.namespaceURI===i.value.namespaceURI&&s.value.localName===i.value.localName};if(t==="neOp")return function(s,i){return s=(i=r(s,i)).U,i=i.V,s.value.namespaceURI!==i.value.namespaceURI||s.value.localName!==i.value.localName};throw Error('XPTY0004: Only the "eq" and "ne" comparison is defined for xs:QName')}function g_(t,r){switch(t){case"eqOp":return function(s,i){return(s=r(s,i)).U.value===s.V.value};case"neOp":return function(s,i){return(s=r(s,i)).U.value!==s.V.value};case"ltOp":return function(s,i){return(s=r(s,i)).U.value<s.V.value};case"leOp":return function(s,i){return(s=r(s,i)).U.value<=s.V.value};case"gtOp":return function(s,i){return(s=r(s,i)).U.value>s.V.value};case"geOp":return function(s,i){return(s=r(s,i)).U.value>=s.V.value}}}function y_(t,r){switch(t){case"ltOp":return function(s,i){return(s=r(s,i)).U.value.ga<s.V.value.ga};case"leOp":return function(s,i){return s=(i=r(s,i)).U,i=i.V,Zn(s.value,i.value)||s.value.ga<i.value.ga};case"gtOp":return function(s,i){return(s=r(s,i)).U.value.ga>s.V.value.ga};case"geOp":return function(s,i){return s=(i=r(s,i)).U,i=i.V,Zn(s.value,i.value)||s.value.ga>i.value.ga}}}function b_(t,r){switch(t){case"eqOp":return function(s,i){return Zn((s=r(s,i)).U.value,s.V.value)};case"ltOp":return function(s,i){return(s=r(s,i)).U.value.ea<s.V.value.ea};case"leOp":return function(s,i){return s=(i=r(s,i)).U,i=i.V,Zn(s.value,i.value)||s.value.ea<i.value.ea};case"gtOp":return function(s,i){return(s=r(s,i)).U.value.ea>s.V.value.ea};case"geOp":return function(s,i){return s=(i=r(s,i)).U,i=i.V,Zn(s.value,i.value)||s.value.ea>i.value.ea}}}function w_(t,r){switch(t){case"eqOp":return function(s,i){return Zn((s=r(s,i)).U.value,s.V.value)};case"neOp":return function(s,i){return!Zn((s=r(s,i)).U.value,s.V.value)}}}function v_(t,r){switch(t){case"eqOp":return function(s,i,c){return xo((s=r(s,i)).U.value,s.V.value,cr(c))};case"neOp":return function(s,i,c){return!xo((s=r(s,i)).U.value,s.V.value,cr(c))};case"ltOp":return function(s,i,c){return s=r(s,i),c=cr(c),0>Qr(s.U.value,s.V.value,c)};case"leOp":return function(s,i,c){var g;return s=(i=r(s,i)).U,i=i.V,(g=xo(s.value,i.value,cr(c)))||(c=cr(c),g=0>Qr(s.value,i.value,c)),g};case"gtOp":return function(s,i,c){return s=r(s,i),c=cr(c),0<Qr(s.U.value,s.V.value,c)};case"geOp":return function(s,i,c){var g;return s=(i=r(s,i)).U,i=i.V,(g=xo(s.value,i.value,cr(c)))||(c=cr(c),g=0<Qr(s.value,i.value,c)),g}}}function x_(t,r){switch(t){case"eqOp":return function(s,i,c){return xo((s=r(s,i)).U.value,s.V.value,cr(c))};case"neOp":return function(s,i,c){return!xo((s=r(s,i)).U.value,s.V.value,cr(c))}}}function __(t,r,s){function i(W,ne){return{U:w?w(W):W,V:k?k(ne):ne}}function c(W){return Z(r,W)&&Z(s,W)}function g(W){return 0<W.filter(function(ne){return Z(r,ne)}).length&&0<W.filter(function(ne){return Z(s,ne)}).length}var w=null,k=null;if(Z(r,19)&&Z(s,19)?r=s=1:Z(r,19)?(w=function(W){return Ee(W,s)},r=s):Z(s,19)&&(k=function(W){return Ee(W,r)},s=r),Z(r,23)&&Z(s,23))return m_(t,i);if(c(0)||g([1,47,61])||g([2,47,61])||c(20)||c(22)||c(21)||g([1,20])){var C=g_(t,i);if(C!==void 0)return C}if(c(16)&&(C=y_(t,i))!==void 0||c(17)&&(C=b_(t,i))!==void 0||c(18)&&(C=w_(t,i))!==void 0||(c(9)||c(7)||c(8))&&(C=v_(t,i))!==void 0||(c(11)||c(12)||c(13)||c(14)||c(15))&&(C=x_(t,i))!==void 0)return C;throw Error("XPTY0004: "+t+" not available for "+je[r]+" and "+je[s])}N(Tp,Et),Tp.prototype.h=function(t,r){var s=this;return Ra(bn(this.s,t,r),r).M(function(i){if(i.length===0)return q.empty();var c=i[0];if(s.type)return i=s.l==="+"?+c.value:-c.value,c.type===0&&(i=Number.NaN),q.m(le(i,s.type.type));if(1<i.length)throw Error("XPTY0004: The operand to a unary operator must be a sequence with a length less than one");return Z(c.type,19)?(c=Ee(c,3).value,q.m(le(s.l==="+"?c:-c,3))):Z(c.type,2)?s.l==="+"?q.m(c):q.m(le(-1*c.value,h_[c.type])):q.m(le(Number.NaN,3))})},N(jp,Et),jp.prototype.h=function(t,r){var s=this,i=0,c=null,g=!1,w=null;if(t!==null){var k=t.N;k!==null&&Z(k.type,53)&&(w=xr(k.value))}return q.create({next:function(){if(!g){for(;i<s.l.length;){if(!c){var C=s.l[i];if(w!==null&&C.B()!==null&&!w.includes(C.B()))return i++,g=!0,Ce(Wt);c=bn(C,t,r)}if(c.ha()===!1)return g=!0,Ce(Wt);c=null,i++}return g=!0,Ce(zt)}return ke}})},jp.prototype.B=function(){return this.s},N(Ip,Et),Ip.prototype.h=function(t,r){var s=this,i=0,c=null,g=!1,w=null;if(t!==null){var k=t.N;k!==null&&Z(k.type,53)&&(w=xr(k.value))}return q.create({next:function(){if(!g){for(;i<s.l.length;){if(!c){var C=s.l[i];if(w!==null&&C.B()!==null&&!w.includes(C.B())){i++;continue}c=bn(C,t,r)}if(c.ha()===!0)return g=!0,Ce(zt);c=null,i++}return g=!0,Ce(Wt)}return ke}})},Ip.prototype.B=function(){return this.s};var fg=Object.create(null);function Dp(t,r,s){var i=r+"~"+s+"~"+t,c=fg[i];return c||(c=fg[i]=__(t,r,s)),c}function If(t,r,s){Et.call(this,r.o.add(s.o),[r,s],{C:!1}),this.l=r,this.A=s,this.s=t}N(If,Et),If.prototype.h=function(t,r){var s=this,i=bn(this.l,t,r),c=bn(this.A,t,r),g=Np(i,r),w=Np(c,r);return g.Z({empty:function(){return q.empty()},m:function(){return w.Z({empty:function(){return q.empty()},m:function(){var k=g.first(),C=w.first();return Dp(s.s,k.type,C.type)(k,C,t)?q.ba():q.W()},multiple:function(){throw Error("XPTY0004: Sequences to compare are not singleton.")}})},multiple:function(){throw Error("XPTY0004: Sequences to compare are not singleton.")}})};var gl={},k_=(gl.equalOp="eqOp",gl.notEqualOp="neOp",gl.lessThanOrEqualOp="leOp",gl.lessThanOp="ltOp",gl.greaterThanOrEqualOp="geOp",gl.greaterThanOp="gtOp",gl);function E_(t,r,s,i){return t=k_[t],s.M(function(c){return r.filter(function(g){for(var w=0,k=c.length;w<k;++w){var C=c[w],W=void 0,ne=void 0,_e=g.type,ze=C.type;if((Z(_e,19)||Z(ze,19))&&(Z(_e,2)?W=3:Z(ze,2)?ne=3:Z(_e,17)?W=17:Z(ze,17)?ne=17:Z(_e,16)?W=16:Z(ze,16)?ne=16:Z(_e,19)?ne=ze:Z(ze,19)&&(W=_e)),W=(ne=S([ne,W])).next().value,ne=ne.next().value,W?g=Ee(g,W):ne&&(C=Ee(C,ne)),Dp(t,g.type,C.type)(g,C,i))return!0}return!1}).Z({default:function(){return q.ba()},empty:function(){return q.W()}})})}function Nf(t,r,s){Et.call(this,r.o.add(s.o),[r,s],{C:!1}),this.l=r,this.A=s,this.s=t}function A_(t,r,s,i){if(!Z(s,53)||!Z(i,53))throw Error("XPTY0004: Sequences to compare are not nodes");switch(t){case"isOp":return S_(s,i);case"nodeBeforeOp":return r?function(c,g){return 0>Dt(r,c.first(),g.first())}:void 0;case"nodeAfterOp":return r?function(c,g){return 0<Dt(r,c.first(),g.first())}:void 0;default:throw Error("Unexpected operator")}}function S_(t,r){return t!==r||t!==47&&t!==53&&t!==54&&t!==55&&t!==56&&t!==57&&t!==58?function(){return!1}:function(s,i){return Ve(s.first().value,i.first().value)}}function Df(t,r,s){Et.call(this,r.o.add(s.o),[r,s],{C:!1}),this.l=r,this.A=s,this.s=t}function hg(t,r,s,i){return s.M(function(c){if(c.some(function(g){return!Z(g.type,53)}))throw Error("XPTY0004: Sequences given to "+t+" should only contain nodes.");return i==="sorted"?q.create(c):i==="reverse-sorted"?q.create(c.reverse()):q.create(St(r,c))})}function Cf(t,r,s,i){Et.call(this,0<To(r.o,s.o)?r.o:s.o,[r,s],{C:r.C&&s.C},!1,i),this.l=t,this.s=r,this.A=s}function fc(t,r){yr.call(this,t.reduce(function(s,i){return s.add(i.o)},new ra({})),t,{R:"unsorted",C:t.every(function(s){return s.C})},r)}function Of(t,r,s){Et.call(this,new ra({}).add(t.o),[t,r],{C:t.C&&r.C},!1,s),this.l=t,this.s=r}function Bf(t,r,s){if(Et.call(this,t.o,[t],{C:!1}),this.l=_t(r.prefix?r.prefix+":"+r.localName:r.localName),this.l===46||this.l===45||this.l===44)throw Error("XPST0080: Casting to xs:anyAtomicType, xs:anySimpleType or xs:NOTATION is not permitted.");if(r.namespaceURI)throw Error("Not implemented: castable as expressions with a namespace URI.");this.A=t,this.s=s}function Rf(t,r,s){if(Et.call(this,t.o,[t],{C:!1}),this.l=_t(r.prefix?r.prefix+":"+r.localName:r.localName),this.l===46||this.l===45||this.l===44)throw Error("XPST0080: Casting to xs:anyAtomicType, xs:anySimpleType or xs:NOTATION is not permitted.");if(r.namespaceURI)throw Error("Not implemented: casting expressions with a namespace URI.");this.A=t,this.s=s}function mg(t,r){var s=t.value,i=null,c=!1;return q.create({next:function(){for(;!c;){if(!i){var g=s.next(0);if(g.done)return c=!0,Ce(zt);i=r(g.value)}if(g=i.ha(),i=null,g===!1)return c=!0,Ce(Wt)}return ke}})}function Ff(t,r,s,i){Et.call(this,t.o,[t],{C:!1},!1,i),this.A=t,this.s=r,this.l=s}function gg(t,r){return!(t===null||r===null||!Z(t.type,53)||!Z(r.type,53))&&Ve(t.value,r.value)}function Mf(t){var r=t.next(0);if(r.done)return q.empty();var s=null,i=null;return q.create({next:function(c){if(r.done)return ke;s||(s=r.value.value);do{var g=s.next(c);if(g.done){if((r=t.next(0)).done)return g;s=r.value.value}}while(g.done||gg(g.value,i));return i=g.value,g}})}function yg(t,r){var s=[];(function(){for(var w=r.next(0),k={};!w.done;)k.ob=w.value.value,(w={current:k.ob.next(0),next:function(C){return function(W){return C.ob.next(W)}}(k)}).current.done||s.push(w),w=r.next(0),k={ob:k.ob}})();var i=null,c=!1,g={};return q.create((g[Symbol.iterator]=function(){return this},g.next=function(){c||(c=!0,s.every(function(ze){return Z(ze.current.value.type,53)})&&s.sort(function(ze,Ke){return Dt(t,ze.current.value,Ke.current.value)}));do{if(!s.length)return ke;var w=s.shift(),k=w.current;if(w.current=w.next(0),!Z(k.value.type,53))return k;if(!w.current.done){for(var C=0,W=s.length-1,ne=0;C<=W;){ne=Math.floor((C+W)/2);var _e=Dt(t,w.current.value,s[ne].current.value);if(_e===0){C=ne;break}0<_e?C=ne+1:W=ne-1}s.splice(C,0,w)}}while(gg(k.value,i));return i=k.value,k},g))}function Pf(t,r){var s=t.reduce(function(i,c){return 0<To(i,c.o)?i:c.o},new ra({}));Et.call(this,s,t,{C:t.every(function(i){return i.C})},!1,r),this.l=t}function Cp(t){return t.every(function(r){return r===null||Z(r.type,5)||Z(r.type,4)})||t.map(function(r){return r?gs(r.type):null}).reduce(function(r,s){return s===null||s===r?r:null})!==null?t:t.every(function(r){return r===null||Z(r.type,1)||Z(r.type,20)})?t.map(function(r){return r?Ee(r,1):null}):t.every(function(r){return r===null||Z(r.type,4)||Z(r.type,6)})?t.map(function(r){return r&&Ee(r,6)}):t.every(function(r){return r===null||Z(r.type,4)||Z(r.type,6)||Z(r.type,3)})?t.map(function(r){return r&&Ee(r,3)}):null}function T_(t){return(t=t.find(function(r){return!!r}))?gs(t.type):null}function Lf(t,r){var s=new ra({});go.call(this,s,[r].concat(D(t.map(function(i){return i.ca}))),{C:!1,X:!1,R:"unsorted",subtree:!1},r),this.A=t}function Op(t){Et.call(this,t?t.o:new ra({}),t?[t]:[],{R:"sorted",subtree:!1,X:!1,C:!1}),this.l=t}function Uf(t){Et.call(this,new ra({}),[],{R:"sorted"},!1,t)}function j_(t,r){var s=!1,i=!1;if(r.forEach(function(c){Z(c.type,53)?s=!0:i=!0}),i&&s)throw Error("XPTY0018: The path operator should either return nodes or non-nodes. Mixed sequences are not allowed.");return s?St(t,r):r}function Bp(t,r){var s=t.every(function(c){return c.X}),i=t.every(function(c){return c.subtree});Et.call(this,t.reduce(function(c,g){return c.add(g.o)},new ra({})),t,{C:!1,X:s,R:r?"sorted":"unsorted",subtree:i}),this.l=t,this.s=r}function Rp(t,r){Et.call(this,t.o.add(r.o),[t,r],{C:t.C&&r.C,X:t.X,R:t.da,subtree:t.subtree}),this.s=t,this.l=r}function bg(t,r,s){if(s=[s],Z(t.type,62))if(r==="*")s.push.apply(s,D(t.P.map(function(c){return c()})));else{if(!Z(r.type,5))throw he("The key specifier is not an integer.");var i=r.value;if(t.P.length<i||0>=i)throw Error("FOAY0001: Array index out of bounds");s.push(t.P[i-1]())}else{if(!Z(t.type,61))throw he("The provided context item is not a map or an array.");r==="*"?s.push.apply(s,D(t.h.map(function(c){return c.value()}))):(t=t.h.find(function(c){return Or(c.key,r)}))&&s.push(t.value())}return Pa(s)}function wg(t,r,s,i,c){return r==="*"?bg(t,r,s):Pa([s,r=jn(r=bn(r,i,c))().M(function(g){return g.reduce(function(w,k){return bg(t,k,w)},new Gt)})])}function Fp(t,r){Et.call(this,t.o,[t].concat(r==="*"?[]:[r]),{C:t.C,R:t.da,subtree:t.subtree}),this.l=t,this.s=r}function zf(t,r){var s={};Et.call(this,new ra((s.external=1,s)),t==="*"?[]:[t],{C:!1},!1,r),this.l=t}function Mp(t,r,s,i){var c=r.map(function(w){return w.jb});r=r.map(function(w){return w.name});var g=c.reduce(function(w,k){return w.add(k.o)},s.o);Et.call(this,g,c.concat(s),{C:!1},!1,i),this.s=t,this.A=r,this.K=c,this.S=s,this.l=null}function Hs(t){Et.call(this,t,[],{C:!1})}function ci(t){var r={};Hs.call(this,new ra((r.nodeType=1,r))),this.s=t}function As(t,r){r=r===void 0?{kind:null}:r;var s=t.prefix,i=t.namespaceURI,c={};(t=t.localName)!=="*"&&(c.nodeName=1),c.nodeType=1,Hs.call(this,new ra(c)),this.s=t,this.K=i,this.A=s,this.S=r.kind}function Pp(t){var r={};Hs.call(this,new ra((r.nodeName=1,r))),this.s=t}function yl(t){Hs.call(this,new ra({})),this.s=t}function Lp(t,r,s){Et.call(this,new ra({}),[],{C:!1,R:"unsorted"}),this.A=s,this.s=r,this.K=t,this.l=null}function $f(t,r){var s=new ra({});go.call(this,s,[t,r],{C:!1,X:!1,R:"unsorted",subtree:!1},r),this.A=t}function bl(t){this.type=t}function Up(t){this.type="delete",this.target=t}function Qo(t,r,s){this.type=s,this.target=t,this.content=r}function Gf(t,r){Qo.call(this,t,r,"insertAfter")}function Hi(t,r){this.type="insertAttributes",this.target=t,this.content=r}function Vf(t,r){Qo.call(this,t,r,"insertBefore")}function Hf(t,r){Qo.call(this,t,r,"insertIntoAsFirst")}function Wf(t,r){Qo.call(this,t,r,"insertIntoAsLast")}function Kf(t,r){Qo.call(this,t,r,"insertInto")}function zp(t,r){this.type="rename",this.target=t,this.o=r.Ca?r:new Ga(r.prefix,r.namespaceURI,r.localName)}function $p(t,r){this.type="replaceElementContent",this.target=t,this.text=r}function Gp(t,r){this.type="replaceNode",this.target=t,this.o=r}function Vp(t,r){this.type="replaceValue",this.target=t,this.o=r}function I_(t,r){return new Gp(t,r)}function Xf(t){Nr.call(this,new ra({}),[t],{C:!1,R:"unsorted"}),this.l=t}function vg(t,r,s,i,c,g){var w=r.h;return t.reduce(function k(C,W){return Z(W.type,62)?(W.P.forEach(function(ne){return ne().O().forEach(function(_e){return k(C,_e)})}),C):(C.push(W),C)},[]).forEach(function(k,C,W){if(Z(k.type,47)){if(c)throw g(k.value,w);s.push(k.value.node)}else if(Z(k.type,46)||Z(k.type,53)&&k.value.node.nodeType===3){var ne=Z(k.type,46)?Ee(Ba(k,r).first(),1).value:Oa(w,k.value);C!==0&&Z(W[C-1].type,46)&&Z(k.type,46)?(i.push({data:" "+ne,Ta:!0,nodeType:3}),c=!0):ne&&(i.push({data:""+ne,Ta:!0,nodeType:3}),c=!0)}else if(Z(k.type,55)){var _e=[];za(w,k.value).forEach(function(ze){return _e.push($n(ze))}),c=vg(_e,r,s,i,c,g)}else{if(!Z(k.type,53))throw Z(k.type,60)?Eo(k.type):Error("Atomizing "+k.type+" is not implemented.");i.push(k.value.node),c=!0}}),c}function Yf(t,r,s){var i=[],c=[],g=!1;return t.forEach(function(w){g=vg(w,r,i,c,g,s)}),{attributes:i,Xa:c}}function N_(t,r,s,i,c){var g=[];switch(t){case 4:i.length&&g.push(new Hi(r,i)),c.length&&g.push(new Hf(r,c));break;case 5:i.length&&g.push(new Hi(r,i)),c.length&&g.push(new Wf(r,c));break;case 3:i.length&&g.push(new Hi(r,i)),c.length&&g.push(new Kf(r,c));break;case 2:i.length&&g.push(new Hi(s,i)),c.length&&g.push(new Vf(r,c));break;case 1:i.length&&g.push(new Hi(s,i)),c.length&&g.push(new Gf(r,c))}return g}function qf(t,r,s){Nr.call(this,new ra({}),[t,s],{C:!1,R:"unsorted"}),this.K=t,this.l=r,this.A=s}function Hp(){return pa("Casting not supported from given type to a single xs:string or xs:untypedAtomic or any of its derived types.")}N(Nf,Et),Nf.prototype.h=function(t,r){var s=this,i=bn(this.l,t,r),c=bn(this.A,t,r);return i.Z({empty:function(){return q.W()},default:function(){return c.Z({empty:function(){return q.W()},default:function(){var g=Np(i,r),w=Np(c,r);return E_(s.s,g,w,t)}})}})},N(Df,Et),Df.prototype.h=function(t,r){var s=this,i=bn(this.l,t,r),c=bn(this.A,t,r);return i.Z({empty:function(){return q.empty()},multiple:function(){throw Error("XPTY0004: Sequences to compare are not singleton")},m:function(){return c.Z({empty:function(){return q.empty()},multiple:function(){throw Error("XPTY0004: Sequences to compare are not singleton")},m:function(){var g=i.first(),w=c.first();return A_(s.s,r.h,g.type,w.type)(i,c,t)?q.ba():q.W()}})}})},N(Cf,Et),Cf.prototype.h=function(t,r){var s=this,i=hg(this.l,r.h,bn(this.s,t,r),this.s.da);t=hg(this.l,r.h,bn(this.A,t,r),this.A.da);var c=i.value,g=t.value,w=null,k=null,C=!1,W=!1;return q.create({next:function(){if(C)return ke;for(;!W;){if(!w){var ne=c.next(0);if(ne.done)return C=!0,ke;w=ne.value}if(!k){if((ne=g.next(0)).done){W=!0;break}k=ne.value}if(Ve(w.value,k.value)){if(ne=Ce(w),k=w=null,s.l==="intersectOp")return ne}else if(0>Dt(r.h,w,k)){if(ne=Ce(w),w=null,s.l==="exceptOp")return ne}else k=null}return s.l==="exceptOp"?w!==null?(ne=Ce(w),w=null,ne):c.next(0):(C=!0,ke)}})},N(fc,yr),fc.prototype.A=function(t,r,s){return s.length?Pa(s.map(function(i){return i(t)})):q.empty()},N(Of,Et),Of.prototype.h=function(t,r){var s=this,i=hs(t,bn(this.l,t,r)),c=null,g=null,w=!1;return q.create({next:function(k){for(;!w;){if(!c&&(c=i.next(k)).done)return w=!0,ke;g||(g=bn(s.s,c.value,r));var C=g.value.next(k);if(!C.done)return C;c=g=null}}})},N(Bf,Et),Bf.prototype.h=function(t,r){var s=this,i=Ra(bn(this.A,t,r),r);return i.Z({empty:function(){return s.s?q.ba():q.W()},m:function(){return i.map(function(c){return Te(c,s.l).u?zt:Wt})},multiple:function(){return q.W()}})},N(Rf,Et),Rf.prototype.h=function(t,r){var s=this,i=Ra(bn(this.A,t,r),r);return i.Z({empty:function(){if(!s.s)throw Error("XPTY0004: Sequence to cast is empty while target type is singleton.");return q.empty()},m:function(){return i.map(function(c){return Ee(c,s.l)})},multiple:function(){throw Error("XPTY0004: Sequence to cast is not singleton or empty.")}})},N(Ff,Et),Ff.prototype.h=function(t,r){var s=this,i=bn(this.A,t,r);return i.Z({empty:function(){return s.l==="?"||s.l==="*"?q.ba():q.W()},multiple:function(){return s.l==="+"||s.l==="*"?mg(i,function(c){var g=q.m(c);return c=_r(t,0,c,g),bn(s.s,c,r)}):q.W()},m:function(){return mg(i,function(c){var g=q.m(c);return c=_r(t,0,c,g),bn(s.s,c,r)})}})},N(Pf,Et),Pf.prototype.h=function(t,r){var s=this;if(this.l.every(function(c){return c.da==="sorted"})){var i=0;return yg(r.h,{next:function(){return i>=s.l.length?ke:Ce(bn(s.l[i++],t,r))}}).map(function(c){if(!Z(c.type,53))throw Error("XPTY0004: The sequences to union are not of type node()*");return c})}return Pa(this.l.map(function(c){return bn(c,t,r)})).M(function(c){if(c.some(function(g){return!Z(g.type,53)}))throw Error("XPTY0004: The sequences to union are not of type node()*");return c=St(r.h,c),q.create(c)})},N(Lf,go),Lf.prototype.K=function(t,r,s,i){if(this.A[1])throw Error("More than one order spec is not supported for the order by clause.");var c,g,w=[],k=!1,C=null,W=this.A[0];return q.create({next:function(){if(!k){for(var ne=r.next(0);!ne.done;)w.push(ne.value),ne=r.next(0);if((ne=w.map(function(sa){return W.ca.h(sa,s)}).map(function(sa){return Ra(sa,s)})).find(function(sa){return!sa.G()&&!sa.wa()}))throw he("Order by only accepts empty or singleton sequences");if(T_(c=(c=ne.map(function(sa){return sa.first()})).map(function(sa){return sa===null?sa:Z(19,sa.type)?Ee(sa,1):sa}))&&!(c=Cp(c)))throw he("Could not cast values");ne=c.length,g=c.map(function(sa,fr){return fr});for(var _e=0;_e<ne;_e++)if(_e+1!==ne)for(var ze=_e;0<=ze;ze--){var Ke=ze,ut=ze+1;if(ut!==ne){var ft=c[g[Ke]],Ct=c[g[ut]];if(Ct!==null||ft!==null){if(W.lc){if(ft===null)continue;if(Ct===null&&ft!==null){ft=S([g[ut],g[Ke]]),g[Ke]=ft.next().value,g[ut]=ft.next().value;continue}if(isNaN(Ct.value)&&ft!==null&&!isNaN(ft.value)){ft=S([g[ut],g[Ke]]),g[Ke]=ft.next().value,g[ut]=ft.next().value;continue}}else{if(Ct===null)continue;if(ft===null&&Ct!==null){ft=S([g[ut],g[Ke]]),g[Ke]=ft.next().value,g[ut]=ft.next().value;continue}if(isNaN(ft.value)&&Ct!==null&&!isNaN(Ct.value)){ft=S([g[ut],g[Ke]]),g[Ke]=ft.next().value,g[ut]=ft.next().value;continue}}Dp("gtOp",ft.type,Ct.type)(ft,Ct,t)&&(ft=S([g[ut],g[Ke]]),g[Ke]=ft.next().value,g[ut]=ft.next().value)}}}var hn=W.Kb?0:c.length-1;C=i({next:function(){return W.Kb?hn>=c.length?ke:Ce(w[g[hn++]]):0>hn?ke:Ce(w[g[hn--]])}}).value,k=!0}return C.next(0)}})},N(Op,Et),Op.prototype.h=function(t,r){if(t.N===null)throw Ja("context is absent, it needs to be present to use paths.");for(var s=r.h,i=t.N.value;i.node.nodeType!==9;)if((i=dn(s,i))===null)throw Error("XPDY0050: the root node of the context node is not a document node.");return s=q.m($n(i)),this.l?bn(this.l,_r(t,0,s.first(),s),r):s},N(Uf,Et),Uf.prototype.h=function(t){if(t.N===null)throw Ja('context is absent, it needs to be present to use the "." operator');return q.m(t.N)},N(Bp,Et),Bp.prototype.h=function(t,r){var s=this,i=!0;return this.l.reduce(function(c,g,w){var k=c===null?Fe(t):hs(t,c);if(c={next:function(ne){if((ne=k.next(ne)).done)return ke;if(ne.value.N!==null&&!Z(ne.value.N.type,53)&&0<w)throw Error("XPTY0019: The result of E1 in a path expression E1/E2 should not evaluate to a sequence of nodes.");return Ce(bn(g,ne.value,r))}},s.s)switch(g.da){case"reverse-sorted":var C=c;c={next:function(ne){return(ne=C.next(ne)).done?ne:Ce(ne.value.M(function(_e){return q.create(_e.reverse())}))}};case"sorted":if(g.subtree&&i){var W=Mf(c);break}W=yg(r.h,c);break;case"unsorted":return Mf(c).M(function(ne){return q.create(j_(r.h,ne))})}else W=Mf(c);return i=i&&g.X,W},null)},Bp.prototype.B=function(){return this.l[0].B()},N(Rp,Et),Rp.prototype.h=function(t,r){var s=this,i=bn(this.s,t,r);if(this.l.C){var c=bn(this.l,t,r);if(c.G())return c;var g=c.first();if(Z(g.type,2)){var w=g.value;if(!Number.isInteger(w))return q.empty();var k=i.value,C=!1;return q.create({next:function(){if(!C){for(var Ke=k.next(0);!Ke.done;Ke=k.next(0))if(w--==1)return C=!0,Ke;C=!0}return ke}})}return c.ha()?i:q.empty()}var W=i.value,ne=null,_e=0,ze=null;return q.create({next:function(Ke){for(var ut=!1;!(ne&&ne.done||(ne||(ne=W.next(ut?0:Ke),ut=!0),ne.done));){ze||(ze=bn(s.l,_r(t,_e,ne.value,i),r));var ft=ze.first();ft=ft!==null&&(Z(ft.type,2)?ft.value===_e+1:ze.ha()),ze=null;var Ct=ne.value;if(ne=null,_e++,ft)return Ce(Ct)}return ne}})},Rp.prototype.B=function(){return this.s.B()},N(Fp,Et),Fp.prototype.h=function(t,r){var s=this;return bn(this.l,t,r).M(function(i){return i.reduce(function(c,g){return wg(g,s.s,c,t,r)},new Gt)})},Fp.prototype.B=function(){return this.l.B()},N(zf,Et),zf.prototype.h=function(t,r){return wg(t.N,this.l,new Gt,t,r)},N(Mp,Et),Mp.prototype.h=function(t,r){var s=this,i=t,c=this.l.map(function(ne,_e){var ze=bn(s.K[_e],i,r).O();return i=Rr(t,((_e={})[ne]=function(){return q.create(ze)},_e)),ze});if(c.some(function(ne){return ne.length===0}))return this.s==="every"?q.ba():q.W();var g=Array(c.length).fill(0);g[0]=-1;for(var w=!0;w;){w=!1;for(var k=0,C=g.length;k<C;++k){var W=c[k];if(!(++g[k]>W.length-1)){for(w=Object.create(null),k={},C=0;C<g.length;k={xb:k.xb},C++)k.xb=c[C][g[C]],w[this.l[C]]=function(ne){return function(){return q.m(ne.xb)}}(k);if(w=Rr(t,w),(w=bn(this.S,w,r)).ha()&&this.s==="some")return q.ba();if(!w.ha()&&this.s==="every")return q.W();w=!0;break}g[k]=0}}return this.s==="every"?q.ba():q.W()},Mp.prototype.v=function(t){this.l=[];for(var r=0,s=this.A.length;r<s;++r){this.K[r].v(t),On(t);var i=this.A[r],c=i.prefix?t.aa(i.prefix):null;i=Hn(t,c,i.localName),this.l[r]=i}for(this.S.v(t),r=0,s=this.A.length;r<s;++r)wn(t)},N(Hs,Et),Hs.prototype.h=function(t){return this.l(t.N)?q.ba():q.W()},N(ci,Hs),ci.prototype.l=function(t){return!!Z(t.type,53)&&(t=t.value.node.nodeType,this.s===3&&t===4||this.s===t)},ci.prototype.B=function(){return"type-"+this.s},N(As,Hs),As.prototype.l=function(t){var r=Z(t.type,54),s=Z(t.type,47);return!(!r&&!s||(t=t.value,this.S!==null&&(this.S===1&&!r||this.S===2&&!s)||(this.A!==null||this.K===""||this.s!=="*")&&(this.A==="*"?this.s!=="*"&&this.s!==t.node.localName:this.s!=="*"&&this.s!==t.node.localName||(t.node.namespaceURI||null)!==((this.A===""?r?this.K:null:this.K)||null))))},As.prototype.B=function(){return this.s==="*"?this.S===null?"type-1-or-type-2":"type-"+this.S:"name-"+this.s},As.prototype.v=function(t){if(this.K===null&&this.A!=="*"&&(this.K=t.aa(this.A||"")||null,!this.K&&this.A))throw Error("XPST0081: The prefix "+this.A+" could not be resolved.")},N(Pp,Hs),Pp.prototype.l=function(t){return Z(t.type,57)&&t.value.node.target===this.s},Pp.prototype.B=function(){return"type-7"},N(yl,Hs),yl.prototype.l=function(t){return Z(t.type,_t(this.s.prefix?this.s.prefix+":"+this.s.localName:this.s.localName))},N(Lp,Et),Lp.prototype.h=function(t,r){if(!t.Aa[this.l]){if(this.S)return this.S(t,r);throw Error("XQDY0054: The variable "+this.A+" is declared but not in scope.")}return t.Aa[this.l]()},Lp.prototype.v=function(t){if(this.s===null&&this.K&&(this.s=t.aa(this.K)),this.l=t.ib(this.s||"",this.A),!this.l)throw Error("XPST0008, The variable "+this.A+" is not in scope.");(t=t.Ia[this.l])&&(this.S=t)},N($f,go),$f.prototype.K=function(t,r,s,i){var c=this,g=null,w=null;return i({next:function(){for(;;){if(!w){var k=r.next(0);if(k.done)return ke;g=k.value,w=bn(c.A,g,s)}k=w.ha();var C=g;if(w=g=null,k)return Ce(C)}}})},N(Up,bl),Up.prototype.h=function(t){var r={};return r.type=this.type,r.target=Dr(this.target,t,!1),r},N(Qo,bl),Qo.prototype.h=function(t){var r={};return r.type=this.type,r.target=Dr(this.target,t,!1),r.content=this.content.map(function(s){return Dr(s,t,!0)}),r},N(Gf,Qo),N(Hi,bl),Hi.prototype.h=function(t){var r={};return r.type=this.type,r.target=Dr(this.target,t,!1),r.content=this.content.map(function(s){return Dr(s,t,!0)}),r},N(Vf,Qo),N(Hf,Qo),N(Wf,Qo),N(Kf,Qo),N(zp,bl),zp.prototype.h=function(t){var r={},s={};return s.type=this.type,s.target=Dr(this.target,t,!1),s.newName=(r.prefix=this.o.prefix,r.namespaceURI=this.o.namespaceURI,r.localName=this.o.localName,r),s},N($p,bl),$p.prototype.h=function(t){var r={};return r.type=this.type,r.target=Dr(this.target,t,!1),r.text=this.text?Dr(this.text,t,!0):null,r},N(Gp,bl),Gp.prototype.h=function(t){var r={};return r.type=this.type,r.target=Dr(this.target,t,!1),r.replacement=this.o.map(function(s){return Dr(s,t,!0)}),r},N(Vp,bl),Vp.prototype.h=function(t){var r={};return r.type=this.type,r.target=Dr(this.target,t,!1),r["string-value"]=this.o,r},N(Xf,Nr),Xf.prototype.s=function(t,r){var s,i,c=Jo(this.l)(t,r),g=r.h;return{next:function(){if(!s){var w=c.next(0);if(w.value.J.some(function(k){return!Z(k.type,53)}))throw Error("XUTY0007: The target of a delete expression must be a sequence of zero or more nodes.");s=w.value.J,i=w.value.fa}return Ce({fa:Po((s=s.filter(function(k){return dn(g,k.value)})).map(function(k){return new Up(k.value)}),i),J:[]})}}},N(qf,Nr),qf.prototype.s=function(t,r){var s,i,c,g,w,k,C=this,W=Jo(this.K)(t,r),ne=Jo(this.A)(t,r),_e=r.h;return{next:function(){if(!s){var ze=W.next(0),Ke=Yf([ze.value.J],r,Gs);s=Ke.attributes.map(function(ut){return{node:ut,F:null}}),i=Ke.Xa.map(function(ut){return{node:ut,F:null}}),c=ze.value.fa}if(!g){if((ze=ne.next(0)).value.J.length===0)throw hl();if(3<=C.l){if(ze.value.J.length!==1||!Z(ze.value.J[0].type,54)&&!Z(ze.value.J[0].type,55))throw _s()}else{if(ze.value.J.length!==1||!(Z(ze.value.J[0].type,54)||Z(ze.value.J[0].type,56)||Z(ze.value.J[0].type,58)||Z(ze.value.J[0].type,57)))throw Xc();if((k=dn(_e,ze.value.J[0].value,null))===null)throw Error("XUDY0029: The target "+ze.value.J[0].value.outerHTML+" for inserting a node before or after must have a parent.")}g=ze.value.J[0],w=ze.value.fa}if(s.length){if(3<=C.l){if(!Z(g.type,54))throw Error("XUTY0022: An insert expression specifies the insertion of an attribute node into a document node.")}else if(k.node.nodeType!==1)throw Error("XUDY0030: An insert expression specifies the insertion of an attribute node before or after a child of a document node.");s.reduce(function(ut,ft){var Ct=ft.node.prefix||"",hn=ft.node.prefix||"",sa=ft.node.namespaceURI,fr=hn?g.value.node.lookupNamespaceURI(hn):null;if(fr&&fr!==sa)throw Jl(sa);if((hn=ut[hn])&&sa!==hn)throw Zo(sa);return ut[Ct]=ft.node.namespaceURI,ut},{})}return Ce({J:[],fa:Po(N_(C.l,g.value,k||null,s,i),c,w)})}}};var xg=/([A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])/,D_=new RegExp(xg.source+new RegExp("("+xg.source+"|[-.0-9·̀-ͯ‿⁀])").source+"*","g");function Zf(t){return!!(t=t.match(D_))&&t.length===1}function _g(t,r){return Ra(r,t).Z({m:function(s){if(Z((s=s.first()).type,1)||Z(s.type,19)){if(!Zf(s.value))throw Error('XQDY0041: The value "'+s.value+'" of a name expressions cannot be converted to a NCName.');return q.m(s)}throw Hp()},default:function(){throw Hp()}}).value}function Wp(t,r,s){return Ra(s,r).Z({m:function(i){if(Z((i=i.first()).type,23))return q.m(i);if(Z(i.type,1)||Z(i.type,19)){if((i=i.value.split(":")).length===1)i=i[0];else{var c=i[0],g=t.aa(c);i=i[1]}if(!Zf(i)||c&&!Zf(c))throw _a(c?c+":"+i:i);if(c&&!g)throw _a(c+":"+i);return q.m({type:23,value:new Ga(c,g,i)})}throw Hp()},default:function(){throw Hp()}}).value}function Kp(t,r){Nr.call(this,new ra({}),[t,r],{C:!1,R:"unsorted"}),this.A=t,this.K=r,this.l=void 0}function C_(t,r,s){var i,c,g;return{next:function(){if(!i){var w=s.next(0),k=Yf([w.value.J],t,Zo);i={attributes:k.attributes.map(function(C){return{node:C,F:null}}),Xa:k.Xa.map(function(C){return{node:C,F:null}})},c=w.value.fa}if((k=r.next(0)).value.J.length===0)throw hl();if(k.value.J.length!==1||!(Z(k.value.J[0].type,54)||Z(k.value.J[0].type,47)||Z(k.value.J[0].type,56)||Z(k.value.J[0].type,58)||Z(k.value.J[0].type,57)))throw Zl();if((g=dn(t.h,k.value.J[0].value,null))===null)throw Error("XUDY0009: The target "+k.value.J[0].value.outerHTML+" for replacing a node must have a parent.");if(w=k.value.J[0],k=k.value.fa,Z(w.type,47)){if(i.Xa.length)throw Error("XUTY0011: When replacing an attribute the new value must be zero or more attribute nodes.");i.attributes.reduce(function(C,W){var ne=W.node.prefix||"";W=W.node.namespaceURI;var _e=g.node.lookupNamespaceURI(ne);if(_e&&_e!==W)throw Jl(W);if((_e=C[ne])&&W!==_e)throw Zo(W);return C[ne]=W,C},{})}else if(i.attributes.length)throw Error("XUTY0010: When replacing an an element, text, comment, or processing instruction node the new value must be a single node.");return Ce({J:[],fa:Po([I_(w.value,[].concat(i.attributes,i.Xa))],c,k)})}}}function O_(t,r,s){var i,c,g,w,k=!1;return{next:function(){if(k)return ke;if(!g){var C=s.next(0),W=Ra(q.create(C.value.J),t).map(function(ne){return Ee(ne,1)}).O().map(function(ne){return ne.value}).join(" ");g=W.length===0?null:{node:t.o.createTextNode(W),F:null},w=C.value.fa}if(!i){if((C=r.next(0)).value.J.length===0)throw hl();if(C.value.J.length!==1||!(Z(C.value.J[0].type,54)||Z(C.value.J[0].type,47)||Z(C.value.J[0].type,56)||Z(C.value.J[0].type,58)||Z(C.value.J[0].type,57)))throw Zl();i=C.value.J[0],c=C.value.fa}if(Z(i.type,54))return k=!0,Ce({J:[],fa:Po([new $p(i.value,g)],w,c)});if(Z(i.type,47)||Z(i.type,56)||Z(i.type,58)||Z(i.type,57)){if(C=g?Oa(t.h,g):"",Z(i.type,58)&&(C.includes("--")||C.endsWith("-")))throw Error('XQDY0072: The content "'+C+'" for a comment node contains two adjacent hyphens or ends with a hyphen.');if(Z(i.type,57)&&C.includes("?>"))throw Error('XQDY0026: The content "'+C+'" for a processing instruction node contains "?>".');return k=!0,Ce({J:[],fa:Po([new Vp(i.value,C)],w,c)})}}}}function Jf(t,r,s){Nr.call(this,new ra({}),[r,s],{C:!1,R:"unsorted"}),this.K=t,this.l=r,this.A=s}function kg(t){switch(t.type){case"delete":return new Up({node:t.target,F:null});case"insertAfter":return new Gf({node:t.target,F:null},t.content.map(function(r){return{node:r,F:null}}));case"insertBefore":return new Vf({node:t.target,F:null},t.content.map(function(r){return{node:r,F:null}}));case"insertInto":return new Kf({node:t.target,F:null},t.content.map(function(r){return{node:r,F:null}}));case"insertIntoAsFirst":return new Hf({node:t.target,F:null},t.content.map(function(r){return{node:r,F:null}}));case"insertIntoAsLast":return new Wf({node:t.target,F:null},t.content.map(function(r){return{node:r,F:null}}));case"insertAttributes":return new Hi({node:t.target,F:null},t.content.map(function(r){return{node:r,F:null}}));case"rename":return new zp({node:t.target,F:null},t.newName);case"replaceNode":return new Gp({node:t.target,F:null},t.replacement.map(function(r){return{node:r,F:null}}));case"replaceValue":return new Vp({node:t.target,F:null},t["string-value"]);case"replaceElementContent":return new $p({node:t.target,F:null},t.text?{node:t.text,F:null}:null);default:throw Error('Unexpected type "'+t.type+'" when parsing a transferable pending update.')}}function Eg(t,r,s){if(r.find(function(c){return Ve(c,t)}))return!0;var i=dn(s,t);return!!i&&Eg(i,r,s)}function hc(t,r,s){Nr.call(this,new ra({}),t.reduce(function(i,c){return i.push(c.jb),i},[r,s]),{C:!1,R:"unsorted"}),this.l=t,this.K=r,this.A=s,this.I=null}function Ag(t,r){return{node:{nodeType:2,Ta:!0,nodeName:t.Ca(),namespaceURI:t.namespaceURI,prefix:t.prefix,localName:t.localName,name:t.Ca(),value:r},F:null}}function mc(t,r){var s=r.wb||[];s=s.concat(t.Oa||[]),Et.call(this,new ra({}),s,{C:!1,R:"unsorted"}),t.Oa?this.s=t.Oa:this.name=new Ga(t.prefix,t.namespaceURI,t.localName),this.l=r,this.A=void 0}function Qf(t){Et.call(this,t?t.o:new ra({}),t?[t]:[],{C:!1,R:"unsorted"}),this.l=t}function gc(t,r,s,i){Et.call(this,new ra({}),i.concat(r).concat(t.Oa||[]),{C:!1,R:"unsorted"}),t.Oa?this.s=t.Oa:this.l=new Ga(t.prefix,t.namespaceURI,t.localName),this.S=s.reduce(function(c,g){if(g.prefix in c)throw Error("XQST0071: The namespace declaration with the prefix "+g.prefix+" has already been declared on the constructed element.");return c[g.prefix||""]=g.uri,c},{}),this.K=r,this.la=i,this.A=void 0}function Sg(t){if(/^xml$/i.test(t))throw Error('XQDY0064: The target of a created PI may not be "'+t+'"')}function Tg(t,r){return{node:{data:r,Ta:!0,nodeName:t,nodeType:7,target:t},F:null}}function eh(t,r){var s=t.Fb?[t.Fb].concat(r):[r];Et.call(this,s.reduce(function(i,c){return i.add(c.o)},new ra({})),s,{C:!1,R:"unsorted"}),this.l=t,this.s=r}function th(t){Et.call(this,t?t.o:new ra({}),t?[t]:[],{C:!1,R:"unsorted"}),this.l=t}function Xp(t,r,s,i){var c,g=new ra({});yr.call(this,g,(c=[t].concat(D(r.map(function(w){return w.ic})),[s])).concat.apply(c,D(r.map(function(w){return w.Pb.map(function(k){return k.Ob})}))),{C:!1,X:!1,R:"unsorted",subtree:!1},i),this.K=t,this.l=r.length,this.S=r.map(function(w){return w.Pb})}N(Kp,Nr),Kp.prototype.s=function(t,r){var s=this,i=Jo(this.A)(t,r),c=Jo(this.K)(t,r);return{next:function(){var g=i.next(0),w=g.value.J;if(w.length===0)throw hl();if(w.length!==1||!Z(w[0].type,54)&&!Z(w[0].type,47)&&!Z(w[0].type,57))throw of();w=w[0];var k=c.next(0);e:{var C=s.l,W=q.create(k.value.J);switch(w.type){case 54:if(C=Wp(C,r,W).next(0).value.value,(W=w.value.node.lookupNamespaceURI(C.prefix))&&W!==C.namespaceURI)throw Jl(C.namespaceURI);break e;case 47:if((C=Wp(C,r,W).next(0).value.value).namespaceURI&&(W=w.value.node.lookupNamespaceURI(C.prefix))&&W!==C.namespaceURI)throw Jl(C.namespaceURI);break e;case 57:C=new Ga("",null,C=_g(r,W).next(0).value.value);break e}C=void 0}return Ce({J:[],fa:Po([new zp(w.value,C)],g.value.fa,k.value.fa)})}}},Kp.prototype.v=function(t){this.l=oa(t),Nr.prototype.v.call(this,t)},N(Jf,Nr),Jf.prototype.s=function(t,r){var s=Jo(this.l)(t,r);return t=Jo(this.A)(t,r),this.K?O_(r,s,t):C_(r,s,t)},N(hc,Nr),hc.prototype.h=function(t,r){return Ui(t=this.s(t,r),function(){})},hc.prototype.s=function(t,r){var s,i,c,g=this,w=r.h,k=r.o,C=r.B,W=[],ne=[],_e=[];return{next:function(){if(ne.length!==g.l.length)for(var ze={},Ke=ne.length;Ke<g.l.length;ze={lb:ze.lb},Ke++){var ut=g.l[Ke],ft=W[Ke];if(ft||(W[Ke]=ft=Jo(ut.jb)(t,r)),(ft=ft.next(0)).value.J.length!==1||!Z(ft.value.J[0].type,53))throw Error("XUTY0013: The source expression of a copy modify expression must return a single node.");ze.lb=$n(nu(ft.value.J[0].value,r)),ne.push(ze.lb.value),_e.push(ft.value.fa),t=Rr(t,((ft={})[ut.qc]=function(Ct){return function(){return q.m(Ct.lb)}}(ze),ft))}return c||(s||(s=Jo(g.K)(t,r)),c=s.next(0).value.fa),c.forEach(function(Ct){if(Ct.target&&!Eg(Ct.target,ne,w))throw Error("XUDY0014: The target "+Ct.target.node.outerHTML+" must be a node created by the copy clause.");if(Ct.type==="put")throw Error("XUDY0037: The modify expression of a copy modify expression can not contain a fn:put.")}),ep(ze=c.map(function(Ct){return kg(Ct=Ct.h(r))}),w,k,C),i||(i=Jo(g.A)(t,r)),Ce({J:(ze=i.next(0)).value.J,fa:Po.apply(null,[ze.value.fa].concat(D(_e)))})}}},hc.prototype.v=function(t){On(t),this.l.forEach(function(r){return r.qc=Hn(t,r.Rb.namespaceURI,r.Rb.localName)}),Nr.prototype.v.call(this,t),wn(t),this.I=this.l.some(function(r){return r.jb.I})||this.A.I},N(mc,Et),mc.prototype.h=function(t,r){var s,i,c,g=this,w=!1;return q.create({next:function(){if(w)return ke;if(!i){if(g.s){if(!s){var k=g.s.h(t,r);s=Wp(g.A,r,k)}i=s.next(0).value.value}else i=g.name;if(i&&(i.prefix==="xmlns"||i.prefix===""&&i.localName==="xmlns"||i.namespaceURI==="http://www.w3.org/2000/xmlns/"||i.prefix==="xml"&&i.namespaceURI!=="http://www.w3.org/XML/1998/namespace"||i.prefix!==""&&i.prefix!=="xml"&&i.namespaceURI==="http://www.w3.org/XML/1998/namespace"))throw Ge(i)}return g.l.wb?(k=g.l.wb,c||(c=Pa(k.map(function(C){return Ra(C.h(t,r),r).M(function(W){return q.m(le(W.map(function(ne){return ne.value}).join(" "),1))})})).M(function(C){return q.m($n(Ag(i,C.map(function(W){return W.value}).join(""))))}).value),c.next(0)):(w=!0,Ce($n(Ag(i,g.l.value))))}})},mc.prototype.v=function(t){if(this.A=oa(t),this.name&&this.name.prefix&&!this.name.namespaceURI){var r=t.aa(this.name.prefix);if(r===void 0&&this.name.prefix)throw ms(this.name.prefix);this.name.namespaceURI=r||null}Et.prototype.v.call(this,t)},N(Qf,Et),Qf.prototype.h=function(t,r){var s={data:"",Ta:!0,nodeType:8},i={node:s,F:null};return this.l?Ra(t=bn(this.l,t,r),r).M(function(c){if((c=c.map(function(g){return Ee(g,1).value}).join(" ")).indexOf("-->")!==-1)throw Error('XQDY0072: The contents of the data of a comment may not include "-->"');return s.data=c,q.m($n(i))}):q.m($n(i))},N(gc,Et),gc.prototype.h=function(t,r){var s,i,c,g,w,k=this,C=!1,W=!1,ne=!1;return q.create({next:function(){if(ne)return ke;if(C||(s||(s=Pa(k.K.map(function(Ct){return bn(Ct,t,r)}))),i=s.O(),C=!0),!W){c||(c=k.la.map(function(Ct){return bn(Ct,t,r)}));for(var _e=[],ze=0;ze<c.length;ze++){var Ke=c[ze].O();_e.push(Ke)}g=_e,W=!0}if(k.s&&(w||(_e=k.s.h(t,r),w=Wp(k.A,r,_e)),_e=w.next(0),k.l=_e.value.value),k.l.prefix==="xmlns"||k.l.namespaceURI==="http://www.w3.org/2000/xmlns/"||k.l.prefix==="xml"&&k.l.namespaceURI!=="http://www.w3.org/XML/1998/namespace"||k.l.prefix&&k.l.prefix!=="xml"&&k.l.namespaceURI==="http://www.w3.org/XML/1998/namespace")throw Error('XQDY0096: The node name "'+k.l.Ca()+'" is invalid for a computed element constructor.');var ut={nodeType:1,Ta:!0,attributes:[],childNodes:[],nodeName:k.l.Ca(),namespaceURI:k.l.namespaceURI,prefix:k.l.prefix,localName:k.l.localName};for(_e={node:ut,F:null},i.forEach(function(Ct){ut.attributes.push(Ct.value.node)}),(ze=Yf(g,r,de)).attributes.forEach(function(Ct){if(ut.attributes.find(function(hn){return hn.namespaceURI===Ct.namespaceURI&&hn.localName===Ct.localName}))throw Error("XQDY0025: The attribute "+Ct.name+" does not have an unique name in the constructed element.");ut.attributes.push(Ct)}),ze.Xa.forEach(function(Ct){ut.childNodes.push(Ct)}),ze=0;ze<ut.childNodes.length;ze++)if(Va(Ke=ut.childNodes[ze])&&Ke.nodeType===3){var ft=ut.childNodes[ze-1];ft&&Va(ft)&&ft.nodeType===3&&(ft.data+=Ke.data,ut.childNodes.splice(ze,1),ze--)}return ne=!0,Ce($n(_e))}})},gc.prototype.v=function(t){var r=this;if(On(t),Object.keys(this.S).forEach(function(i){return Pt(t,i,r.S[i])}),this.ta.forEach(function(i){return i.v(t)}),this.K.reduce(function(i,c){if(c.name){if(c="Q{"+(c.name.namespaceURI===null?t.aa(c.name.prefix):c.name.namespaceURI)+"}"+c.name.localName,i.includes(c))throw Error("XQST0040: The attribute "+c+" does not have an unique name in the constructed element.");i.push(c)}return i},[]),this.l&&this.l.namespaceURI===null){var s=t.aa(this.l.prefix);if(s===void 0&&this.l.prefix)throw ms(this.l.prefix);this.l.namespaceURI=s}this.A=oa(t),wn(t)},N(eh,Et),eh.prototype.h=function(t,r){var s=this;return Ra(bn(this.s,t,r),r).M(function(i){var c=i.map(function(w){return Ee(w,1).value}).join(" ");if(c.indexOf("?>")!==-1)throw Error('XQDY0026: The contents of the data of a processing instruction may not include "?>"');if(s.l.Nb!==null)return Sg(i=s.l.Nb),q.m($n(Tg(i,c)));i=bn(s.l.Fb,t,r);var g=_g(r,i);return q.create({next:function(){var w=g.next(0);return w.done?w:(Sg(w=w.value.value),Ce($n(Tg(w,c))))}})})},N(th,Et),th.prototype.h=function(t,r){return this.l?Ra(t=bn(this.l,t,r),r).M(function(s){return s.length===0?q.empty():(s={node:{data:s.map(function(i){return Ee(i,1).value}).join(" "),Ta:!0,nodeType:3},F:null},q.m($n(s)))}):q.empty()},N(Xp,yr),Xp.prototype.A=function(t,r,s){var i=this;return s[0](t).M(function(c){for(var g=0;g<i.l;g++)if(i.S[g].some(function(w){switch(w.oc){case"?":if(1<c.length)return!1;break;case"*":break;case"+":if(1>c.length)return!1;break;default:if(c.length!==1)return!1}var k=q.create(c);return c.every(function(C,W){return C=_r(t,W,C,k),bn(w.Ob,C,r).ha()})}))return s[g+1](t);return s[i.l+1](t)})},Xp.prototype.v=function(t){if(yr.prototype.v.call(this,t),this.K.I)throw Xn()};var B_={$:!1,ua:!1},R_={$:!0,ua:!1},F_={$:!0,ua:!0};function na(t){return t.$?t.ua?F_:R_:B_}function Zt(t,r){switch(t[0]){case"andOp":var s=bt(t,"type");return new jp(Ig("andOp",t,na(r)),s);case"orOp":return s=bt(t,"type"),new Ip(Ig("orOp",t,na(r)),s);case"unaryPlusOp":return s=we(we(t,"operand"),"*"),t=bt(t,"type"),new Tp("+",Zt(s,r),t);case"unaryMinusOp":return s=we(we(t,"operand"),"*"),t=bt(t,"type"),new Tp("-",Zt(s,r),t);case"addOp":case"subtractOp":case"multiplyOp":case"divOp":case"idivOp":case"modOp":var i=t[0],c=Zt(ht(t,["firstOperand","*"]),na(r));r=Zt(ht(t,["secondOperand","*"]),na(r));var g=bt(t,"type"),w=bt(ht(t,["firstOperand","*"]),"type"),k=bt(ht(t,["secondOperand","*"]),"type");return w&&k&&bt(t,"type")&&(s=J1(i,w.type,k.type)),new gf(i,c,r,g,s);case"sequenceExpr":return K_(t,r);case"unionOp":return s=bt(t,"type"),new Pf([Zt(ht(t,["firstOperand","*"]),na(r)),Zt(ht(t,["secondOperand","*"]),na(r))],s);case"exceptOp":case"intersectOp":return s=bt(t,"type"),new Cf(t[0],Zt(ht(t,["firstOperand","*"]),na(r)),Zt(ht(t,["secondOperand","*"]),na(r)),s);case"stringConcatenateOp":return Y_(t,r);case"rangeSequenceExpr":return q_(t,r);case"equalOp":case"notEqualOp":case"lessThanOrEqualOp":case"lessThanOp":case"greaterThanOrEqualOp":case"greaterThanOp":return nh("generalCompare",t,r);case"eqOp":case"neOp":case"ltOp":case"leOp":case"gtOp":case"geOp":return nh("valueCompare",t,r);case"isOp":case"nodeBeforeOp":case"nodeAfterOp":return nh("nodeCompare",t,r);case"pathExpr":return H_(t,r);case"contextItemExpr":return new Uf(bt(t,"type"));case"functionCallExpr":return z_(t,r);case"inlineFunctionExpr":return V_(t,r);case"arrowExpr":return $_(t,r);case"dynamicFunctionInvocationExpr":return G_(t,r);case"namedFunctionRef":return r=we(t,"functionName"),s=bt(t,"type"),t=Lt(ht(t,["integerConstantExpr","value"])),new Vi(Ea(r),parseInt(t,10),s);case"integerConstantExpr":return new Gi(Lt(we(t,"value")),{type:5,g:3});case"stringConstantExpr":return new Gi(Lt(we(t,"value")),{type:1,g:3});case"decimalConstantExpr":return new Gi(Lt(we(t,"value")),{type:4,g:3});case"doubleConstantExpr":return new Gi(Lt(we(t,"value")),{type:3,g:3});case"varRef":return new Lp((t=Ea(we(t,"name"))).prefix,t.namespaceURI,t.localName);case"flworExpr":return U_(t,r);case"quantifiedExpr":return W_(t,r);case"ifThenElseExpr":return s=bt(t,"type"),new xp(Zt(we(we(t,"ifClause"),"*"),na(r)),Zt(we(we(t,"thenClause"),"*"),r),Zt(we(we(t,"elseClause"),"*"),r),s);case"instanceOfExpr":return s=Zt(ht(t,["argExpr","*"]),r),i=ht(t,["sequenceType","*"]),c=ht(t,["sequenceType","occurrenceIndicator"]),t=bt(t,"type"),new Ff(s,Zt(i,na(r)),c?Lt(c):"",t);case"castExpr":return r=Zt(we(we(t,"argExpr"),"*"),na(r)),s=we(t,"singleType"),new Rf(r,t=Ea(we(s,"atomicType")),s=we(s,"optional")!==null);case"castableExpr":return r=Zt(we(we(t,"argExpr"),"*"),na(r)),s=we(t,"singleType"),new Bf(r,t=Ea(we(s,"atomicType")),s=we(s,"optional")!==null);case"simpleMapExpr":return X_(t,r);case"mapConstructor":return P_(t,r);case"arrayConstructor":return M_(t,r);case"unaryLookup":return s=bt(t,"type"),new zf(Ng(t,r),s);case"typeswitchExpr":return tk(t,r);case"elementConstructor":return Z_(t,r);case"attributeConstructor":return J_(t,r);case"computedAttributeConstructor":return(s=we(t,"tagName"))?s=Ea(s):(s=we(t,"tagNameExpr"),s={Oa:Zt(we(s,"*"),na(r))}),new mc(s,{wb:[t=Zt(we(we(t,"valueExpr"),"*"),na(r))]});case"computedCommentConstructor":if(!r.$)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");return new Qf(t=(t=we(t,"argExpr"))?Zt(we(t,"*"),na(r)):null);case"computedTextConstructor":if(!r.$)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");return new th(t=(t=we(t,"argExpr"))?Zt(we(t,"*"),na(r)):null);case"computedElementConstructor":return Q_(t,r);case"computedPIConstructor":if(!r.$)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");return s=we(t,"piTargetExpr"),i=we(t,"piTarget"),c=we(t,"piValueExpr"),t=bt(t,"type"),new eh({Fb:s?Zt(we(s,"*"),na(r)):null,Nb:i?Lt(i):null},c?Zt(we(c,"*"),na(r)):new fc([],t));case"CDataSection":return new Gi(Lt(t),{type:1,g:3});case"deleteExpr":return new Xf(t=Zt(ht(t,["targetExpr","*"]),r));case"insertExpr":switch(s=Zt(ht(t,["sourceExpr","*"]),r),(c=rn(t,"*")[1])[0]){case"insertAfter":i=1;break;case"insertBefore":i=2;break;case"insertInto":i=(i=we(c,"*"))?i[0]==="insertAsFirst"?4:5:3}return new qf(s,i,t=Zt(ht(t,["targetExpr","*"]),r));case"renameExpr":return new Kp(s=Zt(ht(t,["targetExpr","*"]),r),t=Zt(ht(t,["newNameExpr","*"]),r));case"replaceExpr":return new Jf(s=!!we(t,"replaceValue"),i=Zt(ht(t,["targetExpr","*"]),r),t=Zt(ht(t,["replacementExpr","*"]),r));case"transformExpr":return ek(t,r);case"x:stackTrace":for(s=t[1],t=t[2];t[0]==="x:stackTrace";)t=t[2];return new kp(s,t[0],Zt(t,r));default:return jg(t)}}function jg(t){switch(t[0]){case"nameTest":return new As(Ea(t));case"piTest":return(t=we(t,"piTarget"))?new Pp(Lt(t)):new ci(7);case"commentTest":return new ci(8);case"textTest":return new ci(3);case"documentTest":return new ci(9);case"attributeTest":var r=(t=we(t,"attributeName"))&&we(t,"star");return!t||r?new ci(2):new As(Ea(we(t,"QName")),{kind:2});case"elementTest":return r=(t=we(t,"elementName"))&&we(t,"star"),!t||r?new ci(1):new As(Ea(we(t,"QName")),{kind:1});case"anyKindTest":return new yl({prefix:"",namespaceURI:null,localName:"node()"});case"anyMapTest":return new yl({prefix:"",namespaceURI:null,localName:"map(*)"});case"anyArrayTest":return new yl({prefix:"",namespaceURI:null,localName:"array(*)"});case"Wildcard":return we(t,"star")?(r=we(t,"uri"))?t=new As({localName:"*",namespaceURI:Lt(r),prefix:""}):(r=we(t,"NCName"),t=we(t,"*")[0]==="star"?new As({localName:Lt(r),namespaceURI:null,prefix:"*"}):new As({localName:"*",namespaceURI:null,prefix:Lt(r)})):t=new As({localName:"*",namespaceURI:null,prefix:"*"}),t;case"atomicType":return new yl(Ea(t));case"anyItemType":return new yl({prefix:"",namespaceURI:null,localName:"item()"});default:throw Error("No selector counterpart for: "+t[0]+".")}}function M_(t,r){var s=bt(t,"type"),i=rn(t=we(t,"*"),"arrayElem").map(function(c){return Zt(we(c,"*"),na(r))});switch(t[0]){case"curlyArray":return new wf(i,s);case"squareArray":return new vf(i,s);default:throw Error("Unrecognized arrayType: "+t[0])}}function P_(t,r){var s=bt(t,"type");return new jf(rn(t,"mapConstructorEntry").map(function(i){return{key:Zt(ht(i,["mapKeyExpr","*"]),na(r)),value:Zt(ht(i,["mapValueExpr","*"]),na(r))}}),s)}function Ig(t,r,s){function i(g){var w=we(we(g,"firstOperand"),"*");g=we(we(g,"secondOperand"),"*"),w[0]===t?i(w):c.push(Zt(w,s)),g[0]===t?i(g):c.push(Zt(g,s))}var c=[];return i(r),c}function Ng(t,r){switch((t=we(t,"*"))[0]){case"NCName":return new Gi(Lt(t),{type:1,g:3});case"star":return"*";default:return Zt(t,na(r))}}function nh(t,r,s){var i=ht(r,["firstOperand","*"]),c=ht(r,["secondOperand","*"]);switch(i=Zt(i,na(s)),s=Zt(c,na(s)),t){case"valueCompare":return new If(r[0],i,s);case"nodeCompare":return new Df(r[0],i,s);case"generalCompare":return new Nf(r[0],i,s)}}function L_(t,r,s){return new Lf((t=rn(t,"*")).filter(function(i){return i[0]!=="stable"}).map(function(i){var c=we(i,"orderModifier"),g=c?we(c,"orderingKind"):null;return c=c?we(c,"emptyOrderingMode"):null,g=!g||Lt(g)==="ascending",c=!c||Lt(c)==="empty least",{ca:Zt(ht(i,["orderByExpr","*"]),r),Kb:g,lc:c}}),s)}function U_(t,r){var s=rn(t,"*");if(t=we(s[s.length-1],"*"),1<(s=s.slice(0,-1)).length&&!r.$)throw Error("XPST0003: Use of XQuery FLWOR expressions in XPath is no allowed");return s.reduceRight(function(i,c){switch(c[0]){case"forClause":for(var g=(c=rn(c,"*")).length-1;0<=g;--g){var w=c[g],k=ht(w,["forExpr","*"]),C=we(w,"positionalVariableBinding");i=new Ep(Ea(ht(w,["typedVariableBinding","varName"])),Zt(k,na(r)),C?Ea(C):null,i)}return i;case"letClause":for(g=(c=rn(c,"*")).length-1;0<=g;--g)k=ht(w=c[g],["letExpr","*"]),i=new Sp(Ea(ht(w,["typedVariableBinding","varName"])),Zt(k,na(r)),i);return i;case"whereClause":for(g=(c=rn(c,"*")).length-1;0<=g;--g)i=new $f(Zt(c[g],r),i);return i;case"windowClause":case"groupByClause":case"countClause":throw Error("Not implemented: "+c[0]+" is not implemented yet.");case"orderByClause":return L_(c,r,i);default:throw Error("Not implemented: "+c[0]+" is not supported in a flwor expression")}},Zt(t,r))}function z_(t,r){var s=we(t,"functionName"),i=rn(we(t,"arguments"),"*");return t=bt(t,"type"),new ks(new Vi(Ea(s),i.length,t),i.map(function(c){return c[0]==="argumentPlaceholder"?null:Zt(c,r)}),t)}function $_(t,r){var s=bt(t,"type"),i=ht(t,["argExpr","*"]);t=rn(t,"*").slice(1),i=[Zt(i,r)];for(var c=0;c<t.length;c++)if(t[c][0]!=="arguments"){if(t[c+1][0]==="arguments"){var g=rn(t[c+1],"*");i=i.concat(g.map(function(w){return w[0]==="argumentPlaceholder"?null:Zt(w,r)}))}i=[new ks(g=t[c][0]==="EQName"?new Vi(Ea(t[c]),i.length,s):Zt(t[c],na(r)),i,s)]}return i[0]}function G_(t,r){var s=ht(t,["functionItem","*"]),i=bt(t,"type"),c=[];return(t=we(t,"arguments"))&&(c=rn(t,"*").map(function(g){return g[0]==="argumentPlaceholder"?null:Zt(g,r)})),new ks(Zt(s,r),c,i)}function V_(t,r){var s=rn(we(t,"paramList"),"*"),i=ht(t,["functionBody","*"]),c=bt(t,"type");return new Ap(s.map(function(g){return{name:Ea(we(g,"varName")),type:ui(g)}}),ui(t),i?Zt(i,r):new fc([],c))}function H_(t,r){var s=bt(t,"type"),i=rn(t,"stepExpr"),c=!1,g=i.map(function(w){for(var k=we(w,"xpathAxis"),C=rn(w,"*"),W=[],ne=null,_e=(C=S(C)).next();!_e.done;_e=C.next())switch(_e=_e.value,_e[0]){case"lookup":W.push(["lookup",Ng(_e,r)]);break;case"predicate":case"predicates":for(var ze=(_e=S(rn(_e,"*"))).next();!ze.done;ze=_e.next())ne=Uo(ne,(ze=Zt(ze.value,na(r))).B()),W.push(["predicate",ze])}if(k)switch(c=!0,w=we(w,"attributeTest anyElementTest piTest documentTest elementTest commentTest namespaceTest anyKindTest textTest anyFunctionTest typedFunctionTest schemaAttributeTest atomicType anyItemType parenthesizedItemType typedMapTest typedArrayTest nameTest Wildcard".split(" ")),w=jg(w),Lt(k)){case"ancestor":var Ke=new yp(w,{Ra:!1});break;case"ancestor-or-self":Ke=new yp(w,{Ra:!0});break;case"attribute":Ke=new bp(w,ne);break;case"child":Ke=new xf(w,ne);break;case"descendant":Ke=new wp(w,{Ra:!1});break;case"descendant-or-self":Ke=new wp(w,{Ra:!0});break;case"parent":Ke=new Af(w,ne);break;case"following-sibling":Ke=new Ef(w,ne);break;case"preceding-sibling":Ke=new Tf(w,ne);break;case"following":Ke=new kf(w);break;case"preceding":Ke=new Sf(w);break;case"self":Ke=new vp(w,ne)}else Ke=Zt(Ke=ht(w,["filterExpr","*"]),na(r));for(k=(W=S(W)).next();!k.done;k=W.next())switch(k=k.value,k[0]){case"lookup":Ke=new Fp(Ke,k[1]);break;case"predicate":Ke=new Rp(Ke,k[1])}return Ke.type=s,Ke});return t=we(t,"rootExpr"),!(i=c||t!==null||1<i.length)&&g.length===1||!t&&g.length===1&&g[0].da==="sorted"?g[0]:t&&g.length===0?new Op(null):(g=new Bp(g,i),t?new Op(g):g)}function W_(t,r){var s=bt(t,"type"),i=Lt(we(t,"quantifier")),c=ht(t,["predicateExpr","*"]);return new Mp(i,t=rn(t,"quantifiedExprInClause").map(function(g){return{name:Ea(ht(g,["typedVariableBinding","varName"])),jb:Zt(g=ht(g,["sourceExpr","*"]),na(r))}}),Zt(c,na(r)),s)}function K_(t,r){var s=rn(t,"*").map(function(i){return Zt(i,r)});return s.length===1?s[0]:(s=bt(t,"type"),new fc(rn(t,"*").map(function(i){return Zt(i,r)}),s))}function X_(t,r){var s=bt(t,"type");return rn(t,"*").reduce(function(i,c){return i===null?Zt(c,na(r)):new Of(i,Zt(c,na(r)),s)},null)}function Y_(t,r){var s=bt(t,"type");return new ks(new Vi({localName:"concat",namespaceURI:"http://www.w3.org/2005/xpath-functions",prefix:""},(t=[ht(t,["firstOperand","*"]),ht(t,["secondOperand","*"])]).length,s),t.map(function(i){return Zt(i,na(r))}),s)}function q_(t,r){var s=bt(t,"type");return new ks(new Vi({localName:"to",namespaceURI:"http://fontoxpath/operators",prefix:""},(t=[we(we(t,"startExpr"),"*"),we(we(t,"endExpr"),"*")]).length,s),t.map(function(i){return Zt(i,na(r))}),s)}function Z_(t,r){if(!r.$)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");var s=Ea(we(t,"tagName")),i=we(t,"attributeList");return new gc(s,i?rn(i,"attributeConstructor").map(function(c){return Zt(c,na(r))}):[],i=i?rn(i,"namespaceDeclaration").map(function(c){var g=we(c,"prefix");return{prefix:g?Lt(g):"",uri:Lt(we(c,"uri"))}}):[],t=(t=we(t,"elementContent"))?rn(t,"*").map(function(c){return Zt(c,na(r))}):[])}function J_(t,r){if(!r.$)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");var s=Ea(we(t,"attributeName")),i=we(t,"attributeValue");return new mc(s,{value:i=i?Lt(i):null,wb:t=(t=we(t,"attributeValueExpr"))?rn(t,"*").map(function(c){return Zt(c,na(r))}):null})}function Q_(t,r){var s=we(t,"tagName");return s?s=Ea(s):(s=we(t,"tagNameExpr"),s={Oa:Zt(we(s,"*"),na(r))}),new gc(s,[],[],t=(t=we(t,"contentExpr"))?rn(t,"*").map(function(i){return Zt(i,na(r))}):[])}function ek(t,r){return new hc(rn(we(t,"transformCopies"),"transformCopy").map(function(s){var i=Ea(we(we(s,"varRef"),"name"));return{jb:Zt(we(we(s,"copySource"),"*"),r),Rb:new Ga(i.prefix,i.namespaceURI,i.localName)}}),Zt(we(we(t,"modifyExpr"),"*"),r),t=Zt(we(we(t,"returnExpr"),"*"),r))}function tk(t,r){if(!r.$)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");var s=bt(t,"type");return new Xp(Zt(we(we(t,"argExpr"),"*"),r),rn(t,"typeswitchExprCaseClause").map(function(i){var c=rn(i,"sequenceTypeUnion").length===0?[we(i,"sequenceType")]:rn(we(i,"sequenceTypeUnion"),"sequenceType");return{ic:Zt(ht(i,["resultExpr","*"]),r),Pb:c.map(function(g){var w=we(g,"occurrenceIndicator");return{oc:w?Lt(w):"",Ob:Zt(we(g,"*"),r)}})}}),t=Zt(ht(t,["typeswitchExprDefaultClause","resultExpr","*"]),r),s)}function ah(t,r){return Zt(t,r)}var Yp=new Map;function nk(t,r,s,i,c,g){this.B=t,this.l=r,this.h=s,this.v=i,this.o=c,this.s=g}function ak(t,r,s,i,c,g,w,k){return(t=Yp.get(t))&&(r=t[r+(g?"_DEBUG":"")])&&(r=r.find(function(C){return C.o===w&&C.B.every(function(W){return s(W.prefix)===W.namespaceURI})&&C.l.every(function(W){return i[W.name]!==void 0})&&C.v.every(function(W){return c[W.prefix]===W.namespaceURI})&&C.s.every(function(W){var ne=k(W.nc,W.arity);return ne&&ne.namespaceURI===W.Lb.namespaceURI&&ne.localName===W.Lb.localName})}))?{ca:r.h,rc:!1}:null}function Dg(t,r,s,i,c,g,w){var k=Yp.get(t);k||(k=Object.create(null),Yp.set(t,k)),(r=k[t=r+(g?"_DEBUG":"")])||(r=k[t]=[]),r.push(new nk(Object.values(s.h),Object.values(s.o),c,Object.keys(i).map(function(C){return{namespaceURI:i[C],prefix:C}}),w,s.B))}function qp(t){var r=new Za;if(t.namespaceURI!=="http://www.w3.org/2005/XQueryX"&&t.namespaceURI!=="http://www.w3.org/2005/XQueryX"&&t.namespaceURI!=="http://fontoxml.com/fontoxpath"&&t.namespaceURI!=="http://www.w3.org/2007/xquery-update-10")throw pa("The XML structure passed as an XQueryX program was not valid XQueryX");var s=[t.localName==="stackTrace"?"x:stackTrace":t.localName],i=r.getAllAttributes(t);for(i&&0<i.length&&s.push(Array.from(i).reduce(function(c,g){return g.localName==="start"||g.localName==="end"&&t.localName==="stackTrace"?c[g.localName]=JSON.parse(g.value):g.localName==="type"?c[g.localName]=Ht(g.value):c[g.localName]=g.value,c},{})),i=(r=S(r=r.getChildNodes(t))).next();!i.done;i=r.next())switch(i=i.value,i.nodeType){case 1:s.push(qp(i));break;case 3:s.push(i.data)}return s}var yc=Object.create(null);function Cg(t,r){var s=yc[t];s||(s=yc[t]={Ma:[],Va:[],ra:null,source:r.source});var i=s.ra||function(){};s.Ma=s.Ma.concat(r.Ma),s.Va=s.Va.concat(r.Va),s.ra=function(c){i(c),r.ra&&r.ra(c)}}function rh(t,r){var s=yc[r];if(!s)throw Error("XQST0051: No modules found with the namespace uri "+r);s.Ma.forEach(function(i){i.hb&&ta(t,r,i.localName,i.arity,i)}),s.Va.forEach(function(i){Hn(t,r,i.localName),br(t,r,i.localName,function(c,g){return bn(i.ca,c,g)})})}function bc(){Object.keys(yc).forEach(function(t){if((t=yc[t]).ra)try{t.ra(t)}catch(r){t.ra=null,no(t.source,r)}t.ra=null})}function oh(t){return t.replace(/(\x0D\x0A)|(\x0D(?!\x0A))/g,`
`)}var v=d;function sh(t,r){return function(s,i){return r.has(i)?r.get(i):(s=t(s,i),r.set(i,s),s)}}function Tn(t,r){return v.delimited(r,t,r)}function ct(t,r){return t.reverse().reduce(function(s,i){return v.preceded(i,s)},r)}function wr(t,r,s,i){return v.then(v.then(t,r,function(c,g){return[c,g]}),s,function(c,g){var w=S(c);return c=w.next().value,w=w.next().value,i(c,w,g)})}function ih(t,r,s,i,c){return v.then(v.then(v.then(t,r,function(g,w){return[g,w]}),s,function(g,w){var k=S(g);return[g=k.next().value,k=k.next().value,w]}),i,function(g,w){var k=S(g);g=k.next().value;var C=k.next().value;return k=k.next().value,c(g,C,k,w)})}function rk(t,r,s,i,c,g){return v.then(v.then(v.then(v.then(t,r,function(w,k){return[w,k]}),s,function(w,k){var C=S(w);return[w=C.next().value,C=C.next().value,k]}),i,function(w,k){var C=S(w);return[w=C.next().value,C.next().value,C=C.next().value,k]}),c,function(w,k){var C=S(w);w=C.next().value;var W=C.next().value,ne=C.next().value;return C=C.next().value,g(w,W,ne,C,k)})}function Wi(t){return v.map(t,function(r){return[r]})}function fa(t,r){return v.map(v.or(t),function(){return r})}function vr(t){return function(r,s){return(r=t.exec(r.substring(s)))&&r.index===0?v.okWithValue(s+r[0].length,r[0]):v.error(s,[t.source],!1)}}var Og=v.or([v.token(" "),v.token("	"),v.token("\r"),v.token(`
`)]),Bg=v.token("(:"),Rg=v.token(":)"),ok=v.token("(#"),Fg=v.token("#)"),nr=v.token("("),Qa=v.token(")"),Mg=v.token("["),Pg=v.token("]"),Ki=v.token("{"),Xi=v.token("}"),sk=v.token("{{"),ik=v.token("}}"),Zp=v.token("'"),lk=v.token("''"),Jp=v.token('"'),uk=v.token('""'),ck=v.token("<![CDATA["),Lg=v.token("]]>"),pk=v.token("/>"),dk=v.token("</"),fk=v.token("<!--"),hk=v.token("-->"),mk=v.token("<?"),Ug=v.token("?>"),gk=v.token("&#x"),yk=v.token("&#"),bk=v.token(":*"),wk=v.token("*:"),wl=v.token(":="),vk=v.token("&"),Qp=v.token(":"),vl=v.token(";"),Ws=v.token("*"),xk=v.token("@"),Ks=v.token("$"),_k=v.token("#"),zg=v.token("%"),wc=v.token("?"),Yi=v.token("="),kk=v.followed(v.token("!"),v.not(v.peek(Yi),[])),$g=v.followed(v.token("|"),v.not(v.peek(v.token("|")),[])),Ek=v.token("||"),Ak=v.token("!="),Gg=v.token("<"),Sk=v.token("<<"),Tk=v.token("<="),lh=v.token(">"),jk=v.token(">>"),Ik=v.token(">="),Cr=v.token(","),uu=v.token("."),Nk=v.token(".."),ed=v.token("+"),cu=v.token("-"),td=v.token("/"),Dk=v.token("//"),Ck=v.token("=>"),Ok=v.token("e"),Bk=v.token("E");v.token("l"),v.token("L"),v.token("m"),v.token("M");var Rk=v.token("Q");v.token("x"),v.token("X");var Ss=v.token("as"),Fk=v.token("cast"),Mk=v.token("castable"),Pk=v.token("treat"),Lk=v.token("instance"),Vg=v.token("of"),vc=v.token("node"),Hg=v.token("nodes"),Uk=v.token("delete"),zk=v.token("value"),pu=v.token("function"),nd=v.token("map"),xl=v.token("element"),xc=v.token("attribute"),Wg=v.token("schema-element"),$k=v.token("intersect"),Gk=v.token("except"),Vk=v.token("union"),Hk=v.token("to"),Wk=v.token("is"),Kk=v.token("or"),Xk=v.token("and"),Yk=v.token("div"),qk=v.token("idiv"),Zk=v.token("mod"),Jk=v.token("eq"),Qk=v.token("ne"),Kg=v.token("lt"),eE=v.token("le"),Xg=v.token("gt"),tE=v.token("ge"),nE=v.token("amp"),aE=v.token("quot"),rE=v.token("apos"),Yg=v.token("if"),oE=v.token("then"),sE=v.token("else"),iE=v.token("allowing"),uh=v.token("empty"),ch=v.token("at"),qg=v.token("in"),lE=v.token("for"),uE=v.token("let"),cE=v.token("where"),ph=v.token("collation"),pE=v.token("group"),dh=v.token("by"),fh=v.token("order"),dE=v.token("stable"),du=v.token("return"),ad=v.token("array"),fE=v.token("document"),_l=v.token("namespace"),Zg=v.token("text"),Jg=v.token("comment"),Qg=v.token("processing-instruction"),hE=v.token("lax"),mE=v.token("strict"),gE=v.token("validate"),yE=v.token("type"),zo=v.token("declare"),kl=v.token("default"),bE=v.token("boundary-space"),ey=v.token("strip"),hh=v.token("preserve"),wE=v.token("no-preserve"),vE=v.token("inherit"),xE=v.token("no-inherit"),ty=v.token("greatest"),ny=v.token("least"),_E=v.token("copy-namespaces"),ay=v.token("decimal-format"),ry=v.token("case"),oy=v.token("typeswitch"),kE=v.token("some"),EE=v.token("every"),AE=v.token("satisfies"),SE=v.token("replace"),TE=v.token("with"),jE=v.token("copy"),IE=v.token("modify"),NE=v.token("first"),DE=v.token("last"),CE=v.token("before"),OE=v.token("after"),BE=v.token("into"),RE=v.token("insert"),FE=v.token("rename"),sy=v.token("switch"),ME=v.token("variable"),mh=v.token("external"),PE=v.token("updating"),iy=v.token("import"),LE=v.token("schema"),ly=v.token("module"),UE=v.token("base-uri"),zE=v.token("construction"),$E=v.token("ordering"),GE=v.token("ordered"),VE=v.token("unordered"),HE=v.token("option"),WE=v.token("context"),uy=v.token("item"),KE=v.token("xquery"),XE=v.token("version"),cy=v.token("encoding"),YE=v.token("document-node"),qE=v.token("namespace-node"),ZE=v.token("schema-attribute"),JE=v.token("ascending"),QE=v.token("descending"),eA=v.token("empty-sequence"),tA=v.token("child::"),nA=v.token("descendant::"),aA=v.token("attribute::"),rA=v.token("self::"),oA=v.token("descendant-or-self::"),sA=v.token("following-sibling::"),iA=v.token("following::"),lA=v.token("parent::"),uA=v.token("ancestor::"),cA=v.token("preceding-sibling::"),pA=v.token("preceding::"),dA=v.token("ancestor-or-self::"),fA=v.token("decimal-separator"),hA=v.token("grouping-separator"),mA=v.token("infinity"),gA=v.token("minus-sign"),yA=v.token("NaN"),bA=v.token("per-mille"),wA=v.token("zero-digit"),vA=v.token("digit"),xA=v.token("pattern-separator"),_A=v.token("exponent-separator"),kA=v.token("schema-attribute("),EA=v.token("document-node("),AA=v.token("processing-instruction("),SA=v.token("processing-instruction()"),TA=v.token("comment()"),jA=v.token("text()"),IA=v.token("namespace-node()"),NA=v.token("node()"),DA=v.token("item()"),CA=v.token("empty-sequence()"),py=new Map,dy=new Map,pi=v.or([vr(/[\t\n\r -\uD7FF\uE000\uFFFD]/),vr(/[\uD800-\uDBFF][\uDC00-\uDFFF]/)]),OA=v.preceded(v.peek(v.not(v.or([Bg,Rg]),['comment contents cannot contain "(:" or ":)"'])),pi),fy=v.map(v.delimited(Bg,v.star(v.or([OA,function(t,r){return fy(t,r)}])),Rg,!0),function(t){return t.join("")}),gh=v.or([Og,fy]),rd=v.map(v.plus(Og),function(t){return t.join("")}),De=sh(v.map(v.star(gh),function(t){return t.join("")}),py),dt=sh(v.map(v.plus(gh),function(t){return t.join("")}),dy),yh=v.or([vr(/[A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/),v.then(vr(/[\uD800-\uDB7F]/),vr(/[\uDC00-\uDFFF]/),function(t,r){return t+r})]),hy=v.or([yh,vr(/[\-\.0-9\xB7\u0300-\u036F\u203F\u2040]/)]),yo=v.then(yh,v.star(hy),function(t,r){return t+r.join("")}),BA=v.map(yo,function(t){return["prefix",t]}),RA=v.or([yh,Qp]),FA=v.or([hy,Qp]);v.then(RA,v.star(FA),function(t,r){return t+r.join("")});var MA=v.map(yo,function(t){var r={};return[(r.prefix="",r.URI=null,r),t]}),PA=v.then(yo,v.preceded(Qp,yo),function(t,r){var s={};return[(s.prefix=t,s.URI=null,s),r]}),od=v.or([PA,MA]),my=v.followed(ct([Rk,De,Ki],v.map(v.star(vr(/[^{}]/)),function(t){return t.join("").replace(/\s+/g," ").trim()})),Xi),LA=v.then(my,yo,function(t,r){return[t,r]}),La=v.or([v.map(LA,function(t){var r={};return[(r.prefix=null,r.URI=t[0],r),t[1]]}),od]),gy=v.or([v.map(La,function(t){return["QName"].concat(D(t))}),v.map(Ws,function(){return["star"]})]),bh=v.map(v.preceded(Ks,La),function(t){return["varRef",["name"].concat(D(t))]}),Pr=v.peek(v.or([nr,Jp,Zp,gh])),UA=v.map(v.or([tA,nA,aA,rA,oA,sA,iA]),function(t){return t.substring(0,t.length-2)}),zA=v.map(v.or([lA,uA,cA,pA,dA]),function(t){return t.substring(0,t.length-2)}),wh=wr(vk,v.or([Kg,Xg,nE,aE,rE]),vl,function(t,r,s){return t+r+s}),vh=v.or([wr(gk,vr(/[0-9a-fA-F]+/),vl,function(t,r,s){return t+r+s}),wr(yk,vr(/[0-9]+/),vl,function(t,r,s){return t+r+s})]),xh=fa([uk],'"'),_h=fa([lk],"'"),$A=Wi(fa([TA],"commentTest")),GA=Wi(fa([jA],"textTest")),VA=Wi(fa([IA],"namespaceTest")),HA=Wi(fa([NA],"anyKindTest")),El=vr(/[0-9]+/),WA=v.then(v.or([v.then(uu,El,function(t,r){return t+r}),v.then(El,v.optional(v.preceded(uu,vr(/[0-9]*/))),function(t,r){return t+(r!==null?"."+r:"")})]),wr(v.or([Ok,Bk]),v.optional(v.or([ed,cu])),El,function(t,r,s){return t+(r||"")+s}),function(t,r){return["doubleConstantExpr",["value",t+r]]}),KA=v.or([v.map(v.preceded(uu,El),function(t){return["decimalConstantExpr",["value","."+t]]}),v.then(v.followed(El,uu),v.optional(El),function(t,r){return["decimalConstantExpr",["value",t+"."+(r!==null?r:"")]]})]),kh=v.map(El,function(t){return["integerConstantExpr",["value",t]]}),XA=v.followed(v.or([WA,KA,kh]),v.peek(v.not(vr(/[a-zA-Z]/),["no alphabetical characters after numeric literal"]))),YA=v.map(v.followed(uu,v.peek(v.not(uu,["context item should not be followed by another ."]))),function(){return["contextItemExpr"]}),yy=v.or([ad,xc,Jg,YE,xl,eA,pu,Yg,uy,nd,qE,vc,Qg,ZE,Wg,sy,Zg,oy]),qA=Wi(fa([wc],"argumentPlaceholder")),ZA=v.or([wc,Ws,ed]),JA=v.preceded(v.peek(v.not(vr(/[{}<&]/),["elementContentChar cannot be {, }, <, or &"])),pi),QA=v.map(v.delimited(ck,v.star(v.preceded(v.peek(v.not(Lg,['CDataSection content may not contain "]]>"'])),pi)),Lg,!0),function(t){return["CDataSection",t.join("")]}),eS=v.preceded(v.peek(v.not(vr(/["{}<&]/),['quotAttrValueContentChar cannot be ", {, }, <, or &'])),pi),tS=v.preceded(v.peek(v.not(vr(/['{}<&]/),["aposAttrValueContentChar cannot be ', {, }, <, or &"])),pi),nS=v.map(v.star(v.or([v.preceded(v.peek(v.not(cu,[])),pi),v.map(ct([cu,v.peek(v.not(cu,[]))],pi),function(t){return"-"+t})])),function(t){return t.join("")}),aS=v.map(v.delimited(fk,nS,hk,!0),function(t){return["computedCommentConstructor",["argExpr",["stringConstantExpr",["value",t]]]]}),rS=v.filter(yo,function(t){return t.toLowerCase()!=="xml"},['A processing instruction target cannot be "xml"']),oS=v.map(v.star(v.preceded(v.peek(v.not(Ug,[])),pi)),function(t){return t.join("")}),sS=v.then(v.preceded(mk,v.cut(rS)),v.cut(v.followed(v.optional(v.preceded(rd,oS)),Ug)),function(t,r){return["computedPIConstructor",["piTarget",t],["piValueExpr",["stringConstantExpr",["value",r]]]]}),Eh=v.map(Dk,function(){return["stepExpr",["xpathAxis","descendant-or-self"],["anyKindTest"]]}),iS=v.or([hE,mE]),lS=v.map(v.star(v.followed(pi,v.peek(v.not(Fg,["Pragma contents should not contain '#)'"])))),function(t){return t.join("")}),uS=v.map(v.followed(v.or([Jk,Qk,Kg,eE,Xg,tE]),Pr),function(t){return t+"Op"}),cS=v.or([v.followed(fa([Wk],"isOp"),Pr),fa([Sk],"nodeBeforeOp"),fa([jk],"nodeAfterOp")]),pS=v.or([fa([Yi],"equalOp"),fa([Ak],"notEqualOp"),fa([Tk],"lessThanOrEqualOp"),fa([Gg],"lessThanOp"),fa([Ik],"greaterThanOrEqualOp"),fa([lh],"greaterThanOp")]),dS=v.map(PE,function(){return["annotation",["annotationName","updating"]]}),fS=v.or([hh,wE]),hS=v.or([vE,xE]),mS=v.or([fA,hA,mA,gA,yA,zg,bA,wA,vA,xA,_A]),gS=v.map(ct([zo,dt,bE,dt],v.or([hh,ey])),function(t){return["boundarySpaceDecl",t]}),yS=v.map(ct([zo,dt,zE,dt],v.or([hh,ey])),function(t){return["constructionDecl",t]}),bS=v.map(ct([zo,dt,$E,dt],v.or([GE,VE])),function(t){return["orderingModeDecl",t]}),wS=v.map(ct([zo,dt,kl,dt,fh,dt,uh,dt],v.or([ty,ny])),function(t){return["emptyOrderDecl",t]}),vS=v.then(ct([zo,dt,_E,dt],fS),ct([De,Cr,De],hS),function(t,r){return["copyNamespacesDecl",["preserveMode",t],["inheritMode",r]]});function Ah(t){switch(t[0]){case"constantExpr":case"varRef":case"contextItemExpr":case"functionCallExpr":case"sequenceExpr":case"elementConstructor":case"computedElementConstructor":case"computedAttributeConstructor":case"computedDocumentConstructor":case"computedTextConstructor":case"computedCommentConstructor":case"computedNamespaceConstructor":case"computedPIConstructor":case"orderedExpr":case"unorderedExpr":case"namedFunctionRef":case"inlineFunctionExpr":case"dynamicFunctionInvocationExpr":case"mapConstructor":case"arrayConstructor":case"stringConstructor":case"unaryLookup":return t}return["sequenceExpr",t]}function by(t){if(!(1<=t&&55295>=t||57344<=t&&65533>=t||65536<=t&&1114111>=t))throw Error("XQST0090: The character reference "+t+" ("+t.toString(16)+") does not reference a valid codePoint.")}function Sh(t){return t.replace(/(&[^;]+);/g,function(r){if(/^&#x/.test(r))return by(r=parseInt(r.slice(3,-1),16)),String.fromCodePoint(r);if(/^&#/.test(r))return by(r=parseInt(r.slice(2,-1),10)),String.fromCodePoint(r);switch(r){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&quot;":return'"';case"&apos;":return"'"}throw Error('XPST0003: Unknown character reference: "'+r+'"')})}function wy(t,r,s){if(!t.length)return[];for(var i=[t[0]],c=1;c<t.length;++c){var g=i[i.length-1];typeof g=="string"&&typeof t[c]=="string"?i[i.length-1]=g+t[c]:i.push(t[c])}if(typeof i[0]=="string"&&i.length===0)return[];if(!(i=i.reduce(function(w,k,C){if(typeof k!="string")w.push(k);else if(s&&/^\s*$/.test(k)){var W=i[C+1];(W&&W[0]==="CDataSection"||(C=i[C-1])&&C[0]==="CDataSection")&&w.push(Sh(k))}else w.push(Sh(k));return w},[])).length)return i;if(1<i.length||r)for(t=0;t<i.length;t++)typeof i[t]=="string"&&(i[t]=["stringConstantExpr",["value",i[t]]]);return i}function vy(t){return t[0].prefix?t[0].prefix+":"+t[1]:t[1]}var xy=v.then(La,v.optional(wc),function(t,r){return r!==null?["singleType",["atomicType"].concat(D(t)),["optional"]]:["singleType",["atomicType"].concat(D(t))]}),_y=v.map(La,function(t){return["atomicType"].concat(D(t))}),ky=new Map;function sd(t){function r(K,ce){return ce.reduce(function(pt,Yn){return[Yn[0],["firstOperand",pt],["secondOperand",Yn[1]]]},K)}function s(K,ce,pt){return v.then(K,v.star(v.then(Tn(ce,De),v.cut(K),function(Yn,ha){return[Yn,ha]})),pt)}function i(K,ce,pt,Yn){return pt=pt===void 0?"firstOperand":pt,Yn=Yn===void 0?"secondOperand":Yn,v.then(K,v.optional(v.then(Tn(ce,De),v.cut(K),function(ha,Wr){return[ha,Wr]})),function(ha,Wr){return Wr===null?ha:[Wr[0],[pt,ha],[Yn,Wr[1]]]})}function c(K){return t.vb?function(ce,pt){if(!(ce=K(ce,pt)).success)return ce;var Yn=W.has(pt)?W.get(pt):{offset:pt,line:-1,ja:-1},ha=W.has(ce.offset)?W.get(ce.offset):{offset:ce.offset,line:-1,ja:-1};return W.set(pt,Yn),W.set(ce.offset,ha),v.okWithValue(ce.offset,["x:stackTrace",{start:Yn,end:ha},ce.value])}:K}function g(K,ce){return ab(K,ce)}function w(K,ce){return Yh(K,ce)}function k(K,ce){return c(v.or([l2,h2,k2,p2,Gj,v2,m2,x2,g2,b2,$j]))(K,ce)}function C(K,ce){return s(k,Cr,function(pt,Yn){return Yn.length===0?pt:["sequenceExpr",pt].concat(D(Yn.map(function(ha){return ha[1]})))})(K,ce)}var W=new Map,ne=v.preceded(Mg,v.followed(Tn(C,De),Pg)),_e=v.map(t.Ya?v.or([Tn(v.star(v.or([wh,vh,xh,vr(/[^"&]/)])),Jp),Tn(v.star(v.or([wh,vh,_h,vr(/[^'&]/)])),Zp)]):v.or([Tn(v.star(v.or([xh,vr(/[^"]/)])),Jp),Tn(v.star(v.or([_h,vr(/[^']/)])),Zp)]),function(K){return K.join("")}),ze=v.or([v.map(ct([xl,De],v.delimited(v.followed(nr,De),v.then(gy,ct([De,Cr,De],La),function(K,ce){return[["elementName",K],["typeName"].concat(D(ce))]}),v.preceded(De,Qa))),function(K){var ce=S(K);return["elementTest",K=ce.next().value,ce=ce.next().value]}),v.map(ct([xl,De],v.delimited(nr,gy,Qa)),function(K){return["elementTest",["elementName",K]]}),v.map(ct([xl,De],v.delimited(nr,De,Qa)),function(){return["elementTest"]})]),Ke=v.or([v.map(La,function(K){return["QName"].concat(D(K))}),v.map(Ws,function(){return["star"]})]),ut=v.or([v.map(ct([xc,De],v.delimited(v.followed(nr,De),v.then(Ke,ct([De,Cr,De],La),function(K,ce){return[["attributeName",K],["typeName"].concat(D(ce))]}),v.preceded(De,Qa))),function(K){var ce=S(K);return["attributeTest",K=ce.next().value,ce=ce.next().value]}),v.map(ct([xc,De],v.delimited(nr,Ke,Qa)),function(K){return["attributeTest",["attributeName",K]]}),v.map(ct([xc,De],v.delimited(nr,De,Qa)),function(){return["attributeTest"]})]),ft=v.map(ct([Wg,De,nr],v.followed(La,Qa)),function(K){return["schemaElementTest"].concat(D(K))}),Ct=v.map(v.delimited(kA,Tn(La,De),Qa),function(K){return["schemaAttributeTest"].concat(D(K))}),hn=v.map(v.preceded(EA,v.followed(Tn(v.optional(v.or([ze,ft])),De),Qa)),function(K){return["documentTest"].concat(D(K?[K]:[]))}),sa=v.or([v.map(v.preceded(AA,v.followed(Tn(v.or([yo,_e]),De),Qa)),function(K){return["piTest",["piTarget",K]]}),Wi(fa([SA],"piTest"))]),fr=v.or([hn,ze,ut,ft,Ct,sa,$A,GA,VA,HA]),ro=v.or([v.map(v.preceded(wk,yo),function(K){return["Wildcard",["star"],["NCName",K]]}),Wi(fa([Ws],"Wildcard")),v.map(v.followed(my,Ws),function(K){return["Wildcard",["uri",K],["star"]]}),v.map(v.followed(yo,bk),function(K){return["Wildcard",["NCName",K],["star"]]})]),Ts=v.or([ro,v.map(La,function(K){return["nameTest"].concat(D(K))})]),fi=v.or([fr,Ts]),Ac=v.then(v.optional(xk),fi,function(K,ce){return K!==null||ce[0]==="attributeTest"||ce[0]==="schemaAttributeTest"?["stepExpr",["xpathAxis","attribute"],ce]:["stepExpr",["xpathAxis","child"],ce]}),TT=v.or([v.then(UA,fi,function(K,ce){return["stepExpr",["xpathAxis",K],ce]}),Ac]),jT=v.map(Nk,function(){return["stepExpr",["xpathAxis","parent"],["anyKindTest"]]}),IT=v.or([v.then(zA,fi,function(K,ce){return["stepExpr",["xpathAxis",K],ce]}),jT]),NT=v.map(v.star(v.preceded(De,ne)),function(K){return 0<K.length?["predicates"].concat(D(K)):void 0}),DT=v.then(v.or([IT,TT]),NT,function(K,ce){return ce===void 0?K:K.concat([ce])}),Hh=v.or([XA,v.map(_e,function(K){return["stringConstantExpr",["value",t.Ya?Sh(K):K]]})]),Wh=v.or([v.delimited(nr,Tn(C,De),Qa),v.map(v.delimited(nr,De,Qa),function(){return["sequenceExpr"]})]),tb=v.or([k,qA]),pd=v.map(v.delimited(nr,Tn(v.optional(v.then(tb,v.star(v.preceded(Tn(Cr,De),tb)),function(K,ce){return[K].concat(D(ce))})),De),Qa),function(K){return K!==null?K:[]}),CT=v.preceded(v.not(wr(yy,De,nr,function(){}),["cannot use reseved keyword for function names"]),v.then(La,v.preceded(De,pd),function(K,ce){return["functionCallExpr",["functionName"].concat(D(K)),ce!==null?["arguments"].concat(D(ce)):["arguments"]]})),OT=v.then(La,v.preceded(_k,kh),function(K,ce){return["namedFunctionRef",["functionName"].concat(D(K)),ce]}),js=v.delimited(Ki,Tn(v.optional(C),De),Xi),nb=v.map(js,function(K){return K||["sequenceExpr"]}),Xs=v.or([v.map(CA,function(){return[["voidSequenceType"]]}),v.then(g,v.optional(v.preceded(De,ZA)),function(K,ce){return[K].concat(D(ce!==null?[["occurrenceIndicator",ce]]:[]))})]),Kh=v.then(ct([zg,De],La),v.optional(v.followed(v.then(ct([nr,De],Hh),v.star(ct([Cr,De],Hh)),function(K,ce){return K.concat(ce)}),Qa)),function(K,ce){return["annotation",["annotationName"].concat(D(K))].concat(D(ce?["arguments",ce]:[]))}),BT=v.map(ct([pu,De,nr,De,Ws,De],Qa),function(){return["anyFunctionTest"]}),RT=v.then(ct([pu,De,nr,De],v.optional(s(Xs,Cr,function(K,ce){return K.concat.apply(K,ce.map(function(pt){return pt[1]}))}))),ct([De,Qa,dt,Ss,dt],Xs),function(K,ce){return["typedFunctionTest",["paramTypeList",["sequenceType"].concat(D(K||[]))],["sequenceType"].concat(D(ce))]}),FT=v.then(v.star(Kh),v.or([BT,RT]),function(K,ce){return[ce[0]].concat(D(K),D(ce.slice(1)))}),MT=v.map(ct([nd,De,nr,De,Ws,De],Qa),function(){return["anyMapTest"]}),PT=v.then(ct([nd,De,nr,De],_y),ct([De,Cr],v.followed(Tn(Xs,De),Qa)),function(K,ce){return["typedMapTest",K,["sequenceType"].concat(D(ce))]}),LT=v.or([MT,PT]),UT=v.map(ct([ad,De,nr,De,Ws,De],Qa),function(){return["anyArrayTest"]}),zT=v.map(ct([ad,De,nr],v.followed(Tn(Xs,De),Qa)),function(K){return["typedArrayTest",["sequenceType"].concat(D(K))]}),$T=v.or([UT,zT]),GT=v.map(v.delimited(nr,Tn(g,De),Qa),function(K){return["parenthesizedItemType",K]}),ab=v.or([fr,Wi(fa([DA],"anyItemType")),FT,LT,$T,_y,GT]),wu=v.map(ct([Ss,dt],Xs),function(K){return["typeDeclaration"].concat(D(K))}),VT=v.then(v.preceded(Ks,La),v.optional(v.preceded(dt,wu)),function(K,ce){return["param",["varName"].concat(D(K))].concat(D(ce?[ce]:[]))}),rb=s(VT,Cr,function(K,ce){return[K].concat(D(ce.map(function(pt){return pt[1]})))}),HT=ih(v.star(Kh),ct([De,pu,De,nr,De],v.optional(rb)),ct([De,Qa,De],v.optional(v.map(ct([Ss,De],v.followed(Xs,De)),function(K){return["typeDeclaration"].concat(D(K))}))),nb,function(K,ce,pt,Yn){return["inlineFunctionExpr"].concat(D(K),[["paramList"].concat(D(ce||[]))],D(pt?[pt]:[]),[["functionBody",Yn]])}),WT=v.or([OT,HT]),KT=v.map(k,function(K){return["mapKeyExpr",K]}),XT=v.map(k,function(K){return["mapValueExpr",K]}),YT=v.then(KT,v.preceded(Tn(Qp,De),XT),function(K,ce){return["mapConstructorEntry",K,ce]}),qT=v.preceded(nd,v.delimited(Tn(Ki,De),v.map(v.optional(s(YT,Tn(Cr,De),function(K,ce){return[K].concat(D(ce.map(function(pt){return pt[1]})))})),function(K){return K?["mapConstructor"].concat(D(K)):["mapConstructor"]}),v.preceded(De,Xi))),ZT=v.map(v.delimited(Mg,Tn(v.optional(s(k,Cr,function(K,ce){return[K].concat(D(ce.map(function(pt){return pt[1]}))).map(function(pt){return["arrayElem",pt]})})),De),Pg),function(K){return["squareArray"].concat(D(K!==null?K:[]))}),JT=v.map(v.preceded(ad,v.preceded(De,js)),function(K){return["curlyArray"].concat(D(K!==null?[["arrayElem",K]]:[]))}),QT=v.map(v.or([ZT,JT]),function(K){return["arrayConstructor",K]}),ob=v.or([yo,kh,Wh,Ws]),ej=v.map(v.preceded(wc,v.preceded(De,ob)),function(K){return K==="*"?["unaryLookup",["star"]]:typeof K=="string"?["unaryLookup",["NCName",K]]:["unaryLookup",K]}),Xh=v.or([wh,vh,fa([sk],"{"),fa([ik],"}"),v.map(js,function(K){return K||["sequenceExpr"]})]),tj=v.or([QA,function(K,ce){return sb(K,ce)},Xh,JA]),nj=v.or([v.map(eS,function(K){return K.replace(/[\x20\x0D\x0A\x09]/g," ")}),Xh]),aj=v.or([v.map(tS,function(K){return K.replace(/[\x20\x0D\x0A\x09]/g," ")}),Xh]),rj=v.map(v.or([Tn(v.star(v.or([xh,nj])),Jp),Tn(v.star(v.or([_h,aj])),Zp)]),function(K){return wy(K,!1,!1)}),oj=v.then(od,v.preceded(Tn(Yi,v.optional(rd)),rj),function(K,ce){if(K[0].prefix===""&&K[1]==="xmlns"){if(ce.length&&typeof ce[0]!="string")throw Error("XQST0022: A namespace declaration may not contain enclosed expressions");return["namespaceDeclaration",ce.length?["uri",ce[0]]:["uri"]]}if(K[0].prefix==="xmlns"){if(ce.length&&typeof ce[0]!="string")throw Error("XQST0022: The namespace declaration for 'xmlns:"+K[1]+"' may not contain enclosed expressions");return["namespaceDeclaration",["prefix",K[1]],ce.length?["uri",ce[0]]:["uri"]]}return["attributeConstructor",["attributeName"].concat(K),ce.length===0?["attributeValue"]:ce.length===1&&typeof ce[0]=="string"?["attributeValue",ce[0]]:["attributeValueExpr"].concat(ce)]}),sj=v.map(v.star(v.preceded(rd,v.optional(oj))),function(K){return K.filter(Boolean)}),ij=wr(v.preceded(Gg,od),sj,v.or([v.map(pk,function(){return null}),v.then(v.preceded(lh,v.star(tj)),ct([De,dk],v.followed(od,v.then(v.optional(rd),lh,function(){return null}))),function(K,ce){return[wy(K,!0,!0),ce]})]),function(K,ce,pt){var Yn=pt;if(pt&&pt.length){Yn=vy(K);var ha=vy(pt[1]);if(Yn!==ha)throw Error('XQST0118: The start and the end tag of an element constructor must be equal. "'+Yn+'" does not match "'+ha+'"');Yn=pt[0]}return["elementConstructor",["tagName"].concat(D(K))].concat(D(ce.length?[["attributeList"].concat(D(ce))]:[]),D(Yn&&Yn.length?[["elementContent"].concat(D(Yn))]:[]))}),sb=v.or([ij,aS,sS]),lj=v.map(ct([fE,De],js),function(K){return["computedDocumentConstructor"].concat(D(K?[["argExpr",K]]:[]))}),uj=v.map(js,function(K){return K?[["contentExpr",K]]:[]}),cj=v.then(ct([xl,De],v.or([v.map(La,function(K){return["tagName"].concat(D(K))}),v.map(v.delimited(Ki,Tn(C,De),Xi),function(K){return["tagNameExpr",K]})])),v.preceded(De,uj),function(K,ce){return["computedElementConstructor",K].concat(D(ce))}),pj=v.then(v.preceded(xc,v.or([v.map(ct([Pr,De],La),function(K){return["tagName"].concat(D(K))}),v.map(v.preceded(De,v.delimited(Ki,Tn(C,De),Xi)),function(K){return["tagNameExpr",K]})])),v.preceded(De,js),function(K,ce){return["computedAttributeConstructor",K,["valueExpr",ce||["sequenceExpr"]]]}),dj=v.map(js,function(K){return K?[["prefixExpr",K]]:[]}),fj=v.map(js,function(K){return K?[["URIExpr",K]]:[]}),hj=v.then(ct([_l,De],v.or([BA,dj])),v.preceded(De,fj),function(K,ce){return["computedNamespaceConstructor"].concat(D(K),D(ce))}),mj=v.map(ct([Zg,De],js),function(K){return["computedTextConstructor"].concat(D(K?[["argExpr",K]]:[]))}),gj=v.map(ct([Jg,De],js),function(K){return["computedCommentConstructor"].concat(D(K?[["argExpr",K]]:[]))}),yj=ct([Qg,De],v.then(v.or([v.map(yo,function(K){return["piTarget",K]}),v.map(v.delimited(Ki,Tn(C,De),Xi),function(K){return["piTargetExpr",K]})]),v.preceded(De,js),function(K,ce){return["computedPIConstructor",K].concat(D(ce?[["piValueExpr",ce]]:[]))})),bj=v.or([lj,cj,pj,hj,mj,gj,yj]),wj=v.or([sb,bj]),ib=v.or([Hh,bh,Wh,YA,CT,wj,WT,qT,QT,ej]),lb=v.map(ct([wc,De],ob),function(K){return K==="*"?["lookup",["star"]]:typeof K=="string"?["lookup",["NCName",K]]:["lookup",K]}),vj=v.then(v.map(ib,function(K){return Ah(K)}),v.star(v.or([v.map(v.preceded(De,ne),function(K){return["predicate",K]}),v.map(v.preceded(De,pd),function(K){return["argumentList",K]}),v.preceded(De,lb)])),function(K,ce){function pt(){db&&Wr.length===1?xu.push(["predicate",Wr[0]]):Wr.length!==0&&xu.push(["predicates"].concat(D(Wr))),Wr.length=0}function Yn(W2){pt(),xu.length!==0?(ha[0][0]==="sequenceExpr"&&2<ha[0].length&&(ha=[["sequenceExpr"].concat(D(ha))]),ha=[["filterExpr"].concat(D(ha))].concat(D(xu)),xu.length=0):W2&&(ha=[["filterExpr"].concat(D(ha))])}var ha=[K],Wr=[],xu=[],db=!1;for(ce=(K=S(ce)).next();!ce.done;ce=K.next())switch(ce=ce.value,ce[0]){case"predicate":Wr.push(ce[1]);break;case"lookup":db=!0,pt(),xu.push(ce);break;case"argumentList":Yn(!1),1<ha.length&&(ha=[["sequenceExpr",["pathExpr",["stepExpr"].concat(D(ha))]]]),ha=[["dynamicFunctionInvocationExpr",["functionItem"].concat(D(ha))].concat(D(ce[1].length?[["arguments"].concat(D(ce[1]))]:[]))];break;default:throw Error("unreachable")}return Yn(!0),ha}),vu=v.or([v.map(vj,function(K){return["stepExpr"].concat(D(K))}),DT]),xj=v.followed(ib,v.peek(v.not(v.preceded(De,v.or([ne,pd,lb])),["primary expression not followed by predicate, argumentList, or lookup"]))),_j=v.or([wr(vu,v.preceded(De,Eh),v.preceded(De,w),function(K,ce,pt){return["pathExpr",K,ce].concat(D(pt))}),v.then(vu,v.preceded(Tn(td,De),w),function(K,ce){return["pathExpr",K].concat(D(ce))}),xj,v.map(vu,function(K){return["pathExpr",K]})]),Yh=v.or([wr(vu,v.preceded(De,Eh),v.preceded(De,w),function(K,ce,pt){return[K,ce].concat(D(pt))}),v.then(vu,v.preceded(Tn(td,De),w),function(K,ce){return[K].concat(D(ce))}),v.map(vu,function(K){return[K]})]),kj=v.or([v.map(ct([td,De],Yh),function(K){return["pathExpr",["rootExpr"]].concat(D(K))}),v.then(Eh,v.preceded(De,Yh),function(K,ce){return["pathExpr",["rootExpr"],K].concat(D(ce))}),v.map(v.followed(td,v.not(v.preceded(De,t.Ya?vr(/[*<a-zA-Z]/):vr(/[*a-zA-Z]/)),["Single rootExpr cannot be by followed by something that can be interpreted as a relative path"])),function(){return["pathExpr",["rootExpr"]]})]),Ej=sh(v.or([_j,kj]),ky),Aj=v.preceded(gE,v.then(v.optional(v.or([v.map(v.preceded(De,iS),function(K){return["validationMode",K]}),v.map(ct([De,yE,De],La),function(K){return["type"].concat(D(K))})])),v.delimited(v.preceded(De,Ki),Tn(C,De),Xi),function(K,ce){return["validateExpr"].concat(D(K?[K]:[]),[["argExpr",ce]])})),Sj=v.delimited(ok,v.then(v.preceded(De,La),v.optional(v.preceded(dt,lS)),function(K,ce){return ce?["pragma",["pragmaName",K],["pragmaContents",ce]]:["pragma",["pragmaName",K]]}),v.preceded(De,Fg)),Tj=v.map(v.followed(v.plus(Sj),v.preceded(De,v.delimited(Ki,Tn(v.optional(C),De),Xi))),function(K){return["extensionExpr"].concat(D(K))}),jj=c(s(Ej,kk,function(K,ce){return ce.length===0?K:["simpleMapExpr",K[0]==="pathExpr"?K:["pathExpr",["stepExpr",["filterExpr",Ah(K)]]]].concat(ce.map(function(pt){return(pt=pt[1])[0]==="pathExpr"?pt:["pathExpr",["stepExpr",["filterExpr",Ah(pt)]]]}))})),Ij=v.or([Aj,Tj,jj]),ub=v.or([v.then(v.or([fa([cu],"unaryMinusOp"),fa([ed],"unaryPlusOp")]),v.preceded(De,function(K,ce){return ub(K,ce)}),function(K,ce){return[K,["operand",ce]]}),Ij]),Nj=v.or([v.map(La,function(K){return["EQName"].concat(D(K))}),bh,Wh]),Dj=v.then(ub,v.star(ct([De,Ck,De],v.then(Nj,v.preceded(De,pd),function(K,ce){return[K,ce]}))),function(K,ce){return ce.reduce(function(pt,Yn){return["arrowExpr",["argExpr",pt],Yn[0],["arguments"].concat(D(Yn[1]))]},K)}),Cj=v.then(Dj,v.optional(ct([De,Fk,dt,Ss,Pr,De],xy)),function(K,ce){return ce!==null?["castExpr",["argExpr",K],ce]:K}),Oj=v.then(Cj,v.optional(ct([De,Mk,dt,Ss,Pr,De],xy)),function(K,ce){return ce!==null?["castableExpr",["argExpr",K],ce]:K}),Bj=v.then(Oj,v.optional(ct([De,Pk,dt,Ss,Pr,De],Xs)),function(K,ce){return ce!==null?["treatExpr",["argExpr",K],["sequenceType"].concat(D(ce))]:K}),Rj=v.then(Bj,v.optional(ct([De,Lk,dt,Vg,Pr,De],Xs)),function(K,ce){return ce!==null?["instanceOfExpr",["argExpr",K],["sequenceType"].concat(D(ce))]:K}),Fj=s(Rj,v.followed(v.or([fa([$k],"intersectOp"),fa([Gk],"exceptOp")]),Pr),r),Mj=s(Fj,v.or([fa([$g],"unionOp"),v.followed(fa([Vk],"unionOp"),Pr)]),r),Pj=s(Mj,v.or([fa([Ws],"multiplyOp"),v.followed(fa([Yk],"divOp"),Pr),v.followed(fa([qk],"idivOp"),Pr),v.followed(fa([Zk],"modOp"),Pr)]),r),Lj=s(Pj,v.or([fa([cu],"subtractOp"),fa([ed],"addOp")]),r),Uj=s(i(Lj,v.followed(fa([Hk],"rangeSequenceExpr"),Pr),"startExpr","endExpr"),fa([Ek],"stringConcatenateOp"),r),zj=s(i(Uj,v.or([uS,cS,pS])),v.followed(fa([Xk],"andOp"),Pr),r),$j=s(zj,v.followed(fa([Kk],"orOp"),Pr),r),Gj=v.then(v.then(ct([Yg,De,nr,De],C),ct([De,Qa,De,oE,Pr,De],k),function(K,ce){return[K,ce]}),ct([De,sE,Pr,De],k),function(K,ce){return["ifThenElseExpr",["ifClause",K[0]],["thenClause",K[1]],["elseClause",ce]]}),Vj=v.delimited(iE,dt,uh),Hj=v.map(ct([ch,dt,Ks],La),function(K){return["positionalVariableBinding"].concat(D(K))}),Wj=rk(v.preceded(Ks,v.cut(La)),v.cut(v.preceded(De,v.optional(wu))),v.cut(v.preceded(De,v.optional(Vj))),v.cut(v.preceded(De,v.optional(Hj))),v.cut(v.preceded(Tn(qg,De),k)),function(K,ce,pt,Yn,ha){return["forClauseItem",["typedVariableBinding",["varName"].concat(D(K),D(ce?[ce]:[]))]].concat(D(pt?[["allowingEmpty"]]:[]),D(Yn?[Yn]:[]),[["forExpr",ha]])}),Kj=ct([lE,dt],s(Wj,Cr,function(K,ce){return["forClause",K].concat(D(ce.map(function(pt){return pt[1]})))})),Xj=wr(v.preceded(Ks,La),v.preceded(De,v.optional(wu)),v.preceded(Tn(wl,De),k),function(K,ce,pt){return["letClauseItem",["typedVariableBinding",["varName"].concat(D(K))].concat(D(ce?[ce]:[])),["letExpr",pt]]}),Yj=v.map(ct([uE,De],s(Xj,Cr,function(K,ce){return[K].concat(D(ce.map(function(pt){return pt[1]})))})),function(K){return["letClause"].concat(D(K))}),cb=v.or([Kj,Yj]),qj=v.map(ct([cE,Pr,De],k),function(K){return["whereClause",K]}),Zj=v.map(v.preceded(Ks,La),function(K){return["varName"].concat(D(K))}),Jj=v.then(v.preceded(De,v.optional(wu)),v.preceded(Tn(wl,De),k),function(K,ce){return["groupVarInitialize"].concat(D(K?[["typeDeclaration"].concat(D(K))]:[]),[["varValue",ce]])}),Qj=wr(Zj,v.optional(Jj),v.optional(v.map(v.preceded(Tn(ph,De),_e),function(K){return["collation",K]})),function(K,ce,pt){return["groupingSpec",K].concat(D(ce?[ce]:[]),D(pt?[pt]:[]))}),e2=s(Qj,Cr,function(K,ce){return[K].concat(D(ce.map(function(pt){return pt[1]})))}),t2=v.map(ct([pE,dt,dh,De],e2),function(K){return["groupByClause"].concat(D(K))}),n2=wr(v.optional(v.or([JE,QE])),v.optional(ct([De,uh,De],v.or([ty,ny].map(function(K){return v.map(K,function(ce){return"empty "+ce})})))),v.preceded(De,v.optional(ct([ph,De],_e))),function(K,ce,pt){return K||ce||pt?["orderModifier"].concat(D(K?[["orderingKind",K]]:[]),D(ce?[["emptyOrderingMode",ce]]:[]),D(pt?[["collation",pt]]:[])):null}),a2=v.then(k,v.preceded(De,n2),function(K,ce){return["orderBySpec",["orderByExpr",K]].concat(D(ce?[ce]:[]))}),r2=s(a2,Cr,function(K,ce){return[K].concat(D(ce.map(function(pt){return pt[1]})))}),o2=v.then(v.or([v.map(ct([fh,dt],dh),function(){return!1}),v.map(ct([dE,dt,fh,dt],dh),function(){return!0})]),v.preceded(De,r2),function(K,ce){return["orderByClause"].concat(D(K?[["stable"]]:[]),D(ce))}),s2=v.or([cb,qj,t2,o2]),i2=v.map(ct([du,De],k),function(K){return["returnClause",K]}),l2=wr(cb,v.cut(v.star(v.preceded(De,s2))),v.cut(v.preceded(De,i2)),function(K,ce,pt){return["flworExpr",K].concat(D(ce),[pt])}),u2=s(Xs,$g,function(K,ce){return ce.length===0?["sequenceType"].concat(D(K)):["sequenceTypeUnion",["sequenceType"].concat(D(K))].concat(D(ce.map(function(pt){return["sequenceType"].concat(D(pt[1]))})))}),c2=wr(ct([ry,De],v.optional(v.preceded(Ks,v.followed(v.followed(La,dt),Ss)))),v.preceded(De,u2),ct([dt,du,dt],k),function(K,ce,pt){return["typeswitchExprCaseClause"].concat(K?[["variableBinding"].concat(D(K))]:[],[ce],[["resultExpr",pt]])}),p2=ih(v.preceded(oy,Tn(v.delimited(nr,Tn(C,De),Qa),De)),v.plus(v.followed(c2,De)),ct([kl,dt],v.optional(v.preceded(Ks,v.followed(La,dt)))),ct([du,dt],k),function(K,ce,pt,Yn){return["typeswitchExpr",["argExpr",K]].concat(D(ce),[["typeswitchExprDefaultClause"].concat(D(pt||[]),[["resultExpr",Yn]])])}),d2=wr(v.preceded(Ks,La),v.optional(v.preceded(dt,wu)),v.preceded(Tn(qg,dt),k),function(K,ce,pt){return["quantifiedExprInClause",["typedVariableBinding",["varName"].concat(D(K))].concat(D(ce?[ce]:[])),["sourceExpr",pt]]}),f2=s(d2,Cr,function(K,ce){return[K].concat(D(ce.map(function(pt){return pt[1]})))}),h2=wr(v.or([kE,EE]),v.preceded(dt,f2),v.preceded(Tn(AE,De),k),function(K,ce,pt){return["quantifiedExpr",["quantifier",K]].concat(D(ce),[["predicateExpr",pt]])}),m2=v.map(ct([Uk,dt,v.or([Hg,vc]),dt],k),function(K){return["deleteExpr",["targetExpr",K]]}),g2=wr(ct([SE,dt],v.optional(ct([zk,dt,Vg],dt))),ct([vc,dt],k),v.preceded(Tn(TE,dt),k),function(K,ce,pt){return K?["replaceExpr",["replaceValue"],["targetExpr",ce],["replacementExpr",pt]]:["replaceExpr",["targetExpr",ce],["replacementExpr",pt]]}),y2=v.then(bh,v.preceded(Tn(wl,De),k),function(K,ce){return["transformCopy",K,["copySource",ce]]}),b2=wr(ct([jE,dt],s(y2,Cr,function(K,ce){return[K].concat(D(ce.map(function(pt){return pt[1]})))})),ct([De,IE,dt],k),v.preceded(Tn(du,dt),k),function(K,ce,pt){return["transformExpr",["transformCopies"].concat(D(K)),["modifyExpr",ce],["returnExpr",pt]]}),w2=v.or([v.followed(v.map(v.optional(v.followed(ct([Ss,dt],v.or([v.map(NE,function(){return["insertAsFirst"]}),v.map(DE,function(){return["insertAsLast"]})])),dt)),function(K){return K?["insertInto",K]:["insertInto"]}),BE),v.map(OE,function(){return["insertAfter"]}),v.map(CE,function(){return["insertBefore"]})]),v2=wr(ct([RE,dt,v.or([Hg,vc]),dt],k),v.preceded(dt,w2),v.preceded(dt,k),function(K,ce,pt){return["insertExpr",["sourceExpr",K],ce,["targetExpr",pt]]}),x2=v.then(ct([FE,dt,vc,De],k),ct([dt,Ss,dt],k),function(K,ce){return["renameExpr",["targetExpr",K],["newNameExpr",ce]]}),_2=v.then(v.plus(v.map(ct([ry,dt],k),function(K){return["switchCaseExpr",K]})),ct([dt,du,dt],k),function(K,ce){return["switchExprCaseClause"].concat(D(K),[["resultExpr",ce]])}),k2=wr(ct([sy,De,nr],C),ct([De,Qa,De],v.plus(v.followed(_2,De))),ct([kl,dt,du,dt],k),function(K,ce,pt){return["switchExpr",["argExpr",K]].concat(D(ce),[["switchExprDefaultClause",["resultExpr",pt]]])}),E2=v.map(C,function(K){return["queryBody",K]}),A2=ct([zo,dt,_l,dt],v.cut(v.then(yo,v.preceded(Tn(Yi,De),_e),function(K,ce){return["namespaceDecl",["prefix",K],["uri",ce]]}))),S2=v.then(ct([ME,dt,Ks,De],v.then(La,v.optional(v.preceded(De,wu)),function(K,ce){return[K,ce]})),v.cut(v.or([v.map(ct([De,wl,De],k),function(K){return["varValue",K]}),v.map(ct([dt,mh],v.optional(ct([De,wl,De],k))),function(K){return["external"].concat(D(K?[["varValue",K]]:[]))})])),function(K,ce){var pt=S(K);return K=pt.next().value,pt=pt.next().value,["varDecl",["varName"].concat(D(K))].concat(D(pt!==null?[pt]:[]),[ce])}),T2=ih(ct([pu,dt,v.peek(v.not(yy,["Cannot use reserved function name"]))],La),v.cut(ct([De,nr,De],v.optional(rb))),v.cut(ct([De,Qa],v.optional(ct([dt,Ss,dt],Xs)))),v.cut(v.preceded(De,v.or([v.map(nb,function(K){return["functionBody",K]}),v.map(mh,function(){return["externalDefinition"]})]))),function(K,ce,pt,Yn){return["functionDecl",["functionName"].concat(D(K)),["paramList"].concat(D(ce||[]))].concat(D(pt?[["typeDeclaration"].concat(D(pt))]:[]),[Yn])}),j2=ct([zo,dt],v.then(v.star(v.followed(v.or([Kh,dS]),dt)),v.or([S2,T2]),function(K,ce){return[ce[0]].concat(D(K),D(ce.slice(1)))})),I2=v.then(ct([zo,dt,kl,dt],v.or([xl,pu])),ct([dt,_l,dt],_e),function(K,ce){return["defaultNamespaceDecl",["defaultNamespaceCategory",K],["uri",ce]]}),N2=v.or([v.map(v.followed(ct([_l,dt],yo),v.preceded(De,Yi)),function(K){return["namespacePrefix",K]}),v.map(ct([kl,dt,xl,dt],_l),function(){return["defaultElementNamespace"]})]),D2=ct([iy,dt,LE],wr(v.optional(v.preceded(dt,N2)),v.preceded(De,_e),v.optional(v.then(ct([dt,ch,dt],_e),v.star(ct([De,Cr,De],_e)),function(K,ce){return[K].concat(D(ce))})),function(K,ce,pt){return["schemaImport"].concat(D(K?[K]:[]),[["targetNamespace",ce]],D(pt?[pt]:[]))})),C2=ct([iy,dt,ly],wr(v.optional(v.followed(ct([dt,_l,dt],yo),v.preceded(De,Yi))),v.preceded(De,_e),v.optional(v.then(ct([dt,ch,dt],_e),v.star(ct([De,Cr,De],_e)),function(K,ce){return[K].concat(D(ce))})),function(K,ce){return["moduleImport",["namespacePrefix",K],["targetNamespace",ce]]})),O2=v.or([D2,C2]),B2=v.map(ct([zo,dt,kl,dt,ph,dt],_e),function(K){return["defaultCollationDecl",K]}),R2=v.map(ct([zo,dt,UE,dt],_e),function(K){return["baseUriDecl",K]}),F2=v.then(ct([zo,dt],v.or([v.map(ct([ay,dt],La),function(K){return["decimalFormatName"].concat(D(K))}),v.map(ct([kl,dt],ay),function(){return null})])),v.star(v.then(v.preceded(dt,mS),v.preceded(Tn(Yi,dt),_e),function(K,ce){return["decimalFormatParam",["decimalFormatParamName",K],["decimalFormatParamValue",ce]]})),function(K,ce){return["decimalFormatDecl"].concat(D(K?[K]:[]),D(ce))}),M2=v.or([gS,B2,R2,yS,bS,wS,vS,F2]),P2=v.then(ct([zo,dt,HE,dt],La),v.preceded(dt,_e),function(K,ce){return["optionDecl",["optionName",K],["optionContents",ce]]}),L2=v.then(ct([zo,dt,WE,dt,uy],v.optional(ct([dt,Ss],ab))),v.or([v.map(v.preceded(Tn(wl,De),k),function(K){return["varValue",K]}),v.map(ct([dt,mh],v.optional(v.preceded(Tn(wl,De),k))),function(){return["external"]})]),function(K,ce){return["contextItemDecl"].concat(D(K?[["contextItemType",K]]:[]),[ce])}),pb=v.then(v.star(v.followed(v.or([I2,M2,A2,O2]),v.cut(Tn(vl,De)))),v.star(v.followed(v.or([L2,j2,P2]),v.cut(Tn(vl,De)))),function(K,ce){return K.length===0&&ce.length===0?null:["prolog"].concat(D(K),D(ce))}),U2=ct([ly,dt,_l,dt],v.then(v.followed(yo,Tn(Yi,De)),v.followed(_e,Tn(vl,De)),function(K,ce){return["moduleDecl",["prefix",K],["uri",ce]]})),z2=v.then(U2,v.preceded(De,pb),function(K,ce){return["libraryModule",K].concat(D(ce?[ce]:[]))}),$2=v.then(pb,v.preceded(De,E2),function(K,ce){return["mainModule"].concat(D(K?[K]:[]),[ce])}),G2=v.map(ct([KE,De],v.followed(v.or([v.then(v.preceded(cy,dt),_e,function(K){return["encoding",K]}),v.then(ct([XE,dt],_e),v.optional(ct([dt,cy,dt],_e)),function(K,ce){return[["version",K]].concat(D(ce?[["encoding",ce]]:[]))})]),v.preceded(De,vl))),function(K){return["versionDecl"].concat(D(K))}),V2=v.then(v.optional(Tn(G2,De)),v.or([z2,$2]),function(K,ce){return["module"].concat(D(K?[K]:[]),[ce])}),H2=v.complete(Tn(V2,De));return function(K,ce){W.clear(),ce=H2(K,ce);for(var pt=1,Yn=1,ha=0;ha<K.length+1;ha++){if(W.has(ha)){var Wr=W.get(ha);Wr.line=Yn,Wr.ja=pt}(Wr=K[ha])==="\r"||Wr===`
`?(Yn++,pt=1):pt++}return ce}}var xS=sd({vb:!1,Ya:!1}),_S=sd({vb:!0,Ya:!1}),kS=sd({vb:!1,Ya:!0}),ES=sd({vb:!0,Ya:!0});function _c(t,r){var s=!!r.$;if(r=!!r.debug,py.clear(),dy.clear(),ky.clear(),(s=s?r?ES(t,0):kS(t,0):r?_S(t,0):xS(t,0)).success===!0)return s.value;throw r=(t=t.substring(0,s.offset).split(`
`))[t.length-1].length+1,new _p({start:{offset:s.offset,line:t.length,ja:r},end:{offset:s.offset+1,line:t.length,ja:r+1}},"",Error("XPST0003: Failed to parse script. Expected "+[].concat(D(new Set(s.expected)))))}var Ey="http://www.w3.org/XML/1998/namespace http://www.w3.org/2001/XMLSchema http://www.w3.org/2001/XMLSchema-instance http://www.w3.org/2005/xpath-functions http://www.w3.org/2005/xpath-functions/math http://www.w3.org/2012/xquery http://www.w3.org/2005/xpath-functions/array http://www.w3.org/2005/xpath-functions/map".split(" ");function AS(t,r,s,i,c){var g=we(t,"functionName"),w=bt(g,"prefix")||"",k=bt(g,"URI"),C=Lt(g);if(k===null&&!(k=w===""?r.v===null?"http://www.w3.org/2005/xpath-functions":r.v:r.aa(w))&&w)throw Qt(w);if(Ey.includes(k))throw Oe();if(g=(w=rn(t,"annotation").map(function(Ct){return we(Ct,"annotationName")})).every(function(Ct){return!bt(Ct,"URI")&&Lt(Ct)!=="private"}),w=w.some(function(Ct){return!bt(Ct,"URI")&&Lt(Ct)==="updating"}),!k)throw an();var W=ui(t),ne=rn(we(t,"paramList"),"param"),_e=ne.map(function(Ct){return we(Ct,"varName")}),ze=ne.map(function(Ct){return ui(Ct)});if(t=we(t,"functionBody")){if(r.xa(k,C,ze.length))throw Error("XQST0049: The function Q{"+k+"}"+C+"#"+ze.length+" has already been declared.");if(!c)return;var Ke=ah(t[1],{ua:!1,$:!0}),ut=new ka(r),ft=_e.map(function(Ct){var hn=bt(Ct,"URI"),sa=bt(Ct,"prefix");return Ct=Lt(Ct),sa&&hn===null&&(hn=r.aa(sa||"")),Hn(ut,hn,Ct)});c=w?{j:ze,arity:_e.length,callFunction:function(Ct,hn,sa){var fr=re.apply(3,arguments),ro=Rr(_r(Ct,-1,null,q.empty()),ft.reduce(function(Ts,fi,Ac){return Ts[fi]=jn(fr[Ac]),Ts},Object.create(null)));return Ke.s(ro,hn)},Eb:!1,I:!0,hb:g,localName:C,namespaceURI:k,i:W}:{j:ze,arity:_e.length,callFunction:function(Ct,hn,sa){var fr=re.apply(3,arguments),ro=Rr(_r(Ct,-1,null,q.empty()),ft.reduce(function(Ts,fi,Ac){return Ts[fi]=jn(fr[Ac]),Ts},Object.create(null)));return bn(Ke,ro,hn)},Eb:!1,I:!1,hb:g,localName:C,namespaceURI:k,i:W},s.push({ca:Ke,Mb:ut}),i.push({arity:_e.length,ca:Ke,Ib:c,localName:C,namespaceURI:k,hb:g})}else{if(w)throw Error("Updating external function declarations are not supported");c={j:ze,arity:_e.length,callFunction:function(Ct,hn,sa){var fr=re.apply(3,arguments),ro=sa.xa(k,C,_e.length,!0);if(!ro)throw Error("XPST0017: Function Q{"+k+"}"+C+" with arity of "+_e.length+" not registered. "+ou(C));if(ro.i.type!==W.type||ro.j.some(function(Ts,fi){return Ts.type!==ze[fi].type}))throw Error("External function declaration types do not match actual function");return ro.callFunction.apply(ro,[Ct,hn,sa].concat(D(fr)))},Eb:!0,I:!1,localName:C,namespaceURI:k,hb:g,i:W}}ta(r,k,C,_e.length,c)}function Th(t,r,s,i){var c=[],g=[];rn(t,"*").forEach(function(Ke){switch(Ke[0]){case"moduleImport":case"namespaceDecl":case"defaultNamespaceDecl":case"functionDecl":case"varDecl":break;default:throw Error("Not implemented: only module imports, namespace declarations, and function declarations are implemented in XQuery modules")}});var w=new Set;rn(t,"moduleImport").forEach(function(Ke){var ut=Lt(we(Ke,"namespacePrefix"));if(Ke=Lt(we(Ke,"targetNamespace")),w.has(Ke))throw Error('XQST0047: The namespace "'+Ke+'" is imported more than once.');w.add(Ke),Pt(r,ut,Ke)}),rn(t,"namespaceDecl").forEach(function(Ke){var ut=Lt(we(Ke,"prefix"));if(Ke=Lt(we(Ke,"uri")),ut==="xml"||ut==="xmlns"||Ke==="http://www.w3.org/XML/1998/namespace"||Ke==="http://www.w3.org/2000/xmlns/")throw He();Pt(r,ut,Ke)});for(var k=null,C=null,W=S(rn(t,"defaultNamespaceDecl")),ne=W.next();!ne.done;ne=W.next()){var _e=ne.value;if(ne=Lt(we(_e,"defaultNamespaceCategory")),!(_e=Lt(we(_e,"uri"))))throw an();if(_e==="http://www.w3.org/XML/1998/namespace"||_e==="http://www.w3.org/2000/xmlns/")throw He();if(ne==="function"){if(k)throw Se();k=_e}else if(ne==="element"){if(C)throw Se();C=_e}}k&&(r.v=k),C&&Pt(r,"",C),rn(t,"functionDecl").forEach(function(Ke){AS(Ke,r,c,g,s)});var ze=[];return rn(t,"varDecl").forEach(function(Ke){var ut=Ea(we(Ke,"varName")),ft=ut.namespaceURI;if(ft===null&&!(ft=r.aa(ut.prefix))&&ut.prefix)throw Qt(ut.prefix);if(Ey.includes(ft))throw Oe();var Ct,hn,sa=we(Ke,"external");if(Ke=we(Ke,"varValue"),sa!==null?(sa=we(sa,"varValue"))!==null&&(Ct=we(sa,"*")):Ke!==null&&(Ct=we(Ke,"*")),ze.some(function(ro){return ro.namespaceURI===ft&&ro.localName===ut.localName}))throw Error("XQST0049: The variable "+(ft?"Q{"+ft+"}":"")+ut.localName+" has already been declared.");if(Hn(r,ft||"",ut.localName),s&&(Ct&&(hn=ah(Ct,{ua:!1,$:!0})),Ct&&!Ca(r,ft||"",ut.localName))){var fr=null;br(r,ft,ut.localName,function(ro,Ts){return fr?fr():(fr=jn(bn(hn,ro,Ts)))()}),c.push({ca:hn,Mb:r}),ze.push({ca:hn,localName:ut.localName,namespaceURI:ft})}}),g.forEach(function(Ke){if(!Ke.Ib.I&&Ke.ca.I)throw Xn("The function Q{"+Ke.namespaceURI+"}"+Ke.localName+" is updating but the %updating annotation is missing.")}),{Ma:g.map(function(Ke){return Ke.Ib}),Va:ze,source:i,ra:function(Ke){w.forEach(function(ut){rh(r,ut)}),c.forEach(function(ut){var ft=ut.ca,Ct=ut.Mb;w.forEach(function(hn){rh(Ct,hn)}),Ke.Ma.forEach(function(hn){Ct.xa(hn.namespaceURI,hn.localName,hn.arity,!0)||hn.hb&&ta(Ct,hn.namespaceURI,hn.localName,hn.arity,hn)}),Ke.Va.forEach(function(hn){Ct.ib(hn.namespaceURI,hn.localName)||Hn(Ct,hn.namespaceURI,hn.localName)}),ft.v(Ct)})}}}function SS(t,r,s,i,c,g,w){var k=r.$?"XQuery":"XPath";return(s=r.La?null:ak(t,k,s,i,c,r.debug,g,w))!==null?{state:s.rc?1:2,ca:s.ca}:{state:0,hc:typeof t=="string"?_c(t,r):qp(t)}}function TS(t,r,s,i){var c=we(t,"mainModule");if(!c)throw Error("Can not execute a library module.");var g=we(c,"prolog");if(g){if(!r.$)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");bc(),(i=Th(g,s,!0,i)).ra(i)}return Mn(t,new dc(s)),Zt(t=ht(c,["queryBody","*"]),r)}function Ay(t,r,s,i,c,g,w){var k=new te(s,i,g,w),C=new ka(k);switch(0<Object.keys(c).length&&bc(),Object.keys(c).forEach(function(W){var ne=c[W];rh(C,ne),Pt(C,W,ne)}),typeof t=="string"&&(t=oh(t)),(s=SS(t,r,s,i,c,g,w)).state){case 2:return{ia:C,ca:s.ca};case 1:return s.ca.v(C),Dg(t,r.$?"XQuery":"XPath",k,c,s.ca,r.debug,g),{ia:C,ca:s.ca};case 0:return(s=TS(s.hc,r,C,t)).v(C),r.La||Dg(t,r.$?"XQuery":"XPath",k,c,s,r.debug,g),{ia:C,ca:s}}}function jS(t,r,s,i){t=t.first();var c=r.first().h.reduce(function(_e,ze){return _e[ze.key.value]=jn(ze.value()),_e},Object.create(null));r=c["."]?c["."]():q.empty(),delete c["."];try{if(Z(t.type,1))var g=t.value;else{if(!Z(t.type,54))throw pa("Unable to convert selector argument of type "+je[t.type]+" to either an "+je[1]+" or an "+je[54]+" representing an XQueryX program while calling 'fontoxpath:evaluate'");g=t.value.node}var w=Ay(g,{ua:!1,$:!0,debug:i.debug,La:i.La},function(_e){return s.aa(_e)},Object.keys(c).reduce(function(_e,ze){return _e[ze]=ze,_e},{}),{},"http://www.w3.org/2005/xpath-functions",function(_e,ze){return s.Ua(_e,ze)}),k=w.ca,C=w.ia,W=!r.G(),ne=new Bo({N:W?r.first():null,Ka:W?0:-1,Da:r,Aa:Object.keys(c).reduce(function(_e,ze){return _e[C.ib(null,ze)]=c[ze],_e},Object.create(null))});return{sc:k.h(ne,i).value,pc:t}}catch(_e){no(t.value,_e)}}function jh(t,r,s){if(r.node.nodeType!==1&&r.node.nodeType!==9)return[];var i=za(t,r).reduce(function(c,g){for(var w=(g=S(jh(t,g,s))).next();!w.done;w=g.next())c.push(w.value);return c},[]);return s(r)&&i.unshift(r),i}function Sy(t,r,s,i,c){if(!(t=c.first()))throw Ja("The context is absent, it needs to be present to use id function.");if(!Z(t.type,53))throw pa("The context item is not a node, it needs to be node to use id function.");var g=r.h,w=i.O().reduce(function(k,C){return C.value.split(/\s+/).forEach(function(W){k[W]=!0}),k},Object.create(null));for(r=t.value;r.node.nodeType!==9;)if((r=dn(g,r))===null)throw Error("FODC0001: the root node of the target node is not a document node.");return r=jh(g,r,function(k){return!(k.node.nodeType!==1||!(k=Zr(g,k,"id"))||!w[k]||(w[k]=!1,0))}),q.create(r.map(function(k){return $n(k)}))}function Ty(t,r,s,i,c){if(!(t=c.first()))throw Ja("The context is absent, it needs to be present to use idref function.");if(!Z(t.type,53))throw pa("The context item is not a node, it needs to be node to use idref function.");var g=r.h,w=i.O().reduce(function(k,C){return k[C.value]=!0,k},Object.create(null));for(r=t.value;r.node.nodeType!==9;)if((r=dn(g,r))===null)throw Error("FODC0001: the root node of the context node is not a document node.");return r=jh(g,r,function(k){return k.node.nodeType===1&&!!(k=Zr(g,k,"idref"))&&k.split(/\s+/).some(function(C){return w[C]})}),q.create(r.map(function(k){return $n(k)}))}function Ih(t){switch(typeof t){case"object":return Array.isArray(t)?q.m(new En(t.map(function(r){return jn(Ih(r))}))):t===null?q.empty():q.m(new Kt(Object.keys(t).map(function(r){return{key:le(r,1),value:jn(Ih(t[r]))}})));case"number":return q.m(le(t,3));case"string":return q.m(le(t,1));case"boolean":return t?q.ba():q.W();default:throw Error("Unexpected type in JSON parse")}}function jy(t,r,s,i,c){var g=(t=mt(t,r,s,c,q.m(le("duplicates",1)))).G()?"use-first":t.first().value;return i.M(function(w){return q.m(new Kt(w.reduce(function(k,C){return C.h.forEach(function(W){var ne=k.findIndex(function(_e){return Or(_e.key,W.key)});if(0<=ne)switch(g){case"reject":throw Error("FOJS0003: Duplicate encountered when merging maps.");case"use-last":return void k.splice(ne,1,W);case"combine":return void k.splice(ne,1,{key:W.key,value:jn(q.create(k[ne].value().O().concat(W.value().O())))});default:return}k.push(W)}),k},[])))})}function Nh(t,r,s){var i=1,c=t.value;t=t.Qa(!0);var g=null,w=Math.max(r-1,0);return t!==-1&&(g=Math.max(0,(s===null?t:Math.max(0,Math.min(t,s+(r-1))))-w)),q.create({next:function(k){for(;i<r;)c.next(k),i++;return s!==null&&i>=r+s?ke:(k=c.next(k),i++,k)}},g)}function Dh(t){return t.map(function(r){return Z(r.type,19)?Ee(r,3):r})}function Iy(t){if((t=Dh(t)).some(function(r){return Number.isNaN(r.value)}))return[le(NaN,3)];if(!(t=Cp(t)))throw Error("FORG0006: Incompatible types to be converted to a common type");return t}function Ny(t,r,s,i,c,g){return Rn([c,g],function(w){var k=S(w);if(w=k.next().value,k=k.next().value,w.value===1/0)return q.empty();if(w.value===-1/0)return k&&k.value===1/0?q.empty():i;if(k){if(isNaN(k.value))return q.empty();k.value===1/0&&(k=null)}return isNaN(w.value)?q.empty():Nh(i,Math.round(w.value),k?Math.round(k.value):null)})}function Dy(t,r,s,i,c){if(i.G())return c;if(!(t=Cp(t=Dh(i.O()))))throw Error("FORG0006: Incompatible types to be converted to a common type");if(!t.every(function(g){return Z(g.type,2)}))throw Error("FORG0006: items passed to fn:sum are not all numeric.");return r=t.reduce(function(g,w){return g+w.value},0),t.every(function(g){return Z(g.type,5)})?q.m(le(r,5)):t.every(function(g){return Z(g.type,3)})?q.m(le(r,3)):t.every(function(g){return Z(g.type,4)})?q.m(le(r,4)):q.m(le(r,6))}var IS=[].concat(ml,[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"boolean",j:[{type:59,g:2}],i:{type:0,g:3},callFunction:function(t,r,s,i){return i.ha()?q.ba():q.W()}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"true",j:[],i:{type:0,g:3},callFunction:function(){return q.ba()}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"not",j:[{type:59,g:2}],i:{type:0,g:3},callFunction:function(t,r,s,i){return i.ha()===!1?q.ba():q.W()}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"false",j:[],i:{type:0,g:3},callFunction:function(){return q.W()}}],[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"last",j:[],i:{type:5,g:3},callFunction:function(t){if(t.N===null)throw Ja("The fn:last() function depends on dynamic context, which is absent.");var r=!1;return q.create({next:function(){if(r)return ke;var s=t.Da.Qa();return r=!0,Ce(le(s,5))}},1)}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"position",j:[],i:{type:5,g:3},callFunction:function(t){if(t.N===null)throw Ja("The fn:position() function depends on dynamic context, which is absent.");return q.m(le(t.Ka+1,5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"current-dateTime",j:[],i:{type:10,g:3},callFunction:function(t){return q.m(le(Ro(t),10))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"current-date",j:[],i:{type:7,g:3},callFunction:function(t){return q.m(le(Wa(Ro(t),7),7))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"current-time",j:[],i:{type:8,g:3},callFunction:function(t){return q.m(le(Wa(Ro(t),8),8))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"implicit-timezone",j:[],i:{type:17,g:3},callFunction:function(t){return q.m(le(cr(t),17))}}],df,ff,pp,[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"years-from-duration",j:[{type:18,g:0}],i:{type:5,g:0},callFunction:function(t,r,s,i){return i.G()?i:q.m(le(i.first().value.gb(),5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"months-from-duration",j:[{type:18,g:0}],i:{type:5,g:0},callFunction:function(t,r,s,i){return i.G()?i:q.m(le(i.first().value.cb(),5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"days-from-duration",j:[{type:18,g:0}],i:{type:5,g:0},callFunction:function(t,r,s,i){return i.G()?i:q.m(le(i.first().value.bb(),5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"hours-from-duration",j:[{type:18,g:0}],i:{type:5,g:0},callFunction:function(t,r,s,i){return i.G()?i:q.m(le(i.first().value.getHours(),5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"minutes-from-duration",j:[{type:18,g:0}],i:{type:5,g:0},callFunction:function(t,r,s,i){return i.G()?i:q.m(le(i.first().value.getMinutes(),5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"seconds-from-duration",j:[{type:18,g:0}],i:{type:4,g:0},callFunction:function(t,r,s,i){return i.G()?i:q.m(le(i.first().value.getSeconds(),4))}}],dp,[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"id",j:[{type:1,g:2},{type:53,g:3}],i:{type:54,g:2},callFunction:Sy},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"id",j:[{type:1,g:2}],i:{type:54,g:2},callFunction:function(t,r,s,i){return Sy(t,r,s,i,q.m(t.N))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"idref",j:[{type:1,g:2},{type:53,g:3}],i:{type:53,g:2},callFunction:Ty},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"idref",j:[{type:1,g:2}],i:{type:53,g:2},callFunction:function(t,r,s,i){return Ty(t,r,s,i,q.m(t.N))}}],[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"parse-json",j:[{type:1,g:3}],i:{type:59,g:0},callFunction:function(t,r,s,i){try{var c=JSON.parse(i.first().value)}catch{throw Error("FOJS0001: parsed JSON string contains illegal JSON.")}return Ih(c)}}],[{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"contains",j:[{type:61,g:3},{type:46,g:3}],i:{type:0,g:3},callFunction:function(t,r,s,i,c){return Rn([i,c],function(g){var w=(g=S(g)).next().value,k=g.next().value;return w.h.some(function(C){return Or(C.key,k)})?q.ba():q.W()})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"entry",j:[{type:46,g:3},{type:59,g:2}],i:{type:61,g:3},callFunction:function(t,r,s,i,c){return i.map(function(g){return new Kt([{key:g,value:jn(c)}])})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"for-each",j:[{type:61,g:3},{type:59,g:2}],i:{type:59,g:2},callFunction:function(t,r,s,i,c){return Rn([i,c],function(g){var w=(g=S(g)).next().value,k=g.next().value;return Pa(w.h.map(function(C){return k.value.call(void 0,t,r,s,q.m(C.key),C.value())}))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"get",j:[{type:61,g:3},{type:46,g:3}],i:{type:59,g:2},callFunction:mt},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"keys",j:[{type:61,g:3}],i:{type:46,g:2},callFunction:function(t,r,s,i){return Rn([i],function(c){return c=S(c).next().value,q.create(c.h.map(function(g){return g.key}))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"merge",j:[{type:61,g:2},{type:61,g:3}],i:{type:61,g:3},callFunction:jy},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"merge",j:[{type:61,g:2}],i:{type:61,g:3},callFunction:function(t,r,s,i){return jy(t,r,s,i,q.m(new Kt([{key:le("duplicates",1),value:function(){return q.m(le("use-first",1))}}])))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"put",j:[{type:61,g:3},{type:46,g:3},{type:59,g:2}],i:{type:61,g:3},callFunction:function(t,r,s,i,c,g){return Rn([i,c],function(w){var k=(w=S(w)).next().value,C=w.next().value;return w=k.h.concat(),0<=(k=w.findIndex(function(W){return Or(W.key,C)}))?w.splice(k,1,{key:C,value:jn(g)}):w.push({key:C,value:jn(g)}),q.m(new Kt(w))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"remove",j:[{type:61,g:3},{type:46,g:2}],i:{type:61,g:3},callFunction:function(t,r,s,i,c){return Rn([i],function(g){var w=S(g).next().value.h.concat();return c.M(function(k){return k.forEach(function(C){var W=w.findIndex(function(ne){return Or(ne.key,C)});0<=W&&w.splice(W,1)}),q.m(new Kt(w))})})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"size",j:[{type:61,g:3}],i:{type:5,g:3},callFunction:function(t,r,s,i){return i.map(function(c){return le(c.h.length,5)})}}],[{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"pi",j:[],i:{type:3,g:3},callFunction:function(){return q.m(le(Math.PI,3))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"exp",j:[{type:3,g:0}],i:{type:3,g:0},callFunction:function(t,r,s,i){return i.map(function(c){return le(Math.pow(Math.E,c.value),3)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"exp10",j:[{type:3,g:0}],i:{type:3,g:0},callFunction:function(t,r,s,i){return i.map(function(c){return le(Math.pow(10,c.value),3)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"log",j:[{type:3,g:0}],i:{type:3,g:0},callFunction:function(t,r,s,i){return i.map(function(c){return le(Math.log(c.value),3)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"log10",j:[{type:3,g:0}],i:{type:3,g:0},callFunction:function(t,r,s,i){return i.map(function(c){return le(Math.log10(c.value),3)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"pow",j:[{type:3,g:0},{type:2,g:3}],i:{type:3,g:0},callFunction:function(t,r,s,i,c){return c.M(function(g){var w=S(g).next().value;return i.map(function(k){return Math.abs(k.value)!==1||Number.isFinite(w.value)?le(Math.pow(k.value,w.value),3):le(1,3)})})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"sqrt",j:[{type:3,g:0}],i:{type:3,g:0},callFunction:function(t,r,s,i){return i.map(function(c){return le(Math.sqrt(c.value),3)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"sin",j:[{type:3,g:0}],i:{type:3,g:0},callFunction:function(t,r,s,i){return i.map(function(c){return le(Math.sin(c.value),3)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"cos",j:[{type:3,g:0}],i:{type:3,g:0},callFunction:function(t,r,s,i){return i.map(function(c){return le(Math.cos(c.value),3)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"tan",j:[{type:3,g:0}],i:{type:3,g:0},callFunction:function(t,r,s,i){return i.map(function(c){return le(Math.tan(c.value),3)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"asin",j:[{type:3,g:0}],i:{type:3,g:0},callFunction:function(t,r,s,i){return i.map(function(c){return le(Math.asin(c.value),3)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"acos",j:[{type:3,g:0}],i:{type:3,g:0},callFunction:function(t,r,s,i){return i.map(function(c){return le(Math.acos(c.value),3)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"atan",j:[{type:3,g:0}],i:{type:3,g:0},callFunction:function(t,r,s,i){return i.map(function(c){return le(Math.atan(c.value),3)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"atan2",j:[{type:3,g:0},{type:3,g:3}],i:{type:3,g:0},callFunction:function(t,r,s,i,c){return c.M(function(g){var w=S(g).next().value;return i.map(function(k){return le(Math.atan2(k.value,w.value),3)})})}}],Pi,Me,[{namespaceURI:"http://fontoxpath/operators",localName:"to",j:[{type:5,g:0},{type:5,g:0}],i:{type:5,g:2},callFunction:function(t,r,s,i,c){if(t=i.first(),c=c.first(),t===null||c===null)return q.empty();var g=t.value;return c=c.value,g>c?q.empty():q.create({next:function(){return Ce(le(g++,5))}},c-g+1)}}],[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"QName",j:[{type:1,g:0},{type:1,g:3}],i:{type:23,g:3},callFunction:function(t,r,s,i,c){return Rn([i,c],function(g){var w=S(g);if(g=w.next().value,!Ko(w=w.next().value.value,23))throw Error("FOCA0002: The provided QName is invalid.");if((g=g&&g.value||null)===null&&w.includes(":"))throw Error("FOCA0002: The URI of a QName may not be empty if a prefix is provided.");if(i.G())return q.m(le(new Ga("",null,w),23));if(!w.includes(":"))return q.m(le(new Ga("",g,w),23));var k=S(w.split(":"));return w=k.next().value,k=k.next().value,q.m(le(new Ga(w,g,k),23))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"prefix-from-QName",j:[{type:23,g:0}],i:{type:24,g:0},callFunction:function(t,r,s,i){return Rn([i],function(c){return(c=S(c).next().value)===null?q.empty():(c=c.value).prefix?q.m(le(c.prefix,24)):q.empty()})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"local-name-from-QName",j:[{type:23,g:0}],i:{type:24,g:0},callFunction:function(t,r,s,i){return i.map(function(c){return le(c.value.localName,24)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"namespace-uri-from-QName",j:[{type:23,g:0}],i:{type:20,g:0},callFunction:function(t,r,s,i){return i.map(function(c){return le(c.value.namespaceURI||"",20)})}}],[{j:[{type:59,g:2}],callFunction:function(t,r,s,i){return i.Z({empty:function(){return q.ba()},multiple:function(){return q.W()},m:function(){return q.W()}})},localName:"empty",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:0,g:3}},{j:[{type:59,g:2}],callFunction:function(t,r,s,i){return i.Z({empty:function(){return q.W()},multiple:function(){return q.ba()},m:function(){return q.ba()}})},localName:"exists",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:0,g:3}},{j:[{type:59,g:2}],callFunction:function(t,r,s,i){return Nh(i,1,1)},localName:"head",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:0}},{j:[{type:59,g:2}],callFunction:function(t,r,s,i){return Nh(i,2,null)},localName:"tail",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{j:[{type:59,g:2},{type:5,g:3},{type:59,g:2}],callFunction:function(t,r,s,i,c,g){return i.G()?g:g.G()?i:(t=i.O(),0>(c=c.first().value-1)?c=0:c>t.length&&(c=t.length),r=t.slice(c),q.create(t.slice(0,c).concat(g.O(),r)))},localName:"insert-before",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{j:[{type:59,g:2},{type:5,g:3}],callFunction:function(t,r,s,i,c){return t=c.first().value,!(i=i.O()).length||1>t||t>i.length||i.splice(t-1,1),q.create(i)},localName:"remove",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{j:[{type:59,g:2}],callFunction:function(t,r,s,i){return i.M(function(c){return q.create(c.reverse())})},localName:"reverse",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{j:[{type:59,g:2},{type:3,g:3}],callFunction:function(t,r,s,i,c){return Ny(t,r,s,i,c,q.empty())},localName:"subsequence",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{j:[{type:59,g:2},{type:3,g:3},{type:3,g:3}],callFunction:Ny,localName:"subsequence",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{j:[{type:59,g:2}],callFunction:function(t,r,s,i){return i},localName:"unordered",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{j:[{type:46,g:2}],callFunction:function(t,r,s,i){var c=Ra(i,r).O();return q.create(c).filter(function(g,w){return c.slice(0,w).every(function(k){return!jt(g,k)})})},localName:"distinct-values",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:2}},{j:[{type:46,g:2},{type:1,g:3}],callFunction:function(){throw Error("FOCH0002: No collations are supported")},localName:"distinct-values",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:2}},{j:[{type:46,g:2},{type:46,g:3}],callFunction:function(t,r,s,i,c){return c.M(function(g){var w=S(g).next().value;return Ra(i,r).map(function(k,C){return Dp("eqOp",k.type,w.type)(k,w,t)?le(C+1,5):le(-1,5)}).filter(function(k){return k.value!==-1})})},localName:"index-of",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:5,g:2}},{j:[{type:46,g:2},{type:46,g:3},{type:1,g:3}],callFunction:function(){throw Error("FOCH0002: No collations are supported")},localName:"index-of",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:5,g:2}},{j:[{type:59,g:2},{type:59,g:2}],callFunction:function(t,r,s,i,c){var g=!1,w=Pn(t,r,s,i,c);return q.create({next:function(){if(g)return ke;var k=w.next(0);return k.done?k:(g=!0,Ce(le(k.value,0)))}})},localName:"deep-equal",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:0,g:3}},{j:[{type:59,g:2},{type:59,g:2},{type:1,g:3}],callFunction:function(){throw Error("FOCH0002: No collations are supported")},localName:"deep-equal",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:0,g:3}},{j:[{type:59,g:2}],callFunction:function(t,r,s,i){var c=!1;return q.create({next:function(){if(c)return ke;var g=i.Qa();return c=!0,Ce(le(g,5))}})},localName:"count",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:5,g:3}},{j:[{type:46,g:2}],callFunction:function(t,r,s,i){if(i.G())return i;if(!(t=Cp(t=Dh(i.O()))))throw Error("FORG0006: Incompatible types to be converted to a common type");if(!t.every(function(c){return Z(c.type,2)}))throw Error("FORG0006: items passed to fn:avg are not all numeric.");return r=t.reduce(function(c,g){return c+g.value},0)/t.length,t.every(function(c){return Z(c.type,5)||Z(c.type,3)})?q.m(le(r,3)):t.every(function(c){return Z(c.type,4)})?q.m(le(r,4)):q.m(le(r,6))},localName:"avg",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:0}},{j:[{type:46,g:2}],callFunction:function(t,r,s,i){return i.G()?i:(t=Iy(i.O()),q.m(t.reduce(function(c,g){return c.value<g.value?g:c})))},localName:"max",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:0}},{j:[{type:46,g:2},{type:1,g:3}],callFunction:function(){throw Error("FOCH0002: No collations are supported")},localName:"max",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:0}},{j:[{type:46,g:2}],callFunction:function(t,r,s,i){return i.G()?i:(t=Iy(i.O()),q.m(t.reduce(function(c,g){return c.value>g.value?g:c})))},localName:"min",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:0}},{j:[{type:46,g:2},{type:1,g:3}],callFunction:function(){throw Error("FOCH0002: No collations are supported")},localName:"min",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:0}},{j:[{type:46,g:2}],callFunction:function(t,r,s,i){return Dy(t,r,s,i,q.m(le(0,5)))},localName:"sum",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:3}},{j:[{type:46,g:2},{type:46,g:0}],callFunction:Dy,localName:"sum",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:0}},{j:[{type:59,g:2}],callFunction:function(t,r,s,i){if(!i.G()&&!i.wa())throw Error("FORG0003: The argument passed to fn:zero-or-one contained more than one item.");return i},localName:"zero-or-one",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:0}},{j:[{type:59,g:2}],callFunction:function(t,r,s,i){if(i.G())throw Error("FORG0004: The argument passed to fn:one-or-more was empty.");return i},localName:"one-or-more",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:1}},{j:[{type:59,g:2}],callFunction:function(t,r,s,i){if(!i.wa())throw Error("FORG0005: The argument passed to fn:exactly-one is empty or contained more than one item.");return i},localName:"exactly-one",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:3}},{j:[{type:59,g:2},{type:60,g:3}],callFunction:function(t,r,s,i,c){if(i.G())return i;var g=c.first(),w=g.o;if(w.length!==1)throw Error("XPTY0004: signature of function passed to fn:filter is incompatible.");return i.filter(function(k){if(k=gn(w[0],q.m(k),r,"fn:filter",!1),!(k=g.value.call(void 0,t,r,s,k)).wa()||!Z(k.first().type,0))throw Error("XPTY0004: signature of function passed to fn:filter is incompatible.");return k.first().value})},localName:"filter",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{j:[{type:59,g:2},{type:60,g:3}],callFunction:function(t,r,s,i,c){if(i.G())return i;var g=c.first(),w=g.o;if(w.length!==1)throw Error("XPTY0004: signature of function passed to fn:for-each is incompatible.");var k,C=i.value;return q.create({next:function(W){for(;;){if(!k){var ne=C.next(0);if(ne.done)return ne;ne=gn(w[0],q.m(ne.value),r,"fn:for-each",!1),k=g.value.call(void 0,t,r,s,ne).value}if(!(ne=k.next(W)).done)return ne;k=null}}})},localName:"for-each",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{j:[{type:59,g:2},{type:59,g:2},{type:60,g:3}],callFunction:function(t,r,s,i,c,g){if(i.G())return i;var w=g.first(),k=w.o;if(k.length!==2)throw Error("XPTY0004: signature of function passed to fn:fold-left is incompatible.");return i.M(function(C){return C.reduce(function(W,ne){return W=gn(k[0],W,r,"fn:fold-left",!1),ne=gn(k[1],q.m(ne),r,"fn:fold-left",!1),w.value.call(void 0,t,r,s,W,ne)},c)})},localName:"fold-left",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{j:[{type:59,g:2},{type:59,g:2},{type:60,g:3}],callFunction:function(t,r,s,i,c,g){if(i.G())return i;var w=g.first(),k=w.o;if(k.length!==2)throw Error("XPTY0004: signature of function passed to fn:fold-right is incompatible.");return i.M(function(C){return C.reduceRight(function(W,ne){return W=gn(k[0],W,r,"fn:fold-right",!1),ne=gn(k[1],q.m(ne),r,"fn:fold-right",!1),w.value.call(void 0,t,r,s,ne,W)},c)})},localName:"fold-right",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{j:[{type:59,g:2}],callFunction:function(t,r,s,i){if(!r.v)throw Error("serialize() called but no xmlSerializer set in execution parameters.");if(!(t=i.O()).every(function(c){return Z(c.type,53)}))throw Error("Expected argument to fn:serialize to resolve to a sequence of Nodes.");return q.m(le(t.map(function(c){return r.v.serializeToString(Dr(c.value,r,!1))}).join(""),1))},localName:"serialize",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}}],tn,[{j:[{type:59,g:3},{type:61,g:3}],callFunction:function(t,r,s,i,c){var g,w;return q.create({next:function(){if(!g){var k=jS(i,c,s,r);g=k.sc,w=k.pc}try{return g.next(0)}catch(C){no(w.value,C)}}})},localName:"evaluate",namespaceURI:"http://fontoxml.com/fontoxpath",i:{type:59,g:2}},{j:[],callFunction:function(){return q.m(le(u,1))},localName:"version",namespaceURI:"http://fontoxml.com/fontoxpath",i:{type:1,g:3}}],[{j:[{type:23,g:3},{type:5,g:3}],callFunction:function(t,r,s,i,c){return Rn([i,c],function(g){var w=S(g);g=w.next().value,w=w.next().value;var k=s.xa(g.value.namespaceURI,g.value.localName,w.value);return k===null?q.empty():(g=new or({j:k.j,arity:w.value,localName:g.value.localName,namespaceURI:g.value.namespaceURI,i:k.i,value:k.callFunction}),q.m(g))})},localName:"function-lookup",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{g:0,type:60}},{j:[{type:60,g:3}],callFunction:function(t,r,s,i){return Rn([i],function(c){return(c=S(c).next().value).Sa()?q.empty():q.m(le(new Ga("",c.l,c.B),23))})},localName:"function-name",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:23,g:0}},{j:[{type:60,g:3}],callFunction:function(t,r,s,i){return Rn([i],function(c){return c=S(c).next().value,q.m(le(c.v,5))})},localName:"function-arity",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:5,g:3}}]);function Ch(t){this.h=t}(y=Ch.prototype).createAttributeNS=function(t,r){return this.h.createAttributeNS(t,r)},y.createCDATASection=function(t){return this.h.createCDATASection(t)},y.createComment=function(t){return this.h.createComment(t)},y.createDocument=function(){return this.h.createDocument()},y.createElementNS=function(t,r){return this.h.createElementNS(t,r)},y.createProcessingInstruction=function(t,r){return this.h.createProcessingInstruction(t,r)},y.createTextNode=function(t){return this.h.createTextNode(t)};var Oh=Symbol("IS_XPATH_VALUE_SYMBOL");function NS(t){return function(r,s){return r=gr(new Sr(s===null?new Za:s),r,Ht(t)),(s={})[Oh]=!0,s.Hb=r,s}}function Cy(t){return t&&typeof t=="object"&&"lookupNamespaceURI"in t?function(r){return t.lookupNamespaceURI(r||null)}:function(){return null}}function Bh(t){return function(r){var s=r.localName;return r.prefix?null:{namespaceURI:t,localName:s}}}function Rh(t,r,s,i,c,g){if(i==null&&(i=i||{}),c)var w=c.logger||{trace:console.log.bind(console)},k=c.documentWriter,C=c.moduleImports,W=c.namespaceResolver,ne=c.functionNameResolver,_e=c.nodesFactory,ze=c.xmlSerializer;else w={trace:console.log.bind(console)},C={},ze=k=_e=W=null,ne=void 0;var Ke=new Sr(s===null?new Za:s);s=C||Object.create(null),C=c.defaultFunctionNamespaceURI===void 0?"http://www.w3.org/2005/xpath-functions":c.defaultFunctionNamespaceURI;var ut=Ay(t,g,W||Cy(r),i,s,C,ne||Bh(C));for(t=r?sr(Ke,r):q.empty(),r=!_e&&g.$?new ac(r):new Ch(_e),k=k?new zn(k):Ur,_e=Object.keys(i).reduce(function(hn,sa){var fr=i[sa];return hn["Q{}"+sa+"[0]"]=fr&&typeof fr=="object"&&Oh in fr?function(){return q.create(fr.Hb)}:function(){return sr(Ke,i[sa])},hn},Object.create(null)),W={},s=(ne=S(Object.keys(ut.ia.Ia))).next();!s.done;W={Za:W.Za},s=ne.next())W.Za=s.value,_e[W.Za]||(_e[W.Za]=function(hn){return function(){return(0,ut.ia.Ia[hn.Za])(ft,Ct)}}(W));var ft=new Bo({N:t.first(),Ka:0,Da:t,Aa:_e}),Ct=new Ni(g.debug,g.La,Ke,r,k,c.currentContext,new Map,w,ze);return{Bb:ft,Cb:Ct,ca:ut.ca}}function Fh(t,r){var s={},i=0,c=!1,g=null;return{next:function(){if(c)return ke;for(var w={};i<t.h.length;){e:{var k=t.h[i].key.value;if(!g){w.pb=t.h[i];var C=w.pb.value().Z({default:function(W){return W},multiple:function(W){return function(){throw Error("Serialization error: The value of an entry in a map is expected to be a single item or an empty sequence. Use arrays when putting multiple values in a map. The value of the key "+W.pb.key.value+" holds multiple items")}}(w)}).first();if(C===null){s[k]=null,i++;break e}g=Al(C,r)}C=g.next(0),g=null,s[k]=C.value,i++}w={pb:w.pb}}return c=!0,Ce(s)}}}function Mh(t,r){var s=[],i=0,c=!1,g=null;return{next:function(){if(c)return ke;for(;i<t.P.length;){if(!g){var w=t.P[i]().Z({default:function(k){return k},multiple:function(){throw Error("Serialization error: The value of an entry in an array is expected to be a single item or an empty sequence. Use nested arrays when putting multiple values in an array.")}}).first();if(w===null){s[i++]=null;continue}g=Al(w,r)}w=g.next(0),g=null,s[i++]=w.value}return c=!0,Ce(s)}}}function Al(t,r){if(Z(t.type,61))return Fh(t,r);if(Z(t.type,62))return Mh(t,r);if(Z(t.type,23)){var s=t.value;return{next:function(){return Ce("Q{"+(s.namespaceURI||"")+"}"+s.localName)}}}switch(t.type){case 7:case 8:case 9:case 11:case 12:case 13:case 14:case 15:var i=t.value;return{next:function(){return Ce($r(i))}};case 47:case 53:case 54:case 55:case 56:case 57:case 58:var c=t.value;return{next:function(){return Ce(Dr(c,r,!1))}};default:return{next:function(){return Ce(t.value)}}}}IS.forEach(function(t){m(t.namespaceURI,t.localName,t.j,t.i,t.callFunction)});var ar={ANY:0,NUMBER:1,STRING:2,BOOLEAN:3,NODES:7,FIRST_NODE:9,STRINGS:10,MAP:11,ARRAY:12,NUMBERS:13,ALL_RESULTS:14,ASYNC_ITERATOR:99};function Oy(t,r,s,i){switch(s){case 3:return r.ha();case 2:return(r=Ra(r,i).O()).length?r.map(function(C){return Ee(C,1).value}).join(" "):"";case 10:return(r=Ra(r,i).O()).length?r.map(function(C){return C.value+""}):[];case 1:return(r=r.first())!==null&&Z(r.type,2)?r.value:NaN;case 9:if((r=r.first())===null)return null;if(!Z(r.type,53))throw Error("Expected XPath "+Lo(t)+" to resolve to Node. Got "+je[r.type]);return Dr(r.value,i,!1);case 7:if(!(r=r.O()).every(function(C){return Z(C.type,53)}))throw Error("Expected XPath "+Lo(t)+" to resolve to a sequence of Nodes.");return r.map(function(C){return Dr(C.value,i,!1)});case 11:if((r=r.O()).length!==1)throw Error("Expected XPath "+Lo(t)+" to resolve to a single map.");if(!Z((r=r[0]).type,61))throw Error("Expected XPath "+Lo(t)+" to resolve to a map");return Fh(r,i).next(0).value;case 12:if((r=r.O()).length!==1)throw Error("Expected XPath "+Lo(t)+" to resolve to a single array.");if(!Z((r=r[0]).type,62))throw Error("Expected XPath "+Lo(t)+" to resolve to an array");return Mh(r,i).next(0).value;case 13:return r.O().map(function(C){if(!Z(C.type,2))throw Error("Expected XPath "+Lo(t)+" to resolve to numbers");return C.value});case 99:var c=r.value,g=null,w=!1,k=function(){for(;!w;){if(!g){var C=c.next(0);if(C.done){w=!0;break}g=Al(C.value,i)}return C=g.next(0),g=null,C}return Promise.resolve({done:!0,value:null})};return"asyncIterator"in Symbol?((r={})[Symbol.asyncIterator]=function(){return this},r.next=function(){return new Promise(function(C){return C(k())}).catch(function(C){no(t,C)})}):r={next:function(){return new Promise(function(C){return C(k())})}},r;case 14:return r.O().map(function(C){return Al(C,i).next(0).value});default:return(r=r.O()).every(function(C){return Z(C.type,53)&&!Z(C.type,47)})?(r=r.map(function(C){return Dr(C.value,i,!1)})).length===1?r[0]:r:r.length===1?Z((r=r[0]).type,62)?Mh(r,i).next(0).value:Z(r.type,61)?Fh(r,i).next(0).value:Ba(r,i).first().value:Ra(q.create(r),i).O().map(function(C){return C.value})}}ar[ar.ANY]="ANY",ar[ar.NUMBER]="NUMBER",ar[ar.STRING]="STRING",ar[ar.BOOLEAN]="BOOLEAN",ar[ar.NODES]="NODES",ar[ar.FIRST_NODE]="FIRST_NODE",ar[ar.STRINGS]="STRINGS",ar[ar.MAP]="MAP",ar[ar.ARRAY]="ARRAY",ar[ar.NUMBERS]="NUMBERS",ar[ar.ALL_RESULTS]="ALL_RESULTS",ar[ar.ASYNC_ITERATOR]="ASYNC_ITERATOR";var id=!1,qi=null,DS={getPerformanceSummary:function(){var t=qi.getEntriesByType("measure").filter(function(r){return r.name.startsWith("XPath: ")});return Array.from(t.reduce(function(r,s){var i=s.name.substring(7);return r.has(i)?((i=r.get(i)).times+=1,i.totalDuration+=s.duration):r.set(i,{xpath:i,times:1,totalDuration:s.duration,average:0}),r},new Map).values()).map(function(r){return r.average=r.totalDuration/r.times,r}).sort(function(r,s){return s.totalDuration-r.totalDuration})},setPerformanceImplementation:function(t){qi=t},startProfiling:function(){if(qi===null)throw Error("Performance API object must be set using `profiler.setPerformanceImplementation` before starting to profile");qi.clearMarks(),qi.clearMeasures(),id=!0},stopProfiling:function(){id=!1}},kc=0,CS={XPATH_3_1_LANGUAGE:"XPath3.1",XQUERY_3_1_LANGUAGE:"XQuery3.1",XQUERY_UPDATE_3_1_LANGUAGE:"XQueryUpdate3.1"};function rr(t,r,s,i,c,g){if(c=c||0,!t||typeof t!="string"&&!("nodeType"in t))throw new TypeError("Failed to execute 'evaluateXPath': xpathExpression must be a string or an element depicting an XQueryX DOM tree.");g=g||{};try{var w=Rh(t,r,s||null,i||{},g,{ua:g.language==="XQueryUpdate3.1",$:g.language==="XQuery3.1"||g.language==="XQueryUpdate3.1",debug:!!g.debug,La:!!g.disableCache}),k=w.Bb,C=w.Cb,W=w.ca}catch(_e){no(t,_e)}if(W.I)throw Error("XUST0001: Updating expressions should be evaluated as updating expressions");if(c===3&&r&&typeof r=="object"&&"nodeType"in r&&(s=W.B(),r=dr(r),s!==null&&!r.includes(s)))return!1;try{r=t,id&&(typeof r!="string"&&(r=Lo(r)),qi.mark(r+(kc===0?"":"@"+kc)),kc++);var ne=Oy(t,bn(W,k,C),c,C);return c=t,id&&(typeof c!="string"&&(c=Lo(c)),k=c+(--kc==0?"":"@"+kc),qi.measure("XPath: "+c,k),qi.clearMarks(k)),ne}catch(_e){no(t,_e)}}Object.assign(rr,{tc:14,ANY_TYPE:0,Tb:12,Ub:99,BOOLEAN_TYPE:3,Wb:9,Zb:11,ac:7,bc:13,NUMBER_TYPE:1,cc:10,STRING_TYPE:2,uc:"XPath3.1",vc:"XQuery3.1",fc:"XQueryUpdate3.1"});var ao={};function By(t,r,s,i,c){return rr(t,r,s,i,rr.Ub,c)}function Ry(t,r,s,i){var c={};return c.pendingUpdateList=t.fa.map(function(g){return g.h(i)}),c.xdmValue=Oy(r,q.create(t.J),s,i),c}function OS(t,r,s,i,c){var g,w,k,C,W,ne,_e,ze,Ke,ut;return ae(new ee(new M(function(ft){switch(ft.h){case 1:c=c||{},bc();try{C=Rh(t,r,s||null,i||{},c||{},{ua:!0,$:!0,debug:!!c.debug,La:!!c.disableCache}),g=C.Bb,w=C.Cb,k=C.ca}catch(hn){no(t,hn)}if(k.I){ft.h=2;break}W=[];var Ct=(ne=By(t,r,s,i,Object.assign(Object.assign({},c),{language:"XQueryUpdate3.1"}))).next();return ft.h=3,{value:Ct};case 3:_e=ft.l;case 4:if(_e.done){ft.h=6;break}return W.push(_e.value),Ct=ne.next(),ft.h=7,{value:Ct};case 7:_e=ft.l,ft.h=4;break;case 6:return ze={},ft.return(Promise.resolve((ze.pendingUpdateList=[],ze.xdmValue=W,ze)));case 2:try{ut=k.s(g,w),Ke=ut.next(0)}catch(hn){no(t,hn)}return ft.return(Ry(Ke.value,t,c.returnType,w))}})))}function BS(t,r,s,i,c){c=c||{},bc();try{var g=Rh(t,r,s||null,i||{},c||{},{ua:!0,$:!0,debug:!!c.debug,La:!!c.disableCache}),w=g.Bb,k=g.Cb,C=g.ca}catch(ne){no(t,ne)}if(!C.I)return w={},(k={}).pendingUpdateList=[],k.xdmValue=rr(t,r,s,i,c.i,Object.assign(Object.assign({},c),(w.language=rr.fc,w))),k;try{var W=C.s(w,k).next(0)}catch(ne){no(t,ne)}return Ry(W.value,t,c.returnType,k)}function RS(t,r,s,i,c){return rr(t,r,s,i,rr.Tb,c)}function FS(t,r,s,i,c){return rr(t,r,s,i,rr.BOOLEAN_TYPE,c)}function MS(t,r,s,i,c){return rr(t,r,s,i,rr.Wb,c)}function PS(t,r,s,i,c){return rr(t,r,s,i,rr.Zb,c)}function LS(t,r,s,i,c){return rr(t,r,s,i,rr.ac,c)}function US(t,r,s,i,c){return rr(t,r,s,i,rr.NUMBER_TYPE,c)}function zS(t,r,s,i,c){return rr(t,r,s,i,rr.bc,c)}function $S(t,r,s,i,c){return rr(t,r,s,i,rr.STRING_TYPE,c)}function GS(t,r,s,i,c){return rr(t,r,s,i,rr.cc,c)}function VS(t,r,s,i){r=new Sr(r||new Za),i=i?new zn(i):Ur,s=s?s=new Ch(s):null,ep(t=t.map(kg),r,s,i)}function Cn(t,r,s){return{code:t,va:r,H:s,isAstAccepted:!0}}function ua(t){return{isAstAccepted:!1,reason:t}}function fn(t,r){return t.isAstAccepted?r(t):t}function Ph(t,r){return t.isAstAccepted?r(t):[t,null]}function di(t,r,s){return fn(t,function(i){switch(i.va.type){case 0:return i;case 1:return fn(bo(s,i,"nodes"),function(c){return fn(bo(s,r,"contextItem"),function(g){return Cn(`(function () {
							const { done, value } = `+c.code+"("+g.code+`).next();
							return done ? null : value;
						})()`,{type:0},[].concat(D(c.H),D(g.H)))})});default:throw Error("invalid generated code type to convert to value: "+i.va.type)}})}function fu(t,r,s,i){return t=di(t,s,i),r&&r.type===0&&r.g===3?t:fn(t,function(c){return Cn("!!"+c.code,{type:0},c.H)})}function Ec(t,r,s){return r?t.isAstAccepted&&t.va.type!==0?ua("Atomization only implemented for single value"):Z(r.type,1)?t:Z(r.type,47)?fn(bo(s,t,"attr"),function(i){return Cn("("+i.code+" ? domFacade.getData("+i.code+") : null)",{type:0},i.H)}):ua("Atomization only implemented for string and attribute"):ua("Can not atomize value if type was not annotated")}function Fy(t,r,s,i){return i=Ec(t=di(t,s,i),r,i),Fo(r)?fn(i,function(c){return Cn(c.code+" ?? ''",{type:0},c.H)}):i}function Lh(t,r,s){return fn(bo(s,t,"node"),function(i){return i.va.type===1?i:r&&!Z(r.type,53)?ua("Can not evaluate to node if expression does not result in nodes"):Cn(`(function () {
				if (`+i.code+" !== null && !"+i.code+`.nodeType) {
					throw new Error('XPDY0050: The result of the expression was not a node');
				}
				return `+i.code+`;
			})()`,{type:0},i.H)})}function HS(t,r,s,i){return fn(t,function(c){switch(c.va.type){case 1:return fn(bo(i,c,"nodes"),function(g){return fn(bo(i,s,"contextItem"),function(w){return Cn("Array.from("+g.code+"("+w.code+"))",{type:0},[].concat(D(g.H),D(w.H)))})});case 0:return fn(bo(i,Lh(c,r,i),"node"),function(g){return Cn("("+g.code+" === null ? [] : ["+g.code+"])",{type:0},g.H)});default:return ua("Unsupported code type to evaluate to nodes")}})}function hu(t,r){return fn(t,function(s){return fn(r,function(i){if(s.va.type!==0||i.va.type!==0)throw Error("can only use emitAnd with value expressions");return Cn(s.code+" && "+i.code,{type:0},[].concat(D(s.H),D(i.H)))})})}function mu(t,r,s,i){return(t=ht(t,[r,"*"]))?i.h(t,s,i):[ua(r+" expression not found"),null]}Object.assign(rr,(ao.ALL_RESULTS_TYPE=14,ao.ANY_TYPE=0,ao.ARRAY_TYPE=12,ao.ASYNC_ITERATOR_TYPE=99,ao.BOOLEAN_TYPE=3,ao.FIRST_NODE_TYPE=9,ao.MAP_TYPE=11,ao.NODES_TYPE=7,ao.NUMBERS_TYPE=13,ao.NUMBER_TYPE=1,ao.STRINGS_TYPE=10,ao.STRING_TYPE=2,ao.XPATH_3_1_LANGUAGE="XPath3.1",ao.XQUERY_3_1_LANGUAGE="XQuery3.1",ao.XQUERY_UPDATE_3_1_LANGUAGE="XQueryUpdate3.1",ao));var Sl={},Uh=(Sl.equalOp="eqOp",Sl.notEqualOp="neOp",Sl.lessThanOrEqualOp="leOp",Sl.lessThanOp="ltOp",Sl.greaterThanOrEqualOp="geOp",Sl.greaterThanOp="gtOp",Sl),Tl={},WS=(Tl.eqOp="eqOp",Tl.neOp="neOp",Tl.leOp="geOp",Tl.ltOp="gtOp",Tl.geOp="leOp",Tl.gtOp="ltOp",Tl);function My(t,r,s,i){var c=bt(ht(t,["firstOperand","*"]),"type"),g=bt(ht(t,["secondOperand","*"]),"type");if(!c||!g)return ua("Can not generate code for value compare without both types");var w=[47,1];if(!w.includes(c.type)||!w.includes(g.type))return ua("Unsupported types in compare: ["+je[c.type]+", "+je[g.type]+"]");if(!(w=new Map([["eqOp","==="],["neOp","!=="]])).has(r))return ua(r+" not yet implemented");var k=w.get(r);return w=(r=S(mu(t,"firstOperand",s,i))).next().value,r.next(),r=Ec(r=di(w,s,i),c,i),fn(bo(i,r,"first"),function(C){var W=S(mu(t,"secondOperand",s,i)),ne=W.next().value;return W.next(),W=Ec(W=di(ne,s,i),g,i),fn(bo(i,W,"second"),function(_e){var ze=[];return Fo(c)&&ze.push(C.code+" === null"),Fo(g)&&ze.push(_e.code+" === null"),Cn("("+(ze.length?ze.join(" || ")+" ? null : ":"")+C.code+" "+k+" "+_e.code+")",{type:0},[].concat(D(C.H),D(_e.H)))})})}function Py(t,r,s,i,c,g){var w=bt(ht(t,[r,"*"]),"type"),k=bt(ht(t,[s,"*"]),"type");if(!w||!k)return ua("Can not generate code for general compare without both types");var C=[47,1];if(!C.includes(w.type)||!C.includes(k.type))return ua("Unsupported types in compare: ["+je[w.type]+", "+je[k.type]+"]");if(!(C=new Map([["eqOp","==="],["neOp","!=="]])).has(i))return ua(i+" not yet implemented");var W=C.get(i);return i=(r=S(mu(t,r,c,g))).next().value,r.next(),w=Ec(r=di(i,c,g),w,g),fn(bo(g,w,"single"),function(ne){var _e=S(mu(t,s,c,g)),ze=_e.next().value;return _e.next(),fn(bo(g,ze,"multiple"),function(Ke){if(Ke.va.type!==1)return ua("can only generate general compare for a single value and a generator");var ut=ld(g,ud(g,"n")),ft=Ec(ut,k,g);return fn(c,function(Ct){return fn(ft,function(hn){return Cn(`(function () {
									for (const `+ut.code+" of "+Ke.code+"("+Ct.code+`)) {
										`+hn.H.join(`
`)+`
										if (`+hn.code+" "+W+" "+ne.code+`) {
											return true;
										}
									}
									return false;
								})()`,{type:0},[].concat(D(ne.H),D(ut.H),D(Ct.H),D(Ke.H)))})})})})}function gu(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}var KS={"false#0":eT,"local-name#0":$y,"local-name#1":$y,"name#0":zy,"name#1":zy,"not#1":QS,"true#0":tT},zh={},XS=(zh["http://fontoxml.com/fontoxpath"]=["version#0"],zh[""]=["root#1","path#1"],zh);function YS(t,r,s,i){var c=S(i.h(t,s,i)),g=c.next().value;if(c.next(),t=bt(t,"type"),!r||r.g===2||r.g===1)return ua("Not supported: sequence arguments with multiple items");if(Z(r.type,53))return Lh(r=di(g,s,i),t,i);switch(r.type){case 59:return di(g,s,i);case 0:return fu(g,t,s,i);case 1:return Fy(g,t,s,i)}return ua("Argument types not supported: "+(t?je[t.type]:"unknown")+" -> "+je[r.type])}function Ly(t,r,s,i){if(t.length!==r.length||r.some(function(k){return k===4}))return ua("Not supported: variadic function or mismatch in argument count");if(t.length===0)return Cn("",{type:0},[]);var c=S(t);t=c.next().value;var g=G(c);c=(r=S(r)).next().value;var w=G(r);return t=bo(i,YS(t,c,s,i),"arg"),g.length===0?t:fn(t,function(k){return fn(Ly(g,w,s,i),function(C){return Cn(k.code+", "+C.code,{type:0},[].concat(D(k.H),D(C.H)))})})}function qS(t,r){return fn(t,function(s){return r&&r.g!==2&&r.g!==1&&([0,1].includes(r.type)||Z(r.type,53))?s:ua("Function return type "+je[r.type]+" not supported")})}function ZS(t,r,s){var i=Ea(we(t,"functionName")),c=i.localName,g=i.namespaceURI,w=(i=rn(we(t,"arguments"),"*")).length,k=c+"#"+w,C=g===s.B;if(C){var W=KS[k];if(W!==void 0)return W(t,r,s)}return(t=XS[C?"":g])&&!t.includes(k)?ua("Not supported: built-in function not on allow list: "+k):(t=pc(g,c,w))?t.I?ua("Not supported: updating functions"):qS(r=fn(r=Ly(i,t.j,r,s),function(ne){return Cn("runtimeLib.callFunction(domFacade, "+gu(g)+", "+gu(c)+", ["+ne.code+"], options)",{type:0},ne.H)}),t.i):ua("Unknown function / arity: "+k)}function JS(t,r){return fn(bo(r,t,"contextItem"),function(s){return Cn(s.code,{type:0},[].concat(D(s.H),["if ("+s.code+" === undefined || "+s.code+` === null) {
					throw errXPDY0002('The function which was called depends on dynamic context, which is absent.');
				}`]))})}function Uy(t,r,s,i){if((t=ht(t,["arguments","*"]))&&t[0]!=="contextItemExpr"){var c=bt(t,"type");if(!c||!Z(c.type,53))return ua("name function only implemented if arg is a node");c=(t=S(s.h(t,r,s))).next().value,t.next(),t=c}else t=JS(r,s);return fn(bo(s,r=di(t,r,s),"arg"),function(g){return Cn("("+g.code+" ? "+i(g.code)+" : '')",{type:0},g.H)})}function zy(t,r,s){return Uy(t,r,s,function(i){return"((("+i+".prefix || '').length !== 0 ? "+i+`.prefix + ':' : '')
		+ (`+i+".localName || "+i+".target || ''))"})}function $y(t,r,s){return Uy(t,r,s,function(i){return"("+i+".localName || "+i+".target || '')"})}function QS(t,r,s){var i=ht(t,["arguments","*"]);t=bt(i,"type");var c=(i=S(s.h(i,r,s))).next().value;return i.next(),fn(r=fu(c,t,r,s),function(g){return Cn("!"+g.code,{type:0},g.H)})}function eT(){return Cn("false",{type:0},[])}function tT(){return Cn("true",{type:0},[])}function Gy(t,r,s,i){var c=S(mu(t,"firstOperand",s,i)),g=c.next().value;c=c.next().value;var w=bt(ht(t,["firstOperand","*"]),"type");g=fu(g,w,s,i);var k=(w=S(mu(t,"secondOperand",s,i))).next().value;return w=w.next().value,[g=fn(g,function(C){var W=bt(ht(t,["secondOperand","*"]),"type");return fn(W=fu(k,W,s,i),function(ne){return Cn("("+C.code+" "+r+" "+ne.code+")",{type:0},[].concat(D(C.H),D(ne.H)))})}),c=r==="&&"?Uo(c,w):c===w?c:null]}function Vy(t,r,s){return fn(t,function(i){return fn(r,function(c){return fn(s,function(g){return Cn("for ("+i.code+`) {
						`+c.H.join(`
`)+`
						if (!(`+c.code+`)) {
							continue;
						}
						`+g.H.join(`
`)+`
						`+g.code+`
					}`,{type:2},i.H)})})})}function nT(t,r,s,i,c){var g=r?', "'+r+'"':"";return Vy(r=fn(i,function(w){return fn(c,function(k){return Cn("let "+w.code+" = domFacade.getFirstChild("+k.code+g+`);
							`+w.code+`;
							`+w.code+" = domFacade.getNextSibling("+w.code+g+")",{type:2},[].concat(D(w.H),D(k.H)))})}),t,s)}function aT(t,r,s,i,c){var g=Uo(r,"type-2"),w=fn(c,function(k){return Cn("("+k.code+" && "+k.code+".nodeType === /*ELEMENT_NODE*/ 1 ? domFacade.getAllAttributes("+k.code+(g?', "'+g+'"':"")+") : [])",{type:0},k.H)});return Vy(r=fn(i,function(k){return fn(w,function(C){return Cn("const "+k.code+" of "+C.code,{type:2},[].concat(D(k.H),D(C.H)))})}),t,s)}function rT(t,r,s,i,c){var g=r?', "'+r+'"':"";return Hy(i,r=fn(c,function(w){return Cn("domFacade.getParentNode("+w.code+g+")",{type:0},w.H)}),t,s)}function Hy(t,r,s,i){var c=hu(t,s);return fn(t,function(g){return fn(r,function(w){return fn(c,function(k){return fn(i,function(C){return Cn("const "+g.code+" = "+w.code+`;
						`+k.H.join(`
`)+`
						if (`+k.code+`) {
							`+C.H.join(`
`)+`
							`+C.code+`
						}`,{type:2},[].concat(D(g.H),D(w.H)))})})})})}function oT(t,r,s,i,c,g){switch(t=Lt(t)){case"attribute":return[aT(r,s,i,c,g),"type-1"];case"child":return[nT(r,s,i,c,g),null];case"parent":return[rT(r,s,i,c,g),null];case"self":return[Hy(c,g,r,i),s];default:return[ua("Unsupported: the "+t+" axis"),null]}}var yu={dc:"textTest",Vb:"elementTest",$b:"nameTest",ec:"Wildcard",Sb:"anyKindTest"},Wy=Object.values(yu);function sT(t){return[fn(t,function(r){return Cn(r.code+".nodeType === /*TEXT_NODE*/ 3",{type:0},[])}),"type-3"]}function iT(t,r){if(t.namespaceURI===null&&t.prefix!=="*"){if(!(r=r.aa(t.prefix||"")||null)&&t.prefix)throw Error("XPST0081: The prefix "+t.prefix+" could not be resolved.");t.namespaceURI=r}}function bu(t,r,s,i){iT(t,i);var c=t.prefix,g=t.namespaceURI,w=t.localName;return Ph(s,function(k){var C=Cn(r?k.code+`.nodeType
						&& (`+k.code+`.nodeType === /*ELEMENT_NODE*/ 1
						|| `+k.code+".nodeType === /*ATTRIBUTE_NODE*/ 2)":k.code+`.nodeType
						&& `+k.code+".nodeType === /*ELEMENT_NODE*/ 1",{type:0},[]);if(c==="*")return w==="*"?[C,r?"type-1-or-type-2":"type-1"]:[hu(C,Cn(k.code+".localName === "+gu(w),{type:0},[])),"name-"+w];C=w==="*"?C:hu(C,Cn(k.code+".localName === "+gu(w),{type:0},[]));var W=Cn(gu(g),{type:0},[]);return W=c===""&&r?fn(W,function(ne){return Cn(k.code+".nodeType === /*ELEMENT_NODE*/ 1 ? "+ne.code+" : null",{type:0},ne.H)}):W,[hu(C,W=fn(W,function(ne){return Cn("("+k.code+".namespaceURI || null) === (("+ne.code+") || null)",{type:0},ne.H)})),"name-"+w]})}function lT(t,r,s){var i=(t=we(t,"elementName"))&&we(t,"star");return t===null||i?[fn(r,function(c){return Cn(c.code+".nodeType === /*ELEMENT_NODE*/ 1",{type:0},[])}),"type-1"]:bu(t=Ea(we(t,"QName")),!1,r,s)}function uT(t){return[fn(t,function(r){return Cn("!!"+r.code+".nodeType",{type:0},[])}),null]}function Ky(t,r,s,i){var c=t[0];switch(c){case yu.Vb:return lT(t,s,i);case yu.dc:return sT(s);case yu.$b:return bu(Ea(t),r,s,i);case yu.ec:return we(t,"star")?(c=we(t,"uri"))!==null?t=bu({localName:"*",namespaceURI:Lt(c),prefix:""},r,s,i):(c=we(t,"NCName"),t=we(t,"*")[0]==="star"?bu({localName:Lt(c),namespaceURI:null,prefix:"*"},r,s,i):bu({localName:"*",namespaceURI:null,prefix:Lt(c)},r,s,i)):t=bu({localName:"*",namespaceURI:null,prefix:"*"},r,s,i),t;case yu.Sb:return uT(s);default:return[ua("Test not implemented: '"+c),null]}}function Xy(t,r,s){var i=S(s.h(t,r,s)),c=i.next().value;return i=i.next().value,[fu(c,bt(t,"type"),r,s),i]}function Yy(t,r,s){var i=S((t=t?rn(t,"*"):[]).reduce(function(c,g){var w=(c=S(c)).next().value,k=c.next().value;if(!w)return Xy(g,r,s);var C=k;return Ph(w,function(W){var ne=S(Xy(g,r,s)),_e=ne.next().value;return ne=ne.next().value,C=Uo(k,ne),[fn(_e,function(ze){return Cn(W.code+" && "+ze.code,{type:0},[].concat(D(W.H),D(ze.H)))}),C]})},[null,null]));return t=i.next().value,i=i.next().value,[t?fn(t,function(c){return Cn(`(function () {
							`+c.H.join(`
`)+`
							return `+c.code+`;
						})()`,{type:0},[])}):null,i]}function $h(t,r,s,i){if(t.length===0)return[fn(s,function(ne){return Cn("yield "+ne.code+";",{type:2},ne.H)}),null];var c=(t=S(t)).next().value,g=G(t);if(0<rn(c,"lookup").length)return[ua("Unsupported: lookups"),null];var w=ld(i,ud(i,"contextItem")),k=(t=S(Yy(t=we(c,"predicates"),w,i))).next().value,C=t.next().value;if(t=we(c,"xpathAxis")){if(!(c=we(c,Wy)))return[ua("Unsupported test in step"),null];var W=Lt(t);return c=(W=S(Ky(c,r=W==="attribute"||W==="self"&&r,w,i))).next().value,W=W.next().value,c=k===null?c:hu(c,k),C=Uo(W,C),W=(r=S($h(g,r,w,i))).next().value,r.next(),oT(t,c,C,W,w,s)}return(t=ht(c,["filterExpr","*"]))?(t=(C=S(i.h(t,s,i))).next().value,C=C.next().value,[fn(t,function(ne){var _e=g.length===0?Cn("",{type:2},[]):Cn("if ("+w.code+" !== null && !"+w.code+`.nodeType) {
									throw new Error('XPTY0019: The result of E1 in a path expression E1/E2 should evaluate to a sequence of nodes.');
								}`,{type:2},[]),ze=S($h(g,!0,w,i)),Ke=ze.next().value;return ze.next(),ze=k===null?Ke:fn(k,function(ut){return fn(Ke,function(ft){return Cn("if ("+ut.code+`) {
									`+ft.H.join(`
`)+`
									`+ft.code+`
								}`,{type:2},ut.H)})}),fn(ze,function(ut){switch(ne.va.type){case 1:return fn(s,function(ft){return Cn("for (const "+w.code+" of "+ne.code+"("+ft.code+`)) {
									`+ut.H.join(`
`)+`
									`+ut.code+`
								}`,{type:2},[].concat(D(w.H),D(ne.H),D(_e.H)))});case 0:return Cn("const "+w.code+" = "+ne.code+`;
							`+_e.code+`
							if (`+w.code+` !== null) {
								`+ut.H.join(`
`)+`
								`+ut.code+`
							}`,{type:2},[].concat(D(w.H),D(ne.H),D(_e.H)));default:return ua("Unsupported generated code type for filterExpr")}})}),C]):[ua("Unsupported: unknown step type"),null]}function cT(t){return fn(t,function(r){return Cn(`(function () {
				let n = `+r.code+`;
				while (n.nodeType !== /*DOCUMENT_NODE*/9) {
					n = domFacade.getParentNode(n);
					if (n === null) {
						throw new Error('XPDY0050: the root node of the context node is not a document node.');
					}
				}
				return n;
			})()`,{type:0},r.H)})}function pT(t,r,s){return Ph(r,function(i){if(0<rn(t,"lookup").length)return[ua("Unsupported: lookups"),null];var c=we(t,"predicates"),g=S(Yy(c,i,s));c=g.next().value,g=g.next().value;var w=we(t,Wy);if(!w)return[ua("Unsupported test in step"),null];var k=S(Ky(w,!0,i,s));return w=k.next().value,k=k.next().value,c=c===null?w:hu(w,c),g=Uo(k,g),[fn(c,function(C){return Cn("(("+C.code+") ? "+i.code+" : null)",{type:0},[].concat(D(i.H),D(C.H)))}),g]})}function dT(t,r,s){var i=rn(t,"stepExpr");if(i.length===1){var c=we(i[0],"xpathAxis");if(c&&Lt(c)==="self")return pT(i[0],r,s)}var g=ld(s,ud(s,"contextItem"));return r=(t=we(t,"rootExpr"))?bo(s,cT(g),"root"):g,s=(i=S($h(i,!t,r,s))).next().value,i=i.next().value,[fn(s,function(w){return Cn("(function* ("+g.code+`) {
			`+w.H.join(`
`)+`
			`+w.code+`
		})`,{type:1},[])}),i]}function fT(t,r,s){var i=t[0];switch(i){case"contextItemExpr":return[r,null];case"pathExpr":return dT(t,r,s);case"andOp":return Gy(t,"&&",r,s);case"orOp":return Gy(t,"||",r,s);case"stringConstantExpr":return[Cn(t=gu(t=we(t,"value")[1]||""),{type:0},[]),null];case"equalOp":case"notEqualOp":case"lessThanOrEqualOp":case"lessThanOp":case"greaterThanOrEqualOp":case"greaterThanOp":case"eqOp":case"neOp":case"ltOp":case"leOp":case"gtOp":case"geOp":case"isOp":case"nodeBeforeOp":case"nodeAfterOp":e:switch(i){case"eqOp":case"neOp":case"ltOp":case"leOp":case"gtOp":case"geOp":case"isOp":t=My(t,i,r,s);break e;case"equalOp":case"notEqualOp":case"lessThanOrEqualOp":case"lessThanOp":case"greaterThanOrEqualOp":case"greaterThanOp":var c=bt(ht(t,["firstOperand","*"]),"type"),g=bt(ht(t,["secondOperand","*"]),"type");t=c&&g?c.g===3&&g.g===3?My(t,Uh[i],r,s):c.g===3?Py(t,"firstOperand","secondOperand",Uh[i],r,s):g.g===3?Py(t,"secondOperand","firstOperand",WS[Uh[i]],r,s):ua("General comparison for sequences is not implemented"):ua("types of compare are not known");break e;default:t=ua("Unsupported compare type: "+i)}return[t,null];case"functionCallExpr":return[ZS(t,r,s),null];default:return[ua("Unsupported: the base expression '"+i+"'."),null]}}function hT(t,r){this.o=new Map,this.v=new Map,this.aa=t,this.B=r,this.h=fT}function bo(t,r,s){return fn(r,function(i){var c=t.o.get(i);return c||(c=Cn(c=ud(t,s),i.va,[].concat(D(i.H),["const "+c+" = "+i.code+";"])),t.o.set(i,c),t.o.set(c,c)),c})}function ld(t,r){return r=Cn(r,{type:0},[]),t.o.set(r,r),r}function ud(t,r){r=r===void 0?"v":r;var s=t.v.get(r)||0;return t.v.set(r,s+1),r+s}function qy(t){var r=rn(t,"*");if(t[0]==="pathExpr")return!0;for(r=(t=S(r)).next();!r.done;r=t.next())if(qy(r.value))return!0;return!1}function mT(t,r,s){if(s=s||{},r=r||0,typeof t=="string"){t=oh(t);var i={$:s.language==="XQuery3.1"||s.language==="XQueryUpdate3.1",debug:!1};try{var c=_c(t,i)}catch(k){no(t,k)}}else c=qp(t);if(!(t=we(c,"mainModule")))return ua("Unsupported: XQuery Library modules are not supported.");if(we(t,"prolog"))return ua("Unsupported: XQuery Prologs are not supported.");if(i=s.defaultFunctionNamespaceURI===void 0?"http://www.w3.org/2005/xpath-functions":s.defaultFunctionNamespaceURI,Mn(c,s=new dc(new ka(new te((t=new hT(s.namespaceResolver||Cy(null),i)).aa,{},i,s.functionNameResolver||Bh("http://www.w3.org/2005/xpath-functions"))))),s=we(c,"mainModule"))if(we(s,"prolog"))t=ua("Unsupported: XQuery.");else{var g=ht(s,["queryBody","*"]);s=ld(t,"contextItem");var w=S(t.h(g,s,t));i=w.next().value,w.next();e:switch(g=bt(g,"type"),r){case 9:t=Lh(r=di(i,s,t),g,t);break e;case 7:t=HS(i,g,s,t);break e;case 3:t=fu(i,g,s,t);break e;case 2:t=Fy(i,g,s,t);break e;default:t=ua("Unsupported: the return type '"+r+"'.")}t.isAstAccepted&&(t=`
		`+t.H.join(`
`)+`
		return `+t.code+";",r=`
	return (contextItem, domFacade, runtimeLib, options) => {
		const {
			errXPDY0002,
		} = runtimeLib;`,qy(c)&&(r+=`
		if (!contextItem) {
			throw errXPDY0002("Context is needed to evaluate the given path expression.");
		}

		if (!contextItem.nodeType) {
			throw new Error("Context item must be subtype of node().");
		}
		`),t={code:r+(t+`}
//# sourceURL=generated.js`),isAstAccepted:!0})}else t=ua("Unsupported: Can not execute a library module.");return t}function Zy(t,r,s){var i=t.stack;i&&(i.includes(t.message)&&(i=i.substr(i.indexOf(t.message)+t.message.length).trim()),(i=i.split(`
`)).splice(10),i=(i=i.map(function(c){return c.startsWith("    ")||c.startsWith("	")?c:"    "+c})).join(`
`)),t=Error.call(this,"Custom XPath function Q{"+s+"}"+r+` raised:
`+t.message+`
`+i),this.message=t.message,"stack"in t&&(this.stack=t.stack)}function Jy(t,r,s){return r.g===0?t.G()?null:Al(t.first(),s).next(0).value:r.g===2||r.g===1?t.O().map(function(i){if(Z(i.type,47))throw Error("Cannot pass attribute nodes to custom functions");return Al(i,s).next(0).value}):Al(t.first(),s).next(0).value}function gT(t){if(typeof t=="object")return t;if((t=t.split(":")).length!==2)throw Error("Do not register custom functions in the default function namespace");var r=S(t);t=r.next().value,r=r.next().value;var s=_[t];if(!s){if(s="generated_namespace_uri_"+t,_[t])throw Error("Prefix already registered: Do not register the same prefix twice.");_[t]=s}return{localName:r,namespaceURI:s}}function yT(t,r,s,i){var c=(t=gT(t)).namespaceURI,g=t.localName;if(!c)throw an();var w=r.map(function(C){return Ht(C)}),k=Ht(s);m(c,g,w,k,function(C,W,ne){var _e=Array.from(arguments);_e.splice(0,3),_e=_e.map(function(ut,ft){return Jy(ut,w[ft],W)});var ze={};ze.currentContext=W.l,ze.domFacade=W.h.h;try{var Ke=i.apply(void 0,[ze].concat(D(_e)))}catch(ut){throw new Zy(ut,g,c)}return Ke&&typeof Ke=="object"&&Object.getOwnPropertySymbols(Ke).includes(Oh)?q.create(Ke.Hb):sr(W.h,Ke,k)})}N(Zy,Error);var bT={callFunction:function(t,r,s,i,c){var g=pc(r,s,i.length);if(!g)throw Error("function not found for codegen function call");r=new Bo({N:null,Ka:0,Da:q.empty(),Aa:{}});var w=new Sr(t);return t=new Ni(!1,!1,w,null,null,c?c.currentContext:null,null),Jy(i=g.callFunction.apply(g,[r,t,null].concat(D(i.map(function(k,C){return sr(w,k,g.j[C])})))),{type:59,g:0},t)},errXPDY0002:Ja};function wT(t,r,s,i){return s=s||new Za,t()(r??null,s,bT,i)}var cd={},Qy=(cd["http://www.w3.org/2005/XQueryX"]="xqx",cd["http://www.w3.org/2007/xquery-update-10"]="xquf",cd["http://fontoxml.com/fontoxpath"]="x",cd);function vT(t,r){switch(t){case"copySource":case"insertAfter":case"insertAsFirst":case"insertAsLast":case"insertBefore":case"insertInto":case"modifyExpr":case"newNameExpr":case"replacementExpr":case"replaceValue":case"returnExpr":case"sourceExpr":case"targetExpr":case"transformCopies":case"transformCopy":return{localName:t,ub:r||"http://www.w3.org/2005/XQueryX"};case"deleteExpr":case"insertExpr":case"renameExpr":case"replaceExpr":case"transformExpr":return{localName:t,ub:"http://www.w3.org/2007/xquery-update-10"};case"x:stackTrace":return{localName:"stackTrace",ub:"http://fontoxml.com/fontoxpath"};default:return{localName:t,ub:"http://www.w3.org/2005/XQueryX"}}}function eb(t,r,s,i,c){if(typeof s=="string")return s.length===0?null:r.createTextNode(s);if(!Array.isArray(s))throw new TypeError("JsonML element should be an array or string");var g=(i=vT(s[0],i)).localName;i=i.ub;var w=r.createElementNS(i,Qy[i]+":"+g),k=s[1],C=1;if(typeof k=="object"&&!Array.isArray(k)){if(k!==null)for(var W=(C=S(Object.keys(k))).next();!W.done;W=C.next()){var ne=k[W=W.value];ne!==null&&(W==="type"?ne!==void 0&&t.setAttributeNS(w,i,"fontoxpath:"+W,Je(ne)):(W!=="start"&&W!=="end"||g!=="stackTrace"||(ne=JSON.stringify(ne)),c&&W==="prefix"&&ne===""||t.setAttributeNS(w,i,Qy[i]+":"+W,ne)))}C=2}for(g=C,k=s.length;g<k;++g)(C=eb(t,r,s[g],i,c))!==null&&t.insertBefore(w,C,null);return w}function xT(t,r,s,i){i=i===void 0?Ur:i,t=oh(t);try{var c=_c(t,{$:r.language==="XQuery3.1"||r.language==="XQueryUpdate3.1",debug:r.debug})}catch(C){no(t,C)}var g=new te(r.namespaceResolver||function(){return null},{},r.defaultFunctionNamespaceURI===void 0?"http://www.w3.org/2005/xpath-functions":r.defaultFunctionNamespaceURI,r.functionNameResolver||function(){return null});g=new ka(g);var w=we(c,["mainModule","libraryModule"]),k=we(w,"moduleDecl");return k&&Pt(g,Lt(we(k,"prefix")),k=Lt(we(k,"uri"))),(w=we(w,"prolog"))&&Th(w,g,!1,t),r.annotateAst!==!1&&ag(c,new dc(g)),g=new Za,r=eb(i,s,c,null,r.wc===!1),i.insertBefore(r,s.createComment(t),g.getFirstChild(r)),r}function _T(t){return Promise.resolve(t)}function kT(t,r){if(ag(r=_c(t,{$:!0,debug:(r=r===void 0?{debug:!1}:r).debug}),new dc(void 0)),!(r=we(r,"libraryModule")))throw Error("XQuery module must be declared in a library module.");var s=we(r,"moduleDecl"),i=we(s,"uri"),c=Lt(i);if(i=Lt(s=we(s,"prefix")),Pt(s=new ka(new te(function(){return null},Object.create(null),"http://www.w3.org/2005/xpath-functions",Bh("http://www.w3.org/2005/xpath-functions"))),i,c),(r=we(r,"prolog"))!==null){try{var g=Th(r,s,!0,t)}catch(w){no(t,w)}g.Ma.forEach(function(w){if(c!==w.namespaceURI)throw Error("XQST0048: Functions and variables declared in a module must reside in the module target namespace.")}),Cg(c,g)}else Cg(c,{Ma:[],Va:[],ra:null,source:t});return c}var Gh=new Map;function Vh(t){var r;e:{if(r=Yp.get(t)){for(var s=S(Object.keys(r)),i=s.next();!i.done;i=s.next())if(r[i=i.value]&&r[i].length){r=r[i][0].h;break e}}r=null}if(r)return r;if(Gh.has(t))return Gh.get(t);if((r=ht(r=typeof t=="string"?_c(t,{$:!1}):qp(t),["mainModule","queryBody","*"]))===null)throw Error("Library modules do not have a specificity");return r=ah(r,{ua:!1,$:!1}),Gh.set(t,r),r}function ET(t){return Vh(t).B()}function AT(t,r){return To(Vh(t).o,Vh(r).o)}var ST=new Za;return h!==void 0&&(h.compareSpecificity=AT,h.compileXPathToJavaScript=mT,h.domFacade=ST,h.evaluateXPath=rr,h.evaluateXPathToArray=RS,h.evaluateXPathToAsyncIterator=By,h.evaluateXPathToBoolean=FS,h.evaluateXPathToFirstNode=MS,h.evaluateXPathToMap=PS,h.evaluateXPathToNodes=LS,h.evaluateXPathToNumber=US,h.evaluateXPathToNumbers=zS,h.evaluateXPathToString=$S,h.evaluateXPathToStrings=GS,h.evaluateUpdatingExpression=OS,h.evaluateUpdatingExpressionSync=BS,h.executeJavaScriptCompiledXPath=wT,h.executePendingUpdateList=VS,h.getBucketForSelector=ET,h.getBucketsForNode=dr,h.precompileXPath=_T,h.registerXQueryModule=kT,h.registerCustomXPathFunction=yT,h.parseScript=xT,h.profiler=DS,h.createTypedValueFactory=NS,h.finalizeModuleRegistration=bc,h.Language=CS,h.ReturnType=ar),h}(l,p))}],["hide-if-classifies",null]]);v1.get=n=>A0.get(n);v1.has=n=>A0.has(n);/*!
 * This file is part of eyeo's Anti-Circumvention Snippets module (@eyeo/snippets),
 * Copyright (C) 2006-present eyeo GmbH
 * 
 * @eyeo/snippets is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 * 
 * @eyeo/snippets is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with @eyeo/snippets.  If not, see <http://www.gnu.org/licenses/>.
 */const x1=(n,...e)=>{const a=Proxy,{apply:o,bind:l,call:p}=Function,f=p.bind(o),d=p.bind(l),u=p.bind(p),h={get:(ye,Me)=>d(p,ye[Me])},y=ye=>new a(ye,h),b=(ye,Me)=>new a(ye,{apply:(We,Pe,at)=>f(Me,Pe,at)}),x={get:(ye,Me)=>d(ye[Me],ye)},A=ye=>new a(ye,x),{assign:j,defineProperties:T,freeze:I,getOwnPropertyDescriptor:S,getOwnPropertyDescriptors:G,getPrototypeOf:D}=A(Object),{hasOwnProperty:X}=y({}),{species:L}=Symbol,F={get(ye,Me){const We=ye[Me];class Pe extends We{}const at=G(We.prototype);delete at.constructor,I(T(Pe.prototype,at));const qe=G(We);return delete qe.length,delete qe.prototype,qe[L]={value:Pe},I(T(Pe,qe))}},V=ye=>new a(ye,F),P=typeof n<"u"?n:{};typeof globalThis>"u"&&(window.globalThis=window);const{apply:R,ownKeys:N}=A(Reflect),E="world"in P,O=E&&P.world==="ISOLATED",B=E&&P.world==="MAIN",M=typeof chrome=="object"&&!!chrome.runtime,U=typeof browser=="object"&&!!browser.runtime,Y=!B&&(O||M||U),$=ye=>Y?ye:ee(ye,Q(ye)),{create:ee,defineProperties:ae,defineProperty:re,freeze:J,getOwnPropertyDescriptor:ue,getOwnPropertyDescriptors:Q}=A(Object),be=A(globalThis),Re=Y?globalThis:V(globalThis),{Map:oe,RegExp:ge,Set:me,WeakMap:se,WeakSet:Ae}=Re,Le=(ye,Me,We=null)=>{const Pe=N(Me);for(const at of N(ye)){if(Pe.includes(at))continue;const qe=ue(ye,at);if(We&&"value"in qe){const{value:gt}=qe;typeof gt=="function"&&(qe.value=We(gt))}re(Me,at,qe)}},ve=ye=>{const Me=Re[ye];class We extends Me{}const{toString:Pe,valueOf:at}=Me.prototype;ae(We.prototype,{toString:{value:Pe},valueOf:{value:at}});const qe=ye.toLowerCase(),gt=Ye=>function(){const wt=R(Ye,this,arguments);return typeof wt===qe?new We(wt):wt};return Le(Me,We,gt),Le(Me.prototype,We.prototype,gt),We},Ie=J({frozen:new se,hidden:new Ae,iframePropertiesToAbort:{read:new me,write:new me},abortedIframes:new se}),Ue=new ge("^[A-Z]");var tt=new Proxy(new oe([["chrome",Y&&(M&&chrome||U&&browser)||void 0],["isExtensionContext",Y],["variables",Ie],["console",$(console)],["document",globalThis.document],["performance",$(performance)],["JSON",$(JSON)],["Map",oe],["Math",$(Math)],["Number",Y?Number:ve("Number")],["RegExp",ge],["Set",me],["String",Y?String:ve("String")],["WeakMap",se],["WeakSet",Ae],["MouseEvent",MouseEvent]]),{get(ye,Me){if(ye.has(Me))return ye.get(Me);let We=globalThis[Me];return typeof We=="function"&&(We=(Ue.test(Me)?Re:be)[Me]),ye.set(Me,We),We},has:(ye,Me)=>ye.has(Me)});const Be={WeakSet,WeakMap,WeakValue:class{has(){return!1}set(){}}},{apply:Ne}=Reflect,{Map:Ze,WeakMap:ot,WeakSet:It,setTimeout:fe}=tt;let ie=!0,xe=ye=>{ye.clear(),ie=!ie};var st=(function(ye){const{WeakSet:Me,WeakMap:We,WeakValue:Pe}=this||Be,at=new Me,qe=new We,gt=new Pe;return function(Ye){if(at.has(Ye))return Ye;if(qe.has(Ye))return qe.get(Ye);if(gt.has(Ye))return gt.get(Ye);const wt=Ne(ye,this,arguments);return at.add(wt),wt!==Ye&&(typeof Ye=="object"&&Ye?qe:gt).set(Ye,wt),wt}}).bind({WeakMap:ot,WeakSet:It,WeakValue:class extends Ze{set(ye,Me){return ie&&(ie=!ie,fe(xe,0,this)),super.set(ye,Me)}}});const{concat:At,includes:le,join:zt,reduce:Wt,unshift:Bn}=y([]),qn=V(globalThis),{Map:ke,WeakMap:Ce}=qn,lt=new ke,Z=ye=>{const Me=(Pe=>{const at=[];let qe=Pe;for(;qe;){if(lt.has(qe))Bn(at,lt.get(qe));else{const gt=G(qe);lt.set(qe,gt),Bn(at,gt)}qe=D(qe)}return Bn(at,{}),f(j,null,at)})(typeof ye=="function"?ye.prototype:ye),We={get(Pe,at){if(at in Me){const{value:qe,get:gt}=Me[at];if(gt)return u(gt,Pe);if(typeof qe=="function")return d(qe,Pe)}return Pe[at]},set(Pe,at,qe){if(at in Me){const{set:gt}=Me[at];if(gt)return u(gt,Pe,qe),!0}return Pe[at]=qe,!0}};return Pe=>new a(Pe,We)},{isExtensionContext:Ot,Array:Gt,Number:Xe,String:pe,Object:je}=tt,{isArray:it}=Gt,{getOwnPropertyDescriptor:Je,setPrototypeOf:_t}=je,{toString:Ht}=je.prototype,{slice:un}=pe.prototype,{get:nn}=Je(Node.prototype,"nodeType"),pn=Ot?{}:{Attr:Z(Attr),CanvasRenderingContext2D:Z(CanvasRenderingContext2D),CSSStyleDeclaration:Z(CSSStyleDeclaration),Document:Z(Document),Element:Z(Element),HTMLCanvasElement:Z(HTMLCanvasElement),HTMLElement:Z(HTMLElement),HTMLImageElement:Z(HTMLImageElement),HTMLScriptElement:Z(HTMLScriptElement),MutationRecord:Z(MutationRecord),Node:Z(Node),ShadowRoot:Z(ShadowRoot),get CSS2Properties(){return pn.CSSStyleDeclaration}},$e=(ye,Me)=>{if(Me!=="Element"&&Me in pn)return pn[Me](ye);if(it(ye))return _t(ye,Gt.prototype);const We=(Pe=>u(un,u(Ht,Pe),8,-1))(ye);if(We in pn)return pn[We](ye);if(We in tt)return _t(ye,tt[We].prototype);if("nodeType"in ye)switch(u(nn,ye)){case 1:if(!(Me in pn))throw new Error("unknown hint "+Me);return pn[Me](ye);case 2:return pn.Attr(ye);case 3:return pn.Node(ye);case 9:return pn.Document(ye)}throw new Error("unknown brand "+We)};var Qe=Ot?ye=>ye===window||ye===globalThis?tt:ye:st((ye,Me="Element")=>{if(ye===window||ye===globalThis)return tt;switch(typeof ye){case"object":return ye&&$e(ye,Me);case"string":return new pe(ye);case"number":return new Xe(ye);default:throw new Error("unsupported value")}});const Ln={get(ye,Me){const We=ye;for(;!X(ye,Me);)ye=D(ye);const{get:Pe,set:at}=S(ye,Me);return function(){return arguments.length?f(at,We,arguments):u(Pe,We)}}},ir=ye=>new a(ye,Ln);let q=!1;function jn(){return q}const{console:Ga}=Qe(window),or=()=>{};function Ar(...ye){if(jn()){const Me=["%c DEBUG","font-weight: bold;"],We=ye.indexOf("error"),Pe=ye.indexOf("warn"),at=ye.indexOf("success"),qe=ye.indexOf("info");We!==-1?(Me[0]+=" - ERROR",Me[1]+="color: red; border:2px solid red",Qe(ye).splice(We,1)):Pe!==-1?(Me[0]+=" - WARNING",Me[1]+="color: orange; border:2px solid orange ",Qe(ye).splice(Pe,1)):at!==-1?(Me[0]+=" - SUCCESS",Me[1]+="color: green; border:2px solid green",Qe(ye).splice(at,1)):qe!==-1&&(Me[1]+="color: black;",Qe(ye).splice(qe,1)),Qe(ye).unshift(...Me)}Ga.log(...ye)}function qa(ye){return d(jn()?Ar:or,null,ye)}let{Array:xr,Math:dr,RegExp:Za}=Qe(window);function ya(ye){let{length:Me}=ye;if(Me>1&&ye[0]==="/"){let We=ye[Me-1]==="/";if(We||Me>2&&Qe(ye).endsWith("/i")){let Pe=[Qe(ye).slice(1,We?-1:-2)];return We||Pe.push("i"),new Za(...Pe)}}return new Za(Qe(ye).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"))}function Ur(){return Qe(dr.floor(2116316160*dr.random()+60466176)).toString(36)}function zn(ye){return Qe(xr.from(ye)).map(Me=>`'${Me}'`).join(" ")}let{parseFloat:Va,variables:Sa,Array:Sr,Error:lo,Map:Zr,Object:za,ReferenceError:Oa,Set:uo,WeakMap:Rs}=Qe(window),{onerror:zr}=ir(window),dn=Node.prototype,Ha=Element.prototype,Jr=null;function En(ye,Me,We,Pe=!0){let at=Qe(Me),qe=at.indexOf(".");if(qe==-1){let en=za.getOwnPropertyDescriptor(ye,Me);if(en&&!en.configurable)return;let Vt=za.assign({},We,{configurable:Pe});if(!en&&!Vt.get&&Vt.set){let tn=ye[Me];Vt.get=()=>tn}return void za.defineProperty(ye,Me,Vt)}let gt=at.slice(0,qe).toString();Me=at.slice(qe+1).toString();let Ye=ye[gt];!Ye||typeof Ye!="object"&&typeof Ye!="function"||En(Ye,Me,We);let wt=za.getOwnPropertyDescriptor(ye,gt);if(wt&&!wt.configurable)return;Jr||(Jr=new Rs),Jr.has(ye)||Jr.set(ye,new Zr);let xt=Jr.get(ye);if(xt.has(gt))return void xt.get(gt).set(Me,We);let $t=new Zr([[Me,We]]);xt.set(gt,$t),za.defineProperty(ye,gt,{get:()=>Ye,set(en){if(Ye=en,Ye&&(typeof Ye=="object"||typeof Ye=="function"))for(let[Vt,tn]of $t)En(Ye,Vt,tn)},configurable:Pe})}function co(ye){let Me=zr();zr((...We)=>{let Pe=We.length&&We[0];return!(typeof Pe!="string"||!Qe(Pe).includes(ye))||(typeof Me=="function"?f(Me,this,We):void 0)})}function $n(ye,Me,We,Pe="",at=!0){let qe=qa(ye);if(!We)return void qe("error","no property to abort on read");let gt=Ur();qe("info",`aborting on ${We} access`),En(Me,We,{get:function(){throw qe("success",`${We} access aborted`,`
FILTER: ${ye} ${Pe}`),new Oa(gt)},set(){}},at),co(gt)}function Rn(ye,Me,We,Pe="",at=!0){let qe=qa(ye);if(!We)return void qe("error","no property to abort on write");let gt=Ur();qe("info",`aborting when setting ${We}`),En(Me,We,{set:function(){throw qe("success",`setting ${We} aborted`,`
FILTER: ${ye} ${Pe}`),new Oa(gt)}},at),co(gt)}function Or(ye,Me=!1,We=!1){let Pe=Sa.abortedIframes,at=Sa.iframePropertiesToAbort;const qe=zn(ye);for(let Ye of Sr.from(window.frames))if(Pe.has(Ye))for(let wt of ye)Me&&Pe.get(Ye).read.add({property:wt,formattedProperties:qe}),We&&Pe.get(Ye).write.add({property:wt,formattedProperties:qe});for(let Ye of ye)Me&&at.read.add({property:Ye,formattedProperties:qe}),We&&at.write.add({property:Ye,formattedProperties:qe});function gt(){for(let Ye of Sr.from(window.frames)){Pe.has(Ye)||Pe.set(Ye,{read:new uo(at.read),write:new uo(at.write)});let wt=Pe.get(Ye).read;if(wt.size>0){let $t=Sr.from(wt);wt.clear();for(let{property:en,formattedProperties:Vt}of $t)$n("abort-on-iframe-property-read",Ye,en,Vt)}let xt=Pe.get(Ye).write;if(xt.size>0){let $t=Sr.from(xt);xt.clear();for(let{property:en,formattedProperties:Vt}of $t)Rn("abort-on-iframe-property-write",Ye,en,Vt)}}}gt(),Pe.has(document)||(Pe.set(document,!0),function(Ye){let wt;function xt(Vt,tn){for(let cn of tn)En(Vt,cn,$t(Vt,cn))}function $t(Vt,tn){let cn=Vt[tn];return{get:()=>function(...Fn){let Ia;return Ia=f(cn,this,Fn),Ye&&Ye(),Ia}}}function en(Vt,tn){let cn=za.getOwnPropertyDescriptor(Vt,tn),{set:Fn}=cn||{};return{set(Ia){let kr;return kr=u(Fn,this,Ia),Ye&&Ye(),kr}}}xt(dn,["appendChild","insertBefore","replaceChild"]),xt(Ha,["append","prepend","replaceWith","after","before","insertAdjacentElement","insertAdjacentHTML"]),wt=en(Ha,"innerHTML"),En(Ha,"innerHTML",wt),wt=en(Ha,"outerHTML"),En(Ha,"outerHTML",wt)}(gt))}let{Object:mt}=window;function Kt(ye,Me){if(!(ye instanceof mt))return;let We=ye,Pe=Qe(Me).split(".");if(Pe.length===0)return;for(let qe=0;qe<Pe.length-1;qe++){let gt=Pe[qe];if(!X(We,gt)||(We=We[gt],!(We instanceof mt)))return}let at=Pe[Pe.length-1];return X(We,at)?[We,at]:void 0}const ba=Qe(/^\d+$/);function Zn(ye){switch(ye){case"false":return!1;case"true":return!0;case"null":return null;case"noopFunc":return()=>{};case"trueFunc":return()=>!0;case"falseFunc":return()=>!1;case"emptyArray":return[];case"emptyObj":return{};case"undefined":return;case"":return ye;default:if(ba.test(ye))return Va(ye);throw new lo(`[override-property-read snippet]: Value "${ye}" is not valid.`)}}let{HTMLScriptElement:mn,Object:Ta,ReferenceError:lr}=Qe(window),ds=Ta.getPrototypeOf(mn);const{Error:vo,Object:fs,Array:Br,Map:po}=Qe(window);let Gn=null,{Error:Fs,URL:mr}=Qe(window),{cookie:ja}=ir(document),{console:wa,document:Wa,getComputedStyle:$r,isExtensionContext:Qr,variables:xo,Array:fo,MutationObserver:Gr,Object:ur,XPathEvaluator:ei,XPathExpression:ti,XPathResult:Tr}=Qe(window);const{querySelectorAll:gr}=Wa,sr=gr&&d(gr,Wa);function ia(ye,Me=!1){return hs(ye,sr.bind(Wa),Wa,Me)}function _o(ye,Me,We,Pe){const at=Me.getAttribute("xlink:href")||Me.getAttribute("href");if(at){const gt=sr(at)[0];if(!gt&&jn())return wa.log("No elements found matching",at),!1;if(!(qe=ye)||qe.length===0||qe.every(wt=>wt.trim()==="")){const wt=Pe.length>0?Pe:[];return We.push({element:gt,rootParents:[...wt,Me]}),!1}const Ye=gt.querySelectorAll.bind(gt);return{nextBoundElement:gt,nestedSelectorsString:ye.join("^^"),next$$:Ye}}var qe}function Bo(ye,Me){const We=function(Pe,at=!1){try{const qe=navigator.userAgent.includes("Firefox")?Pe.openOrClosedShadowRoot:browser.dom.openOrClosedShadowRoot(Pe);return qe===null&&jn()&&!at&&wa.log("Shadow root not found or not added in element yet",Pe),qe}catch(qe){return jn()&&!at&&wa.log("Error while accessing shadow root",Pe,qe),null}}(Me);if(We){const{querySelectorAll:Pe}=We,at=Pe&&d(Pe,We).bind(We);return{nextBoundElement:Me,nestedSelectorsString:":host "+ye.join("^^"),next$$:at}}return!1}function hs(ye,Me,We,Pe,at=[]){if(ye.includes("^^")){const[gt,Ye,...wt]=ye.split("^^");let xt,$t;switch(Ye){case"svg":$t=_o;break;case"sh":$t=Bo;break;default:return jn()&&wa.log(Ye,` is not supported. Supported commands are: 
^^sh^^
^^svg^^`),[]}xt=gt.trim()===""?[We]:Me(gt);const en=[];for(const Vt of xt){const tn=$t(wt,Vt,en,at);if(!tn)continue;const{next$$:cn,nestedSelectorsString:Fn,nextBoundElement:Ia}=tn,kr=hs(Fn,cn,Ia,Pe,[...at,Vt]);kr&&en.push(...kr)}return en}const qe=Me(ye);return Pe?[...qe].map(gt=>({element:gt,rootParents:at.length>0?at:[]})):qe}const{assign:Ro,setPrototypeOf:cr}=ur;class ko extends ti{evaluate(...Me){return cr(f(super.evaluate,this,Me),Tr.prototype)}}class _r extends ei{createExpression(...Me){return cr(f(super.createExpression,this,Me),ko.prototype)}}function Rr(ye){if(xo.hidden.has(ye))return!1;(function(qe){Qr&&typeof checkElement=="function"&&checkElement(qe)})(ye),xo.hidden.add(ye);let{style:Me}=Qe(ye),We=Qe(Me,"CSSStyleDeclaration"),Pe=Qe([]),{debugCSSProperties:at}=P;for(let[qe,gt]of at||[["display","none"]])We.setProperty(qe,gt,"important"),Pe.push([qe,We.getPropertyValue(qe)]);return new Gr(()=>{for(let[qe,gt]of Pe){let Ye=We.getPropertyValue(qe),wt=We.getPropertyPriority(qe);Ye==gt&&wt=="important"||We.setProperty(qe,gt,"important")}}).observe(ye,{attributes:!0,attributeFilter:["style"]}),!0}function Ni(ye){let Me=ye;if(Me.startsWith("xpath(")&&Me.endsWith(")")){let We=function(Pe){let at=Pe;if(at.startsWith("xpath(")&&at.endsWith(")")){let qe=at.slice(6,-1),gt=new _r().createExpression(qe,null),Ye=Tr.ORDERED_NODE_SNAPSHOT_TYPE;return wt=>{if(!wt)return;let xt=gt.evaluate(Wa,Ye,null),{snapshotLength:$t}=xt;for(let en=0;en<$t;en++)wt(xt.snapshotItem(en))}}return qe=>ia(Pe).forEach(qe)}(ye);return()=>{let Pe=Qe([]);return We(at=>Pe.push(at)),Pe}}return()=>fo.from(ia(ye))}let{ELEMENT_NODE:Pa,TEXT_NODE:Vr,prototype:Ja}=Node,{prototype:pa}=Element,{prototype:Eo}=HTMLElement,{console:ms,variables:Ba,DOMParser:Ra,Error:gs,MutationObserver:Ms,Object:Ko,ReferenceError:Di}=Qe(window),{getOwnPropertyDescriptor:ys}=Ko;const{CanvasRenderingContext2D:Fo,document:Ci,Map:Oi,MutationObserver:ll,Object:ul,Set:cl,WeakSet:pl}=Qe(window);let Ps,Ls=new cl,Ao=new pl;function ho(ye,Me,We,Pe){Ls.add({canvasElement:ye,rule:Me,functionName:We,text:Pe})}Qe(window);const{Map:ni,MutationObserver:ai,Object:Mo,Set:Xo,WeakSet:bs}=Qe(window);let Us=Element.prototype,{attachShadow:ri}=Us,Bi=new bs,oi=new ni,So=null;const{Error:Ri,JSON:Fi,Map:Mi,Response:eo,Object:jr}=Qe(window);let pr=null,{Array:dl,Error:zs,JSON:si,Map:fl,Object:Yo,Response:ws}=Qe(window),to=null,{Error:qo}=Qe(window),{Error:Te,Map:Ee,Object:Fe,console:nt}=Qe(window),{toString:Ve}=Function.prototype,rt=EventTarget.prototype,{addEventListener:et}=rt,Tt=null,{fetch:Nt}=Qe(window),kt=!1;const Dt=[],St=[],ln=()=>{kt||(window.fetch=b(Nt,(...ye)=>{let[Me]=ye;if(Dt.length>0&&typeof Me=="string"){let We;try{We=new URL(Me)}catch(Pe){if(!(Pe instanceof TypeError))throw Pe;We=new URL(Me,Qe(document).location)}Dt.forEach(Pe=>Pe(We)),ye[0]=We.href}return f(Nt,self,ye).then(We=>{let Pe=We;return St.forEach(at=>{Pe=at(Pe)}),Pe})}),kt=!0)};let Yt,{Map:qt,Object:Mt,RegExp:Xt,Response:Jt}=Qe(window),gn,Jn,{RegExp:Fa,XMLHttpRequest:Fr,WeakMap:Ka}=Qe(window),In,{delete:Da,has:la}=y(URLSearchParams.prototype);const $a={"abort-current-inline-script":function(ye,Me=null){const We=zn(arguments),Pe=qa("abort-current-inline-script"),at=Me?ya(Me):null,qe=Ur(),gt=Qe(document).currentScript;let Ye=window;const wt=Qe(ye).split("."),xt=Qe(wt).pop();for(let cn of Qe(wt))if(Ye=Ye[cn],!Ye||typeof Ye!="object"&&typeof Ye!="function")return void Pe("warn",wt," is not found");const{get:$t,set:en}=Ta.getOwnPropertyDescriptor(Ye,xt)||{};let Vt=Ye[xt];Vt===void 0&&Pe("warn","The property",xt,"doesn't exist yet. Check typos.");const tn=()=>{const cn=Qe(document).currentScript;if(cn instanceof ds&&Qe(cn,"HTMLScriptElement").src==""&&cn!=gt&&(!at||at.test(Qe(cn).textContent)))throw Pe("success",wt,` is aborted 
`,cn,`
FILTER: abort-current-inline-script`,We),new lr(qe)};En(Ye,xt,{get(){return tn(),$t?u($t,this):Vt},set(cn){tn(),en?u(en,this,cn):Vt=cn}}),co(qe)},"abort-on-iframe-property-read":function(...ye){Or(ye,!0,!1)},"abort-on-iframe-property-write":function(...ye){Or(ye,!1,!0)},"abort-on-property-read":function(ye,Me){const We=Me!=="false",Pe=zn(arguments);$n("abort-on-property-read",window,ye,Pe,We)},"abort-on-property-write":function(ye,Me){const We=zn(arguments);Rn("abort-on-property-write",window,ye,We,Me!=="false")},"array-override":function(ye,Me,We="false"){if(!ye)throw new vo("[array-override snippet]: Missing method to override.");if(!Me)throw new vo("[array-override snippet]: Missing needle.");Gn||(Gn=new po);let Pe=qa("array-override");const at=zn(arguments);if(ye!=="push"||Gn.has("push")){if(ye==="includes"&&!Gn.has("includes")){const{includes:wt}=Br.prototype;Gn.set("includes",Qe([])),fs.defineProperty(window.Array.prototype,"includes",{value:b(wt,function(xt){if(typeof xt!="string"&&typeof xt!="number")return f(wt,this,arguments);const $t=xt.toString(),en=Gn.get("includes");for(const{needleRegex:Vt,retVal:tn}of en)if($t.match&&$t.match(Vt))return Pe("success",`Array.includes returned ${tn} for ${Vt}
FILTER: array-override ${at}`),tn;return f(wt,this,arguments)})}),Pe("info","Wrapped Array.prototype.includes")}}else{const{push:wt}=Br.prototype;Gn.set("push",Qe([])),fs.defineProperty(window.Array.prototype,"push",{value:b(wt,function(xt){if(typeof xt!="string"&&typeof xt!="number")return f(wt,this,arguments);const $t=xt.toString(),en=Gn.get("push");for(const{needleRegex:Vt}of en)if($t.match&&$t.match(Vt))return void Pe("success",`Array.push is ignored for needle: ${Vt}
FILTER: array-override ${at}`);return f(wt,this,arguments)})}),Pe("info","Wrapped Array.prototype.push")}const qe=ya(Me),gt=Gn.get(ye),Ye=We==="true";gt.push({needleRegex:qe,retVal:Ye}),Gn.set(ye,gt)},"cookie-remover":function(ye,Me=!1){if(!ye)throw new Fs("[cookie-remover snippet]: No cookie to remove.");const We=zn(arguments);let Pe=qa("cookie-remover"),at=ya(ye);if(!Qe(/^http|^about/).test(location.protocol))return void Pe("warn","Snippet only works for http or https and about.");function qe(){return Qe(ja()).split(";").filter(Ye=>at.test(Qe(Ye).split("=")[0]))}const gt=()=>{Pe("info","Parsing cookies for matches");for(const Ye of Qe(qe())){let wt=Qe(location.hostname);!wt&&Qe(location.ancestorOrigins)&&Qe(location.ancestorOrigins[0])&&(wt=new mr(Qe(location.ancestorOrigins[0])).hostname);const xt=Qe(Ye).split("=")[0],$t="expires=Thu, 01 Jan 1970 00:00:00 GMT",en="path=/",Vt=wt.split(".");for(let tn=Vt.length;tn>0;tn--){const cn=Vt.slice(Vt.length-tn).join(".");ja(`${Qe(xt).trim()}=;${$t};${en};domain=${cn}`),ja(`${Qe(xt).trim()}=;${$t};${en};domain=.${cn}`),Pe("success",`Set expiration date on ${xt}`,`
FILTER: cookie-remover`,We)}}};if(gt(),Me){let Ye=qe();setInterval(()=>{let wt=qe();if(wt!==Ye)try{gt()}finally{Ye=wt}},1e3)}},debug:function(){q=!0},"freeze-element":function(ye,Me="",...We){let Pe,at,qe=!1,gt=!1,Ye=Qe(We).filter(jt=>!Vt(jt)),wt=Qe(We).filter(jt=>Vt(jt)).map(ya),xt=Ur(),$t=Ni(ye);(function(){let jt=Qe(Me).split("+");jt.length===1&&jt[0]===""&&(jt=[]);for(let yn of jt)switch(yn){case"subtree":qe=!0;break;case"abort":gt=!0;break;default:throw new gs("[freeze] Unknown option passed to the snippet. [selector]: "+ye+" [option]: "+yn)}})();let en={selector:ye,shouldAbort:gt,rid:xt,exceptionSelectors:Ye,regexExceptions:wt,changeId:0};function Vt(jt){return jt.length>=2&&jt[0]=="/"&&jt[jt.length-1]=="/"}function tn(){at=$t(),cn(at,!1)}function cn(jt,yn=!0){for(let ea of jt)Ba.frozen.has(ea)||(Ba.frozen.set(ea,en),!yn&&qe&&new Ms(Pn=>{for(let Vn of Qe(Pn))cn(Qe(Vn,"MutationRecord").addedNodes)}).observe(ea,{childList:!0,subtree:!0}),qe&&Qe(ea).nodeType===Pa&&cn(Qe(ea).childNodes))}function Fn(jt,...yn){Ar(`[freeze][${jt}] `,...yn)}function Ia(jt,yn,ea,Pn){let Vn=Pn.selector,Dn=Pn.changeId,va=typeof jt=="string",An=Pn.shouldAbort?"aborting":"watching";switch(ms.groupCollapsed(`[freeze][${Dn}] ${An}: ${Vn}`),ea){case"appendChild":case"append":case"prepend":case"insertBefore":case"replaceChild":case"insertAdjacentElement":case"insertAdjacentHTML":case"insertAdjacentText":case"innerHTML":case"outerHTML":Fn(Dn,va?"text: ":"node: ",jt),Fn(Dn,"added to node: ",yn);break;case"replaceWith":case"after":case"before":Fn(Dn,va?"text: ":"node: ",jt),Fn(Dn,"added to node: ",Qe(yn).parentNode);break;case"textContent":case"innerText":case"nodeValue":Fn(Dn,"content of node: ",yn),Fn(Dn,"changed to: ",jt)}Fn(Dn,`using the function "${ea}"`),ms.groupEnd(),Pn.changeId++}function kr(jt,yn){if(yn){for(let ea of yn)if(ea.test(jt))return!0}return!1}function Ir(jt){throw new Di(jt)}function mo(jt,yn,ea,Pn){let Vn=new Ra,{body:Dn}=Qe(Vn.parseFromString(jt,"text/html")),va=ii(Qe(Dn).childNodes,yn,ea,Pn);return Qe(va).map(An=>{switch(Qe(An).nodeType){case Pa:return Qe(An).outerHTML;case Vr:return Qe(An).textContent;default:return""}}).join("")}function ii(jt,yn,ea,Pn){let Vn=Qe([]);for(let Dn of jt)vs(Dn,yn,ea,Pn)&&Vn.push(Dn);return Vn}function vs(jt,yn,ea,Pn){let Vn=Pn.shouldAbort,Dn=Pn.regexExceptions,va=Pn.exceptionSelectors,An=Pn.rid;if(typeof jt=="string"){let Mr=jt;return!!kr(Mr,Dn)||(jn()&&Ia(Mr,yn,ea,Pn),Vn&&Ir(An),jn())}let xa=jt;switch(Qe(xa).nodeType){case Pa:return!!function(Mr,Xn){if(Xn){let Gs=Qe(Mr);for(let _s of Xn)if(Gs.matches(_s))return!0}return!1}(xa,va)||(Vn&&(jn()&&Ia(xa,yn,ea,Pn),Ir(An)),!!jn()&&(Rr(xa),Ia(xa,yn,ea,Pn),!0));case Vr:return!!kr(Qe(xa).textContent,Dn)||(jn()&&Ia(xa,yn,ea,Pn),Vn&&Ir(An),!1);default:return!0}}function $s(jt,yn,ea,Pn){let Vn=ys(jt,yn)||{},Dn=Vn.get&&u(Vn.get,jt)||Vn.value;if(Dn)return{get:()=>function(...va){if(ea(this)){let An=Pn(this);if(An){let xa=va[0];if(!vs(xa,this,yn,An))return xa}}return f(Dn,this,va)}}}function xs(jt,yn,ea,Pn){let Vn=ys(jt,yn)||{},Dn=Vn.get&&u(Vn.get,jt)||Vn.value;if(Dn)return{get:()=>function(...va){if(!ea(this))return f(Dn,this,va);let An=Pn(this);if(!An)return f(Dn,this,va);let xa=ii(va,this,yn,An);return xa.length>0?f(Dn,this,xa):void 0}}}function Pi(jt,yn,ea,Pn){let Vn=ys(jt,yn)||{},Dn=Vn.get&&u(Vn.get,jt)||Vn.value;if(Dn)return{get:()=>function(...va){let[An,xa]=va,Mr=An==="afterbegin"||An==="beforeend";if(ea(this,Mr)){let Xn=Pn(this,Mr);if(Xn){let Gs,_s=Mr?this:Qe(this).parentNode;switch(yn){case"insertAdjacentElement":if(!vs(xa,_s,yn,Xn))return xa;break;case"insertAdjacentHTML":return Gs=mo(xa,_s,yn,Xn),Gs?u(Dn,this,An,Gs):void 0;case"insertAdjacentText":if(!vs(xa,_s,yn,Xn))return}}}return f(Dn,this,va)}}}function Li(jt,yn,ea,Pn){let Vn=ys(jt,yn)||{},{set:Dn}=Vn;if(Dn)return{set(va){if(!ea(this))return u(Dn,this,va);let An=Pn(this);if(!An)return u(Dn,this,va);let xa=mo(va,this,yn,An);return xa?u(Dn,this,xa):void 0}}}function li(jt,yn,ea,Pn){let Vn=ys(jt,yn)||{},{set:Dn}=Vn;if(Dn)return{set(va){if(!ea(this))return u(Dn,this,va);let An=Pn(this);return An?vs(va,this,yn,An)?u(Dn,this,va):void 0:u(Dn,this,va)}}}Ba.frozen.has(document)||(Ba.frozen.set(document,!0),function(){let jt;function yn(An){return An&&Ba.frozen.has(An)}function ea(An){try{return An&&(Ba.frozen.has(An)||Ba.frozen.has(Qe(An).parentNode))}catch{return!1}}function Pn(An,xa){try{return An&&(Ba.frozen.has(An)&&xa||Ba.frozen.has(Qe(An).parentNode)&&!xa)}catch{return!1}}function Vn(An){return Ba.frozen.get(An)}function Dn(An){try{if(Ba.frozen.has(An))return Ba.frozen.get(An);let xa=Qe(An).parentNode;return Ba.frozen.get(xa)}catch{}}function va(An,xa){try{if(Ba.frozen.has(An)&&xa)return Ba.frozen.get(An);let Mr=Qe(An).parentNode;return Ba.frozen.get(Mr)}catch{}}jt=$s(Ja,"appendChild",yn,Vn),En(Ja,"appendChild",jt),jt=$s(Ja,"insertBefore",yn,Vn),En(Ja,"insertBefore",jt),jt=$s(Ja,"replaceChild",yn,Vn),En(Ja,"replaceChild",jt),jt=xs(pa,"append",yn,Vn),En(pa,"append",jt),jt=xs(pa,"prepend",yn,Vn),En(pa,"prepend",jt),jt=xs(pa,"replaceWith",ea,Dn),En(pa,"replaceWith",jt),jt=xs(pa,"after",ea,Dn),En(pa,"after",jt),jt=xs(pa,"before",ea,Dn),En(pa,"before",jt),jt=Pi(pa,"insertAdjacentElement",Pn,va),En(pa,"insertAdjacentElement",jt),jt=Pi(pa,"insertAdjacentHTML",Pn,va),En(pa,"insertAdjacentHTML",jt),jt=Pi(pa,"insertAdjacentText",Pn,va),En(pa,"insertAdjacentText",jt),jt=Li(pa,"innerHTML",yn,Vn),En(pa,"innerHTML",jt),jt=Li(pa,"outerHTML",ea,Dn),En(pa,"outerHTML",jt),jt=li(Ja,"textContent",yn,Vn),En(Ja,"textContent",jt),jt=li(Eo,"innerText",yn,Vn),En(Eo,"innerText",jt),jt=li(Ja,"nodeValue",yn,Vn),En(Ja,"nodeValue",jt)}()),Pe=new Ms(tn),Pe.observe(document,{childList:!0,subtree:!0}),tn()},"hide-if-canvas-contains":function(ye,Me="canvas"){const We=qa("hide-if-canvas-contains"),Pe=zn(arguments);if(!ye)return void We("error","The parameter 'search' is required");if(!Ps){let gt=function(Ye){const wt=qe[Ye];ul.defineProperty(window.CanvasRenderingContext2D.prototype,Ye,{value:b(wt,function(xt,...$t){for(const[en,Vt]of Ps)if(en.test(xt)){const tn=this.canvas;let cn=Qe(tn).closest(Vt.selector);cn&&!Ao.has(cn)?(Rr(cn),Ao.add(cn),We("success","Matched: ",cn,`
FILTER: hide-if-canvas-contains ${Vt.formattedArguments}`)):ho(tn,Vt,Ye,xt)}return f(wt,this,[xt,...$t])})})};const qe=Fo.prototype;We("info","CanvasRenderingContext2D proxied"),gt("fillText"),gt("strokeText"),Ps=new Oi,new ll(Ye=>{for(let wt of Qe(Ye))wt.type==="childList"&&Ls.forEach(({canvasElement:xt,rule:$t,functionName:en,text:Vt})=>{let tn=Qe(xt).closest($t.selector);tn&&!Ao.has(tn)&&(Rr(tn),Ao.add(tn),Ls.delete({canvasElement:xt,rule:$t,functionName:en,text:Vt}),qa("hide-if-canvas-contains")("success","Matched: ",tn,`
FILTER: hide-if-canvas-contains ${$t.formattedArguments}`))})}).observe(Ci,{childList:!0,subtree:!0})}const at=ya(ye);Ps.set(at,{selector:Me,formattedArguments:Pe})},"hide-if-shadow-contains":function(ye,Me="*"){const We=zn(arguments);let Pe=`${ye}\\${Me}`;oi.has(Pe)||oi.set(Pe,[ya(ye),Me,or],We);const at=qa("hide-if-shadow-contains");So||(So=new ai(qe=>{let gt=new Xo;for(let{target:Ye}of Qe(qe)){let wt=Qe(Ye).parentNode;for(;wt;)[Ye,wt]=[wt,Qe(Ye).parentNode];if(!Bi.has(Ye)&&!gt.has(Ye)){gt.add(Ye);for(let[xt,$t,en]of oi.values())if(xt.test(Qe(Ye).textContent)){let Vt=Qe(Ye.host).closest($t);Vt&&(en(),Qe(Ye).appendChild(document.createElement("style")).textContent=":host {display: none !important}",Rr(Vt),Bi.add(Ye),at("success","Hiding: ",Vt,`
FILTER: hide-if-shadow-contains ${We}`))}}}}),Mo.defineProperty(Us,"attachShadow",{value:b(ri,function(){let qe=f(ri,this,arguments);return at("info","attachShadow is called for: ",qe),So.observe(qe,{childList:!0,characterData:!0,subtree:!0}),qe})}))},"json-override":function(ye,Me,We="",Pe=""){if(!ye)throw new Ri("[json-override snippet]: Missing paths to override.");if(Me===void 0)throw new Ri("[json-override snippet]: No value to override with.");if(!pr){let gt=function(xt,$t){for(let{formattedArgs:en,prune:Vt,needle:tn,filter:cn,value:Fn}of pr.values())if(!cn||cn.test($t)){if(Qe(tn).some(Ia=>!Kt(xt,Ia)))return xt;for(let Ia of Vt){let kr=Kt(xt,Ia);kr!==void 0&&(qe("success",`Found ${Ia} replaced it with ${Fn}`,`
FILTER: json-override ${en}`),kr[0][kr[1]]=Zn(Fn))}}return xt},qe=qa("json-override"),{parse:Ye}=Fi;pr=new Mi,jr.defineProperty(window.JSON,"parse",{value:b(Ye,function(xt){return gt(f(Ye,this,arguments),xt)})}),qe("info","Wrapped JSON.parse for override");let{json:wt}=eo.prototype;jr.defineProperty(window.Response.prototype,"json",{value:b(wt,function(xt){return f(wt,this,arguments).then($t=>gt($t,xt))})}),qe("info","Wrapped Response.json for override")}const at=zn(arguments);pr.set(ye,{formattedArgs:at,prune:Qe(ye).split(/ +/),needle:We.length?Qe(We).split(/ +/):[],filter:Pe?ya(Pe):null,value:Me})},"json-prune":function(ye,Me=""){if(!ye)throw new zs("Missing paths to prune");if(!to){let at=function(xt){for(let{prune:$t,needle:en,formattedArgs:Vt}of to.values()){if(Qe(en).some(tn=>!Kt(xt,tn)))return xt;for(let tn of $t)tn.includes("{}")||tn.includes("[]")?qe(xt,tn,Vt):gt(xt,tn,Vt)}return xt},qe=function(xt,$t,en){let Vt=Qe($t).split("."),tn=xt;for(let cn=0;cn<Vt.length;cn++){let Fn=Vt[cn];if(Fn==="[]")return void(dl.isArray(tn)&&(Pe("info",`Iterating over array at: ${Fn}`),Qe(tn).forEach(Ia=>qe(Ia,Vt.slice(cn+1).join("."),en))));if(Fn==="{}")return void(typeof tn=="object"&&tn!==null&&(Pe("info",`Iterating over object at: ${Fn}`),Yo.keys(tn).forEach(Ia=>qe(tn[Ia],Vt.slice(cn+1).join("."),en))));if(!tn||typeof tn!="object"||!X(tn,Fn))return;cn===Vt.length-1?(Pe("success",`Found ${$t} and deleted, 
FILTER: json-prune ${en}`),delete tn[Fn]):tn=tn[Fn]}},gt=function(xt,$t,en){let Vt=Kt(xt,$t);Vt!==void 0&&(Pe("success",`Found ${$t} and deleted`,`
FILTER: json-prune ${en}`),delete Vt[0][Vt[1]])},Pe=qa("json-prune"),{parse:Ye}=si;to=new fl,Yo.defineProperty(window.JSON,"parse",{value:b(Ye,function(){return at(f(Ye,this,arguments))})}),Pe("info","Wrapped JSON.parse for prune");let{json:wt}=ws.prototype;Yo.defineProperty(window.Response.prototype,"json",{value:b(wt,function(){return f(wt,this,arguments).then(xt=>at(xt))})}),Pe("info","Wrapped Response.json for prune")}const We=zn(arguments);to.set(ye,{formattedArgs:We,prune:Qe(ye).split(/ +/),needle:Me.length?Qe(Me).split(/ +/):[]})},"override-property-read":function(ye,Me,We){if(!ye)throw new qo("[override-property-read snippet]: No property to override.");if(Me===void 0)throw new qo("[override-property-read snippet]: No value to override with.");const Pe=zn(arguments);let at=qa("override-property-read"),qe=Zn(Me);at("info",`Overriding ${ye}.`),En(window,ye,{get:()=>(at("success",`${ye} override done.`,`
FILTER: override-property-read`,Pe),qe),set(){}},We!=="false")},"prevent-listener":function(ye,Me,We){if(!ye)throw new Te("[prevent-listener snippet]: No event type.");if(!Tt){Tt=new Ee;let Ye=qa("[prevent]");Fe.defineProperty(rt,"addEventListener",{value:b(et,function(wt,xt){for(let{evt:$t,handlers:en,selectors:Vt}of Tt.values()){if(!$t.test(wt))continue;let tn=this instanceof Element;for(let cn=0;cn<en.length;cn++){const Fn=en[cn],Ia=Vt[cn];if(!Ia||tn&&Qe(this).matches(Ia)){if(Fn){const kr=function(){try{const Ir=String(typeof xt=="function"?xt:xt.handleEvent);return Fn.test(Ir)}catch(Ir){return Ye("error","Error while trying to stringify listener: ",Ir),!1}};if(!function(){try{const Ir=u(Ve,typeof xt=="function"?xt:xt.handleEvent);return Fn.test(Ir)}catch(Ir){return Ye("error","Error while trying to stringify listener: ",Ir),!1}}()&&!kr())continue}return void(jn()&&(nt.groupCollapsed("DEBUG [prevent] was successful",`
FILTER: prevent-listener ${gt}`),Ye("success",`type: ${wt} matching ${$t}`),Ye("success","handler:",xt),Fn&&Ye("success",`matching ${Fn}`),Ia&&Ye("success","on element: ",this,` matching ${Ia}`),Ye("success","was prevented from being added"),nt.groupEnd()))}}}return f(et,this,arguments)})}),Ye("info","Wrapped addEventListener")}const Pe=zn(arguments);Tt.has(ye)||Tt.set(ye,{evt:ya(ye),handlers:[],selectors:[],formattedArgs:Pe});let{handlers:at,selectors:qe,formattedArgs:gt}=Tt.get(ye);at.push(Me?ya(Me):null),qe.push(We)},"replace-fetch-response":function(ye,Me="",We=null){const Pe=zn(arguments),at=qa("replace-fetch-response");if(!ye)return void at("error","The parameter 'search' is required");if(!Yt){const wt=xt=>Qe(xt).clone().text().then($t=>{let en=Qe($t);for(const[tn,{replacement:cn,needle:Fn,formattedArgs:Ia}]of Yt){if(Fn){if(!ya(Fn).test(en)){jn()&&(console.groupCollapsed(`DEBUG [replace-fetch-response] warn: '${Fn}' not found in fetch response`),at("warn",`${en}`),console.groupEnd());continue}jn()&&(console.groupCollapsed(`DEBUG [replace-fetch-response] success: '${Fn}' found in fetch response`),at("info",`${en}`),console.groupEnd())}en=en.replace(tn,cn),jn()&&en.toString()!==$t.toString()&&(console.groupCollapsed(`DEBUG [replace-fetch-response] success: '${tn}' replaced with '${cn}' in fetch response`,`
FILTER: replace-fetch-response ${Ia}`),at("success",`${en}`),console.groupEnd())}if(en.toString()===$t.toString())return xt;const Vt=new Jt(en.toString(),{status:xt.status,statusText:xt.statusText,headers:xt.headers});return Mt.defineProperties(Vt,{ok:{value:xt.ok},redirected:{value:xt.redirected},type:{value:xt.type},url:{value:xt.url}}),Vt});Yt=new qt,at("info","Network API proxied"),qe=wt,St.push(qe),ln()}var qe;const gt=ya(ye),Ye=new Xt(gt,"g");Yt.set(Ye,{replacement:Me,needle:We,formattedArgs:Pe})},"replace-xhr-response":function(ye,Me="",We=null){const Pe=zn(arguments),at=qa("replace-xhr-response");if(!ye)return void at("error","The parameter 'pattern' is required");gn||(gn=new Ka,Jn=new Map,at("info","XMLHttpRequest proxied"),window.XMLHttpRequest=class extends Fr{open(Ye,wt,...xt){const $t={method:Ye,url:wt};return gn.set(this,$t),super.open(Ye,wt,...xt)}get response(){const Ye=super.response,wt=gn.get(this);if(wt===void 0)return Ye;const xt=typeof Ye=="string"?Ye.length:void 0;if(wt.lastResponseLength!==xt&&(wt.response=void 0,wt.lastResponseLength=xt),wt.response!==void 0)return wt.response;if(typeof Ye!="string")return wt.response=Ye;let $t=Ye;for(const[en,{replacement:Vt,needle:tn,formattedArgs:cn}]of Jn){if(tn){if(!ya(tn).test($t)){jn()&&(console.groupCollapsed(`DEBUG [replace-xhr-response] warn: '${tn}' not found in XHR response`),at("warn",$t),console.groupEnd());continue}jn()&&(console.groupCollapsed(`DEBUG [replace-xhr-response] success: '${tn}' found in XHR response`),at("info",$t),console.groupEnd())}$t=Qe($t).replace(en,Vt).toString(),jn()&&Ye.toString()!==$t.toString()&&(console.groupCollapsed(`DEBUG [replace-xhr-response] success: '${en}' replaced with '${Vt}' in XHR response`,`
FILTER: replace-xhr-response ${cn}`),at("success",$t),console.groupEnd())}return wt.response=$t.toString()}get responseText(){const Ye=this.response;return typeof Ye!="string"?super.responseText:Ye}});const qe=ya(ye),gt=new Fa(qe,"g");Jn.set(gt,{replacement:Me,needle:We,formattedArgs:Pe})},"strip-fetch-query-parameter":function(ye,Me=null){const We=zn(arguments),Pe=qa("strip-fetch-query-parameter"),at=gt=>{for(let[Ye,wt]of In.entries()){const{reg:xt,args:$t}=wt;xt&&!xt.test(gt)||la(gt.searchParams,Ye)&&(Pe("success",`${Ye} has been stripped from url ${gt}`,`
FILTER: strip-fetch-query-parameter ${$t}`),Da(gt.searchParams,Ye))}};var qe;In||(In=new Map,qe=at,Dt.push(qe),ln()),In.set(ye,{reg:Me&&ya(Me),args:We})},trace:function(...ye){f(Ar,null,ye)}};let Qn;for(const[ye,...Me]of e)if($a.hasOwnProperty(ye))try{Qn=$a[ye].apply(Qn,Me)}catch(We){console.error(We)}Qn=void 0},S0=new Map([["abort-current-inline-script",null],["abort-on-iframe-property-read",null],["abort-on-iframe-property-write",null],["abort-on-property-read",null],["abort-on-property-write",null],["array-override",null],["cookie-remover",null],["debug",null],["freeze-element",null],["hide-if-canvas-contains",null],["hide-if-shadow-contains",null],["json-override",null],["json-prune",null],["override-property-read",null],["prevent-listener",null],["replace-fetch-response",null],["replace-xhr-response",null],["strip-fetch-query-parameter",null],["trace",null]]);x1.get=n=>S0.get(n);x1.has=n=>S0.has(n);/*
 * This file is part of eyeo's mlaf module (@eyeo/mlaf),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * @eyeo/mlaf is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * @eyeo/mlaf is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with @eyeo/mlaf.  If not, see <http://www.gnu.org/licenses/>.
 *
 * The following npm packages may be included in this file:
 *
 * - tfjs
 * - tfjs-backend-cpu
 * - tfjs-backend-webgl
 * - tfjs-converter
 * - tfjs-core
 * - tfjs-data
 * - tfjs-layers
 *
 * These packages contain the following information about the license:
 *
 *  * @license
 *  * Copyright 2018-2022 Google LLC. All Rights Reserved.
 *  * Licensed under the Apache License, Version 2.0 (the "License");
 *  * you may not use this file except in compliance with the License.
 *  * You may obtain a copy of the License at
 *  *
 *  * http://www.apache.org/licenses/LICENSE-2.0
 *  *
 *  * Unless required by applicable law or agreed to in writing, software
 *  * distributed under the License is distributed on an "AS IS" BASIS,
 *  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  * See the License for the specific language governing permissions and
 *  * limitations under the License.
 *  * =============================================================================
 */function lO(n,e){return e.forEach(function(a){a&&typeof a!="string"&&!Array.isArray(a)&&Object.keys(a).forEach(function(o){if(o!=="default"&&!(o in n)){var l=Object.getOwnPropertyDescriptor(a,o);Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:function(){return a[o]}})}})}),Object.freeze(n)}const uO=1e-7,cO=1e-4;class pO{constructor(e,a){this.backend=e,this.dataMover=a,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,a){this.dataIdsCount++,this.data.set(e,a)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class T0{refCount(e){return notYetImplemented("refCount")}incRef(e){return notYetImplemented("incRef")}timerAvailable(){return!0}time(e){return notYetImplemented("time")}read(e){return notYetImplemented("read")}readSync(e){return notYetImplemented("readSync")}readToGPU(e,a){return notYetImplemented("readToGPU")}numDataIds(){return notYetImplemented("numDataIds")}disposeData(e,a){return notYetImplemented("disposeData")}write(e,a,o){return notYetImplemented("write")}move(e,a,o,l,p){return notYetImplemented("move")}memory(){return notYetImplemented("memory")}floatPrecision(){return notYetImplemented("floatPrecision")}epsilon(){return this.floatPrecision()===32?uO:cO}dispose(){return notYetImplemented("dispose")}}function dO(n){return n%2===0?n:n+1}function fO(n){let e=0;for(let a=0;a<n.length;a++)e+=n[a];return e}function on(n,e){if(!n)throw new Error(typeof e=="string"?e:e())}function j0(n,e,a=""){on(wo(n,e),()=>a+` Shapes ${n} and ${e} must match`)}function I0(n){on(n!=null,()=>"The input to the tensor constructor must be a non-null value.")}function Mu(n,e=[],a=!1){if(e==null&&(e=[]),Array.isArray(n)||Ei(n)&&!a)for(let o=0;o<n.length;++o)Mu(n[o],e,a);else e.push(n);return e}function kn(n){if(n.length===0)return 1;let e=n[0];for(let a=1;a<n.length;a++)e*=n[a];return e}function wo(n,e){if(n===e)return!0;if(n==null||e==null||n.length!==e.length)return!1;for(let a=0;a<n.length;a++)if(n[a]!==e[a])return!1;return!0}function N0(n){return n%1===0}function Om(n){const e=Math.ceil(Math.sqrt(n));return[e,Math.ceil(n/e)]}function Qh(n,e){return e<=n.length?n:n+" ".repeat(e-n.length)}function qb(n,e=o=>0,a){return new Promise((o,l)=>{let p=0;const f=()=>{if(n()){o();return}p++;const d=e(p);setTimeout(f,d)};f()})}function hO(n,e){let a=1,o=-1;for(let p=0;p<n.length;++p)if(n[p]>=0)a*=n[p];else if(n[p]===-1){if(o!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${o} and dim ${p}`);o=p}else if(n[p]<0)throw Error(`Shapes can not be < 0. Found ${n[p]} at dim ${p}`);if(o===-1){if(e>0&&e!==a)throw Error(`Size(${e}) must match the product of shape ${n}`);return n}if(a===0)throw Error(`Cannot infer the missing size in [${n}] when there are 0 elements`);if(e%a!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${a}`);const l=n.slice();return l[o]=e/a,l}function ol(n,e){const a=e.length;return n=n==null?e.map((o,l)=>l):[].concat(n),on(n.every(o=>o>=-a&&o<a),()=>`All values in axis param must be in range [-${a}, ${a}) but got axis ${n}`),on(n.every(o=>N0(o)),()=>`All values in axis param must be integers but got axis ${n}`),n.map(o=>o<0?a+o:o)}function Vc(n,e){const a=[],o=[],l=e!=null&&Array.isArray(e)&&e.length===0,p=e==null||l?null:ol(e,n).sort();let f=0;for(let d=0;d<n.length;++d){if(p!=null){if(p[f]===d&&n[d]!==1)throw new Error(`Can't squeeze axis ${d} since its dim '${n[d]}' is not 1`);(p[f]==null||p[f]>d)&&n[d]===1&&(a.push(n[d]),o.push(d)),p[f]<=d&&f++}n[d]!==1&&(a.push(n[d]),o.push(d))}return{newShape:a,keptDims:o}}function qu(n,e){let a=null;if(n==null||n==="float32")a=new Float32Array(e);else if(n==="int32")a=new Int32Array(e);else if(n==="bool")a=new Uint8Array(e);else throw new Error(`Unknown data type ${n}`);return a}function D0(n,e){let a=null;if(n==null||n==="float32")a=new Float32Array(e);else if(n==="int32")a=new Int32Array(e);else if(n==="bool")a=new Uint8Array(e);else if(n==="string")a=new Array(e);else throw new Error(`Unknown data type ${n}`);return a}function mO(n){return n==="bool"||n==="complex64"||n==="float32"||n==="int32"||n==="string"}function gO(n,e){return!(e==="complex64"||e==="float32"&&n!=="complex64"||e==="int32"&&n!=="float32"&&n!=="complex64"||e==="bool"&&n==="bool")}function Ei(n){return n instanceof Float32Array||n instanceof Int32Array||n instanceof Uint8Array||n instanceof Uint8ClampedArray}function Bm(n){if(n==="float32"||n==="int32")return 4;if(n==="complex64")return 8;if(n==="bool")return 1;throw new Error(`Unknown dtype ${n}`)}function yO(n){if(n==null)return 0;let e=0;return n.forEach(a=>e+=a.length),e}function bO(n){return typeof n=="number"}function _1(n){return Array.isArray(n)?_1(n[0]):n instanceof Float32Array?"float32":n instanceof Int32Array||n instanceof Uint8Array||n instanceof Uint8ClampedArray?"int32":bO(n)?"float32":isString(n)?"string":isBoolean(n)?"bool":"float32"}function Zb(n){return!!(n&&n.constructor&&n.call&&n.apply)}function wO(n,e){for(let a=e;a<n;++a)if(n%a===0)return a;return n}function Vo(n){const e=n.length;if(e<2)return[];const a=new Array(e-1);a[e-2]=n[e-1];for(let o=e-3;o>=0;--o)a[o]=a[o+1]*n[o+1];return a}function C0(n,e,a,o=!1){const l=new Array;if(e.length===1){const p=e[0]*(o?2:1);for(let f=0;f<p;f++)l[f]=a[n+f]}else{const p=e[0],f=e.slice(1),d=f.reduce((u,h)=>u*h)*(o?2:1);for(let u=0;u<p;u++)l[u]=C0(n+u*d,f,a,o)}return l}function Rm(n,e,a=!1){if(n.length===0)return e[0];const o=n.reduce((l,p)=>l*p)*(a?2:1);if(o===0)return[];if(o!==e.length)throw new Error(`[${n}] does not match the input size ${e.length}${a?" for a complex tensor":""}.`);return C0(0,n,e,a)}function O0(n,e){const a=zl(n,e);for(let o=0;o<a.length;o++)a[o]=1;return a}function zl(n,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(n);if(e==="int32")return new Int32Array(n);if(e==="bool")return new Uint8Array(n);throw new Error(`Unknown data type ${e}`)}function B0(n){n.forEach(e=>{on(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${n}].`)})}function Fm(n,e,a){if(e===0)return 0;if(e===1)return n[0];let o=n[n.length-1];for(let l=0;l<n.length-1;++l)o+=a[l]*n[l];return o}function R0(n,e,a){if(e===0)return[];if(e===1)return[n];const o=new Array(e);for(let l=0;l<o.length-1;++l)o[l]=Math.floor(n/a[l]),n-=o[l]*a[l];return o[o.length-1]=n,o}function Pu(n){return n&&n.then&&typeof n.then=="function"}const Jb="tfjsflags";class vO{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=xO,this.populateURLFlags()}setPlatform(e,a){this.platform!=null&&(vt().getBool("IS_TEST")||vt().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=a}registerFlag(e,a,o){if(this.flagRegistry[e]={evaluationFn:a,setHook:o},this.urlFlags[e]!=null){const l=this.urlFlags[e];vt().getBool("IS_TEST")||vt().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${l}.`),this.set(e,l)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const a=this.evaluateFlag(e);if(Pu(a))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=a,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,a){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=a,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(a)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);Jb in e&&e[Jb].split(",").forEach(o=>{const[l,p]=o.split(":");this.urlFlags[l]=parseValue(l,p)})}}function xO(n){const e={};return n.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(a,...o)=>(_O(e,o[0],o[1]),o.join("="))),e}function _O(n,e,a){n[decodeURIComponent(e)]=decodeURIComponent(a||"")}function vt(){return F0}let F0=null;function kO(n){F0=n}let em;function M0(){if(em==null){let n;if(typeof window<"u")n=window;else if(typeof global<"u")n=global;else if(typeof process<"u")n=process;else if(typeof self<"u")n=self;else throw new Error("Could not find a global object");em=n}return em}function EO(){const n=M0();return n._tfGlobals==null&&(n._tfGlobals=new Map),n._tfGlobals}function k1(n,e){const a=EO();if(a.has(n))return a.get(n);{const o=e();return a.set(n,o),a.get(n)}}const AO="Abs",E1="Add",P0="BatchMatMul",SO="Bincount",A1="Cast",TO="Complex",jO="ComplexAbs",L0="Concat",IO="Conv2DBackpropFilter",NO="Conv2DBackpropInput",DO="DepthwiseConv2dNativeBackpropFilter",CO="DepthwiseConv2dNativeBackpropInput",OO="RealDiv",BO="Equal",RO="Exp",FO="ExpandDims",MO="FFT",U0="GatherV2",PO="Greater",S1="Identity",LO="IsFinite",UO="Log",zO="Log1p",$O="LogicalAnd",GO="Max",VO="Maximum",z0="Mean",HO="Minimum",$0="Multiply",WO="Neg",KO="NotEqual",XO="OneHot",G0="Pack",V0="PadV2",YO="Pow",H0="Prod",qO="Range",ZO="Real",W0="Relu",K0="Reshape",JO="Reverse",X0="Select",QO="Slice",Y0="Sigmoid",q0="Sum",eB="SquaredDifference",tB="Sub",nB="Tile",Z0="Unpack",aB="ZerosLike",Mm="_FusedMatMul";function Qi(...n){vt().getBool("IS_TEST")||vt().getBool("PROD")||console.warn(...n)}function rB(...n){vt().getBool("IS_TEST")||vt().getBool("PROD")||console.log(...n)}const Od=k1("kernelRegistry",()=>new Map),oB=k1("gradRegistry",()=>new Map);function Qb(n,e){const a=J0(n,e);return Od.get(a)}function ew(n){return oB.get(n)}function tw(n){const e=Od.entries(),a=[];for(;;){const{done:o,value:l}=e.next();if(o)break;const[p,f]=l,[d]=p.split("_");d===n&&a.push(f)}return a}function sB(n){const{kernelName:e,backendName:a}=n,o=J0(e,a);Od.has(o)&&Qi(`The kernel '${e}' for backend '${a}' is already registered`),Od.set(o,n)}function J0(n,e){return`${e}_${n}`}var Hl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pm=er,as=null;try{as=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function er(n,e,a){this.low=n|0,this.high=e|0,this.unsigned=!!a}er.prototype.__isLong__;Object.defineProperty(er.prototype,"__isLong__",{value:!0});function Co(n){return(n&&n.__isLong__)===!0}er.isLong=Co;var nw={},aw={};function Wl(n,e){var a,o,l;return e?(n>>>=0,(l=0<=n&&n<256)&&(o=aw[n],o)?o:(a=tr(n,(n|0)<0?-1:0,!0),l&&(aw[n]=a),a)):(n|=0,(l=-128<=n&&n<128)&&(o=nw[n],o)?o:(a=tr(n,n<0?-1:0,!1),l&&(nw[n]=a),a))}er.fromInt=Wl;function rs(n,e){if(isNaN(n))return e?Dl:os;if(e){if(n<0)return Dl;if(n>=Q0)return nv}else{if(n<=-ow)return Do;if(n+1>=ow)return tv}return n<0?rs(-n,e).neg():tr(n%Lu|0,n/Lu|0,e)}er.fromNumber=rs;function tr(n,e,a){return new er(n,e,a)}er.fromBits=tr;var Bd=Math.pow;function T1(n,e,a){if(n.length===0)throw Error("empty string");if(n==="NaN"||n==="Infinity"||n==="+Infinity"||n==="-Infinity")return os;if(typeof e=="number"?(a=e,e=!1):e=!!e,a=a||10,a<2||36<a)throw RangeError("radix");var o;if((o=n.indexOf("-"))>0)throw Error("interior hyphen");if(o===0)return T1(n.substring(1),e,a).neg();for(var l=rs(Bd(a,8)),p=os,f=0;f<n.length;f+=8){var d=Math.min(8,n.length-f),u=parseInt(n.substring(f,f+d),a);if(d<8){var h=rs(Bd(a,d));p=p.mul(h).add(rs(u))}else p=p.mul(l),p=p.add(rs(u))}return p.unsigned=e,p}er.fromString=T1;function Bs(n,e){return typeof n=="number"?rs(n,e):typeof n=="string"?T1(n,e):tr(n.low,n.high,typeof e=="boolean"?e:n.unsigned)}er.fromValue=Bs;var rw=65536,iB=1<<24,Lu=rw*rw,Q0=Lu*Lu,ow=Q0/2,sw=Wl(iB),os=Wl(0);er.ZERO=os;var Dl=Wl(0,!0);er.UZERO=Dl;var Tu=Wl(1);er.ONE=Tu;var ev=Wl(1,!0);er.UONE=ev;var Lm=Wl(-1);er.NEG_ONE=Lm;var tv=tr(-1,2147483647,!1);er.MAX_VALUE=tv;var nv=tr(-1,-1,!0);er.MAX_UNSIGNED_VALUE=nv;var Do=tr(0,-2147483648,!1);er.MIN_VALUE=Do;var Ft=er.prototype;Ft.toInt=function(){return this.unsigned?this.low>>>0:this.low};Ft.toNumber=function(){return this.unsigned?(this.high>>>0)*Lu+(this.low>>>0):this.high*Lu+(this.low>>>0)};Ft.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Do)){var a=rs(e),o=this.div(a),l=o.mul(a).sub(this);return o.toString(e)+l.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var p=rs(Bd(e,6),this.unsigned),f=this,d="";;){var u=f.div(p),h=f.sub(u.mul(p)).toInt()>>>0,y=h.toString(e);if(f=u,f.isZero())return y+d;for(;y.length<6;)y="0"+y;d=""+y+d}};Ft.getHighBits=function(){return this.high};Ft.getHighBitsUnsigned=function(){return this.high>>>0};Ft.getLowBits=function(){return this.low};Ft.getLowBitsUnsigned=function(){return this.low>>>0};Ft.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Do)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,a=31;a>0&&!(e&1<<a);a--);return this.high!=0?a+33:a+1};Ft.isZero=function(){return this.high===0&&this.low===0};Ft.eqz=Ft.isZero;Ft.isNegative=function(){return!this.unsigned&&this.high<0};Ft.isPositive=function(){return this.unsigned||this.high>=0};Ft.isOdd=function(){return(this.low&1)===1};Ft.isEven=function(){return(this.low&1)===0};Ft.equals=function(e){return Co(e)||(e=Bs(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};Ft.eq=Ft.equals;Ft.notEquals=function(e){return!this.eq(e)};Ft.neq=Ft.notEquals;Ft.ne=Ft.notEquals;Ft.lessThan=function(e){return this.comp(e)<0};Ft.lt=Ft.lessThan;Ft.lessThanOrEqual=function(e){return this.comp(e)<=0};Ft.lte=Ft.lessThanOrEqual;Ft.le=Ft.lessThanOrEqual;Ft.greaterThan=function(e){return this.comp(e)>0};Ft.gt=Ft.greaterThan;Ft.greaterThanOrEqual=function(e){return this.comp(e)>=0};Ft.gte=Ft.greaterThanOrEqual;Ft.ge=Ft.greaterThanOrEqual;Ft.compare=function(e){if(Co(e)||(e=Bs(e)),this.eq(e))return 0;var a=this.isNegative(),o=e.isNegative();return a&&!o?-1:!a&&o?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};Ft.comp=Ft.compare;Ft.negate=function(){return!this.unsigned&&this.eq(Do)?Do:this.not().add(Tu)};Ft.neg=Ft.negate;Ft.add=function(e){Co(e)||(e=Bs(e));var a=this.high>>>16,o=this.high&65535,l=this.low>>>16,p=this.low&65535,f=e.high>>>16,d=e.high&65535,u=e.low>>>16,h=e.low&65535,y=0,b=0,x=0,A=0;return A+=p+h,x+=A>>>16,A&=65535,x+=l+u,b+=x>>>16,x&=65535,b+=o+d,y+=b>>>16,b&=65535,y+=a+f,y&=65535,tr(x<<16|A,y<<16|b,this.unsigned)};Ft.subtract=function(e){return Co(e)||(e=Bs(e)),this.add(e.neg())};Ft.sub=Ft.subtract;Ft.multiply=function(e){if(this.isZero())return os;if(Co(e)||(e=Bs(e)),as){var a=as.mul(this.low,this.high,e.low,e.high);return tr(a,as.get_high(),this.unsigned)}if(e.isZero())return os;if(this.eq(Do))return e.isOdd()?Do:os;if(e.eq(Do))return this.isOdd()?Do:os;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(sw)&&e.lt(sw))return rs(this.toNumber()*e.toNumber(),this.unsigned);var o=this.high>>>16,l=this.high&65535,p=this.low>>>16,f=this.low&65535,d=e.high>>>16,u=e.high&65535,h=e.low>>>16,y=e.low&65535,b=0,x=0,A=0,j=0;return j+=f*y,A+=j>>>16,j&=65535,A+=p*y,x+=A>>>16,A&=65535,A+=f*h,x+=A>>>16,A&=65535,x+=l*y,b+=x>>>16,x&=65535,x+=p*h,b+=x>>>16,x&=65535,x+=f*u,b+=x>>>16,x&=65535,b+=o*y+l*h+p*u+f*d,b&=65535,tr(A<<16|j,b<<16|x,this.unsigned)};Ft.mul=Ft.multiply;Ft.divide=function(e){if(Co(e)||(e=Bs(e)),e.isZero())throw Error("division by zero");if(as){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var a=(this.unsigned?as.div_u:as.div_s)(this.low,this.high,e.low,e.high);return tr(a,as.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Dl:os;var o,l,p;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Dl;if(e.gt(this.shru(1)))return ev;p=Dl}else{if(this.eq(Do)){if(e.eq(Tu)||e.eq(Lm))return Do;if(e.eq(Do))return Tu;var f=this.shr(1);return o=f.div(e).shl(1),o.eq(os)?e.isNegative()?Tu:Lm:(l=this.sub(e.mul(o)),p=o.add(l.div(e)),p)}else if(e.eq(Do))return this.unsigned?Dl:os;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();p=os}for(l=this;l.gte(e);){o=Math.max(1,Math.floor(l.toNumber()/e.toNumber()));for(var d=Math.ceil(Math.log(o)/Math.LN2),u=d<=48?1:Bd(2,d-48),h=rs(o),y=h.mul(e);y.isNegative()||y.gt(l);)o-=u,h=rs(o,this.unsigned),y=h.mul(e);h.isZero()&&(h=Tu),p=p.add(h),l=l.sub(y)}return p};Ft.div=Ft.divide;Ft.modulo=function(e){if(Co(e)||(e=Bs(e)),as){var a=(this.unsigned?as.rem_u:as.rem_s)(this.low,this.high,e.low,e.high);return tr(a,as.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};Ft.mod=Ft.modulo;Ft.rem=Ft.modulo;Ft.not=function(){return tr(~this.low,~this.high,this.unsigned)};Ft.and=function(e){return Co(e)||(e=Bs(e)),tr(this.low&e.low,this.high&e.high,this.unsigned)};Ft.or=function(e){return Co(e)||(e=Bs(e)),tr(this.low|e.low,this.high|e.high,this.unsigned)};Ft.xor=function(e){return Co(e)||(e=Bs(e)),tr(this.low^e.low,this.high^e.high,this.unsigned)};Ft.shiftLeft=function(e){return Co(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?tr(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):tr(0,this.low<<e-32,this.unsigned)};Ft.shl=Ft.shiftLeft;Ft.shiftRight=function(e){return Co(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?tr(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):tr(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};Ft.shr=Ft.shiftRight;Ft.shiftRightUnsigned=function(e){if(Co(e)&&(e=e.toInt()),e&=63,e===0)return this;var a=this.high;if(e<32){var o=this.low;return tr(o>>>e|a<<32-e,a>>>e,this.unsigned)}else return e===32?tr(a,0,this.unsigned):tr(a>>>e-32,0,this.unsigned)};Ft.shru=Ft.shiftRightUnsigned;Ft.shr_u=Ft.shiftRightUnsigned;Ft.toSigned=function(){return this.unsigned?tr(this.low,this.high,!1):this};Ft.toUnsigned=function(){return this.unsigned?this:tr(this.low,this.high,!0)};Ft.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};Ft.toBytesLE=function(){var e=this.high,a=this.low;return[a&255,a>>>8&255,a>>>16&255,a>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};Ft.toBytesBE=function(){var e=this.high,a=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,a>>>24,a>>>16&255,a>>>8&255,a&255]};er.fromBytes=function(e,a,o){return o?er.fromBytesLE(e,a):er.fromBytesBE(e,a)};er.fromBytesLE=function(e,a){return new er(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,a)};er.fromBytesBE=function(e,a){return new er(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],a)};var lB=lO({__proto__:null,default:Pm},[Pm]);const uB=Pm||lB;function j1(n){return uB.fromString(n,!0,16)}j1("c3a5c85c97cb3127");j1("b492b66fbe98f273");j1("9ae16a3b2f90404f");function av(n,e){return e==="string"?encodeString(n):I1([n],e)}function cB(n,e){return n instanceof Float32Array&&e==="float32"||n instanceof Int32Array&&e==="int32"||n instanceof Uint8Array&&e==="bool"}function I1(n,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(n)&&(n=Mu(n)),vt().getBool("DEBUG")&&checkConversionForErrors(n,e),cB(n,e))return n;if(e==null||e==="float32"||e==="complex64")return new Float32Array(n);if(e==="int32")return new Int32Array(n);if(e==="bool"){const a=new Uint8Array(n.length);for(let o=0;o<a.length;++o)Math.round(n[o])!==0&&(a[o]=1);return a}else throw new Error(`Unknown data type ${e}`)}function Is(){return vt().platform.now()}class pB{constructor(e,a){this.backendTimer=e,this.logger=a,a==null&&(this.logger=new dB)}profileKernel(e,a,o){let l;const p=()=>{l=o()};let f;const d=Is();if(this.backendTimer.timerAvailable())f=this.backendTimer.time(p);else{p();for(const h of l)h.dataSync();f=Promise.resolve({kernelMs:Is()-d})}if(vt().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let h=0;h<l.length;h++){const y=l[h];y.data().then(b=>{checkComputationForErrors(b,y.dtype,e)})}return{kernelName:e,outputs:l,inputs:a,timeMs:f.then(h=>h.kernelMs),extraInfo:f.then(h=>h.getExtraProfileInfo!=null?h.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:a,outputs:o,timeMs:l,inputs:p,extraInfo:f}=e;o.forEach(d=>{Promise.all([d.data(),l,f]).then(u=>{this.logger.logKernelProfile(a,d,u[0],u[1],p,u[2])})})}}class dB{logKernelProfile(e,a,o,l,p,f){const d=typeof l=="number"?Qh(`${l}ms`,9):l.error,u=Qh(e,25),h=a.rank,y=a.size,b=Qh(a.shape.toString(),14);let x="";for(const A in p){const j=p[A];if(j!=null){const T=j.shape||a.shape,I=T.length;x+=`${A}: ${I}D ${I>0?T:""} `}}console.log(`%c${u}	%c${d}	%c${h}D ${b}	%c${y}	%c${x}	%c${f}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}function fB(n,e,a){const o={},l={};for(let u=0;u<e.length;u++)o[e[u].id]=!0;for(let u=0;u<n.length;u++){const h=n[u],y=h.inputs;for(const b in y){const x=y[b];let A=!1;for(let j=0;j<e.length;j++)if(o[x.id]){h.outputs.forEach(T=>o[T.id]=!0),A=!0,l[h.id]=!0;break}if(A)break}}const p={};p[a.id]=!0;const f={};for(let u=n.length-1;u>=0;u--){const h=n[u],y=h.inputs;for(let b=0;b<h.outputs.length;b++)if(p[h.outputs[b].id]){for(const x in y)p[y[x].id]=!0,f[h.id]=!0;break}}const d=[];for(let u=0;u<n.length;u++){const h=n[u];if(l[h.id]&&f[h.id]){const y={};for(const x in h.inputs){const A=h.inputs[x];o[A.id]&&(y[x]=A)}const b=Object.assign({},h);b.inputs=y,b.outputs=h.outputs,d.push(b)}}return d}class hB{constructor(e,a,o){if(this.dtype=a,this.shape=e.slice(),this.size=kn(e),o!=null){const l=o.length;on(l===this.size,()=>`Length of values '${l}' does not match the size inferred by the shape '${this.size}'.`)}if(a==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=o||D0(a,this.size),this.strides=Vo(e)}set(e,...a){a.length===0&&(a=[0]),on(a.length===this.rank,()=>`The number of provided coordinates (${a.length}) must match the rank (${this.rank})`);const o=this.locToIndex(a);this.values[o]=e}get(...e){e.length===0&&(e=[0]);let a=0;for(const l of e){if(l<0||l>=this.shape[a]){const p=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(p)}a++}let o=e[e.length-1];for(let l=0;l<e.length-1;++l)o+=this.strides[l]*e[l];return this.values[o]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let a=e[e.length-1];for(let o=0;o<e.length-1;++o)a+=this.strides[o]*e[o];return a}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const a=new Array(this.shape.length);for(let o=0;o<a.length-1;++o)a[o]=Math.floor(e/this.strides[o]),e-=a[o]*this.strides[o];return a[a.length-1]=e,a}get rank(){return this.shape.length}toTensor(){return Ns().makeTensor(this.values,this.shape,this.dtype)}}let Ns=null,Au=null;function mB(n){Ns=n}function gB(n){Au=n}class No{constructor(e,a,o,l){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=a||"float32",this.size=kn(e),this.strides=Vo(e),this.dataId=o,this.id=l,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return Au.buffer(this.shape,this.dtype,e)}bufferSync(){return Au.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Rm(this.shape,e,this.dtype==="complex64")}arraySync(){return Rm(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=Ns().read(this.dataId);if(this.dtype==="string"){const a=await e;try{return a.map(o=>decodeString(o))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Ns().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=Ns().readSync(this.dataId);if(this.dtype==="string")try{return e.map(a=>decodeString(a))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Ns().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(Ns().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return Au.print(this,e)}clone(){return this.throwIfDisposed(),Au.clone(this)}toString(e=!1){const a=this.dataSync();return tensorToString(a,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Au.cast(this,e)}variable(e=!0,a,o){return this.throwIfDisposed(),Ns().makeVariable(this,e,a,o)}}Object.defineProperty(No,Symbol.hasInstance,{value:n=>!!n&&n.data!=null&&n.dataSync!=null&&n.throwIfDisposed!=null});function Zu(){return k1("Tensor",()=>No)}Zu();class Um extends No{constructor(e,a,o,l){super(e.shape,e.dtype,e.dataId,l),this.trainable=a,this.name=o}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!wo(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Ns().disposeTensor(this),this.dataId=e.dataId,Ns().incRef(this,null)}dispose(){Ns().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(Um,Symbol.hasInstance,{value:n=>n instanceof No&&n.assign!=null&&n.assign instanceof Function});var iw;(function(n){n.R0="R0",n.R1="R1",n.R2="R2",n.R3="R3",n.R4="R4",n.R5="R5",n.R6="R6"})(iw||(iw={}));var zm;(function(n){n.float32="float32",n.int32="int32",n.bool="int32",n.complex64="complex64"})(zm||(zm={}));var $m;(function(n){n.float32="float32",n.int32="int32",n.bool="bool",n.complex64="complex64"})($m||($m={}));var Gm;(function(n){n.float32="float32",n.int32="float32",n.bool="float32",n.complex64="complex64"})(Gm||(Gm={}));var Vm;(function(n){n.float32="complex64",n.int32="complex64",n.bool="complex64",n.complex64="complex64"})(Vm||(Vm={}));const yB={float32:Gm,int32:zm,bool:$m,complex64:Vm};function Ai(n,e){if(n==="string"||e==="string"){if(n==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${n} with ${e}`)}return yB[n][e]}function rv(n){return Ai(n,"int32")}function Wo(n,e){if(n.dtype===e.dtype)return[n,e];const a=Ai(n.dtype,e.dtype);return[n.cast(a),e.cast(a)]}function ov(n){const e=[];return sv(n,e,new Set),e}function sv(n,e,a){if(n==null)return;if(n instanceof No){e.push(n);return}if(!bB(n))return;const o=n;for(const l in o){const p=o[l];a.has(p)||(a.add(p),sv(p,e,a))}}function bB(n){return Array.isArray(n)||typeof n=="object"}function tm(n){return n.kernelName!=null}class lw{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class Uu{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new lw}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let a=0;a<e.length;a++){const o=e[a];if(await this.initializeBackend(o).success){await this.setBackend(o);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:e,asyncInit:a}=this.initializeBackendsAndReturnBest();if(a)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:a}=this.initializeBackend(e);if(a)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,a,o=1){return e in this.registryFactory?(Qi(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:a,priority:o},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:a,asyncInit:o}=this.initializeBackend(e);if(!(o?await a:a))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new pB(this.backendInstance),!0}setupRegisteredKernels(){tw(this.backendName).forEach(a=>{a.setupFunc!=null&&a.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){tw(e).forEach(o=>{o.disposeFunc!=null&&o.disposeFunc(this.registry[e])})}initializeBackend(e){const a=this.registryFactory[e];if(a==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const o=a.factory();if(o&&!(o instanceof T0)&&typeof o.then=="function"){const l=++this.pendingBackendInitId,p=o.then(f=>l<this.pendingBackendInitId?!1:(this.registry[e]=f,this.pendingBackendInit=null,!0)).catch(f=>(l<this.pendingBackendInitId||(this.pendingBackendInit=null,Qi(`Initialization of backend ${e} failed`),Qi(f.stack||f.message)),!1));return this.pendingBackendInit=p,{success:p,asyncInit:!0}}else return this.registry[e]=o,{success:!0,asyncInit:!1}}catch(o){return Qi(`Initialization of backend ${e} failed`),Qi(o.stack||o.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,a)=>this.registryFactory[a].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let a=0;a<e.length;a++){const o=e[a],{success:l,asyncInit:p}=this.initializeBackend(o);if(p||l)return{name:o,asyncInit:p}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,a){const o=this.state.tensorInfo.get(a),l=o.backend,p=this.readSync(a),f=l.refCount(a);l.disposeData(a,!0),o.backend=e,e.move(a,p,o.shape,o.dtype,f),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,a){let o=null;if(a==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");a=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof a!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");o=e}let l;return this.scopedRun(()=>this.startScope(o),()=>this.endScope(l),()=>(l=a(),l instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),l))}scopedRun(e,a,o){e();try{const l=o();return a(),l}catch(l){throw a(),l}}nextTensorId(){return Uu.nextTensorId++}nextVariableId(){return Uu.nextVariableId++}clone(e){const a=Rt.runKernel(S1,{x:e}),o={x:e},l=f=>({x:()=>{const d="float32",u={x:f},h={dtype:d};return Rt.runKernel(A1,u,h)}}),p=[];return this.addTapeNode(this.state.activeScope.name,o,[a],l,p,{}),a}runKernel(e,a,o){if(this.backendName==null&&this.backend,!(Qb(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:a,attrs:o})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,a,o){const l=this.backend.numDataIds();let p=0;o.forEach(u=>{p+=u.dtype==="complex64"?3:1});const f=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],d=l-a-p-f;if(d>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${d} data ids) after running '${e}'`)}runKernelFunc(e){let a,o=[];const l=this.isTapeOn(),p=this.state.numBytes,f=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let d;this.backendName==null&&this.backend;let u;const h=tm(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(tm(e)){const{kernelName:j,inputs:T,attrs:I}=e;this.backendName==null&&this.backend;const S=Qb(j,this.backendName);on(S!=null,()=>`Cannot find registered kernel '${j}' for backend '${this.backendName}'`),d=()=>{const G=this.backend.numDataIds();u=S.kernelFunc({inputs:T,attrs:I,backend:this.backend});const D=Array.isArray(u)?u:[u];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(j,G,D);const X=D.map(L=>L.rank!=null?L:this.makeTensorFromTensorInfo(L));if(l){const L=this.getTensorsForGradient(j,T,X);o=this.saveTensorsForBackwardMode(L)}return X}}else{const{forwardFunc:j}=e,T=I=>{l&&(o=I.map(S=>this.keep(this.clone(S))))};d=()=>{const I=this.backend.numDataIds();u=this.tidy(()=>j(this.backend,T));const S=Array.isArray(u)?u:[u];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(h,I,S),S}}const{inputs:y,attrs:b}=e,x=tm(e)?null:e.backwardsFunc;let A;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?a=d():(A=this.profiler.profileKernel(h,y,()=>d()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(A),a=A.outputs)}),l&&this.addTapeNode(h,y,a,x,o,b),this.state.profiling&&this.state.activeProfile.kernels.push({name:h,bytesAdded:this.state.numBytes-p,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-f,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(y).map(j=>y[j]!=null?y[j].shape:null),outputShapes:a.map(j=>j.shape),kernelTimeMs:A.timeMs,extraInfo:A.extraInfo}),Array.isArray(u)?a:a[0]}saveTensorsForBackwardMode(e){return e.map(o=>this.keep(this.clone(o)))}getTensorsForGradient(e,a,o){const l=ew(e);if(l!=null){const p=l.inputsToSave||[],f=l.outputsToSave||[];let d;l.saveAllInputs?(on(Array.isArray(a),()=>"saveAllInputs is true, expected inputs to be an array."),d=Object.keys(a).map(h=>a[h])):d=p.map(h=>a[h]);const u=o.filter((h,y)=>f[y]);return d.concat(u)}return[]}makeTensor(e,a,o,l){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");o=o||"float32",l=l||this.backend;let p=e;o==="string"&&isString(e[0])&&(p=e.map(u=>encodeString(u)));const f=l.write(p,a,o),d=new No(a,o,f,this.nextTensorId());if(this.trackTensor(d,l),o==="string"){const u=this.state.tensorInfo.get(f),h=yO(p);this.state.numBytes+=h-u.bytes,u.bytes=h}return d}makeTensorFromDataId(e,a,o,l){o=o||"float32";const p={dataId:e,shape:a,dtype:o};return this.makeTensorFromTensorInfo(p,l)}makeTensorFromTensorInfo(e,a){const{dataId:o,shape:l,dtype:p}=e,f=new No(l,p,o,this.nextTensorId());return this.trackTensor(f,a),f}makeVariable(e,a=!0,o,l){o=o||this.nextVariableId().toString(),l!=null&&l!==e.dtype&&(e=e.cast(l));const p=new Um(e,a,o,this.nextTensorId());if(this.state.registeredVariables[p.name]!=null)throw new Error(`Variable with name ${p.name} was already registered`);return this.state.registeredVariables[p.name]=p,this.incRef(p,this.backend),p}trackTensor(e,a){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let o=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(o=e.size*Bm(e.dtype)),this.state.numBytes+=o,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:a||this.backend,dtype:e.dtype,shape:e.shape,bytes:o})),e instanceof Um||this.track(e)}incRef(e,a){this.trackTensor(e,a),this.backend.incRef(e.dataId)}removeDataId(e,a){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===a&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const a=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=a.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const o=e.size*Bm(e.dtype);this.state.numBytes-=o}a.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,a.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const a=this.state.registeredVariables[e];this.disposeVariable(a)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const a=this.state.numBytes,o=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(l=>l.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-a,this.state.activeProfile.newTensors=this.state.numTensors-o;for(const l of this.state.activeProfile.kernels)l.kernelTimeMs=await l.kernelTimeMs,l.extraInfo=await l.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,a,o,l,p,f){const d={id:this.state.nextTapeNodeId++,kernelName:e,inputs:a,outputs:o,saved:p},u=ew(e);u!=null&&(l=u.gradFunc),l!=null&&(d.gradient=h=>(h=h.map((y,b)=>{if(y==null){const x=o[b],A=zl(x.size,x.dtype);return this.makeTensor(A,x.shape,x.dtype)}return y}),l(h.length>1?h:h[0],p,f))),this.state.activeTape.push(d)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const a={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(a.name=e),this.state.scopeStack.push(a),this.state.activeScope=a}endScope(e){const a=ov(e),o=new Set(a.map(p=>p.id));for(let p=0;p<this.state.activeScope.track.length;p++){const f=this.state.activeScope.track[p];!f.kept&&!o.has(f.id)&&f.dispose()}const l=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],a.forEach(p=>{!p.kept&&p.scopeId===l.id&&this.track(p)})}gradients(e,a,o,l=!1){if(on(a.length>0,()=>"gradients() received an empty list of xs."),o!=null&&o.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${o.dtype}'`);const p=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));on(p instanceof No,()=>"The result y returned by f() must be a tensor.");const f=fB(this.state.activeTape,a,p);if(!l&&f.length===0&&a.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const d={};d[p.id]=o??wB(p.shape),backpropagateGradients(d,f,h=>this.tidy(h),vB);const u=a.map(h=>d[h.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(h=>{for(const y of h.saved)y.dispose()}),this.state.activeTape=null),{value:p,grads:u}})}customGrad(e){return on(Zb(e),()=>"The f passed in customGrad(f) must be a function."),(...a)=>{on(a.every(d=>d instanceof No),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let o;const l={};a.forEach((d,u)=>{l[u]=d});const p=(d,u)=>(o=e(...a,u),on(o.value instanceof No,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),on(Zb(o.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),o.value),f=(d,u)=>{const h=o.gradFunc(d,u),y=Array.isArray(h)?h:[h];on(y.length===a.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),on(y.every(x=>x instanceof No),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const b={};return y.forEach((x,A)=>{b[A]=()=>x}),b};return this.runKernelFunc({forwardFunc:p,backwardsFunc:f,inputs:l})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,a){return this.state.tensorInfo.get(e).backend.readToGPU(e,a)}async time(e){const a=Is(),o=await this.backend.time(e);return o.wallMs=Is()-a,o}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new lw;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}Uu.nextTensorId=0;Uu.nextVariableId=0;function wB(n){const e=O0(kn(n),"float32");return Rt.makeTensor(e,n,"float32")}function iv(){const n=M0();if(n._tfengine==null){const e=new vO(n);n._tfengine=new Uu(e)}return kO(n._tfengine.ENV),mB(()=>n._tfengine),n._tfengine}const Rt=iv();function vB(n,e){const a={a:n,b:e};return Rt.runKernel(E1,a)}function xB(){return typeof navigator<"u"&&navigator!=null}function lv(n){if(n||xB()){if(n||(n=navigator),n.product==="ReactNative")return!0;const e=n.userAgent||n.vendor||(typeof window<"u"?window.opera:"");if(!e){const a=n;return a.userAgentData&&a.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function uv(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}const ls=vt();ls.registerFlag("DEBUG",()=>!1,n=>{n&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});ls.registerFlag("IS_BROWSER",()=>uv());ls.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");ls.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));ls.registerFlag("PROD",()=>!1);ls.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>ls.getBool("DEBUG"));ls.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);ls.registerFlag("IS_TEST",()=>!1);ls.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>!0);ls.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);ls.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);function Kd(n,e){let a=n;if(Ei(n))return e==="string"?[]:[n.length];if(!Array.isArray(n))return[];const o=[];for(;Array.isArray(a)||Ei(a)&&e!=="string";)o.push(a.length),a=a[0];return Array.isArray(n)&&vt().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&deepAssertShapeConsistency(n,o,[]),o}function uw(n,e,a,o){if(n!=="string_or_numeric"){if(n==null)throw new Error("Expected dtype cannot be null.");if(n!=="numeric"&&n!==e||n==="numeric"&&e==="string")throw new Error(`Argument '${a}' passed to '${o}' must be ${n} tensor, but got ${e} tensor`)}}function sn(n,e,a,o="numeric"){if(n instanceof No)return uw(o,n.dtype,e,a),n;let l=_1(n);if(l!=="string"&&["bool","int32","float32"].indexOf(o)>=0&&(l=o),uw(o,l,e,a),n==null||!Ei(n)&&!Array.isArray(n)&&typeof n!="number"&&typeof n!="boolean"&&typeof n!="string"){const u=n==null?"null":n.constructor.name;throw new Error(`Argument '${e}' passed to '${a}' must be a Tensor or TensorLike, but got '${u}'`)}const p=Kd(n,l);!Ei(n)&&!Array.isArray(n)&&(n=[n]);const d=l!=="string"?I1(n,l):Mu(n,[],!0);return Rt.makeTensor(d,p,l)}function cv(n,e,a,o="numeric"){if(!Array.isArray(n))throw new Error(`Argument ${e} passed to ${a} must be a \`Tensor[]\` or \`TensorLike[]\``);return n.map((p,f)=>sn(p,`${e}[${f}]`,a,o))}const pv="__op";function Ut(n){const e=Object.keys(n);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let a=e[0];const o=n[a];a.endsWith("_")&&(a=a.substring(0,a.length-1)),a=a+pv;const l=(...p)=>{Rt.startScope(a);try{const f=o(...p);return Pu(f)&&console.error("Cannot return a Promise inside of tidy."),Rt.endScope(f),f}catch(f){throw Rt.endScope(null),f}};return Object.defineProperty(l,"name",{value:a,configurable:!0}),l}function _B(n,e){const a=sn(n,"real","complex"),o=sn(e,"imag","complex");j0(a.shape,o.shape,`real and imag shapes, ${a.shape} and ${o.shape}, must match in call to tf.complex().`);const l={real:a,imag:o};return Rt.runKernel(TO,l)}const Xd=Ut({complex_:_B});function Yd(n,e,a,o){if(o==null&&(o=_1(n)),o==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Ei(n)&&!Array.isArray(n)&&typeof n!="number"&&typeof n!="boolean"&&typeof n!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){B0(e);const l=kn(e),p=kn(a);on(l===p,()=>`Based on the provided shape, [${e}], the tensor should have ${l} values but has ${p}`);for(let f=0;f<a.length;++f){const d=a[f],u=f===a.length-1?d!==kn(e.slice(f)):!0;on(a[f]===e[f]||!u,()=>`Error creating a new Tensor. Inferred shape (${a}) does not match the provided shape (${e}). `)}}return!Ei(n)&&!Array.isArray(n)&&(n=[n]),e=e||a,n=o!=="string"?I1(n,o):Mu(n,[],!0),Rt.makeTensor(n,e,o)}function xi(n,e,a){const o=Kd(n,a);return Yd(n,e,o,a)}const Hm={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8},cw=4;function dv(n,e){const a={};let o,l=0;for(const p of e){const f=p.name,d=p.dtype,u=p.shape,h=kn(u);let y;if("quantization"in p){const b=p.quantization;if(b.dtype==="uint8"||b.dtype==="uint16"){if(!("min"in b&&"scale"in b))throw new Error(`Weight ${p.name} with quantization ${b.dtype} doesn't have corresponding metadata min and scale.`)}else if(b.dtype==="float16"){if(d!=="float32")throw new Error(`Weight ${p.name} is quantized with ${b.dtype} which only supports weights of type float32 not ${d}.`)}else throw new Error(`Weight ${p.name} has unknown quantization dtype ${b.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const x=Hm[b.dtype],A=n.slice(l,l+h*x),j=b.dtype==="uint8"?new Uint8Array(A):new Uint16Array(A);if(d==="float32")if(b.dtype==="uint8"||b.dtype==="uint16"){y=new Float32Array(j.length);for(let T=0;T<j.length;T++){const I=j[T];y[T]=I*b.scale+b.min}}else if(b.dtype==="float16")o===void 0&&(o=getFloat16Decoder()),y=o(j);else throw new Error(`Unsupported quantization type ${b.dtype} for weight type float32.`);else if(d==="int32"){if(b.dtype!=="uint8"&&b.dtype!=="uint16")throw new Error(`Unsupported quantization type ${b.dtype} for weight type int32.`);y=new Int32Array(j.length);for(let T=0;T<j.length;T++){const I=j[T];y[T]=Math.round(I*b.scale+b.min)}}else throw new Error(`Unsupported dtype in weight '${f}': ${d}`);l+=h*x}else if(d==="string"){const b=kn(p.shape);y=[];for(let x=0;x<b;x++){const A=new Uint32Array(n.slice(l,l+cw))[0];l+=cw;const j=new Uint8Array(n.slice(l,l+A));y.push(j),l+=A}}else{const b=Hm[d],x=n.slice(l,l+h*b);if(d==="float32")y=new Float32Array(x);else if(d==="int32")y=new Int32Array(x);else if(d==="bool")y=new Uint8Array(x);else if(d==="complex64"){y=new Float32Array(x);const A=new Float32Array(y.length/2),j=new Float32Array(y.length/2);for(let S=0;S<A.length;S++)A[S]=y[S*2],j[S]=y[S*2+1];const T=xi(A,u,"float32"),I=xi(j,u,"float32");a[f]=Xd(T,I),T.dispose(),I.dispose()}else throw new Error(`Unsupported dtype in weight '${f}': ${d}`);l+=h*b}d!=="complex64"&&(a[f]=xi(y,u,d))}return a}function kB(n,e){const a={modelTopology:n.modelTopology,format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy,weightsManifest:e};return n.signature!=null&&(a.signature=n.signature),n.userDefinedMetadata!=null&&(a.userDefinedMetadata=n.userDefinedMetadata),n.modelInitializer!=null&&(a.modelInitializer=n.modelInitializer),n.trainingConfig!=null&&(a.trainingConfig=n.trainingConfig),a}async function EB(n,e){const a={modelTopology:n.modelTopology,format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy};if(n.trainingConfig!=null&&(a.trainingConfig=n.trainingConfig),n.weightsManifest!=null){const[o,l]=await e(n.weightsManifest);a.weightSpecs=o,a.weightData=l}return n.signature!=null&&(a.signature=n.signature),n.userDefinedMetadata!=null&&(a.userDefinedMetadata=n.userDefinedMetadata),n.modelInitializer!=null&&(a.modelInitializer=n.modelInitializer),a}function qd(n){if(n.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:n.modelTopology==null?0:stringByteLength(JSON.stringify(n.modelTopology)),weightSpecsBytes:n.weightSpecs==null?0:stringByteLength(JSON.stringify(n.weightSpecs)),weightDataBytes:n.weightData==null?0:n.weightData.byteLength}}class hr{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return hr.instance==null&&(hr.instance=new hr),hr.instance}static registerSaveRouter(e){hr.getInstance().saveRouters.push(e)}static registerLoadRouter(e){hr.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return hr.getHandlers(e,"save")}static getLoadHandlers(e,a){return hr.getHandlers(e,"load",a)}static getHandlers(e,a,o){const l=[];return(a==="load"?hr.getInstance().loadRouters:hr.getInstance().saveRouters).forEach(f=>{const d=f(e,o);d!==null&&l.push(d)}),l}}const AB=n=>hr.registerSaveRouter(n),SB=n=>hr.registerLoadRouter(n),TB=n=>hr.getSaveHandlers(n),jB=(n,e)=>hr.getLoadHandlers(n,e),Wm="tensorflowjs",Km=1,ju="models_store",Cl="model_info_store";class Rd{constructor(e){if(this.indexedDB=getIndexedDBFactory(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,a){return new Promise((o,l)=>{const p=this.indexedDB.open(Wm,Km);p.onupgradeneeded=()=>setUpDatabase(p),p.onsuccess=()=>{const f=p.result;if(a==null){const d=f.transaction(ju,"readonly"),h=d.objectStore(ju).get(this.modelPath);h.onsuccess=()=>{if(h.result==null)return f.close(),l(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));o(h.result.modelArtifacts)},h.onerror=y=>(f.close(),l(h.error)),d.oncomplete=()=>f.close()}else{const d=qd(a),u=f.transaction(Cl,"readwrite");let h=u.objectStore(Cl);const y=h.put({modelPath:this.modelPath,modelArtifactsInfo:d});let b;y.onsuccess=()=>{b=f.transaction(ju,"readwrite");const A=b.objectStore(ju).put({modelPath:this.modelPath,modelArtifacts:a,modelArtifactsInfo:d});A.onsuccess=()=>o({modelArtifactsInfo:d}),A.onerror=j=>{h=u.objectStore(Cl);const T=h.delete(this.modelPath);T.onsuccess=()=>(f.close(),l(A.error)),T.onerror=I=>(f.close(),l(A.error))}},y.onerror=x=>(f.close(),l(y.error)),u.oncomplete=()=>{b==null?f.close():b.oncomplete=()=>f.close()}}},p.onerror=f=>l(p.error)})}}Rd.URL_SCHEME="indexeddb://";const fv=n=>vt().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(Rd.URL_SCHEME)?browserIndexedDB(n.slice(Rd.URL_SCHEME.length)):null;hr.registerSaveRouter(fv);hr.registerLoadRouter(fv);class IB{constructor(){this.indexedDB=getIndexedDBFactory()}async listModels(){return new Promise((e,a)=>{const o=this.indexedDB.open(Wm,Km);o.onupgradeneeded=()=>setUpDatabase(o),o.onsuccess=()=>{const l=o.result,p=l.transaction(Cl,"readonly"),d=p.objectStore(Cl).getAll();d.onsuccess=()=>{const u={};for(const h of d.result)u[h.modelPath]=h.modelArtifactsInfo;e(u)},d.onerror=u=>(l.close(),a(d.error)),p.oncomplete=()=>l.close()},o.onerror=l=>a(o.error)})}async removeModel(e){return e=maybeStripScheme$1(e),new Promise((a,o)=>{const l=this.indexedDB.open(Wm,Km);l.onupgradeneeded=()=>setUpDatabase(l),l.onsuccess=()=>{const p=l.result,f=p.transaction(Cl,"readwrite"),d=f.objectStore(Cl),u=d.get(e);let h;u.onsuccess=()=>{if(u.result==null)return p.close(),o(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const y=d.delete(e),b=()=>{h=p.transaction(ju,"readwrite");const A=h.objectStore(ju).delete(e);A.onsuccess=()=>a(u.result.modelArtifactsInfo),A.onerror=j=>o(u.error)};y.onsuccess=b,y.onerror=x=>(b(),p.close(),o(u.error))}},u.onerror=y=>(p.close(),o(u.error)),f.oncomplete=()=>{h==null?p.close():h.oncomplete=()=>p.close()}},l.onerror=p=>o(l.error)})}}const yi="/",Su="tensorflowjs_models",hv="info",NB="model_topology",DB="weight_specs",CB="weight_data",OB="model_metadata";function mv(n){return{info:[Su,n,hv].join(yi),topology:[Su,n,NB].join(yi),weightSpecs:[Su,n,DB].join(yi),weightData:[Su,n,CB].join(yi),modelMetadata:[Su,n,OB].join(yi)}}function gv(n){for(const e of Object.values(n))window.localStorage.removeItem(e)}function BB(n){const e=n.split(yi);if(e.length<3)throw new Error(`Invalid key format: ${n}`);return e.slice(1,e.length-1).join(yi)}class Fd{constructor(e){if(!vt().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=mv(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const a=JSON.stringify(e.modelTopology),o=JSON.stringify(e.weightSpecs),l=qd(e);try{this.LS.setItem(this.keys.info,JSON.stringify(l)),this.LS.setItem(this.keys.topology,a),this.LS.setItem(this.keys.weightSpecs,o),this.LS.setItem(this.keys.weightData,arrayBufferToBase64String(e.weightData));const p={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(p)),{modelArtifactsInfo:l}}catch{throw gv(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${l.modelTopologyBytes}, weightSpecsBytes=${l.weightSpecsBytes}, weightDataBytes=${l.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const a={},o=JSON.parse(this.LS.getItem(this.keys.topology));if(o==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);a.modelTopology=o;const l=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(l==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);a.weightSpecs=l;const p=this.LS.getItem(this.keys.modelMetadata);if(p!=null){const d=JSON.parse(p);a.format=d.format,a.generatedBy=d.generatedBy,a.convertedBy=d.convertedBy,d.signature!=null&&(a.signature=d.signature),d.userDefinedMetadata!=null&&(a.userDefinedMetadata=d.userDefinedMetadata),d.modelInitializer!=null&&(a.modelInitializer=d.modelInitializer),d.trainingConfig!=null&&(a.trainingConfig=d.trainingConfig)}const f=this.LS.getItem(this.keys.weightData);if(f==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return a.weightData=base64StringToArrayBuffer(f),a}}Fd.URL_SCHEME="localstorage://";const yv=n=>vt().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(Fd.URL_SCHEME)?browserLocalStorage(n.slice(Fd.URL_SCHEME.length)):null;hr.registerSaveRouter(yv);hr.registerLoadRouter(yv);class RB{constructor(){on(vt().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),on(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},a=Su+yi,o=yi+hv;for(let l=0;l<this.LS.length;++l){const p=this.LS.key(l);if(p.startsWith(a)&&p.endsWith(o)){const f=BB(p);e[f]=JSON.parse(this.LS.getItem(p))}}return e}async removeModel(e){e=maybeStripScheme(e);const a=mv(e);if(this.LS.getItem(a.info)==null)throw new Error(`Cannot find model at path '${e}'`);const o=JSON.parse(this.LS.getItem(a.info));return gv(a),o}}const pw="://";class qs{constructor(){this.managers={}}static getInstance(){return qs.instance==null&&(qs.instance=new qs),qs.instance}static registerManager(e,a){on(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(pw)&&(e=e.slice(0,e.indexOf(pw))),on(e.length>0,()=>"scheme must not be an empty string.");const o=qs.getInstance();on(o.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),o.managers[e]=a}static getManager(e){const a=qs.getInstance().managers[e];if(a==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return a}static getSchemes(){return Object.keys(qs.getInstance().managers)}}class FB{fetch(e,a){return fetch(e,a)}now(){return performance.now()}encode(e,a){if(a!=="utf-8"&&a!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${a}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,a){return new TextDecoder(a).decode(e)}}if(vt().get("IS_BROWSER")){vt().setPlatform("browser",new FB);try{qs.registerManager(Fd.URL_SCHEME,new RB)}catch{}try{qs.registerManager(Rd.URL_SCHEME,new IB)}catch{}}function Si(n,e="float32",a){return e=e||"float32",B0(n),new hB(n,e,a)}function MB(n,e){const a=sn(n,"x","cast");if(!mO(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&a.dtype!=="string"||e!=="string"&&a.dtype==="string")throw new Error("Only strings can be casted to strings");const o={x:a},l={dtype:e};return Rt.runKernel(A1,o,l)}const Ti=Ut({cast_:MB});function PB(n){const a={x:sn(n,"x","clone","string_or_numeric")};return Rt.runKernel(S1,a)}const Hc=Ut({clone_:PB});function bv(n,e=!1){console.log(n.toString(e))}iv();const LB={buffer:Si,cast:Ti,clone:Hc,print:bv};gB(LB);const UB="model",zB=".json",$B=".weights.bin";class zu{constructor(e){if(!vt().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(zu.URL_SCHEME)&&(e=e.slice(zu.URL_SCHEME.length)),(e==null||e.length===0)&&(e=UB),this.modelJsonFileName=e+zB,this.weightDataFileName=e+$B}async save(e){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const a=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const o=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],l=kB(e,o),p=window.URL.createObjectURL(new Blob([JSON.stringify(l)],{type:"application/json"})),f=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(f.download=this.modelJsonFileName,f.href=p,await defer(()=>f.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){const d=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;d.download=this.weightDataFileName,d.href=a,await defer(()=>d.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:qd(e)}}}}zu.URL_SCHEME="downloads://";const GB=n=>vt().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(zu.URL_SCHEME)?browserDownloads(n.slice(zu.URL_SCHEME.length)):null;hr.registerSaveRouter(GB);function VB(n){return async(e,a="",o)=>{const l=e.map(()=>!1),p={},f=o!=null?o.map(()=>!1):[],d=[];if(e.forEach((A,j)=>{let T=0;A.weights.forEach(I=>{const S="quantization"in I?I.quantization.dtype:I.dtype,G=Hm[S]*kn(I.shape),D=()=>{l[j]=!0,p[j]==null&&(p[j]=[]),p[j].push({manifestEntry:I,groupOffset:T,sizeBytes:G})};o!=null?o.forEach((X,L)=>{X===I.name&&(D(),f[L]=!0)}):D(),d.push(I.name),T+=G})}),!f.every(A=>A)){const A=o.filter((j,T)=>!f[T]);throw new Error(`Could not find weights in manifest with names: ${A.join(", ")}. 
Manifest JSON has weights with names: ${d.join(", ")}.`)}const u=l.reduce((A,j,T)=>(j&&A.push(T),A),[]),h=[];u.forEach(A=>{e[A].paths.forEach(j=>{const T=a+(a.endsWith("/")?"":"/")+j;h.push(T)})});const y=await n(h),b={};let x=0;return u.forEach(A=>{const j=e[A].paths.length;let T=0;for(let X=0;X<j;X++)T+=y[x+X].byteLength;const I=new ArrayBuffer(T),S=new Uint8Array(I);let G=0;for(let X=0;X<j;X++){const L=new Uint8Array(y[x+X]);S.set(L,G),G+=L.byteLength}p[A].forEach(X=>{const L=I.slice(X.groupOffset,X.groupOffset+X.sizeBytes),F=dv(L,[X.manifestEntry]);for(const V in F)b[V]=F[V]}),x+=j}),b}}const wv=(n,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let a=!0;if(Array.isArray(n)?a=n.every(o=>isHTTPScheme(o)):a=isHTTPScheme(n),a)return http(n,e)}return null};hr.registerSaveRouter(wv);hr.registerLoadRouter(wv);function HB(n,e){return http(n,e)}var vv=Object.freeze({__proto__:null,browserFiles:()=>{},browserHTTPRequest:HB,concatenateArrayBuffers:()=>{},decodeWeights:dv,encodeWeights:()=>{},fromMemory:()=>{},fromMemorySync:()=>{},getLoadHandlers:jB,getModelArtifactsForJSON:EB,getModelArtifactsInfoForJSON:qd,getSaveHandlers:TB,http:()=>{},isHTTPScheme:()=>{},loadWeights:()=>{},registerLoadRouter:SB,registerSaveRouter:AB,weightsLoaderFactory:VB,withSaveHandler:()=>{},withSaveHandlerSync:()=>{},copyModel:()=>{},listModels:()=>{},moveModel:()=>{},removeModel:()=>{}});function WB(n,e,a=!1,o=!1){let l=sn(n,"a","matMul"),p=sn(e,"b","matMul");[l,p]=Wo(l,p);const f={a:l,b:p},d={transposeA:a,transposeB:o};return Rt.runKernel(P0,f,d)}const jo=Ut({matMul_:WB});function KB(n,e,a=1,o=0){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);const p={indices:sn(n,"indices","oneHot","int32")},f={depth:e,onValue:a,offValue:o};return Rt.runKernel(XO,p,f)}const xv=Ut({oneHot_:KB});function _v(){vt().set("PROD",!0)}function _u(){return Rt}function Ua(n,e){return Rt.tidy(n,e)}function Ho(n){ov(n).forEach(a=>a.dispose())}function bi(n){return Rt.keep(n)}function XB(n,e,a=1){return Rt.registerBackend(n,e,a)}function YB(n){const a={x:sn(n,"x","neg")};return Rt.runKernel(WO,a)}const qB=Ut({neg_:YB});function ZB(n){const a={input:sn(n,"input","real")};return Rt.runKernel(ZO,a)}const JB=Ut({real_:ZB});Ut({confusionMatrix_:()=>{}});function Md(n,e){const a=n.length,o=[];for(let l=0;l<a;l++){const p=a-1-l,f=n[p]||1;(e[e.length-1-l]||1)>1&&f===1&&o.unshift(p)}return o}function kv(n,e){const a=[];for(let o=0;o<e.length;o++){const l=n[n.length-o-1],p=e.length-o-1,f=e[p];(l==null||l===1&&f>1)&&a.unshift(p)}return a}function Yr(n,e){const a=[],o=Math.max(n.length,e.length);for(let l=0;l<o;l++){let p=n[n.length-l-1];p==null&&(p=1);let f=e[e.length-l-1];if(f==null&&(f=1),p===1)a.unshift(f);else if(f===1)a.unshift(p);else if(p!==f){const d=`Operands could not be broadcast together with shapes ${n} and ${e}.`;throw Error(d)}else a.unshift(p)}return a}Ut({fromPixels_:()=>{}});function QB(n,e,a){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(n.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${n.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(a.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${a}`);if(a.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(n.size===0)throw new Error(`Updates specified for empty output. updates shape: ${n.shape}`)}validateUpdateShape(a,e,n)}function Ev(n,e,a){const o=n.shape.length;on(o===e.length,()=>`Error in slice${o}D: Length of begin ${e} must match the rank of the array (${o}).`),on(o===a.length,()=>`Error in slice${o}D: Length of size ${a} must match the rank of the array (${o}).`);for(let l=0;l<o;++l)on(e[l]+a[l]<=n.shape[l],()=>`Error in slice${o}D: begin[${l}] + size[${l}] (${e[l]+a[l]}) would overflow input.shape[${l}] (${n.shape[l]})`)}function N1(n,e,a){let o=a.length;for(let l=0;l<a.length;l++)if(a[l]>1){o=l;break}for(let l=o+1;l<a.length;l++)if(e[l]>0||a[l]!==n[l])return!1;return!0}function Av(n,e){let a=n.length>0?n[n.length-1]:1;for(let o=0;o<n.length-1;o++)a+=n[o]*e[o];return a}function Sv(n,e,a){let o;const l=n.shape.length;typeof e=="number"?o=[e,...new Array(l-1).fill(0)]:e.length<l?o=e.concat(new Array(l-e.length).fill(0)):o=e.slice(),o.forEach(f=>{on(f!==-1,()=>"slice() does not support negative begin indexing.")});let p;return a==null?p=new Array(l).fill(-1):typeof a=="number"?p=[a,...new Array(l-1).fill(-1)]:a.length<l?p=a.concat(new Array(l-a.length).fill(-1)):p=a,p=p.map((f,d)=>f>=0?f:(on(f===-1,()=>`Negative size values should be exactly -1 but got ${f} for the slice() size at index ${d}.`),n.shape[d]-o[d])),[o,p]}var eR=Object.freeze({__proto__:null,assertParamsValid:Ev,maskToAxes:()=>{},computeOutShape$2:()=>{},stridesWithElidedDims:()=>{},getNormalizedAxes:()=>{},startIndicesWithElidedDims:()=>{},stopIndicesWithElidedDims:()=>{},stridesForAxis:()=>{},startForAxis:()=>{},stopForAxis:()=>{},isSliceContinous:N1,computeFlatOffset:Av,parseSliceParams:Sv,sliceInfo:()=>{}});class tR{getClassName(){return this.constructor.className}static fromConfig(e,a){return new e(a)}}class Il{constructor(){this.classNameMap={}}static getMap(){return Il.instance==null&&(Il.instance=new Il),Il.instance}static register(e){Il.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function Kl(n){on(n.className!=null,()=>"Class being registered does not have the static className property defined."),on(typeof n.className=="string",()=>"className is required to be a string, but got type "+typeof n.className),on(n.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),Il.register(n)}function nR(n,e){let a=sn(n,"a","add"),o=sn(e,"b","add");[a,o]=Wo(a,o);const l={a,b:o};return Rt.runKernel(E1,l)}const Na=Ut({add_:nR});function aR(n,e){let a=sn(n,"a","div"),o=sn(e,"b","div");if([a,o]=Wo(a,o),a.dtype==="int32"&&o.dtype==="int32")return floorDiv(a,o);const l={a,b:o},p={};return Rt.runKernel(OO,l,p)}const Cs=Ut({div_:aR});function rR(n,e){let a=sn(n,"a","mul"),o=sn(e,"b","mul");[a,o]=Wo(a,o);const l={a,b:o};return Rt.runKernel($0,l)}const ca=Ut({mul_:rR});function oR(n){const e=sn(n,"x","abs");if(e.dtype==="complex64"){const a={x:e};return Rt.runKernel(jO,a)}else{const a={x:e};return Rt.runKernel(AO,a)}}const Ys=Ut({abs_:oR});function sR(n,e,a,o,l,p,f="channelsLast"){const[d,u]=parseTupleParam(e);let h;if(f==="channelsLast")h=[d,u,n[3],n[3]];else if(f==="channelsFirst")h=[d,u,n[1],n[1]];else throw new Error(`Unknown dataFormat ${f}`);return Tv(n,h,a,o,l,p,!1,f)}function Tv(n,e,a,o,l,p,f=!1,d="channelsLast"){let[u,h,y,b]=[-1,-1,-1,-1];if(d==="channelsLast")[u,h,y,b]=n;else if(d==="channelsFirst")[u,b,h,y]=n;else throw new Error(`Unknown dataFormat ${d}`);const[x,A,,j]=e,[T,I]=parseTupleParam(a),[S,G]=parseTupleParam(o),D=dw(x,S),X=dw(A,G),{padInfo:L,outHeight:F,outWidth:V}=getPadAndOutInfo(l,h,y,T,I,D,X,p,d),P=f?j*b:j;let R;return d==="channelsFirst"?R=[u,P,F,V]:d==="channelsLast"&&(R=[u,F,V,P]),{batchSize:u,dataFormat:d,inHeight:h,inWidth:y,inChannels:b,outHeight:F,outWidth:V,outChannels:P,padInfo:L,strideHeight:T,strideWidth:I,filterHeight:x,filterWidth:A,effectiveFilterHeight:D,effectiveFilterWidth:X,dilationHeight:S,dilationWidth:G,inShape:n,outShape:R,filterShape:e}}function dw(n,e){return e<=1?n:n+(n-1)*(e-1)}function iR(n){if(n==="NHWC")return"channelsLast";if(n==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${n}`)}function lR(n,e){const o={x:sn(n,"x","reshape","string_or_numeric")},l={shape:e};return Rt.runKernel(K0,o,l)}const aa=Ut({reshape_:lR});function uR(n,e=0){on(n.length>=1,()=>"Pass at least one tensor to concat");const a=cv(n,"tensors","concat","string_or_numeric");if(a[0].dtype==="complex64"&&a.forEach(p=>{if(p.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${p.dtype}. `)}),a.length===1)return Hc(a[0]);const o=a,l={axis:e};return Rt.runKernel(L0,o,l)}const Fc=Ut({concat_:uR});function cR(n){const a={x:sn(n,"x","sigmoid","float32")};return Rt.runKernel(Y0,a)}const pR=Ut({sigmoid_:cR});function dR(n,e,a){const o=sn(n,"x","slice","string_or_numeric");if(o.rank===0)throw new Error("Slicing scalar is not possible");const l={x:o},p={begin:e,size:a};return Rt.runKernel(QO,l,p)}const Pd=Ut({slice_:dR});Ut({batchNorm2d_:()=>{}});Ut({batchNorm3d_:()=>{}});Ut({batchNorm4d_:()=>{}});function fR(n,e,a){const o=sn(n,"x","bincount"),l=sn(e,"weights","bincount");on(o.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${o.dtype}`),on(a>=0,()=>`size must be non-negative, but got ${a}.`),on(l.size===o.size||l.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${o.shape}, weights shape: ${l.shape}.`);const p={x:o,weights:l},f={size:a};return Rt.runKernel(SO,p,f)}const hR=Ut({bincount_:fR});function mR(n,e){let a=sn(n,"broadcastTo","x");const o=a.shape;if(e.some(h=>!(h>0)||h%1!==0))throw new Error(`broadcastTo(): Invalid broadcast shape [${e}].`);if(e.length<a.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${a.rank}.`);if(e.length>a.rank){const h=a.shape.slice();for(;h.length<e.length;)h.unshift(1);a=aa(a,h)}const l=a.shape,p=Array.from(e);for(let h=e.length-1;h>=0;h--)if(l[h]===e[h])p[h]=1;else if(a.shape[h]!==1)throw new Error(`broadcastTo(): [${o}] cannot be broadcast to [${e}].`);if(p.map((h,y)=>h>1?y:-1).filter(h=>h>=0).length===0)return Hc(a);const d={x:a},u={reps:p};return Rt.runKernel(nB,d,u)}const Ed=Ut({broadcastTo_:mR});Ut({concat1d_:()=>{}});Ut({concat2d_:()=>{}});Ut({concat3d_:()=>{}});Ut({concat4d_:()=>{}});Ut({conv1d_:()=>{}});function gR(n,e,a,o,l,p="NHWC",f){on(n.length===e.rank,()=>`Length of inShape (${n.length}) and rank of dy (${e.rank}) must match`);let d=n,u=e,h=!1;e.rank===3&&(h=!0,u=aa(e,[1,e.shape[0],e.shape[1],e.shape[2]]),d=[1,n[0],n[1],n[2]]),on(d.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${d.length}.`),on(u.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${u.rank}`),on(a.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${a.rank}`);const y=p==="NHWC"?d[3]:d[1],b=p==="NHWC"?u.shape[3]:u.shape[1];on(y===a.shape[2],()=>`Error in conv2dDerInput: depth of input (${y}) must match input depth for filter ${a.shape[2]}.`),on(b===a.shape[3],()=>`Error in conv2dDerInput: depth of output (${b}) must match output depth for filter ${a.shape[3]}.`),checkPadOnDimRoundingMode("conv2dDerInput",l,f);const x={dy:u,filter:a},A={strides:o,pad:l,dataFormat:p,dimRoundingMode:f,inputShape:d},j=Rt.runKernel(NO,x,A);return h?aa(j,[j.shape[1],j.shape[2],j.shape[3]]):j}Ut({conv2DBackpropInput_:gR});Ut({conv2dTranspose_:()=>{}});Ut({conv3dTranspose_:()=>{}});function yR(n,e){let a=sn(n,"a","equal","string_or_numeric"),o=sn(e,"b","equal","string_or_numeric");[a,o]=Wo(a,o),Yr(a.shape,o.shape);const l={a,b:o};return Rt.runKernel(BO,l)}const bR=Ut({equal_:yR});function wR(n,e,a){const o=sn(e,"a","where"),l=sn(a,"b","where"),p=sn(n,"condition","where","bool"),f=Yr(Yr(p.shape,o.shape),l.shape),d=Ed(p,f),u=Ed(o,f),h=Ed(l,f),y={condition:d,t:u,e:h};return Rt.runKernel(X0,y)}const jv=Ut({where_:wR});function vR(n){const a={x:sn(n,"x","zerosLike")};return Rt.runKernel(aB,a)}const Os=Ut({zerosLike_:vR});function xR(n,e){const a=sn(n,"t1","dot"),o=sn(e,"t2","dot");on((a.rank===1||a.rank===2)&&(o.rank===1||o.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${a.rank} and ${o.rank}.`);const l=a.rank===1?a.size:a.shape[1],p=o.rank===1?o.size:o.shape[0];if(on(l===p,()=>`Error in dot: inner dimensions of inputs must match, but got ${l} and ${p}.`),a.rank===1&&o.rank===1){const f=aa(a,[1,-1]),d=aa(o,[-1,1]),u=jo(f,d);return aa(u,[])}else if(a.rank===1&&o.rank===2){const f=aa(a,[1,-1]),d=aa(o,[o.shape[0],o.shape[1]]),u=jo(f,d);return aa(u,[u.size])}else if(a.rank===2&&o.rank===1){const f=aa(o,[-1,1]),d=jo(a,f);return aa(d,[d.size])}else{const f=aa(o,[o.shape[0],o.shape[1]]);return jo(a,f)}}const Iv=Ut({dot_:xR});function D1(n,e){for(let a=0;a<n.length;++a)if(n[n.length-a-1]!==e-1-a)return!1;return!0}function Wc(n,e){const a=[],o=n.length;for(let p=0;p<o;p++)e.indexOf(p)===-1&&a.push(n[p]);const l=e.map(p=>n[p]);return[a,l]}function Ju(n,e){const a=e.map(o=>1);return combineLocations(n,a,e)}function Zd(n,e,a){on(D1(e,a),()=>`${n} supports only inner-most axes for now. Got axes ${e} and rank-${a} input.`)}function Jd(n,e){if(D1(n,e))return null;const a=[];for(let o=0;o<e;++o)n.indexOf(o)===-1&&a.push(o);return n.forEach(o=>a.push(o)),a}function Qd(n,e){const a=[];for(let o=e-n;o<e;++o)a.push(o);return a}function _R(n,e=null,a=!1){const l={x:sn(n,"x","max")},p={reductionIndices:e,keepDims:a};return Rt.runKernel(GO,l,p)}const Bc=Ut({max_:_R});function Xr(n,e){if((Ei(n)&&e!=="string"||Array.isArray(n))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&Ei(n)&&!(n instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Yd(n,[],[],e)}function kR(n){const e=sn(n,"x","square"),a={};return Rt.runKernel("Square",{x:e},a)}const _i=Ut({square_:kR});function ER(n,e=null,a=!1){let o=sn(n,"x","sum");o.dtype==="bool"&&(o=Ti(o,"int32"));const l={x:o},p={axis:e,keepDims:a};return Rt.runKernel(q0,l,p)}const Zs=Ut({sum_:ER});function AR(n,e="euclidean",a=null,o=!1){n=sn(n,"x","norm");const l=Nv(n,e,a);let p=l.shape;if(o){const f=ol(a,n.shape);p=Ju(l.shape,f)}return aa(l,p)}function Nv(n,e,a=null){if(n.rank===0)return Ys(n);if(n.rank!==1&&a===null)return Nv(aa(n,[-1]),e,a);if(n.rank===1||typeof a=="number"||Array.isArray(a)&&a.length===1){if(e===1)return Zs(Ys(n),a);if(e===1/0)return Bc(Ys(n),a);if(e===-1/0)return min(Ys(n),a);if(e==="euclidean"||e===2)return sqrt(Zs(pow$1(Ys(n),Xr(2,"int32")),a));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(a)&&a.length===2){if(e===1)return Bc(Zs(Ys(n),a[0]),a[1]-1);if(e===1/0)return Bc(Zs(Ys(n),a[1]),a[0]);if(e===-1/0)return min(Zs(Ys(n),a[1]),a[0]);if(e==="fro"||e==="euclidean")return sqrt(Zs(_i(n),a));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${a}`)}const SR=Ut({norm_:AR});function TR(n){const a={x:sn(n,"x","exp")};return Rt.runKernel(RO,a)}const Dv=Ut({exp_:TR});function jR(n,e=0){const a=sn(n,"x","expandDims","string_or_numeric");on(e<=a.rank,()=>"Axis must be <= rank of the tensor");const o={input:a},l={dim:e};return Rt.runKernel(FO,o,l)}const IR=Ut({expandDims_:jR});function NR(n,e,a=0,o=0){const l=sn(n,"x","gather"),p=sn(e,"indices","gather","int32"),f={x:l,indices:p},d={axis:a,batchDims:o};return Rt.runKernel(U0,f,d)}const DR=Ut({gather_:NR});function CR(n,e){let a=sn(n,"a","greater","string_or_numeric"),o=sn(e,"b","greater","string_or_numeric");[a,o]=Wo(a,o),Yr(a.shape,o.shape);const l={a,b:o};return Rt.runKernel(PO,l)}const OR=Ut({greater_:CR});function BR(n){const a={x:sn(n,"x","log","float32")};return Rt.runKernel(UO,a)}const Cv=Ut({log_:BR});function RR(n){const a={x:sn(n,"x","log1p")};return Rt.runKernel(zO,a)}const FR=Ut({log1p_:RR});function fw(n){return Rt.customGrad(n)}function MR(n,e){let a=sn(n,"a","sub"),o=sn(e,"b","sub");[a,o]=Wo(a,o);const l={a,b:o};return Rt.runKernel(tB,l)}const tl=Ut({sub_:MR});function PR(n,e=null,a=!1){const o=sn(n,"x","logSumExp"),l=ol(e,o.shape),p=Bc(o,l,!0),f=tl(o,p),d=Dv(f),u=Zs(d,l),h=Cv(u),y=Na(aa(p,h.shape),h);if(a){const b=Ju(y.shape,l);return aa(y,b)}return y}const LR=Ut({logSumExp_:PR});function UR(n,e){const a=sn(n,"a","logicalAnd","bool"),o=sn(e,"b","logicalAnd","bool");Yr(a.shape,o.shape);const l={a,b:o};return Rt.runKernel($O,l)}const zR=Ut({logicalAnd_:UR});Ut({searchSorted_:()=>{}});function $R(n,e){let a=sn(n,"a","maximum"),o=sn(e,"b","maximum");[a,o]=Wo(a,o),a.dtype==="bool"&&(a=Ti(a,"int32"),o=Ti(o,"int32")),Yr(a.shape,o.shape);const l={a,b:o};return Rt.runKernel(VO,l)}const Ov=Ut({maximum_:$R});function GR(n,e=null,a=!1){const l={x:sn(n,"x","mean")},p={axis:e,keepDims:a};return Rt.runKernel(z0,l,p)}const VR=Ut({mean_:GR});function $u(n,e="float32"){if(e==="complex64"){const o=$u(n,"float32"),l=$u(n,"float32");return Xd(o,l)}const a=zl(kn(n),e);return Rt.makeTensor(a,n,e)}function Bv(n,e="float32"){if(e==="complex64"){const o=Bv(n,"float32"),l=$u(n,"float32");return Xd(o,l)}const a=O0(kn(n),e);return Rt.makeTensor(a,n,e)}function HR(n,e){let a=sn(n,"a","minimum"),o=sn(e,"b","minimum");[a,o]=Wo(a,o),a.dtype==="bool"&&(a=Ti(a,"int32"),o=Ti(o,"int32")),Yr(a.shape,o.shape);const l={a,b:o};return Rt.runKernel(HO,l)}const WR=Ut({minimum_:HR});Ut({multiRNNCell_:()=>{}});function KR(n,e){let a=sn(n,"a","notEqual","string_or_numeric"),o=sn(e,"b","notEqual","string_or_numeric");[a,o]=Wo(a,o),Yr(a.shape,o.shape);const l={a,b:o};return Rt.runKernel(KO,l)}const XR=Ut({notEqual_:KR});Ut({outerProduct_:()=>{}});function YR(n,e,a=0){const o=sn(n,"x","pad");if(o.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const l={paddings:e,constantValue:a},p={x:o};return Rt.runKernel(V0,p,l)}const Rv=Ut({pad_:YR});Ut({pad1d_:()=>{}});Ut({pad2d_:()=>{}});Ut({pad3d_:()=>{}});Ut({pad4d_:()=>{}});function qR(n,e=null,a=!1){let o=sn(n,"x","prod");o.dtype==="bool"&&(o=Ti(o,"int32"));const l={x:o},p={axis:e,keepDims:a};return Rt.runKernel(H0,l,p)}const ZR=Ut({prod_:qR});var Fv={exports:{}};(function(n){(function(e,a,o){function l(u){var h=this,y=d();h.next=function(){var b=2091639*h.s0+h.c*23283064365386963e-26;return h.s0=h.s1,h.s1=h.s2,h.s2=b-(h.c=b|0)},h.c=1,h.s0=y(" "),h.s1=y(" "),h.s2=y(" "),h.s0-=y(u),h.s0<0&&(h.s0+=1),h.s1-=y(u),h.s1<0&&(h.s1+=1),h.s2-=y(u),h.s2<0&&(h.s2+=1),y=null}function p(u,h){return h.c=u.c,h.s0=u.s0,h.s1=u.s1,h.s2=u.s2,h}function f(u,h){var y=new l(u),b=h&&h.state,x=y.next;return x.int32=function(){return y.next()*4294967296|0},x.double=function(){return x()+(x()*2097152|0)*11102230246251565e-32},x.quick=x,b&&(typeof b=="object"&&p(b,y),x.state=function(){return p(y,{})}),x}function d(){var u=4022871197,h=function(y){y=String(y);for(var b=0;b<y.length;b++){u+=y.charCodeAt(b);var x=.02519603282416938*u;u=x>>>0,x-=u,x*=u,u=x>>>0,x-=u,u+=x*4294967296}return(u>>>0)*23283064365386963e-26};return h}a&&a.exports?a.exports=f:this.alea=f})(Hl,n)})(Fv);var Mv={exports:{}};(function(n){(function(e,a,o){function l(d){var u=this,h="";u.x=0,u.y=0,u.z=0,u.w=0,u.next=function(){var b=u.x^u.x<<11;return u.x=u.y,u.y=u.z,u.z=u.w,u.w^=u.w>>>19^b^b>>>8},d===(d|0)?u.x=d:h+=d;for(var y=0;y<h.length+64;y++)u.x^=h.charCodeAt(y)|0,u.next()}function p(d,u){return u.x=d.x,u.y=d.y,u.z=d.z,u.w=d.w,u}function f(d,u){var h=new l(d),y=u&&u.state,b=function(){return(h.next()>>>0)/4294967296};return b.double=function(){do var x=h.next()>>>11,A=(h.next()>>>0)/4294967296,j=(x+A)/(1<<21);while(j===0);return j},b.int32=h.next,b.quick=b,y&&(typeof y=="object"&&p(y,h),b.state=function(){return p(h,{})}),b}a&&a.exports?a.exports=f:this.xor128=f})(Hl,n)})(Mv);var Pv={exports:{}};(function(n){(function(e,a,o){function l(d){var u=this,h="";u.next=function(){var b=u.x^u.x>>>2;return u.x=u.y,u.y=u.z,u.z=u.w,u.w=u.v,(u.d=u.d+362437|0)+(u.v=u.v^u.v<<4^(b^b<<1))|0},u.x=0,u.y=0,u.z=0,u.w=0,u.v=0,d===(d|0)?u.x=d:h+=d;for(var y=0;y<h.length+64;y++)u.x^=h.charCodeAt(y)|0,y==h.length&&(u.d=u.x<<10^u.x>>>4),u.next()}function p(d,u){return u.x=d.x,u.y=d.y,u.z=d.z,u.w=d.w,u.v=d.v,u.d=d.d,u}function f(d,u){var h=new l(d),y=u&&u.state,b=function(){return(h.next()>>>0)/4294967296};return b.double=function(){do var x=h.next()>>>11,A=(h.next()>>>0)/4294967296,j=(x+A)/(1<<21);while(j===0);return j},b.int32=h.next,b.quick=b,y&&(typeof y=="object"&&p(y,h),b.state=function(){return p(h,{})}),b}a&&a.exports?a.exports=f:this.xorwow=f})(Hl,n)})(Pv);var Lv={exports:{}};(function(n){(function(e,a,o){function l(d){var u=this;u.next=function(){var y=u.x,b=u.i,x,A;return x=y[b],x^=x>>>7,A=x^x<<24,x=y[b+1&7],A^=x^x>>>10,x=y[b+3&7],A^=x^x>>>3,x=y[b+4&7],A^=x^x<<7,x=y[b+7&7],x=x^x<<13,A^=x^x<<9,y[b]=A,u.i=b+1&7,A};function h(y,b){var x,A=[];if(b===(b|0))A[0]=b;else for(b=""+b,x=0;x<b.length;++x)A[x&7]=A[x&7]<<15^b.charCodeAt(x)+A[x+1&7]<<13;for(;A.length<8;)A.push(0);for(x=0;x<8&&A[x]===0;++x);for(x==8?A[7]=-1:A[x],y.x=A,y.i=0,x=256;x>0;--x)y.next()}h(u,d)}function p(d,u){return u.x=d.x.slice(),u.i=d.i,u}function f(d,u){d==null&&(d=+new Date);var h=new l(d),y=u&&u.state,b=function(){return(h.next()>>>0)/4294967296};return b.double=function(){do var x=h.next()>>>11,A=(h.next()>>>0)/4294967296,j=(x+A)/(1<<21);while(j===0);return j},b.int32=h.next,b.quick=b,y&&(y.x&&p(y,h),b.state=function(){return p(h,{})}),b}a&&a.exports?a.exports=f:this.xorshift7=f})(Hl,n)})(Lv);var Uv={exports:{}};(function(n){(function(e,a,o){function l(d){var u=this;u.next=function(){var y=u.w,b=u.X,x=u.i,A,j;return u.w=y=y+1640531527|0,j=b[x+34&127],A=b[x=x+1&127],j^=j<<13,A^=A<<17,j^=j>>>15,A^=A>>>12,j=b[x]=j^A,u.i=x,j+(y^y>>>16)|0};function h(y,b){var x,A,j,T,I,S=[],G=128;for(b===(b|0)?(A=b,b=null):(b=b+"\0",A=0,G=Math.max(G,b.length)),j=0,T=-32;T<G;++T)b&&(A^=b.charCodeAt((T+32)%b.length)),T===0&&(I=A),A^=A<<10,A^=A>>>15,A^=A<<4,A^=A>>>13,T>=0&&(I=I+1640531527|0,x=S[T&127]^=A+I,j=x==0?j+1:0);for(j>=128&&(S[(b&&b.length||0)&127]=-1),j=127,T=4*128;T>0;--T)A=S[j+34&127],x=S[j=j+1&127],A^=A<<13,x^=x<<17,A^=A>>>15,x^=x>>>12,S[j]=A^x;y.w=I,y.X=S,y.i=j}h(u,d)}function p(d,u){return u.i=d.i,u.w=d.w,u.X=d.X.slice(),u}function f(d,u){d==null&&(d=+new Date);var h=new l(d),y=u&&u.state,b=function(){return(h.next()>>>0)/4294967296};return b.double=function(){do var x=h.next()>>>11,A=(h.next()>>>0)/4294967296,j=(x+A)/(1<<21);while(j===0);return j},b.int32=h.next,b.quick=b,y&&(y.X&&p(y,h),b.state=function(){return p(h,{})}),b}a&&a.exports?a.exports=f:this.xor4096=f})(Hl,n)})(Uv);var zv={exports:{}};(function(n){(function(e,a,o){function l(d){var u=this,h="";u.next=function(){var b=u.b,x=u.c,A=u.d,j=u.a;return b=b<<25^b>>>7^x,x=x-A|0,A=A<<24^A>>>8^j,j=j-b|0,u.b=b=b<<20^b>>>12^x,u.c=x=x-A|0,u.d=A<<16^x>>>16^j,u.a=j-b|0},u.a=0,u.b=0,u.c=-1640531527,u.d=1367130551,d===Math.floor(d)?(u.a=d/4294967296|0,u.b=d|0):h+=d;for(var y=0;y<h.length+20;y++)u.b^=h.charCodeAt(y)|0,u.next()}function p(d,u){return u.a=d.a,u.b=d.b,u.c=d.c,u.d=d.d,u}function f(d,u){var h=new l(d),y=u&&u.state,b=function(){return(h.next()>>>0)/4294967296};return b.double=function(){do var x=h.next()>>>11,A=(h.next()>>>0)/4294967296,j=(x+A)/(1<<21);while(j===0);return j},b.int32=h.next,b.quick=b,y&&(typeof y=="object"&&p(y,h),b.state=function(){return p(h,{})}),b}a&&a.exports?a.exports=f:this.tychei=f})(Hl,n)})(zv);var $v={exports:{}};(function(n){(function(e,a,o){var l=256,p=6,f=52,d="random",u=o.pow(l,p),h=o.pow(2,f),y=h*2,b=l-1,x;function A(X,L,F){var V=[];L=L==!0?{entropy:!0}:L||{};var P=S(I(L.entropy?[X,D(a)]:X??G(),3),V),R=new j(V),N=function(){for(var E=R.g(p),O=u,B=0;E<h;)E=(E+B)*l,O*=l,B=R.g(1);for(;E>=y;)E/=2,O/=2,B>>>=1;return(E+B)/O};return N.int32=function(){return R.g(4)|0},N.quick=function(){return R.g(4)/4294967296},N.double=N,S(D(R.S),a),(L.pass||F||function(E,O,B,M){return M&&(M.S&&T(M,R),E.state=function(){return T(R,{})}),B?(o[d]=E,O):E})(N,P,"global"in L?L.global:this==o,L.state)}function j(X){var L,F=X.length,V=this,P=0,R=V.i=V.j=0,N=V.S=[];for(F||(X=[F++]);P<l;)N[P]=P++;for(P=0;P<l;P++)N[P]=N[R=b&R+X[P%F]+(L=N[P])],N[R]=L;(V.g=function(E){for(var O,B=0,M=V.i,U=V.j,Y=V.S;E--;)O=Y[M=b&M+1],B=B*l+Y[b&(Y[M]=Y[U=b&U+O])+(Y[U]=O)];return V.i=M,V.j=U,B})(l)}function T(X,L){return L.i=X.i,L.j=X.j,L.S=X.S.slice(),L}function I(X,L){var F=[],V=typeof X,P;if(L&&V=="object")for(P in X)try{F.push(I(X[P],L-1))}catch{}return F.length?F:V=="string"?X:X+"\0"}function S(X,L){for(var F=X+"",V,P=0;P<F.length;)L[b&P]=b&(V^=L[b&P]*19)+F.charCodeAt(P++);return D(L)}function G(){try{var X;return x&&(X=x.randomBytes)?X=X(l):(X=new Uint8Array(l),(e.crypto||e.msCrypto).getRandomValues(X)),D(X)}catch{var L=e.navigator,F=L&&L.plugins;return[+new Date,e,F,e.screen,D(a)]}}function D(X){return String.fromCharCode.apply(0,X)}if(S(o.random(),a),n.exports){n.exports=A;try{x=require("crypto")}catch{}}else o["seed"+d]=A})(typeof self<"u"?self:Hl,[],Math)})($v);var JR=Fv.exports,QR=Mv.exports,eF=Pv.exports,tF=Lv.exports,nF=Uv.exports,aF=zv.exports,Qu=$v.exports;Qu.alea=JR;Qu.xor128=QR;Qu.xorwow=eF;Qu.xorshift7=tF;Qu.xor4096=nF;Qu.tychei=aF;function rF(n,e,a=1,o="float32"){if(a===0)throw new Error("Cannot have a step of zero");const l={start:n,stop:e,step:a,dtype:o};return Rt.runKernel(qO,{},l)}function oF(n){const a={x:sn(n,"x","relu")};return Rt.runKernel(W0,a)}const sF=Ut({relu_:oF});function iF(n,e){const o={x:sn(n,"x","reverse")},l={dims:e};return Rt.runKernel(JO,o,l)}const lF=Ut({reverse_:iF});Ut({separableConv2d_:()=>{}});function uF(n){on(n.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${n.dtype}.`);const e={input:n};return Rt.runKernel(MO,e)}const Gv=Ut({fft_:uF});function cF(n,e){let a=sn(n,"a","squaredDifference"),o=sn(e,"b","squaredDifference");[a,o]=Wo(a,o),Yr(a.shape,o.shape);const l={a,b:o},p={};return Rt.runKernel(eB,l,p)}const pF=Ut({squaredDifference_:cF});function dF(n,e){const a=sn(n,"x","squeeze","string_or_numeric");return aa(a,Vc(a.shape,e).newShape)}const fF=Ut({squeeze_:dF});function hF(n,e=0){const a=cv(n,"tensors","stack","string_or_numeric");on(a.length>=1,()=>"Pass at least one tensor to tf.stack"),a.length>0&&on(e<=a[0].rank,()=>"Axis must be <= rank of the tensor");const o=a,l={axis:e};return Rt.runKernel(G0,o,l)}const Gu=Ut({stack_:hF});function mF(n,e){I0(n);const a=Kd(n,e);if(a.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Yd(n,null,a,e)}function Vv(n,e,a){if(I0(n),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const o=Kd(n,a);if(o.length!==2&&o.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(o.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Yd(n,e,o,a)}function gF(n,e=0){const a=sn(n,"x","unstack","string_or_numeric");on(e>=-a.shape.length&&e<a.shape.length,()=>`Axis = ${e} is not in [-${a.shape.length}, ${a.shape.length})`);const o={value:a},l={axis:e};return Rt.runKernel(Z0,o,l)}const ec=Ut({unstack_:gF});function yF(n,e,a,o,l,p="NHWC",f){let d=n;n.rank===3&&(d=aa(n,[1,n.shape[0],n.shape[1],n.shape[2]]));let u=e;u.rank===3&&(u=aa(e,[1,e.shape[0],e.shape[1],e.shape[2]])),on(d.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${d.shape}.`),on(u.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${u.shape}.`),on(a.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${a}.`);const h=p==="NHWC"?d.shape[3]:d.shape[1],y=p==="NHWC"?u.shape[3]:u.shape[1];on(h===a[2],()=>`Error in conv2dDerFilter: depth of input ${h}) must match input depth in filter (${a[2]}.`),on(y===a[3],()=>`Error in conv2dDerFilter: depth of dy (${y}) must match output depth for filter (${a[3]}).`),checkPadOnDimRoundingMode("conv2dDerFilter",l,f);const b={x:d,dy:u},x={strides:o,pad:l,dataFormat:p,dimRoundingMode:f,filterShape:a};return Rt.runKernel(IO,b,x)}Ut({conv2DBackpropFilter_:yF});function Hv(n,e,a){if(a==null||a==="linear")return n;if(a==="relu")return ca(n,step(e));throw new Error(`Cannot compute gradient for fused activation ${a}.`)}function Wv(n,e){let a=e;const o=kv(n.shape,e.shape);return o.length>0&&(a=Zs(a,o)),aa(a,n.shape)}const Kv=(n,e)=>!(n>0)||e==="linear";function bF(n,e,a,o,l,p=[1,1],f){let d=n;n.rank===3&&(d=aa(n,[1,n.shape[0],n.shape[1],n.shape[2]]));let u=e;u.rank===3&&(u=aa(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const h={x:d,dy:u},y={strides:o,pad:l,dimRoundingMode:f,dilations:p,filterShape:a};return Rt.runKernel(DO,h,y)}Ut({depthwiseConv2dNativeBackpropFilter_:bF});function wF(n,e,a,o,l,p=[1,1],f){let d=e,u=!1;e.rank===3&&(u=!0,d=aa(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const h={dy:d,filter:a},y={strides:o,pad:l,dimRoundingMode:f,dilations:p,inputShape:n},b=Rt.runKernel(CO,h,y);return u?aa(b,[b.shape[1],b.shape[2],b.shape[3]]):b}Ut({depthwiseConv2dNativeBackpropInput_:wF});function vF({a:n,b:e,transposeA:a=!1,transposeB:o=!1,bias:l,activation:p="linear",preluActivationWeights:f,leakyreluAlpha:d=.2}){if(Kv(Rt.state.gradientDepth,p)===!1){let E=jo(n,e,a,o);return l!=null&&(E=Na(E,l)),applyActivation(E,p,f,d)}let u=sn(n,"a","fused matMul"),h=sn(e,"b","fused matMul");[u,h]=Wo(u,h);const y=a?u.shape[u.rank-2]:u.shape[u.rank-1],b=o?h.shape[h.rank-1]:h.shape[h.rank-2],x=a?u.shape[u.rank-1]:u.shape[u.rank-2],A=o?h.shape[h.rank-2]:h.shape[h.rank-1],j=u.shape.slice(0,-2),T=h.shape.slice(0,-2),I=kn(j),S=kn(T);on(y===b,()=>`Error in fused matMul: inner shapes (${y}) and (${b}) of Tensors with shapes ${u.shape} and ${h.shape} and transposeA=${a} and transposeB=${o} must match.`);const D=Yr(u.shape.slice(0,-2),h.shape.slice(0,-2)).concat([x,A]),X=a?aa(u,[I,y,x]):aa(u,[I,x,y]),L=o?aa(h,[S,A,b]):aa(h,[S,b,A]);let F;l!=null&&(F=sn(l,"bias","fused matMul"),[F]=Wo(F,u),Yr(D,F.shape));let V;f!=null&&(V=sn(f,"prelu weights","fused matMul"));const P=(E,O)=>{const[B,M,U,Y]=O,$=Hv(aa(E,U.shape),U,p);let ee,ae;if(!a&&!o?(ee=jo($,M,!1,!0),ae=jo(B,$,!0,!1)):!a&&o?(ee=jo($,M,!1,!1),ae=jo($,B,!0,!1)):a&&!o?(ee=jo(M,$,!1,!0),ae=jo(B,$,!1,!1)):(ee=jo(M,$,!0,!0),ae=jo($,B,!0,!0)),l!=null){const re=Wv(Y,$);return[ee,ae,re]}else return[ee,ae]},R={a:X,b:L,bias:F,preluActivationWeights:V},N={transposeA:a,transposeB:o,activation:p,leakyreluAlpha:d};return l==null?fw((O,B,M)=>{const U=Rt.runKernel(Mm,R,N);return M([O,B,U]),{value:aa(U,D),gradFunc:P}})(X,L):fw((O,B,M,U)=>{const Y=Rt.runKernel(Mm,R,N);return U([O,B,Y,M]),{value:aa(Y,D),gradFunc:P}})(X,L,F)}const xF=Ut({fusedMatMul_:vF});var _F=Object.freeze({__proto__:null,conv2d_:()=>{},depthwiseConv2d_:()=>{},matMul:xF});function kF(n,e,a,o=!1,l=0){let p=0;const f=[];for(;p+e<=n.size;)f.push(Pd(n,p,e)),p+=a;if(o)for(;p<n.size;){const d=p+e-n.size,u=Fc([Pd(n,p,e-d),fill$1([d],l)]);f.push(u),p+=a}return f.length===0?Vv([],[0,e]):aa(Fc(f),[f.length,e])}const EF=Ut({frame_:kF});var hw;(function(n){n[n.NONE=0]="NONE",n[n.MEAN=1]="MEAN",n[n.SUM=2]="SUM",n[n.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(hw||(hw={}));Ut({computeWeightedLoss_:()=>{}});Ut({cosineDistance_:()=>{}});Ut({hingeLoss_:()=>{}});Ut({sigmoidCrossEntropy_:()=>{}});Ut({softmaxCrossEntropy_:()=>{}});const AF={fft:Gv,ifft_:()=>{},rfft_:()=>{},irfft_:()=>{}},SF={hammingWindow_:()=>{},hannWindow_:()=>{},frame:EF,stft_:()=>{}},TF={flipLeftRight_:()=>{},grayscaleToRGB_:()=>{},resizeNearestNeighbor_:()=>{},resizeBilinear_:()=>{},rotateWithOffset_:()=>{},cropAndResize_:()=>{},nonMaxSuppression_:()=>{},nonMaxSuppressionAsync_:()=>{},nonMaxSuppressionWithScore_:()=>{},nonMaxSuppressionWithScoreAsync_:()=>{},nonMaxSuppressionPadded_:()=>{},nonMaxSuppressionPaddedAsync_:()=>{},threshold_:()=>{},transform_:()=>{}},jF={bandPart_:()=>{},gramSchmidt_:()=>{},qr_:()=>{}},IF={absoluteDifference_:()=>{},computeWeightedLoss_:()=>{},cosineDistance_:()=>{},hingeLoss_:()=>{},huberLoss_:()=>{},logLoss_:()=>{},meanSquaredError_:()=>{},sigmoidCrossEntropy_:()=>{},softmaxCrossEntropy_:()=>{}},NF={sparseFillEmptyRows_:()=>{},sparseReshape_:()=>{},sparseSegmentMean_:()=>{},sparseSegmentSum_:()=>{}},DF={stringNGrams_:()=>{},stringSplit_:()=>{},stringToHashBucketFast_:()=>{}};class Xl extends tR{minimize(e,a=!1,o){const{value:l,grads:p}=this.computeGradients(e,o);if(o!=null){const f=o.map(d=>({name:d.name,tensor:p[d.name]}));this.applyGradients(f)}else this.applyGradients(p);return Ho(p),a?l:(l.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,a){return variableGrads(e,a)}dispose(){this.iterations_!=null&&Ho(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:Xr(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(Xl,Symbol.hasInstance,{value:n=>n.minimize!=null&&n.computeGradients!=null&&n.applyGradients!=null});class Xv extends Xl{constructor(e,a,o=null){super(),this.learningRate=e,this.rho=a,this.epsilon=o,this.accumulatedGrads=[],this.accumulatedUpdates=[],o==null&&(this.epsilon=Rt.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(o=>o.name):Object.keys(e)).forEach((o,l)=>{const p=Rt.registeredVariables[o],f=!1;this.accumulatedGrads[l]==null&&(this.accumulatedGrads[l]={originalName:`${o}/accum_grad`,variable:Ua(()=>Os(p).variable(f))}),this.accumulatedUpdates[l]==null&&(this.accumulatedUpdates[l]={originalName:`${o}/accum_var`,variable:Ua(()=>Os(p).variable(f))});const d=Array.isArray(e)?e[l].tensor:e[o];if(d==null)return;const u=this.accumulatedGrads[l].variable,h=this.accumulatedUpdates[l].variable;Ua(()=>{const y=Na(ca(u,this.rho),ca(_i(d),1-this.rho)),b=ca(Cs(sqrt(Na(h,this.epsilon)),sqrt(Na(u,this.epsilon))),d),x=Na(ca(h,this.rho),ca(_i(b),1-this.rho));u.assign(y),h.assign(x);const A=Na(ca(b,-this.learningRate),p);p.assign(A)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(Ho(this.accumulatedGrads.map(e=>e.variable)),Ho(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(a=>({name:a.originalName,tensor:a.variable})))}async setWeights(e){e=await this.extractIterations(e);const a=e.length/2,o=!1;this.accumulatedGrads=e.slice(0,a).map(l=>({originalName:l.name,variable:l.tensor.variable(o)})),this.accumulatedUpdates=e.slice(a,a*2).map(l=>({originalName:l.name,variable:l.tensor.variable(o)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,a){return new e(a.learningRate,a.rho,a.epsilon)}}Xv.className="Adadelta";Kl(Xv);class Yv extends Xl{constructor(e,a=.1){super(),this.learningRate=e,this.initialAccumulatorValue=a,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(o=>o.name):Object.keys(e)).forEach((o,l)=>{const p=Rt.registeredVariables[o];this.accumulatedGrads[l]==null&&(this.accumulatedGrads[l]={originalName:`${o}/accumulator`,variable:Ua(()=>fill$1(p.shape,this.initialAccumulatorValue).variable(!1))});const f=Array.isArray(e)?e[l].tensor:e[o];if(f==null)return;const d=this.accumulatedGrads[l].variable;Ua(()=>{const u=Na(d,_i(f));d.assign(u);const h=Na(ca(Cs(f,sqrt(Na(u,Rt.backend.epsilon()))),-this.learningRate),p);p.assign(h)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&Ho(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const a=!1;this.accumulatedGrads=e.map(o=>({originalName:o.name,variable:o.tensor.variable(a)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,a){return new e(a.learningRate,a.initialAccumulatorValue)}}Yv.className="Adagrad";Kl(Yv);class qv extends Xl{constructor(e,a,o,l=null){super(),this.learningRate=e,this.beta1=a,this.beta2=o,this.epsilon=l,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],Ua(()=>{this.accBeta1=Xr(a).variable(),this.accBeta2=Xr(o).variable()}),l==null&&(this.epsilon=Rt.backend.epsilon())}applyGradients(e){const a=Array.isArray(e)?e.map(o=>o.name):Object.keys(e);Ua(()=>{const o=tl(1,this.accBeta1),l=tl(1,this.accBeta2);a.forEach((p,f)=>{const d=Rt.registeredVariables[p],u=!1;this.accumulatedFirstMoment[f]==null&&(this.accumulatedFirstMoment[f]={originalName:`${p}/m`,variable:Ua(()=>Os(d).variable(u))}),this.accumulatedSecondMoment[f]==null&&(this.accumulatedSecondMoment[f]={originalName:`${p}/v`,variable:Ua(()=>Os(d).variable(u))});const h=Array.isArray(e)?e[f].tensor:e[p];if(h==null)return;const y=this.accumulatedFirstMoment[f].variable,b=this.accumulatedSecondMoment[f].variable,x=Na(ca(y,this.beta1),ca(h,1-this.beta1)),A=Na(ca(b,this.beta2),ca(_i(h),1-this.beta2)),j=Cs(x,o),T=Cs(A,l);y.assign(x),b.assign(A);const I=Na(ca(Cs(j,Na(sqrt(T),this.epsilon)),-this.learningRate),d);d.assign(I)}),this.accBeta1.assign(ca(this.accBeta1,this.beta1)),this.accBeta2.assign(ca(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&Ho(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&Ho(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(a=>({name:a.originalName,tensor:a.variable})))}async setWeights(e){e=await this.extractIterations(e),Ua(()=>{this.accBeta1.assign(pow$1(this.beta1,this.iterations_+1)),this.accBeta2.assign(pow$1(this.beta2,this.iterations_+1))});const a=e.length/2,o=!1;this.accumulatedFirstMoment=e.slice(0,a).map(l=>({originalName:l.name,variable:l.tensor.variable(o)})),this.accumulatedSecondMoment=e.slice(a,a*2).map(l=>({originalName:l.name,variable:l.tensor.variable(o)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,a){return new e(a.learningRate,a.beta1,a.beta2,a.epsilon)}}qv.className="Adam";Kl(qv);class Zv extends Xl{constructor(e,a,o,l=null,p=0){super(),this.learningRate=e,this.beta1=a,this.beta2=o,this.epsilon=l,this.decay=p,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],Ua(()=>{this.iteration=Xr(0).variable(),this.accBeta1=Xr(a).variable()}),l==null&&(this.epsilon=Rt.backend.epsilon())}applyGradients(e){const a=Array.isArray(e)?e.map(o=>o.name):Object.keys(e);Ua(()=>{const o=tl(1,this.accBeta1),l=Cs(-this.learningRate,Na(ca(this.iteration,this.decay),1));a.forEach((p,f)=>{const d=Rt.registeredVariables[p],u=!1;this.accumulatedFirstMoment[f]==null&&(this.accumulatedFirstMoment[f]={originalName:`${p}/m`,variable:Os(d).variable(u)}),this.accumulatedWeightedInfNorm[f]==null&&(this.accumulatedWeightedInfNorm[f]={originalName:`${p}/v`,variable:Os(d).variable(u)});const h=Array.isArray(e)?e[f].tensor:e[p];if(h==null)return;const y=this.accumulatedFirstMoment[f].variable,b=this.accumulatedWeightedInfNorm[f].variable,x=Na(ca(y,this.beta1),ca(h,1-this.beta1)),A=ca(b,this.beta2),j=Ys(h),T=Ov(A,j);y.assign(x),b.assign(T);const I=Na(ca(Cs(l,o),Cs(x,Na(T,this.epsilon))),d);d.assign(I)}),this.iteration.assign(Na(this.iteration,1)),this.accBeta1.assign(ca(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&Ho(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&Ho(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,a){return new e(a.learningRate,a.beta1,a.beta2,a.epsilon,a.decay)}}Zv.className="Adamax";Kl(Zv);class C1 extends Xl{constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(o=>o.name):Object.keys(e)).forEach((o,l)=>{const p=Array.isArray(e)?e[l].tensor:e[o];if(p==null)return;const f=Rt.registeredVariables[o];Ua(()=>{const d=Na(ca(this.c,p),f);f.assign(d)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=bi(Xr(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,a){return new e(a.learningRate)}}C1.className="SGD";Kl(C1);class Jv extends C1{constructor(e,a,o=!1){super(e),this.learningRate=e,this.momentum=a,this.useNesterov=o,this.accumulations=[],this.m=Xr(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(o=>o.name):Object.keys(e)).forEach((o,l)=>{const p=Rt.registeredVariables[o];this.accumulations[l]==null&&(this.accumulations[l]={originalName:`${o}/momentum`,variable:Ua(()=>Os(p).variable(!1))});const f=this.accumulations[l].variable,d=Array.isArray(e)?e[l].tensor:e[o];d!=null&&Ua(()=>{let u;const h=Na(ca(this.m,f),d);this.useNesterov?u=Na(ca(this.c,Na(d,ca(h,this.m))),p):u=Na(ca(this.c,h),p),f.assign(h),p.assign(u)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&Ho(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const a=!1;this.accumulations=e.map(o=>({originalName:o.name,variable:o.tensor.variable(a)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,a){return new e(a.learningRate,a.momentum,a.useNesterov)}}Jv.className="Momentum";Kl(Jv);class Qv extends Xl{constructor(e,a=.9,o=0,l=null,p=!1){if(super(),this.learningRate=e,this.decay=a,this.momentum=o,this.epsilon=l,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=p,l==null&&(this.epsilon=Rt.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(o=>o.name):Object.keys(e)).forEach((o,l)=>{const p=Rt.registeredVariables[o],f=!1;this.accumulatedMeanSquares[l]==null&&(this.accumulatedMeanSquares[l]={originalName:`${o}/rms`,variable:Ua(()=>Os(p).variable(f))}),this.accumulatedMoments[l]==null&&(this.accumulatedMoments[l]={originalName:`${o}/momentum`,variable:Ua(()=>Os(p).variable(f))}),this.accumulatedMeanGrads[l]==null&&this.centered&&(this.accumulatedMeanGrads[l]={originalName:`${o}/mg`,variable:Ua(()=>Os(p).variable(f))});const d=Array.isArray(e)?e[l].tensor:e[o];if(d==null)return;const u=this.accumulatedMeanSquares[l].variable,h=this.accumulatedMoments[l].variable;Ua(()=>{const y=Na(ca(u,this.decay),ca(_i(d),1-this.decay));if(this.centered){const b=this.accumulatedMeanGrads[l].variable,x=Na(ca(b,this.decay),ca(d,1-this.decay)),A=Cs(ca(d,this.learningRate),sqrt(tl(y,Na(_i(x),this.epsilon)))),j=Na(ca(h,this.momentum),A);u.assign(y),b.assign(x),h.assign(j);const T=tl(p,j);p.assign(T)}else{const b=Na(ca(u,this.decay),ca(_i(d),1-this.decay)),x=Na(ca(h,this.momentum),Cs(ca(d,this.learningRate),sqrt(Na(b,this.epsilon))));u.assign(b),h.assign(x);const A=tl(p,x);p.assign(A)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&Ho(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&Ho(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&Ho(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(a=>({name:a.originalName,tensor:a.variable})))}async setWeights(e){e=await this.extractIterations(e);const a=this.centered?e.length/3:e.length/2,o=!1;this.accumulatedMeanSquares=e.slice(0,a).map(l=>({originalName:l.name,variable:l.tensor.variable(o)})),this.accumulatedMoments=e.slice(a,a*2).map(l=>({originalName:l.name,variable:l.tensor.variable(o)})),this.centered&&(this.accumulatedMeanGrads=e.slice(a*2,a*3).map(l=>({originalName:l.name,variable:l.tensor.variable(o)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,a){return new e(a.learningRate,a.decay,a.momentum,a.epsilon,a.centered)}}Qv.className="RMSProp";Kl(Qv);function ex(n,e){const a=n[0].length;n.forEach((l,p)=>{on(l.length===a,()=>`Error in concat${a}D: rank of tensors[${p}] must be the same as the rank of the rest (${a})`)}),on(e>=0&&e<a,()=>`Error in concat${a}D: axis must be between 0 and ${a-1}.`);const o=n[0];n.forEach((l,p)=>{for(let f=0;f<a;f++)on(f===e||l[f]===o[f],()=>`Error in concat${a}D: Shape of tensors[${p}] (${l}) does not match the shape of the rest (${o}) along the non-concatenated axis ${p}.`)})}function Mc(n,e){const a=n[0].slice();for(let o=1;o<n.length;o++)a[e]+=n[o][e];return a}const tx=30;function nx(n){return n<=tx?n:wO(n,Math.floor(Math.sqrt(n)))}const CF=1.7580993408473768,OF=1.0507009873554805,BF=.3275911,RF=.254829592,FF=-.284496736,MF=1.421413741,PF=-1.453152027,LF=1.061405429;function ax(n,e,a,o){const l=e.shape.length,p=n.shape.length;if(o!==0&&(o<-l||o>l))throw new Error(`Expect batchDims in the range of [-${l}, ${l}], but got ${o}`);if(o<0&&(o+=l),o>p)throw new Error(`batchDims (${o}) must be less than rank(x) (
    ${p}).`);if(a<o)throw new Error(`batchDims (${o}) must be less than or equal to axis (${a}).`);for(let b=0;b<o;++b)if(n.shape[b]!==e.shape[b])throw new Error(`x.shape[${b}]: ${n.shape[b]} should be equal to indices.shape[${b}]: ${e.shape[b]}.`);const f=n.shape[a],d=[];let u=1,h=1,y=1;for(let b=0;b<o;++b)d.push(n.shape[b]),u*=n.shape[b];for(let b=o;b<a;b++)d.push(n.shape[b]),h*=n.shape[b];for(let b=o;b<l;b++)d.push(e.shape[b]);for(let b=a+1;b<p;b++)d.push(n.shape[b]),y*=n.shape[b];return{batchSize:u,sliceSize:y,outerSize:h,dimSize:f,outputShape:d}}var UF=Object.freeze({__proto__:null,segOpComputeOptimalWindowSize:()=>{},computeOutShape$2:()=>{},collectGatherOpShapeInfo:ax}),zF=Object.freeze({__proto__:null,slice_util:eR,segment_util:UF,fromUint8ToStringArray:()=>{},fromStringArrayToUint8:()=>{},upcastType:Ai,axesAreInnerMostDims:D1,combineLocations:()=>{},computeOutAndReduceShapes:Wc,expandShapeToKeepDim:Ju,assertAxesAreInnerMostDims:Zd,getAxesPermutation:Jd,getUndoAxesPermutation:()=>{},getInnerMostAxes:Qd,getBroadcastDims:Md,getReductionAxes:kv,assertAndGetBroadcastShape:Yr,assertParamsConsistent:ex,computeOutShape$2:()=>{},computeDilation2DInfo:()=>{},computePool2DInfo:sR,computePool3DInfo:()=>{},computeConv2DInfo:Tv,computeConv3DInfo:()=>{},computeDefaultPad:()=>{},tupleValuesAreOne:()=>{},eitherStridesOrDilationsAreOne:()=>{},convertConv2DDataFormat:iR,checkPadOnDimRoundingMode:()=>{},getFusedDyActivation:Hv,getFusedBiasGradient:Wv,applyActivation:()=>{},shouldFuse:Kv,PARALLELIZE_THRESHOLD:tx,computeOptimalWindowSize:nx,getImageCenter:()=>{},getReshaped:()=>{},getPermuted:()=>{},getReshapedPermuted:()=>{},getSliceBeginCoords:()=>{},getSliceSize:()=>{},prepareAndValidate:()=>{},validateUpdateShape:()=>{},validateInput:QB,calculateShapes:()=>{},SELU_SCALEALPHA:CF,SELU_SCALE:OF,ERF_P:BF,ERF_A1:RF,ERF_A2:FF,ERF_A3:MF,ERF_A4:PF,ERF_A5:LF,warn:Qi,log:rB,mergeRealAndImagArrays:()=>{},splitRealAndImagArrays:()=>{},complexWithEvenIndex:()=>{},complexWithOddIndex:()=>{},getComplexWithIndex:()=>{},assignToTypedArray:()=>{},exponents:()=>{},exponent:()=>{},decodeEinsumEquation:()=>{},getEinsumPermutation:()=>{},checkEinsumDimSizes:()=>{},getEinsumComputePath:()=>{},isIdentityPermutation:()=>{},prepareSplitSize:()=>{},getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>{},getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>{},getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>{},getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>{},getSparseReshapeNegativeOutputDimErrorMessage:()=>{},getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>{},getSparseReshapeInputOutputMultipleErrorMessage:()=>{},getSparseReshapeInputOutputMismatchErrorMessage:()=>{},getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>{},getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>{},getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>{},getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>{}});const $F=vt();$F.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,n=>{n&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});var es;(function(n){n[n.DT_INVALID=0]="DT_INVALID",n[n.DT_FLOAT=1]="DT_FLOAT",n[n.DT_DOUBLE=2]="DT_DOUBLE",n[n.DT_INT32=3]="DT_INT32",n[n.DT_UINT8=4]="DT_UINT8",n[n.DT_INT16=5]="DT_INT16",n[n.DT_INT8=6]="DT_INT8",n[n.DT_STRING=7]="DT_STRING",n[n.DT_COMPLEX64=8]="DT_COMPLEX64",n[n.DT_INT64=9]="DT_INT64",n[n.DT_BOOL=10]="DT_BOOL",n[n.DT_QINT8=11]="DT_QINT8",n[n.DT_QUINT8=12]="DT_QUINT8",n[n.DT_QINT32=13]="DT_QINT32",n[n.DT_BFLOAT16=14]="DT_BFLOAT16",n[n.DT_QINT16=15]="DT_QINT16",n[n.DT_QUINT16=16]="DT_QUINT16",n[n.DT_UINT16=17]="DT_UINT16",n[n.DT_COMPLEX128=18]="DT_COMPLEX128",n[n.DT_HALF=19]="DT_HALF",n[n.DT_RESOURCE=20]="DT_RESOURCE",n[n.DT_VARIANT=21]="DT_VARIANT",n[n.DT_UINT32=22]="DT_UINT32",n[n.DT_UINT64=23]="DT_UINT64",n[n.DT_FLOAT_REF=101]="DT_FLOAT_REF",n[n.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",n[n.DT_INT32_REF=103]="DT_INT32_REF",n[n.DT_UINT8_REF=104]="DT_UINT8_REF",n[n.DT_INT16_REF=105]="DT_INT16_REF",n[n.DT_INT8_REF=106]="DT_INT8_REF",n[n.DT_STRING_REF=107]="DT_STRING_REF",n[n.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",n[n.DT_INT64_REF=109]="DT_INT64_REF",n[n.DT_BOOL_REF=110]="DT_BOOL_REF",n[n.DT_QINT8_REF=111]="DT_QINT8_REF",n[n.DT_QUINT8_REF=112]="DT_QUINT8_REF",n[n.DT_QINT32_REF=113]="DT_QINT32_REF",n[n.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",n[n.DT_QINT16_REF=115]="DT_QINT16_REF",n[n.DT_QUINT16_REF=116]="DT_QUINT16_REF",n[n.DT_UINT16_REF=117]="DT_UINT16_REF",n[n.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",n[n.DT_HALF_REF=119]="DT_HALF_REF",n[n.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",n[n.DT_VARIANT_REF=121]="DT_VARIANT_REF",n[n.DT_UINT32_REF=122]="DT_UINT32_REF",n[n.DT_UINT64_REF=123]="DT_UINT64_REF"})(es||(es={}));var mw;(function(n){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(n.CheckpointFormatVersion||(n.CheckpointFormatVersion={}))})(mw||(mw={}));const GF={};function rx(n){return GF[n]}function z(n,e,a,o,l){const p=e.inputParams[n];if(p&&p.inputIndexStart!==void 0){const d=p.inputIndexStart,u=p.inputIndexEnd===0?void 0:p.inputIndexEnd===void 0?d+1:p.inputIndexEnd;if(p.type==="tensor")return so(e.inputNames[p.inputIndexStart],a,o,l);if(p.type==="tensors")return e.inputNames.slice(d,u).map(x=>so(x,a,o,l));const h=so(e.inputNames.slice(d)[0],a,o,l),y=h.dataSync();return p.type==="number"?y[0]:Rm(h.shape,y)}const f=e.attrParams[n];return f&&f.value}function so(n,e,a,o){const[l,p]=Io(n);if(o!=null){const d=o.getHashTableHandleByName(l);if(d!=null)return d}const f=a.currentContextIds.find(d=>!!e[Ld(l,d)]);return f!==void 0?e[Ld(l,f)][p]:void 0}function VF(n,e,a){return e[Ld(n,a.currentContextId)]}function Js(n,e){const[a,o,l]=Io(n);return[Ld(a,e&&e.currentContextId),o,l]}function Ld(n,e){return e?`${n}-${e}`:n}function Io(n){const e=n.split(":");if(e.length===1)return[n,0,void 0];const a=e[0],o=e.length===3?e[1]:void 0,l=Number(e[e.length-1]);return[a,l,o]}function nm(n,e,a){let o=z("pad",n,e,a);if(o==="explicit"){o=z("explicitPaddings",n,e,a);const l=[[0,0],[0,0],[0,0],[0,0]];for(let p=0;p<4;p++)l[p][0]=o[p*2],l[p][1]=o[p*2+1];return l}return o}function mi(n){return n.kept?n:Hc(n)}const HF=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}];var WF=Object.freeze({__proto__:null,json:HF});const KF=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}];var XF=Object.freeze({__proto__:null,json:KF});const YF=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}];var qF=Object.freeze({__proto__:null,json:YF});const ZF=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}];var JF=Object.freeze({__proto__:null,json:ZF});const QF=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}];var e3=Object.freeze({__proto__:null,json:QF});const t3=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}];var n3=Object.freeze({__proto__:null,json:t3});const a3=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}];var r3=Object.freeze({__proto__:null,json:a3});const o3=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}];var s3=Object.freeze({__proto__:null,json:o3});const i3=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}];var l3=Object.freeze({__proto__:null,json:i3});const u3=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}];var c3=Object.freeze({__proto__:null,json:u3});const p3=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}];var d3=Object.freeze({__proto__:null,json:p3});const f3=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}];var h3=Object.freeze({__proto__:null,json:f3});const m3=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}];var g3=Object.freeze({__proto__:null,json:m3});const y3=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}];var b3=Object.freeze({__proto__:null,json:y3});const w3=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}];var v3=Object.freeze({__proto__:null,json:w3});const x3=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}];var _3=Object.freeze({__proto__:null,json:x3});const k3=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}];var E3=Object.freeze({__proto__:null,json:k3});const A3=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}];var S3=Object.freeze({__proto__:null,json:A3});const T3=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];var j3=Object.freeze({__proto__:null,json:T3});class gw{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[WF,XF,qF,JF,e3,n3,r3,s3,l3,c3,d3,h3,g3,b3,v3,_3,E3,S3,j3],a=[].concat(...e.map(o=>o.json));this.opMappers=a.reduce((o,l)=>(o[l.tfOpName]=l,o),{})}transformGraph(e,a={}){const o=e.node,l=[],p=[],f=[],d=o.reduce((T,I)=>(T[I.name]=this.mapNode(I),I.op.startsWith("Placeholder")?l.push(T[I.name]):I.op==="Const"?p.push(T[I.name]):(I.input==null||I.input.length===0)&&f.push(T[I.name]),T),{});let u=[];const h=[];let y={},b={};a!=null&&(y=this.mapSignatureEntries(a.inputs),b=this.mapSignatureEntries(a.outputs));const x=Object.keys(d);x.forEach(T=>{const I=d[T];I.inputNames.forEach((S,G)=>{const[D,,X]=Js(S),L=d[D];if(L.outputs!=null){const F=L.outputs.indexOf(X);if(F!==-1){const V=`${D}:${F}`;I.inputNames[G]=V}}I.inputs.push(L),L.children.push(I)})}),Object.keys(b).length===0?x.forEach(T=>{const I=d[T];I.children.length===0&&h.push(I)}):Object.keys(b).forEach(T=>{const[I]=Js(T),S=d[I];S!=null&&(S.signatureKey=b[T],h.push(S))}),Object.keys(y).length>0?Object.keys(y).forEach(T=>{const[I]=Js(T),S=d[I];S&&(S.signatureKey=y[T],u.push(S))}):u=l;let A={};e.library!=null&&e.library.function!=null&&(A=e.library.function.reduce((T,I)=>(T[I.signature.name]=this.mapFunction(I),T),{}));const j={nodes:d,inputs:u,outputs:h,weights:p,placeholders:l,signature:a,functions:A};return f.length>0&&(j.initNodes=f),j}mapSignatureEntries(e){return Object.keys(e||{}).reduce((a,o)=>(a[e[o].name]=o,a),{})}mapNode(e){const a=rx(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});const o={name:e.name,op:e.op,category:a.category,inputNames:(e.input||[]).map(l=>l.startsWith("^")?l.slice(1):l),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:a.outputs};return a.inputs!=null&&(o.inputParams=a.inputs.reduce((l,p)=>(l[p.name]={type:p.type,inputIndexStart:p.start,inputIndexEnd:p.end},l),{})),a.attrs!=null&&(o.attrParams=a.attrs.reduce((l,p)=>{const f=p.type;let d;switch(p.type){case"string":d=Xm(e.attr,p.tfName,p.defaultValue),d===void 0&&p.tfDeprecatedName&&(d=Xm(e.attr,p.tfDeprecatedName,p.defaultValue));break;case"string[]":d=Qm(e.attr,p.tfName,p.defaultValue),d===void 0&&p.tfDeprecatedName&&(d=Qm(e.attr,p.tfDeprecatedName,p.defaultValue));break;case"number":d=qm(e.attr,p.tfName,p.defaultValue||0),d===void 0&&p.tfDeprecatedName&&(d=qm(e.attr,p.tfDeprecatedName,p.defaultValue));break;case"number[]":d=getNumericArrayParam(e.attr,p.tfName,p.defaultValue),d===void 0&&p.tfDeprecatedName&&(d=getNumericArrayParam(e.attr,p.tfDeprecatedName,p.defaultValue));break;case"bool":d=Ym(e.attr,p.tfName,p.defaultValue),d===void 0&&p.tfDeprecatedName&&(d=Ym(e.attr,p.tfDeprecatedName,p.defaultValue));break;case"bool[]":d=getBoolArrayParam(e.attr,p.tfName,p.defaultValue),d===void 0&&p.tfDeprecatedName&&(d=getBoolArrayParam(e.attr,p.tfDeprecatedName,p.defaultValue));break;case"shape":d=Jm(e.attr,p.tfName,p.defaultValue),d===void 0&&p.tfDeprecatedName&&(d=Jm(e.attr,p.tfDeprecatedName,p.defaultValue));break;case"shape[]":d=getTensorShapeArrayParam(e.attr,p.tfName,p.defaultValue),d===void 0&&p.tfDeprecatedName&&(d=getTensorShapeArrayParam(e.attr,p.tfDeprecatedName,p.defaultValue));break;case"dtype":d=Zm(e.attr,p.tfName,p.defaultValue),d===void 0&&p.tfDeprecatedName&&(d=Zm(e.attr,p.tfDeprecatedName,p.defaultValue));break;case"dtype[]":d=getDtypeArrayParam(e.attr,p.tfName,p.defaultValue),d===void 0&&p.tfDeprecatedName&&(d=getDtypeArrayParam(e.attr,p.tfDeprecatedName,p.defaultValue));break;case"func":d=getFuncParam(e.attr,p.tfName,p.defaultValue),d===void 0&&p.tfDeprecatedName&&(d=getFuncParam(e.attr,p.tfDeprecatedName,p.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${p.type} for op: ${e.op}`)}return l[p.name]={value:d,type:f},l},{})),o}mapFunction(e){const a=e.nodeDef,o=[],l=[];let p={};a!=null&&(p=a.reduce((b,x)=>(b[x.name]=this.mapNode(x),x.op==="Const"&&l.push(b[x.name]),b),{}));const f=[],d=[];e.signature.inputArg.forEach(b=>{const[x]=Js(b.name),A={name:x,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:sx(b.type),type:"dtype"}},children:[]};A.signatureKey=b.name,f.push(A),p[x]=A}),Object.keys(p).forEach(b=>{const x=p[b];x.inputNames.forEach((A,j)=>{const[T,,I]=Js(A),S=p[T];if(S.outputs!=null){const G=S.outputs.indexOf(I);if(G!==-1){const D=`${T}:${G}`;x.inputNames[j]=D}}x.inputs.push(S),S.children.push(x)})});const h=e.ret;e.signature.outputArg.forEach(b=>{const[x,A]=Js(h[b.name]),j=p[x];j!=null&&(j.defaultOutput=A,d.push(j))});const y=this.mapArgsToSignature(e);return{nodes:p,inputs:f,outputs:d,weights:l,placeholders:o,signature:y}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((a,o)=>(a[o.name]=this.mapArgToTensorInfo(o),a),{}),outputs:e.signature.outputArg.reduce((a,o)=>(a[o.name]=this.mapArgToTensorInfo(o,e.ret),a),{})}}mapArgToTensorInfo(e,a){let o=e.name;return a!=null&&(o=a[o]),{name:o,dtype:e.type}}}function I3(n){const e=vt().global;if(typeof e.atob<"u")return e.atob(n);if(typeof Buffer<"u")return new Buffer(n,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function ox(n,e){const a=Array.isArray(n)?String.fromCharCode.apply(null,n):I3(n);return e?a:a.toLowerCase()}function Xm(n,e,a,o=!1){const l=n[e];return l!=null?ox(l.s,o):a}function Ym(n,e,a){const o=n[e];return o?o.b:a}function qm(n,e,a){const o=n[e]||{},l=o.i!=null?o.i:o.f!=null?o.f:a;return typeof l=="number"?l:parseInt(l,10)}function sx(n){switch(typeof n=="string"&&(n=es[n]),n){case es.DT_FLOAT:case es.DT_HALF:return"float32";case es.DT_INT32:case es.DT_INT64:case es.DT_INT8:case es.DT_UINT8:return"int32";case es.DT_BOOL:return"bool";case es.DT_DOUBLE:return"float32";case es.DT_STRING:return"string";default:return null}}function Zm(n,e,a){const o=n[e];return o&&o.type?sx(o.type):a}function N3(n){if(!n.unknownRank)return n.dim!=null?n.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function Jm(n,e,a){const o=n[e];return o&&o.shape?N3(o.shape):a}function Qm(n,e,a,o=!1){const l=n[e];return l&&l.list&&l.list.s?l.list.s.map(p=>ox(p,o)):a}class D3{constructor(e,a,o){this.node=e,this.tensorMap=a,this.context=o,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(l=>this.getInput(l)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((l,p)=>(l[p]=this.getAttr(p),l),{}))}getInput(e){return so(e,this.tensorMap,this.context)}getAttr(e,a){const o=this.node.rawAttrs[e];if(o.tensor!=null)return so(e,this.tensorMap,this.context);if(o.i!=null||o.f!=null)return qm(this.node.rawAttrs,e,a);if(o.s!=null)return Xm(this.node.rawAttrs,e,a);if(o.b!=null)return Ym(this.node.rawAttrs,e,a);if(o.shape!=null)return Jm(this.node.rawAttrs,e,a);if(o.type!=null)return Zm(this.node.rawAttrs,e,a);if(o.list!=null){if(o.list.i!=null||o.list.f!=null)return getNumericArrayParam(this.node.rawAttrs,e,a);if(o.list.s!=null)return Qm(this.node.rawAttrs,e,a);if(o.list.shape!=null)return getTensorShapeArrayParam(this.node.rawAttrs,e,a);if(o.list.b!=null)return getBoolArrayParam(this.node.rawAttrs,e,a);if(o.list.type!=null)return getDtypeArrayParam(this.node.rawAttrs,e,a)}return a}}var qr=Object.freeze({__proto__:null,abs:Ys,acos_:()=>{},acosh_:()=>{},add:Na,addN_:()=>{},all_:()=>{},any_:()=>{},argMax_:()=>{},argMin_:()=>{},asin_:()=>{},asinh_:()=>{},atan_:()=>{},atan_:()=>{},atanh_:()=>{},avgPool_:()=>{},avgPool3d_:()=>{},basicLSTMCell_:()=>{},batchToSpaceND_:()=>{},batchNorm_:()=>{},batchNorm2d_:()=>{},batchNorm3d_:()=>{},batchNorm4d_:()=>{},bincount:hR,broadcastArgs_:()=>{},broadcastTo:Ed,buffer:Si,cast:Ti,ceil_:()=>{},clipByValue_:()=>{},clone:Hc,complex:Xd,concat:Fc,concat1d_:()=>{},concat2d_:()=>{},concat3d_:()=>{},concat4d_:()=>{},conv1d_:()=>{},conv2d_:()=>{},conv2dTranspose_:()=>{},conv3d_:()=>{},conv3dTranspose_:()=>{},cos_:()=>{},cosh_:()=>{},cumprod_:()=>{},cumsum_:()=>{},denseBincount_:()=>{},depthToSpace_:()=>{},depthwiseConv2d_:()=>{},diag_:()=>{},dilation2d_:()=>{},div:Cs,divNoNan_:()=>{},dot:Iv,einsum_:()=>{},elu_:()=>{},equal:bR,erf_:()=>{},euclideanNorm_:()=>{},exp:Dv,expandDims:IR,expm1_:()=>{},eye_:()=>{},fill$1:()=>{},floor_:()=>{},floorDiv_:()=>{},gather:DR,greater:OR,greaterEqual_:()=>{},imag_:()=>{},isFinite_:()=>{},isInf_:()=>{},isNaN_:()=>{},leakyRelu_:()=>{},less_:()=>{},lessEqual_:()=>{},linspace:()=>{},localResponseNormalization_:()=>{},log:Cv,log1p:FR,logSigmoid_:()=>{},logSoftmax_:()=>{},logSumExp:LR,logicalAnd:zR,logicalNot_:()=>{},logicalOr_:()=>{},logicalXor_:()=>{},lowerBound:()=>{},matMul:jo,max:Bc,maxPool_:()=>{},maxPool3d_:()=>{},maxPoolWithArgmax_:()=>{},maximum:Ov,mean:VR,meshgrid:()=>{},min_:()=>{},minimum:WR,mirrorPad_:()=>{},mod_:()=>{},moments_:()=>{},mul:ca,multiRNNCell_:()=>{},multinomial_:()=>{},neg:qB,notEqual:XR,oneHot:xv,ones:Bv,onesLike_:()=>{},outerProduct_:()=>{},pad:Rv,pad1d_:()=>{},pad2d_:()=>{},pad3d_:()=>{},pad4d_:()=>{},pool_:()=>{},pow_:()=>{},prelu_:()=>{},print:bv,prod:ZR,rand_:()=>{},randomGamma_:()=>{},randomNormal_:()=>{},randomStandardNormal_:()=>{},randomUniform_:()=>{},range:rF,real:JB,reciprocal_:()=>{},relu:sF,relu6_:()=>{},reshape:aa,reverse:lF,reverse1d_:()=>{},reverse2d_:()=>{},reverse3d_:()=>{},reverse4d_:()=>{},round$1:()=>{},rsqrt_:()=>{},scalar:Xr,selu_:()=>{},separableConv2d_:()=>{},setdiff1dAsync_:()=>{},sigmoid:pR,sign_:()=>{},sin_:()=>{},sinh_:()=>{},slice:Pd,slice1d_:()=>{},slice2d_:()=>{},slice3d_:()=>{},slice4d_:()=>{},softmax_:()=>{},softplus_:()=>{},spaceToBatchND_:()=>{},fft:Gv,ifft_:()=>{},irfft_:()=>{},rfft_:()=>{},split_:()=>{},sqrt_:()=>{},square:_i,squaredDifference:pF,squeeze:fF,stack:Gu,step_:()=>{},stridedSlice_:()=>{},sub:tl,sum:Zs,tan_:()=>{},tanh_:()=>{},tensor:xi,tensor1d:mF,tensor2d:Vv,tensor3d:()=>{},tensor4d:()=>{},tensor5d:()=>{},tensor6d:()=>{},tile_:()=>{},topk_:()=>{},truncatedNormal_:()=>{},unique_:()=>{},unsortedSegmentSum_:()=>{},unstack:ec,upperBound:()=>{},variable:()=>{},where:jv,whereAsync_:()=>{},zeros:$u,zerosLike:Os,op:Ut,OP_SCOPE_SUFFIX:pv,booleanMaskAsync_:()=>{},transpose_:()=>{},norm:SR,movingAverage_:()=>{},scatterND_:()=>{},searchSorted_:()=>{},sparseToDense_:()=>{},gatherND_:()=>{},dropout_:()=>{},enclosingPowerOfTwo:()=>{},cosineWindow:()=>{},inTopKAsync_:()=>{},image:TF,linalg:jF,losses:IF,spectral:AF,fused:_F,signal:SF,sparse:NF,string:DF});const C3=(n,e,a,o=qr)=>{switch(n.op){case"BiasAdd":case"AddV2":case"Add":return[o.add(z("a",n,e,a),z("b",n,e,a))];case"AddN":return[o.addN(z("tensors",n,e,a))];case"FloorMod":case"Mod":return[o.mod(z("a",n,e,a),z("b",n,e,a))];case"Mul":return[o.mul(z("a",n,e,a),z("b",n,e,a))];case"RealDiv":case"Div":return[o.div(z("a",n,e,a),z("b",n,e,a))];case"DivNoNan":return[o.divNoNan(z("a",n,e,a),z("b",n,e,a))];case"FloorDiv":return[o.floorDiv(z("a",n,e,a),z("b",n,e,a))];case"Sub":return[o.sub(z("a",n,e,a),z("b",n,e,a))];case"Minimum":return[o.minimum(z("a",n,e,a),z("b",n,e,a))];case"Maximum":return[o.maximum(z("a",n,e,a),z("b",n,e,a))];case"Pow":return[o.pow(z("a",n,e,a),z("b",n,e,a))];case"SquaredDifference":return[o.squaredDifference(z("a",n,e,a),z("b",n,e,a))];default:throw TypeError(`Node type ${n.op} is not implemented`)}},O3=(n,e,a,o=qr)=>{switch(n.op){case"Abs":case"ComplexAbs":return[o.abs(z("x",n,e,a))];case"Acos":return[o.acos(z("x",n,e,a))];case"Acosh":return[o.acosh(z("x",n,e,a))];case"Asin":return[o.asin(z("x",n,e,a))];case"Asinh":return[o.asinh(z("x",n,e,a))];case"Atan":return[o.atan(z("x",n,e,a))];case"Atan2":return[o.atan2(z("x",n,e,a),z("y",n,e,a))];case"Atanh":return[o.atanh(z("x",n,e,a))];case"Ceil":return[o.ceil(z("x",n,e,a))];case"Complex":return[o.complex(z("real",n,e,a),z("imag",n,e,a))];case"Cos":return[o.cos(z("x",n,e,a))];case"Cosh":return[o.cosh(z("x",n,e,a))];case"Elu":return[o.elu(z("x",n,e,a))];case"Erf":return[o.erf(z("x",n,e,a))];case"Exp":return[o.exp(z("x",n,e,a))];case"Expm1":return[o.expm1(z("x",n,e,a))];case"Floor":return[o.floor(z("x",n,e,a))];case"Log":return[o.log(z("x",n,e,a))];case"Log1p":return[o.log1p(z("x",n,e,a))];case"Imag":return[o.imag(z("x",n,e,a))];case"Neg":return[o.neg(z("x",n,e,a))];case"Reciprocal":return[o.reciprocal(z("x",n,e,a))];case"Real":return[o.real(z("x",n,e,a))];case"Relu":return[o.relu(z("x",n,e,a))];case"Round":return[o.round(z("x",n,e,a))];case"Selu":return[o.selu(z("x",n,e,a))];case"Sigmoid":return[o.sigmoid(z("x",n,e,a))];case"Sin":return[o.sin(z("x",n,e,a))];case"Sign":return[o.sign(z("x",n,e,a))];case"Sinh":return[o.sinh(z("x",n,e,a))];case"Softplus":return[o.softplus(z("x",n,e,a))];case"Sqrt":return[o.sqrt(z("x",n,e,a))];case"Square":return[o.square(z("x",n,e,a))];case"Tanh":return[o.tanh(z("x",n,e,a))];case"Tan":return[o.tan(z("x",n,e,a))];case"ClipByValue":return[o.clipByValue(z("x",n,e,a),z("clipValueMin",n,e,a),z("clipValueMax",n,e,a))];case"Relu6":return[o.relu6(z("x",n,e,a))];case"Rsqrt":return[o.rsqrt(so(n.inputNames[0],e,a))];case"Prod":return[o.prod(z("x",n,e,a),z("axes",n,e,a))];case"LeakyRelu":return[o.leakyRelu(z("x",n,e,a),z("alpha",n,e,a))];case"Prelu":return[o.prelu(z("x",n,e,a),z("alpha",n,e,a))];case"IsNan":return[o.isNaN(so(n.inputNames[0],e,a))];default:throw TypeError(`Node type ${n.op} is not implemented`)}};function Tc(n,e,a){let o=yw(n,a);const l=!fullDefinedShape(o);if(l&&e.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${o}`);if(l&&e.forEach(p=>{o=yw(p.shape,o)}),!fullDefinedShape(o))throw new Error(`Non-fully-defined elementShape: ${o}`);return o}function yw(n,e){if(typeof n=="number")return e;if(typeof e=="number")return n;if(n.length!==e.length)throw new Error(`Incompatible ranks during merge: ${n} vs. ${e}`);const a=[];for(let o=0;o<n.length;++o){const l=n[o],p=e[o];if(l>=0&&p>=0&&l!==p)throw new Error(`Incompatible shape during merge: ${n} vs. ${e}`);a[o]=l>=0?l:p}return a}class B3{constructor(e,a,o,l,p,f,d){this.name=e,this.dtype=a,this.maxSize=o,this.elementShape=l,this.identicalElementShapes=p,this.dynamicSize=f,this.clearAfterRead=d,this.tensors=[],this.closed_=!1,this.idTensor=Xr(0),bi(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(a=>{(e==null||!e.has(a.tensor.id))&&a.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const a=this.tensors[e];if(a.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(a.cleared=!0),a.read=!0,a.tensor}readMany(e){return e.map(a=>this.read(a))}write(e,a){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const o=this.tensors[e]||{};if(a.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},
          because the value dtype is ${a.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=a.shape),assertShapesMatchAllowUndefinedSize(this.elementShape,a.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),o.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(o.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);o.tensor=a,bi(a),o.written=!0,this.tensors[e]=o}writeMany(e,a){if(e.length!==a.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${a.length}.`);e.forEach((o,l)=>this.write(o,a[l]))}gather(e,a){if(a&&a!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${a}`);if(e)e=e.slice(0,this.size());else{e=[];for(let l=0;l<this.size();l++)e.push(l)}if(e.length===0)return xi([],[0].concat(this.elementShape));const o=this.readMany(e);return assertShapesMatchAllowUndefinedSize(this.elementShape,o[0].shape,"TensorArray shape mismatch: "),Gu(o,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(this.size()===0)return xi([],[0].concat(this.elementShape));const a=[];for(let l=0;l<this.size();l++)a.push(l);const o=this.readMany(a);return assertShapesMatchAllowUndefinedSize(this.elementShape,o[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${o[0].shape})`),Fc(o,0)}scatter(e,a){if(a.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${a.dtype}`);if(e.length!==a.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${a.shape[0]}`);const o=Math.max(...e);if(!this.dynamicSize&&o>=this.maxSize)throw new Error(`Max index must be < array size (${o}  vs. ${this.maxSize})`);this.writeMany(e,ec(a,0))}split(e,a){if(a.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${a.dtype}`);let o=0;const l=e.map(u=>(o+=u,o));if(o!==a.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${o}, and tensor's shape is: ${a.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const p=o===0?0:a.size/o,f=[];Ua(()=>{a=aa(a,[1,o,p]);for(let u=0;u<e.length;++u){const y=[0,u===0?0:l[u-1],0],b=[1,e[u],p];f[u]=aa(Pd(a,y,b),this.elementShape)}return f});const d=[];for(let u=0;u<e.length;u++)d[u]=u;this.writeMany(d,f)}}class Vu{constructor(e,a,o,l=-1){this.tensors=e,this.elementShape=a,this.elementDtype=o,e!=null&&e.forEach(p=>{if(o!==p.dtype)throw new Error(`Invalid data types; op elements ${o}, but list elements ${p.dtype}`);assertShapesMatchAllowUndefinedSize(a,p.shape,"TensorList shape mismatch: "),bi(p)}),this.idTensor=Xr(0),this.maxNumElements=l,bi(this.idTensor)}get id(){return this.idTensor.id}copy(){return new Vu([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(a=>{(e==null||!e.has(a.id))&&a.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,a,o=-1){if(a!==this.elementDtype)throw new Error(`Invalid data types; op elements ${a}, but list elements ${this.elementDtype}`);if(o!==-1&&this.tensors.length!==o)throw new Error(`Operation expected a list with ${o} elements but got a list with ${this.tensors.length} elements.`);assertShapesMatchAllowUndefinedSize(e,this.elementShape,"TensorList shape mismatch: ");const l=Tc(this.elementShape,this.tensors,e);return Ua(()=>{const p=this.tensors.map(f=>aa(f,l));return Gu(p,0)})}popBack(e,a){if(a!==this.elementDtype)throw new Error(`Invalid data types; op elements ${a}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");const o=Tc(this.elementShape,this.tensors,e),l=this.tensors.pop();return assertShapesMatchAllowUndefinedSize(l.shape,e,"TensorList shape mismatch: "),aa(l,o)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(assertShapesMatchAllowUndefinedSize(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");bi(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const a=new Vu([],this.elementShape,this.elementDtype,this.maxNumElements);a.tensors.length=e;for(let o=0;o<Math.min(this.tensors.length,e);++o)a.tensors[o]=this.tensors[o];return a}getItem(e,a,o){if(o!==this.elementDtype)throw new Error(`Invalid data types; op elements ${o}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(this.tensors[e]==null)throw new Error(`element at index ${e} is null.`);assertShapesMatchAllowUndefinedSize(this.tensors[e].shape,a,"TensorList shape mismatch: ");const l=Tc(this.elementShape,this.tensors,a);return aa(this.tensors[e],l)}setItem(e,a){if(a.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${a.dtype}, but list elements ${this.elementDtype}`);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);assertShapesMatchAllowUndefinedSize(this.elementShape,a.shape,"TensorList shape mismatch: "),bi(a),this.tensors[e]=a}gather(e,a,o){if(a!==this.elementDtype)throw new Error(`Invalid data types; op elements ${a}, but list elements ${this.elementDtype}`);assertShapesMatchAllowUndefinedSize(this.elementShape,o,"TensorList shape mismatch: "),e=e.slice(0,this.size());const l=Tc(this.elementShape,this.tensors,o);return e.length===0?xi([],[0].concat(l)):Ua(()=>{const p=e.map(f=>aa(this.tensors[f],l));return Gu(p,0)})}concat(e,a){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);assertShapesMatchAllowUndefinedSize(this.elementShape,a,"TensorList shape mismatch: ");const o=Tc(this.elementShape,this.tensors,a);return this.size()===0?xi([],[0].concat(o)):Ua(()=>{const l=this.tensors.map(p=>aa(p,o));return Fc(l,0)})}}function R3(n,e,a){const o=n.dtype;if(n.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${n.shape}`);if(n.dtype!==a)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${a}`);const l=n.shape.slice(1);assertShapesMatchAllowUndefinedSize(l,e,"TensorList shape mismatch: ");const p=ec(n);return new Vu(p,e,o)}function F3(n,e,a,o){return new Vu([],n,e,o)}function M3(n,e,a,o){if(e.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${n.shape[0]}`);const l=Math.max(...e);if(o!=null&&o!==-1&&l>=o)throw new Error(`Max index must be < array size (${l}  vs. ${o})`);const p=new Vu([],a,n.dtype,o),f=ec(n,0);return e.forEach((d,u)=>{p.setItem(d,f[u])}),p}const P3=async(n,e,a)=>{switch(n.op){case"If":case"StatelessIf":{const o=z("thenBranch",n,e,a),l=z("elseBranch",n,e,a),p=z("cond",n,e,a),f=z("args",n,e,a);return(await p.data())[0]?a.functionMap[o].executeFunctionAsync(f,a.tensorArrayMap,a.tensorListMap):a.functionMap[l].executeFunctionAsync(f,a.tensorArrayMap,a.tensorListMap)}case"While":case"StatelessWhile":{const o=z("body",n,e,a),l=z("cond",n,e,a),p=z("args",n,e,a),f=await a.functionMap[l].executeFunctionAsync(p,a.tensorArrayMap,a.tensorListMap),d=p.map(y=>y.id);let u=await f[0].data();f.forEach(y=>{!y.kept&&d.indexOf(y.id)===-1&&y.dispose()});let h=p;for(;u[0];){const y=h;h=await a.functionMap[o].executeFunctionAsync(h,a.tensorArrayMap,a.tensorListMap);const b=h.map(A=>A.id);y.forEach(A=>{!A.kept&&d.indexOf(A.id)===-1&&b.indexOf(A.id)===-1&&A.dispose()});const x=await a.functionMap[l].executeFunctionAsync(h,a.tensorArrayMap,a.tensorListMap);u=await x[0].data(),x.forEach(A=>{!A.kept&&d.indexOf(A.id)===-1&&b.indexOf(A.id)===-1&&A.dispose()})}return h}case"LoopCond":{const o=z("pred",n,e,a);return[mi(o)]}case"Switch":{const o=z("pred",n,e,a);let l=z("data",n,e,a);return l.kept||(l=mi(l)),(await o.data())[0]?[void 0,l]:[l,void 0]}case"Merge":{const o=n.inputNames.find(l=>so(l,e,a)!==void 0);if(o){const l=so(o,e,a);return[mi(l)]}return}case"Enter":{const o=z("frameName",n,e,a),l=z("tensor",n,e,a);return a.enterFrame(o),[mi(l)]}case"Exit":{const o=z("tensor",n,e,a);return a.exitFrame(),[mi(o)]}case"NextIteration":{const o=z("tensor",n,e,a);return a.nextIteration(),[mi(o)]}case"TensorArrayV3":{const o=z("size",n,e,a),l=z("dtype",n,e,a),p=z("elementShape",n,e,a),f=z("dynamicSize",n,e,a),d=z("clearAfterRead",n,e,a),u=z("identicalElementShapes",n,e,a),h=z("name",n,e,a),y=new B3(h,l,o,p,u,f,d);return a.addTensorArray(y),[y.idTensor,Xr(1)]}case"TensorArrayWriteV3":{const o=z("tensorArrayId",n,e,a),l=z("index",n,e,a),p=z("tensor",n,e,a),f=a.getTensorArray(o.id);return f.write(l,p),[f.idTensor]}case"TensorArrayReadV3":{const o=z("tensorArrayId",n,e,a),l=z("index",n,e,a);return[a.getTensorArray(o.id).read(l)]}case"TensorArrayGatherV3":{const o=z("tensorArrayId",n,e,a),l=z("indices",n,e,a),p=z("dtype",n,e,a);return[a.getTensorArray(o.id).gather(l,p)]}case"TensorArrayScatterV3":{const o=z("tensorArrayId",n,e,a),l=z("indices",n,e,a),p=z("tensor",n,e,a),f=a.getTensorArray(o.id);return f.scatter(l,p),[f.idTensor]}case"TensorArrayConcatV3":{const o=z("tensorArrayId",n,e,a),l=a.getTensorArray(o.id),p=z("dtype",n,e,a);return[l.concat(p)]}case"TensorArraySplitV3":{const o=z("tensorArrayId",n,e,a),l=z("tensor",n,e,a),p=z("lengths",n,e,a),f=a.getTensorArray(o.id);return f.split(p,l),[f.idTensor]}case"TensorArraySizeV3":{const o=z("tensorArrayId",n,e,a),l=a.getTensorArray(o.id);return[Xr(l.size(),"int32")]}case"TensorArrayCloseV3":{const o=z("tensorArrayId",n,e,a),l=a.getTensorArray(o.id);return l.clearAndClose(),[l.idTensor]}case"TensorListSetItem":{const o=z("tensorListId",n,e,a),l=z("index",n,e,a),p=z("tensor",n,e,a),f=a.getTensorList(o.id);return f.setItem(l,p),[f.idTensor]}case"TensorListGetItem":{const o=z("tensorListId",n,e,a),l=z("index",n,e,a),p=z("elementShape",n,e,a),f=z("elementDType",n,e,a);return[a.getTensorList(o.id).getItem(l,p,f)]}case"TensorListScatterV2":case"TensorListScatter":{const o=z("indices",n,e,a),l=z("tensor",n,e,a),p=z("elementShape",n,e,a),f=z("numElements",n,e,a),d=M3(l,o,p,f);return a.addTensorList(d),[d.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const o=z("elementShape",n,e,a),l=z("elementDType",n,e,a);let p;n.op==="TensorListReserve"?p="numElements":p="maxNumElements";const f=z(p,n,e,a),d=n.op==="TensorListReserve"?-1:f,u=F3(o,l,f,d);return a.addTensorList(u),[u.idTensor]}case"TensorListGather":{const o=z("tensorListId",n,e,a),l=z("indices",n,e,a),p=z("elementShape",n,e,a),f=z("elementDType",n,e,a);return[a.getTensorList(o.id).gather(l,f,p)]}case"TensorListStack":{const o=z("tensorListId",n,e,a),l=z("elementShape",n,e,a),p=z("elementDType",n,e,a),f=z("numElements",n,e,a);return[a.getTensorList(o.id).stack(l,p,f)]}case"TensorListFromTensor":{const o=z("tensor",n,e,a),l=z("elementShape",n,e,a),p=z("elementDType",n,e,a),f=R3(o,l,p);return a.addTensorList(f),[f.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const o=z("tensorListId",n,e,a),l=a.getTensorList(o.id),p=z("dtype",n,e,a),f=z("elementShape",n,e,a);return[l.concat(p,f)]}case"TensorListPushBack":{const o=z("tensorListId",n,e,a),l=z("tensor",n,e,a),p=a.getTensorList(o.id);return p.pushBack(l),[p.idTensor]}case"TensorListPopBack":{const o=z("tensorListId",n,e,a),l=z("elementShape",n,e,a),p=z("elementDType",n,e,a);return[a.getTensorList(o.id).popBack(l,p)]}case"TensorListSplit":{const o=z("tensor",n,e,a),l=z("elementShape",n,e,a),p=z("lengths",n,e,a),f=split$1(o,p,l);return a.addTensorList(f),[f.idTensor]}case"TensorListLength":{const o=z("tensorListId",n,e,a),l=a.getTensorList(o.id);return[Xr(l.size(),"int32")]}case"TensorListResize":{const o=z("tensorListId",n,e,a),l=z("size",n,e,a),f=a.getTensorList(o.id).resize(l);return a.addTensorList(f),[f.idTensor]}default:throw TypeError(`Node type ${n.op} is not implemented`)}},L3=(n,e,a,o=qr)=>{switch(n.op){case"Conv1D":{const l=z("stride",n,e,a),p=z("pad",n,e,a),f=z("dataFormat",n,e,a).toUpperCase(),d=z("dilation",n,e,a);return[o.conv1d(z("x",n,e,a),z("filter",n,e,a),l,p,f,d)]}case"Conv2D":{const l=z("strides",n,e,a),p=nm(n,e,a),f=z("dataFormat",n,e,a).toUpperCase(),d=z("dilations",n,e,a);return[o.conv2d(z("x",n,e,a),z("filter",n,e,a),[l[1],l[2]],p,f,[d[1],d[2]])]}case"_FusedConv2D":{const{stride:l,pad:p,dataFormat:f,dilations:d,biasArg:u,preluArg:h,activationFunc:y,leakyreluAlpha:b}=fusedConvAndDepthWiseParams(n,e,a);return[o.fused.conv2d({x:z("x",n,e,a),filter:z("filter",n,e,a),strides:[l[1],l[2]],pad:p,dataFormat:f,dilations:[d[1],d[2]],bias:u,activation:y,preluActivationWeights:h,leakyreluAlpha:b})]}case"FusedDepthwiseConv2dNative":{const{stride:l,pad:p,dataFormat:f,dilations:d,biasArg:u,preluArg:h,activationFunc:y,leakyreluAlpha:b}=fusedConvAndDepthWiseParams(n,e,a);return[o.fused.depthwiseConv2d({x:z("x",n,e,a),filter:z("filter",n,e,a),strides:[l[1],l[2]],pad:p,dataFormat:f,dilations:[d[1],d[2]],bias:u,activation:y,preluActivationWeights:h,leakyreluAlpha:b})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const l=z("outputShape",n,e,a),p=z("strides",n,e,a),f=nm(n,e,a);return[o.conv2dTranspose(z("x",n,e,a),z("filter",n,e,a),l,[p[1],p[2]],f)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const l=z("strides",n,e,a),p=nm(n,e,a),f=z("dilations",n,e,a),d=z("dataFormat",n,e,a).toUpperCase();return[o.depthwiseConv2d(z("input",n,e,a),z("filter",n,e,a),[l[1],l[2]],p,d,[f[1],f[2]])]}case"Conv3D":{const l=z("strides",n,e,a),p=z("pad",n,e,a),f=z("dataFormat",n,e,a).toUpperCase(),d=z("dilations",n,e,a);return[o.conv3d(z("x",n,e,a),z("filter",n,e,a),[l[1],l[2],l[3]],p,f,[d[1],d[2],d[3]])]}case"AvgPool":{const l=z("strides",n,e,a),p=z("pad",n,e,a),f=z("kernelSize",n,e,a);return[o.avgPool(z("x",n,e,a),[f[1],f[2]],[l[1],l[2]],p)]}case"MaxPool":{const l=z("strides",n,e,a),p=z("pad",n,e,a),f=z("kernelSize",n,e,a);return[o.maxPool(z("x",n,e,a),[f[1],f[2]],[l[1],l[2]],p)]}case"MaxPoolWithArgmax":{const l=z("strides",n,e,a),p=z("pad",n,e,a),f=z("kernelSize",n,e,a),d=z("includeBatchInIndex",n,e,a),{result:u,indexes:h}=o.maxPoolWithArgmax(z("x",n,e,a),[f[1],f[2]],[l[1],l[2]],p,d);return[u,h]}case"AvgPool3D":{const l=z("strides",n,e,a),p=z("pad",n,e,a),f=z("kernelSize",n,e,a);return[o.avgPool3d(z("x",n,e,a),[f[1],f[2],f[3]],[l[1],l[2],l[3]],p)]}case"MaxPool3D":{const l=z("strides",n,e,a),p=z("pad",n,e,a),f=z("kernelSize",n,e,a);return[o.maxPool3d(z("x",n,e,a),[f[1],f[2],f[3]],[l[1],l[2],l[3]],p)]}case"Dilation2D":{const l=z("strides",n,e,a),p=z("pad",n,e,a),f=z("dilations",n,e,a),d=l[1],u=l[2],h=f[1],y=f[2];return[o.dilation2d(z("x",n,e,a),z("filter",n,e,a),[d,u],p,[h,y],"NHWC")]}default:throw TypeError(`Node type ${n.op} is not implemented`)}},U3=(n,e,a,o=qr)=>{switch(n.op){case"Fill":{const l=z("shape",n,e,a),p=z("dtype",n,e,a),f=z("value",n,e,a);return[o.fill(l,f,p)]}case"LinSpace":{const l=z("start",n,e,a),p=z("stop",n,e,a),f=z("num",n,e,a);return[o.linspace(l,p,f)]}case"Multinomial":{const l=z("logits",n,e,a),p=z("numSamples",n,e,a),f=z("seed",n,e,a);return[o.multinomial(l,p,f)]}case"OneHot":{const l=z("indices",n,e,a),p=z("depth",n,e,a),f=z("onValue",n,e,a),d=z("offValue",n,e,a);return[o.oneHot(l,p,f,d)]}case"Ones":return[o.ones(z("shape",n,e,a),z("dtype",n,e,a))];case"OnesLike":return[o.onesLike(z("x",n,e,a))];case"RandomStandardNormal":return[o.randomStandardNormal(z("shape",n,e,a),z("dtype",n,e,a),z("seed",n,e,a))];case"RandomUniform":return[o.randomUniform(z("shape",n,e,a),z("minval",n,e,a),z("maxval",n,e,a),z("dtype",n,e,a))];case"Range":{const l=z("start",n,e,a),p=z("stop",n,e,a),f=z("step",n,e,a);return[o.range(l,p,f,z("dtype",n,e,a))]}case"TruncatedNormal":{const l=z("shape",n,e,a),p=z("mean",n,e,a),f=z("stdDev",n,e,a),d=z("seed",n,e,a);return[o.truncatedNormal(l,p,f,z("dtype",n,e,a),d)]}case"Zeros":return[o.zeros(z("shape",n,e,a),z("dtype",n,e,a))];case"ZerosLike":return[o.zerosLike(z("x",n,e,a))];default:throw TypeError(`Node type ${n.op} is not implemented`)}},z3=async(n,e,a,o,l=qr)=>{switch(n.op){case"NonMaxSuppressionV5":{const{boxes:p,scores:f,maxOutputSize:d,iouThreshold:u,scoreThreshold:h,softNmsSigma:y}=nmsParams(n,e,a),b=await l.image.nonMaxSuppressionWithScoreAsync(p,f,d,u,h,y);return[b.selectedIndices,b.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:p,scores:f,maxOutputSize:d,iouThreshold:u,scoreThreshold:h}=nmsParams(n,e,a),y=z("padToMaxOutputSize",n,e,a),b=await l.image.nonMaxSuppressionPaddedAsync(p,f,d,u,h,y);return[b.selectedIndices,b.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:p,scores:f,maxOutputSize:d,iouThreshold:u,scoreThreshold:h}=nmsParams(n,e,a);return[await l.image.nonMaxSuppressionAsync(p,f,d,u,h)]}case"Where":{const p=l.cast(z("condition",n,e,a),"bool"),f=[await l.whereAsync(p)];return p.dispose(),f}case"ListDiff":return l.setdiff1dAsync(z("x",n,e,a),z("y",n,e,a));default:throw TypeError(`Node type ${n.op} is not implemented`)}},$3=(n,e,a,o=qr)=>{switch(n.op){case"LowerBound":{const l=z("sortedSequence",n,e,a),p=z("values",n,e,a);return[o.lowerBound(l,p)]}case"TopKV2":{const l=z("x",n,e,a),p=z("k",n,e,a),f=z("sorted",n,e,a),d=o.topk(l,p,f);return[d.values,d.indices]}case"UpperBound":{const l=z("sortedSequence",n,e,a),p=z("values",n,e,a);return[o.upperBound(l,p)]}case"Unique":{const l=z("x",n,e,a),p=o.unique(l);return[p.values,p.indices]}case"UniqueV2":{const l=z("x",n,e,a),p=z("axis",n,e,a),f=o.unique(l,p);return[f.values,f.indices]}default:throw TypeError(`Node type ${n.op} is not implemented`)}},G3=(n,e,a,o=qr)=>{switch(n.op){case"Const":return e[n.name];case"PlaceholderWithDefault":const l=z("default",n,e,a);return[so(n.name,e,a)||l];case"Placeholder":return[so(n.name,e,a)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const y=z("x",n,e,a);return[mi(y)]}case"IdentityN":return z("x",n,e,a).map(y=>mi(y));case"Snapshot":const p=z("x",n,e,a);return[mi(p)];case"Shape":return[o.tensor1d(z("x",n,e,a).shape,"int32")];case"ShapeN":return z("x",n,e,a).map(y=>o.tensor1d(y.shape));case"Size":return[o.scalar(z("x",n,e,a).size,"int32")];case"Rank":return[o.scalar(z("x",n,e,a).rank,"int32")];case"NoOp":return[o.scalar(1)];case"Print":const f=z("x",n,e,a),d=z("data",n,e,a),u=z("message",n,e,a),h=z("summarize",n,e,a);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(u);for(let y=0;y<d.length;y++)console.log(Array.prototype.slice.call(d[y].dataSync()).slice(0,h));return[f];default:throw TypeError(`Node type ${n.op} is not implemented`)}};class V3{constructor(e,a){this.keyDType=e,this.valueDType=a,this.handle=Xr(0),this.tensorMap=new Map,bi(this.handle)}get id(){return this.handle.id}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return Xr(this.size(),"int32")}async import(e,a){this.checkKeyAndValueTensor(e,a);const o=await e.data();return this.tensorMap.forEach(l=>l.dispose()),this.tensorMap.clear(),Ua(()=>{const l=ec(a),p=o.length,f=l.length;on(p===f,()=>`The number of elements doesn't match, keys has ${p} elements, the values has ${f} elements.`);for(let d=0;d<p;d++){const u=o[d],h=l[d];bi(h),this.tensorMap.set(u,h)}return this.handle})}async find(e,a){this.checkKeyAndValueTensor(e,a);const o=await e.data();return Ua(()=>{const l=[];for(let p=0;p<o.length;p++){const f=o[p],d=this.findWithDefault(f,a);l.push(d)}return Gu(l)})}findWithDefault(e,a){const o=this.tensorMap.get(e);return o??a}checkKeyAndValueTensor(e,a){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(a.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${a.dtype}`)}}const H3=async(n,e,a,o)=>{switch(n.op){case"HashTable":case"HashTableV2":{const l=z("keyDType",n,e,a),p=z("valueDType",n,e,a),f=new V3(l,p);return o.addHashTable(n.name,f),[f.handle]}case"LookupTableImport":case"LookupTableImportV2":{const l=z("tableHandle",n,e,a,o),p=z("keys",n,e,a),f=z("values",n,e,a);return[await o.getHashTableById(l.id).import(p,f)]}case"LookupTableFind":case"LookupTableFindV2":{const l=z("tableHandle",n,e,a,o),p=z("keys",n,e,a),f=z("defaultValue",n,e,a);return[await o.getHashTableById(l.id).find(p,f)]}case"LookupTableSize":case"LookupTableSizeV2":{const l=z("tableHandle",n,e,a,o);return[o.getHashTableById(l.id).tensorSize()]}default:throw TypeError(`Node type ${n.op} is not implemented`)}},W3=(n,e,a,o=qr)=>{switch(n.op){case"ResizeBilinear":{const l=z("images",n,e,a),p=z("size",n,e,a),f=z("alignCorners",n,e,a),d=z("halfPixelCenters",n,e,a);return[o.image.resizeBilinear(l,[p[0],p[1]],f,d)]}case"ResizeNearestNeighbor":{const l=z("images",n,e,a),p=z("size",n,e,a),f=z("alignCorners",n,e,a),d=z("halfPixelCenters",n,e,a);return[o.image.resizeNearestNeighbor(l,[p[0],p[1]],f,d)]}case"CropAndResize":{const l=z("image",n,e,a),p=z("boxes",n,e,a),f=z("boxInd",n,e,a),d=z("cropSize",n,e,a),u=z("method",n,e,a),h=z("extrapolationValue",n,e,a);return[o.image.cropAndResize(l,p,f,d,u,h)]}case"ImageProjectiveTransformV3":{const l=z("images",n,e,a),p=z("transforms",n,e,a),f=z("outputShape",n,e,a),d=z("fillValue",n,e,a),u=z("interpolation",n,e,a),h=z("fillMode",n,e,a);return[o.image.transform(l,p,u.toLowerCase(),h.toLowerCase(),d,f)]}default:throw TypeError(`Node type ${n.op} is not implemented`)}},K3=(n,e,a,o=qr)=>{switch(n.op){case"Equal":return[o.equal(z("a",n,e,a),z("b",n,e,a))];case"NotEqual":return[o.notEqual(z("a",n,e,a),z("b",n,e,a))];case"Greater":return[o.greater(z("a",n,e,a),z("b",n,e,a))];case"GreaterEqual":return[o.greaterEqual(z("a",n,e,a),z("b",n,e,a))];case"Less":return[o.less(z("a",n,e,a),z("b",n,e,a))];case"LessEqual":return[o.lessEqual(z("a",n,e,a),z("b",n,e,a))];case"LogicalAnd":return[o.logicalAnd(z("a",n,e,a),z("b",n,e,a))];case"LogicalNot":return[o.logicalNot(z("a",n,e,a))];case"LogicalOr":return[o.logicalOr(z("a",n,e,a),z("b",n,e,a))];case"Select":case"SelectV2":return[o.where(z("condition",n,e,a),z("a",n,e,a),z("b",n,e,a))];default:throw TypeError(`Node type ${n.op} is not implemented`)}},X3=(n,e,a,o=qr)=>{switch(n.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[o.matMul(z("a",n,e,a),z("b",n,e,a),z("transposeA",n,e,a),z("transposeB",n,e,a))];case"Einsum":return[o.einsum(z("equation",n,e,a),...z("tensors",n,e,a))];case"Transpose":return[o.transpose(z("x",n,e,a),z("perm",n,e,a))];case"_FusedMatMul":const[l,p]=z("fusedOps",n,e,a),f=l==="biasadd",d=p==="prelu",u=z("numArgs",n,e,a),h=z("leakyreluAlpha",n,e,a);if(f){if(d&&u!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!d&&u!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[y,b]=z("args",n,e,a);return[o.fused.matMul({a:z("a",n,e,a),b:z("b",n,e,a),transposeA:z("transposeA",n,e,a),transposeB:z("transposeB",n,e,a),bias:y,activation:p,preluActivationWeights:b,leakyreluAlpha:h})];default:throw TypeError(`Node type ${n.op} is not implemented`)}},Y3=(n,e,a,o=qr)=>{switch(n.op){case"EuclideanNorm":return[o.euclideanNorm(z("x",n,e,a),z("axis",n,e,a),z("keepDims",n,e,a))];case"FusedBatchNorm":case"FusedBatchNormV2":return[o.batchNorm(z("x",n,e,a),z("mean",n,e,a),z("variance",n,e,a),z("offset",n,e,a),z("scale",n,e,a),z("epsilon",n,e,a))];case"FusedBatchNormV3":return[o.batchNorm(z("x",n,e,a),z("mean",n,e,a),z("variance",n,e,a),z("offset",n,e,a),z("scale",n,e,a),z("epsilon",n,e,a))];case"LRN":return[o.localResponseNormalization(z("x",n,e,a),z("radius",n,e,a),z("bias",n,e,a),z("alpha",n,e,a),z("beta",n,e,a))];case"Softmax":return[o.softmax(z("x",n,e,a))];case"LogSoftmax":return[o.logSoftmax(z("x",n,e,a))];case"SparseToDense":return[o.sparseToDense(z("sparseIndices",n,e,a),z("outputShape",n,e,a),z("sparseValues",n,e,a),z("defaultValue",n,e,a))];default:throw TypeError(`Node type ${n.op} is not implemented`)}},q3=(n,e,a,o=qr)=>{switch(n.op){case"Max":{const d=z("axis",n,e,a),u=z("keepDims",n,e,a);return[o.max(z("x",n,e,a),d,u)]}case"Mean":{const d=z("axis",n,e,a),u=z("keepDims",n,e,a);return[o.mean(z("x",n,e,a),d,u)]}case"Min":{const d=z("axis",n,e,a),u=z("keepDims",n,e,a);return[o.min(z("x",n,e,a),d,u)]}case"Sum":{const d=z("axis",n,e,a),u=z("keepDims",n,e,a);return[o.sum(z("x",n,e,a),d,u)]}case"All":{const d=z("axis",n,e,a),u=z("keepDims",n,e,a);return[o.all(z("x",n,e,a),d,u)]}case"Any":{const d=z("axis",n,e,a),u=z("keepDims",n,e,a);return[o.any(z("x",n,e,a),d,u)]}case"ArgMax":{const d=z("axis",n,e,a);return[o.argMax(z("x",n,e,a),d)]}case"ArgMin":{const d=z("axis",n,e,a);return[o.argMin(z("x",n,e,a),d)]}case"Prod":{const d=z("axis",n,e,a),u=z("keepDims",n,e,a);return[o.prod(z("x",n,e,a),d,u)]}case"Cumprod":{const d=z("axis",n,e,a),u=z("exclusive",n,e,a),h=z("reverse",n,e,a);return[o.cumprod(z("x",n,e,a),d,u,h)]}case"Cumsum":{const d=z("axis",n,e,a),u=z("exclusive",n,e,a),h=z("reverse",n,e,a);return[o.cumsum(z("x",n,e,a),d,u,h)]}case"Bincount":const l=z("x",n,e,a),p=z("weights",n,e,a),f=z("size",n,e,a);return[o.bincount(l,p,f)];case"DenseBincount":{const d=z("x",n,e,a),u=z("weights",n,e,a),h=z("size",n,e,a),y=z("binaryOutput",n,e,a);return[o.denseBincount(d,u,h,y)]}default:throw TypeError(`Node type ${n.op} is not implemented`)}},Z3=(n,e,a,o=qr)=>{switch(n.op){case"ConcatV2":case"Concat":{const l=z("n",n,e,a),p=z("axis",n,e,a);let f=z("tensors",n,e,a);return f=f.slice(0,l),[o.concat(f,p)]}case"Gather":{const l=z("x",n,e,a),p=z("indices",n,e,a);return[o.gather(l,o.cast(p,"int32"),0)]}case"GatherV2":{const l=z("axis",n,e,a),p=z("batchDims",n,e,a),f=z("x",n,e,a),d=z("indices",n,e,a);return[o.gather(f,o.cast(d,"int32"),l,p)]}case"Reverse":{const l=z("dims",n,e,a),p=[];for(let d=0;d<l.length;d++)l[d]&&p.push(d);const f=z("x",n,e,a);return[o.reverse(f,p)]}case"ReverseV2":{const l=z("axis",n,e,a),p=z("x",n,e,a);return[o.reverse(p,l)]}case"Slice":{const l=z("begin",n,e,a),p=z("size",n,e,a);return[o.slice(z("x",n,e,a),l,p)]}case"StridedSlice":{const l=z("begin",n,e,a),p=z("end",n,e,a),f=z("strides",n,e,a),d=z("beginMask",n,e,a),u=z("endMask",n,e,a),h=z("ellipsisMask",n,e,a),y=z("newAxisMask",n,e,a),b=z("shrinkAxisMask",n,e,a),x=z("x",n,e,a);return[o.stridedSlice(x,l,p,f,d,u,h,y,b)]}case"Pack":return Ua(()=>{const l=z("axis",n,e,a),p=z("tensors",n,e,a),f=p[0].shape,d=o.squeeze(p[0]).shape,u=p.map(h=>{const y=wo(h.shape,f);if(!y&&!wo(o.squeeze(h).shape,d))throw new Error("the input tensors shape does not match");return y?h:o.reshape(h,f)});return[o.stack(u,l)]});case"Unpack":{const l=z("axis",n,e,a),p=z("tensor",n,e,a);return o.unstack(p,l)}case"Tile":{const l=z("reps",n,e,a);return[o.tile(z("x",n,e,a),l)]}case"Split":case"SplitV":{const l=z("axis",n,e,a),p=z("numOrSizeSplits",n,e,a),f=z("x",n,e,a);return o.split(f,p,l)}case"ScatterNd":{const l=z("indices",n,e,a),p=z("values",n,e,a),f=z("shape",n,e,a);return[o.scatterND(l,p,f)]}case"GatherNd":{const l=z("x",n,e,a),p=z("indices",n,e,a);return[o.gatherND(l,p)]}case"SparseToDense":{const l=z("sparseIndices",n,e,a),p=z("outputShape",n,e,a),f=z("sparseValues",n,e,a),d=z("defaultValue",n,e,a);return[o.sparseToDense(l,f,p,f.dtype===d.dtype?d:o.cast(d,f.dtype))]}default:throw TypeError(`Node type ${n.op} is not implemented`)}},J3=(n,e,a,o=qr)=>{switch(n.op){case"SparseFillEmptyRows":{const{outputIndices:l,outputValues:p,emptyRowIndicator:f,reverseIndexMap:d}=o.sparse.sparseFillEmptyRows(z("indices",n,e,a),z("values",n,e,a),z("denseShape",n,e,a),z("defaultValue",n,e,a));return[l,p,f,d]}case"SparseReshape":{const{outputIndices:l,outputShape:p}=o.sparse.sparseReshape(z("inputIndices",n,e,a),z("inputShape",n,e,a),z("newShape",n,e,a));return[l,p]}case"SparseSegmentMean":return[o.sparse.sparseSegmentMean(z("data",n,e,a),z("indices",n,e,a),z("segmentIds",n,e,a))];case"SparseSegmentSum":return[o.sparse.sparseSegmentSum(z("data",n,e,a),z("indices",n,e,a),z("segmentIds",n,e,a))];default:throw TypeError(`Node type ${n.op} is not implemented`)}},Q3=(n,e,a,o=qr)=>{switch(n.op){case"FFT":return[o.fft(z("x",n,e,a))];case"IFFT":return[o.ifft(z("x",n,e,a))];case"RFFT":return[o.rfft(z("x",n,e,a))];case"IRFFT":return[o.irfft(z("x",n,e,a))];default:throw TypeError(`Node type ${n.op} is not implemented`)}},eM=(n,e,a,o=qr)=>{switch(n.op){case"StringNGrams":{const{nGrams:l,nGramsSplits:p}=o.string.stringNGrams(z("data",n,e,a),z("dataSplits",n,e,a),z("separator",n,e,a),z("nGramWidths",n,e,a),z("leftPad",n,e,a),z("rightPad",n,e,a),z("padWidth",n,e,a),z("preserveShortSequences",n,e,a));return[l,p]}case"StringSplit":{const{indices:l,values:p,shape:f}=o.string.stringSplit(z("input",n,e,a),z("delimiter",n,e,a),z("skipEmpty",n,e,a));return[l,p,f]}case"StringToHashBucketFast":return[o.string.stringToHashBucketFast(z("input",n,e,a),z("numBuckets",n,e,a))];default:throw TypeError(`Node type ${n.op} is not implemented`)}},tM=(n,e,a,o=qr)=>{switch(n.op){case"Cast":return[o.cast(z("x",n,e,a),z("dtype",n,e,a))];case"ExpandDims":{const l=z("axis",n,e,a);return[o.expandDims(z("x",n,e,a),l)]}case"Squeeze":{const l=z("axis",n,e,a);return[o.squeeze(z("x",n,e,a),l)]}case"Reshape":return[o.reshape(z("x",n,e,a),z("shape",n,e,a))];case"MirrorPad":return[o.mirrorPad(z("x",n,e,a),z("padding",n,e,a),z("mode",n,e,a))];case"PadV2":case"Pad":return[o.pad(z("x",n,e,a),z("padding",n,e,a),z("constantValue",n,e,a))];case"SpaceToBatchND":{const l=z("blockShape",n,e,a),p=z("paddings",n,e,a);return[o.spaceToBatchND(z("x",n,e,a),l,p)]}case"BatchToSpaceND":{const l=z("blockShape",n,e,a),p=z("crops",n,e,a);return[o.batchToSpaceND(z("x",n,e,a),l,p)]}case"DepthToSpace":{const l=z("blockSize",n,e,a),p=z("dataFormat",n,e,a).toUpperCase();return[o.depthToSpace(z("x",n,e,a),l,p)]}case"BroadcastTo":return[o.broadcastTo(z("x",n,e,a),z("shape",n,e,a))];case"BroadcastArgs":return[o.broadcastArgs(z("s0",n,e,a),z("s1",n,e,a))];default:throw TypeError(`Node type ${n.op} is not implemented`)}};function bw(n,e,a,o,l=Ua){const p=((f,d,u)=>{switch(f.category){case"arithmetic":return l(()=>C3(f,d,u));case"basic_math":return l(()=>O3(f,d,u));case"control":return P3(f,d,u);case"convolution":return l(()=>L3(f,d,u));case"creation":return l(()=>U3(f,d,u));case"dynamic":return z3(f,d,u);case"evaluation":return l(()=>$3(f,d,u));case"image":return l(()=>W3(f,d,u));case"graph":return l(()=>G3(f,d,u));case"logical":return l(()=>K3(f,d,u));case"matrices":return l(()=>X3(f,d,u));case"normalization":return l(()=>Y3(f,d,u));case"reduction":return l(()=>q3(f,d,u));case"slice_join":return l(()=>Z3(f,d,u));case"sparse":return l(()=>J3(f,d,u));case"spectral":return l(()=>Q3(f,d,u));case"string":return l(()=>eM(f,d,u));case"transformation":return l(()=>tM(f,d,u));case"hash_table":return H3(f,d,u,o);case"custom":const h=rx(f.op);if(h&&h.customExecutor)return h.customExecutor(new D3(f,d,u));throw TypeError(`Custom op ${f.op} is not registered.`);default:throw TypeError(`Unknown op '${f.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(n,e,a);return Pu(p)?p.then(f=>[].concat(f)):[].concat(p)}class ww{constructor(e={},a={},o={},l={}){this.weightMap=e,this.tensorArrayMap=a,this.tensorListMap=o,this.functionMap=l,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,a){return{id:e,frameName:a,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let a=0;a<this.contexts.length-1;a++){const o=this.contexts.slice(0,this.contexts.length-a);e.push(this.contextIdforContexts(o))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(a=>a.id===0&&a.iterationId===0?"":`${a.frameName}-${a.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const a in this.tensorArrayMap)this.tensorArrayMap[a].clearAndClose(e);for(const a in this.tensorListMap)this.tensorListMap[a].clearAndClose(e)}}function vw(n,e,a,o){const l=new Set,p=[];let f=null,d=null;const u=new Set,h=Object.keys(n).map(x=>Io(x)[0]);let y=[];o!=null&&(y=o.map(x=>Io(x.name)[0]));const b=[...e];for(;b.length>0;){const x=b.pop();if((ix(x)||sM(x)||iM(x))&&f==null&&(f=x,d=f.children.map(A=>A.name).filter(A=>l.has(A))),l.add(x.name),a[x.name]==null&&h.indexOf(x.name)===-1&&y.indexOf(x.name)===-1){if(x.inputs.length===0){p.push(x.name);continue}x.inputs.forEach(A=>{u.has(A.name)||(u.add(A.name),b.push(A))})}}return{inputs:n,outputs:e,usedNodes:l,missingInputs:p,dynamicNode:f,syncInputs:d}}function nM(n,e,a){const{usedNodes:o,inputs:l}=a,p=[],f=Object.keys(l).map(y=>Io(y)[0]).map(y=>n.nodes[y]),d=n.initNodes;f.forEach(y=>{o.has(y.name)&&p.push(y)}),n.weights.forEach(y=>{o.has(y.name)&&p.push(y)}),d!=null&&d.forEach(y=>{o.has(y.name)&&p.push(y)});const u=new Set,h=[];for(;p.length>0;){const y=p.pop();u.add(y.name),e[y.name]||h.push(y),y.children.forEach(b=>{!u.has(b.name)&&o.has(b.name)&&b.inputs.every(x=>u.has(x.name))&&p.push(b)})}return h}const aM=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],rM=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],oM=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function ix(n){return aM.indexOf(n.op)>=0}function sM(n){return rM.indexOf(n.op)>=0}function iM(n){return oM.indexOf(n.op)>=0}class Ud{constructor(e,a){this.graph=e,this.parent=a,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(o=>{this._functionExecutorMap[o]=new Ud(e.functions[o],this)})}get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const a=Object.keys(e).map(o=>e[o].map(l=>l.id));this._weightIds=[].concat(...a),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const a=e.signatureKey||e.name;return e.defaultOutput?`${a}:${e.defaultOutput}`:a})}get functions(){return Object.keys(this._functions).reduce((e,a)=>(e[a]=this._functions[a].signature,e),{})}getCompilationKey(e,a){const o=e.map(p=>p.name).sort(),l=a.map(p=>p.name).sort();return o.join(this.SEPERATOR)+"--"+l.join(this.SEPERATOR)}compile(e,a){const o=vw(e,a,this.weightMap,this._initNodes),{missingInputs:l,dynamicNode:p,syncInputs:f}=o;if(p!=null)throw new Error(`This execution contains the node '${p.name}', which has the dynamic op '${p.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${f}]`);if(l.length>0){const d=a.map(h=>h.name),u=Object.keys(e);throw new Error(`Cannot compute the outputs [${d}] from the provided inputs [${u}]. Missing the following inputs: [${l}]`)}return nM(this.graph,this.weightMap,o)}execute(e,a){e=this.mapInputs(e);const o=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),a=this.mapOutputs(a),this.checkOutputs(a);const l=o.map(b=>this.graph.nodes[Io(b)[0]]),p=a.map(b=>Io(b)[0]);let f=p.map(b=>this.graph.nodes[b]);this.resetIntermediateTensors(),f.length===0&&(f=this._outputs);const d=this.getCompilationKey(l,f);let u=this.compiledMap.get(d);u==null&&(u=this.compile(e,f),this.compiledMap.set(d,u));const h={},y={};return Ua(()=>{const b=new ww(this.weightMap,h,y,this.functionExecutorMap),x=Object.assign({},this.weightMap);Object.keys(e).forEach(T=>{const[I,S]=Io(T),G=[];G[S]=e[T],x[I]=G});const A=this.getFrozenTensorIds(x),j={};for(let T=0;T<u.length;T++){const I=u[T];if(!x[I.name]){const S=bw(I,x,b,this._resourceManager);if(Pu(S))throw new Error(`The execution of the op '${I.op}' returned a promise. Please use model.executeAsync() instead.`);x[I.name]=S,this.checkTensorForDisposal(I.name,I,x,b,A,p,j)}}return this.parent==null&&b.dispose(A),a.map(T=>so(T,x,b))})}getFrozenTensorIds(e){const a=[].concat.apply([],Object.keys(e).map(o=>e[o]).map(o=>o.map(l=>l.id)));return new Set(a)}checkTensorForDisposal(e,a,o,l,p,f,d){a.category==="control"||f.indexOf(e)!==-1||(o[e].forEach(u=>{u!=null&&(d[u.id]=(d[u.id]||0)+a.children.length)}),a.inputs.forEach(u=>{if(u.category!=="control"){const h=VF(u.name,o,l);h!=null&&h.forEach(y=>{if(y&&!y.kept&&!p.has(y.id)){const b=d[y.id];if(b===1){if(!this.keepTensorForDebug)y.dispose();else{const[x,A]=Js(a.name,l);this.intermediateTensors[x]?this.intermediateTensors[x][A]=y:(this.intermediateTensors[x]=[],this.intermediateTensors[x][A]=y)}delete d[y.id]}else b!=null&&d[y.id]--}})}}))}async executeAsync(e,a){return this._executeAsync(e,a)}disposeIntermediateTensors(){this.intermediateTensors&&(Object.keys(this.intermediateTensors).forEach(e=>this.intermediateTensors[e].forEach(a=>a.dispose())),this.disposeTensorsMap())}disposeTensorsMap(){this.tensorsMap&&Object.keys(this.tensorsMap).forEach(e=>{this.tensorsMap[e].forEach(o=>{o&&!o.kept&&!o.isDisposed&&!this.keepIds.has(o.id)&&o.dispose()})})}getIntermediateTensors(){return this.tensorsMap}resetIntermediateTensors(){for(const e in this.intermediateTensors)this.intermediateTensors[e].forEach(a=>a.dispose()),delete this.intermediateTensors[e]}async _executeAsync(e,a,o=!1,l={},p={}){o||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),a=this.mapOutputs(a),this.checkOutputs(a));try{this.keepTensorForDebug=vt().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(y){console.warn(y.message)}this.resetIntermediateTensors();const f=new ww(this.weightMap,l,p,this.functionExecutorMap);this.tensorsMap=await this.executeWithControlFlow(e,f,a,o);const d=a.map(y=>so(y,this.tensorsMap,f)),u=d.map(y=>y.id),h=Object.keys(e).map(y=>e[y].id);return this.keepIds=new Set([...u,...h,...this.weightIds]),this.keepTensorForDebug||this.disposeTensorsMap(),this.parent==null&&f.dispose(this.keepIds),d}async executeFunctionAsync(e,a,o){const l=e.reduce((p,f,d)=>(p[this.inputs[d].name]=f,p),{});return this._executeAsync(l,this.outputNodes,!0,a,o)}async executeWithControlFlow(e,a,o,l){const p=Object.keys(e),f=p.map(D=>this.graph.nodes[Io(D)[0]]),d=o.map(D=>Io(D)[0]);let u=d.map(D=>this.graph.nodes[D]);u.length===0&&(u=this._outputs);const{usedNodes:h,missingInputs:y,dynamicNode:b,syncInputs:x}=vw(e,u,this.weightMap,this._initNodes),A=[...f,...this.graph.weights,...this._initNodes||[]].map(D=>({node:D,contexts:a.currentContext})),j=Object.assign({},this.weightMap);Object.keys(e).forEach(D=>{const[X,L]=Io(D),F=[];F[L]=e[D],j[X]=F});const T={},I=this.getFrozenTensorIds(j),S={};for(;A.length>0;){const D=this.processStack(f,A,a,j,S,I,d,T,h);await Promise.all(D)}b==null&&!l&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const G=u.filter(D=>!ix(D)&&!so(D.name,j,a)).map(D=>D.name);if(G.length>0){let D="";throw b!=null&&(D=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${x}]`),new Error(`Cannot compute the outputs [${G}] from the provided inputs [${p}]. Consider providing the following inputs: [${y}]. ${D}`)}return j}processStack(e,a,o,l,p,f,d,u,h){const y=[];for(;a.length>0;){const b=a.pop();o.currentContext=b.contexts;let x="";if(b.node.op==="Enter"&&z("isConstant",b.node,l,o)&&([x]=Js(b.node.name,o)),l[b.node.name]==null){const A=bw(b.node,l,o,this._resourceManager);x||([x]=Js(b.node.name,o));const j=o.currentContext;Pu(A)?y.push(A.then(T=>(l[x]=T,o.currentContext=j,this.checkTensorForDisposal(x,b.node,l,o,f,d,u),this.processChildNodes(b.node,a,o,l,p,h),T))):(l[x]=A,this.checkTensorForDisposal(x,b.node,l,o,f,d,u),this.processChildNodes(b.node,a,o,l,p,h))}else this.processChildNodes(b.node,a,o,l,p,h)}return y}processChildNodes(e,a,o,l,p,f){e.children.forEach(d=>{const[u]=Js(d.name,o);p[u]||!f.has(d.name)||(d.op==="Merge"?d.inputNames.some(h=>!!so(h,l,o))&&(p[u]=!0,a.push({contexts:o.currentContext,node:d})):d.inputNames.every(h=>!!so(h,l,o))&&(p[u]=!0,a.push({contexts:o.currentContext,node:d})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(a=>a.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(a=>{const o=e[a],[l]=Io(a),p=this.graph.nodes[l];if(p.attrParams.shape&&p.attrParams.shape.value){const f=p.attrParams.shape.value,d=f.length===o.shape.length&&o.shape.every((u,h)=>f[h]===-1||f[h]===u);on(d,()=>`The shape of dict['${p.name}'] provided in model.execute(dict) must be [${f}], but was [${o.shape}]`)}p.attrParams.dtype&&p.attrParams.dtype.value&&on(o.dtype===p.attrParams.dtype.value,()=>`The dtype of dict['${p.name}'] provided in model.execute(dict) must be ${p.attrParams.dtype.value}, but was ${o.dtype}`)})}mapInputs(e){const a={};for(const o in e)if(this._signature!=null&&this._signature.inputs!=null&&this._signature.inputs[o]!=null){const l=this._signature.inputs[o];a[l.name]=e[o]}else a[o]=e[o];return a}checkInputs(e){const a=Object.keys(e).filter(o=>{const[l]=Io(o);return this.graph.nodes[l]==null});if(a.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${a}] that are not part of graph`)}mapOutputs(e){return e.map(a=>this._signature!=null&&this._signature.outputs!=null&&this._signature.outputs[a]!=null?this._signature.outputs[a].name:a,{})}checkOutputs(e){e.forEach(a=>{const[o]=Io(a);if(!this.graph.nodes[o])throw new Error(`The output '${a}' is not found in the graph`)})}}class lM{constructor(e={},a={}){this.hashTableNameToHandle=e,this.hashTableMap=a}addHashTable(e,a){this.hashTableNameToHandle[e]=a.handle,this.hashTableMap[a.id]=a}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}class uM{constructor(e,a={},o=vv){this.modelUrl=e,this.loadOptions=a,this.version="n/a",this.io=o,a==null&&(this.loadOptions={}),this.resourceManager=new lM}get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}findIOHandler(){const e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const a=this.io.getLoadHandlers(e,this.loadOptions);if(a.length===0)a.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(a.length>1)throw new Error(`Found more than one (${a.length}) load handlers for URL '${[e]}'`);this.handler=a[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return Pu(e)?e.then(a=>this.loadSync(a)):this.loadSync(e)}loadSync(e){this.artifacts=e;const a=this.artifacts.modelTopology;let o=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const p=this.artifacts.userDefinedMetadata;p.signature!=null&&(o=p.signature),p.structuredOutputKeys!=null&&(this.structuredOutputKeys=p.structuredOutputKeys)}this.signature=o,this.version=`${a.versions.producer}.${a.versions.minConsumer}`;const l=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new Ud(gw.Instance.transformGraph(a,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(l),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){const p=gw.Instance.transformGraph(e.modelInitializer);this.initializer=new Ud(p),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}async save(e,a){if(typeof e=="string"){const o=this.io.getSaveHandlers(e);if(o.length===0)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(o.length>1)throw new Error(`Found more than one (${o.length}) save handlers for URL '${e}'`);e=o[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}predict(e,a){const o=this.execute(e,this.outputNodes);if(this.structuredOutputKeys){const l=o instanceof No?[o]:o,p={};return l.forEach((f,d)=>p[this.structuredOutputKeys[d]]=f),p}return o}normalizeInputs(e){if(!(e instanceof No)&&!Array.isArray(e))return e;if(e=Array.isArray(e)?e:[e],e.length!==this.inputNodes.length)throw new Error(`Input tensor count mismatch,the graph model has ${this.inputNodes.length} placeholders, while there are ${e.length} input tensors.`);return this.inputNodes.reduce((a,o,l)=>(a[o]=e[l],a),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}execute(e,a){e=this.normalizeInputs(e),a=this.normalizeOutputs(a);const o=this.executor.execute(e,a);return o.length>1?o:o[0]}async executeAsync(e,a){e=this.normalizeInputs(e),a=this.normalizeOutputs(a);const o=await this.executor.executeAsync(e,a);return o.length>1?o:o[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((a,o)=>(a[o]=[e[o]],a),{})}dispose(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}async function cM(n,e={},a=vv){if(n==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof n=="string"&&(n=getTFHubUrl(n));const o=new uM(n,e,a);return await o.load(),o}Zu().prototype.pad=function(n,e){return this.throwIfDisposed(),Rv(this,n,e)};Zu().prototype.where=function(n,e){return this.throwIfDisposed(),jv(n,this,e)};Zu().prototype.mul=function(n){return this.throwIfDisposed(),ca(this,n)};Zu().prototype.dot=function(n){return this.throwIfDisposed(),Iv(this,n)};Zu().prototype.add=function(n){return this.throwIfDisposed(),Na(this,n)};const Nl={},am={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function pM(n,e){Nl[n]=e}function ji(n,e){if(!(n in Nl)||e!=null){const o=fM(n,e);if(o!==null)Nl[n]=o;else return console.log("Could not get context for WebGL version",n),null}const a=Nl[n];return a==null||a.isContextLost()?(delete Nl[n],ji(n)):(a.disable(a.DEPTH_TEST),a.disable(a.STENCIL_TEST),a.disable(a.BLEND),a.disable(a.DITHER),a.disable(a.POLYGON_OFFSET_FILL),a.disable(a.SAMPLE_COVERAGE),a.enable(a.SCISSOR_TEST),a.enable(a.CULL_FACE),a.cullFace(a.BACK),Nl[n])}function dM(n){if(typeof OffscreenCanvas<"u"&&n===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function fM(n,e){if(n!==1&&n!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const a=e??dM(n);return a.addEventListener("webglcontextlost",o=>{o.preventDefault(),delete Nl[n]},!1),n===1?a.getContext("webgl",am)||a.getContext("experimental-webgl",am):a.getContext("webgl2",am)}var Pc;(function(n){n[n.DENSE=0]="DENSE",n[n.SHARED_BATCH=1]="SHARED_BATCH"})(Pc||(Pc={}));var ss;(function(n){n[n.RENDER=0]="RENDER",n[n.UPLOAD=1]="UPLOAD",n[n.PIXELS=2]="PIXELS",n[n.DOWNLOAD=3]="DOWNLOAD"})(ss||(ss={}));var Lr;(function(n){n[n.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",n[n.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",n[n.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",n[n.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",n[n.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(Lr||(Lr={}));function lx(n,e){return[e,n]}function bd(n){const e=kn(n),a=Math.ceil(e/4);return Om(a)}function ef(n,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(n/2))]}function ux(n,e){const a=n;let o,l,p,f,d,u,h,y,b,x;return vt().getNumber("WEBGL_VERSION")===2?(o=a.R32F,l=a.R16F,p=a.RGBA16F,f=a.RGBA32F,d=a.RED,h=4,y=1,b=a.HALF_FLOAT,x=a.FLOAT,u=a.RGBA8):(o=n.RGBA,l=n.RGBA,p=n.RGBA,f=a.RGBA,d=n.RGBA,h=4,y=4,b=e!=null?e.HALF_FLOAT_OES:null,x=n.FLOAT,u=n.RGBA),{internalFormatFloat:o,internalFormatHalfFloat:l,internalFormatPackedHalfFloat:p,internalFormatPackedFloat:f,textureFormatFloat:d,downloadTextureFormat:u,downloadUnpackNumChannels:h,defaultNumChannels:y,textureTypeHalfFloat:b,textureTypeFloat:x}}function xn(n,e){const a=e();return vt().getBool("DEBUG")&&checkWebGLError(n),a}function hM(n,e){const a=Yl(n,()=>n.createShader(n.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(xn(n,()=>n.shaderSource(a,e)),xn(n,()=>n.compileShader(a)),n.getShaderParameter(a,n.COMPILE_STATUS)===!1)throw console.log(n.getShaderInfoLog(a)),new Error("Failed to compile vertex shader.");return a}function mM(n,e){const a=Yl(n,()=>n.createShader(n.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(xn(n,()=>n.shaderSource(a,e)),xn(n,()=>n.compileShader(a)),vt().get("ENGINE_COMPILE_ONLY"))return a;if(n.getShaderParameter(a,n.COMPILE_STATUS)===!1)throw logShaderSourceAndInfoLog(e,n.getShaderInfoLog(a)),new Error("Failed to compile fragment shader.");return a}function gM(n){return Yl(n,()=>n.createProgram(),"Unable to create WebGLProgram.")}function yM(n,e){if(xn(n,()=>n.linkProgram(e)),!vt().get("ENGINE_COMPILE_ONLY")&&n.getProgramParameter(e,n.LINK_STATUS)===!1)throw console.log(n.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function bM(n,e){const a=Yl(n,()=>n.createBuffer(),"Unable to create WebGLBuffer");return xn(n,()=>n.bindBuffer(n.ARRAY_BUFFER,a)),xn(n,()=>n.bufferData(n.ARRAY_BUFFER,e,n.STATIC_DRAW)),a}function wM(n,e){const a=Yl(n,()=>n.createBuffer(),"Unable to create WebGLBuffer");return xn(n,()=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,a)),xn(n,()=>n.bufferData(n.ELEMENT_ARRAY_BUFFER,e,n.STATIC_DRAW)),a}function vM(n){return Yl(n,()=>n.createTexture(),"Unable to create WebGLTexture.")}function xM(n,e){const a=vt().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(n<=0||e<=0){const o=`[${n}x${e}]`;throw new Error("Requested texture size "+o+" is invalid.")}if(n>a||e>a){const o=`[${n}x${e}]`,l=`[${a}x${a}]`;throw new Error("Requested texture size "+o+" greater than WebGL maximum on this browser / GPU "+l+".")}}function _M(n){return Yl(n,()=>n.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function xw(n,e,a,o,l,p,f){const d=n.getAttribLocation(e,a);return d===-1?!1:(xn(n,()=>n.bindBuffer(n.ARRAY_BUFFER,o)),xn(n,()=>n.vertexAttribPointer(d,l,n.FLOAT,!1,p,f)),xn(n,()=>n.enableVertexAttribArray(d)),!0)}function kM(n,e,a){SM(n,a),xn(n,()=>n.activeTexture(n.TEXTURE0+a)),xn(n,()=>n.bindTexture(n.TEXTURE_2D,e))}function EM(n,e,a){return n.getUniformLocation(e,a)}function AM(n,e,a,o){xn(n,()=>kM(n,e,o)),xn(n,()=>n.uniform1i(a,o))}function rm(n,e,a){xn(n,()=>n.bindFramebuffer(n.FRAMEBUFFER,a)),xn(n,()=>n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0))}function Yl(n,e,a){const o=xn(n,()=>e());if(o==null)throw new Error(a);return o}function SM(n,e){const a=n.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,o=e+n.TEXTURE0;if(o<n.TEXTURE0||o>a){const l=`[gl.TEXTURE0, gl.TEXTURE${a}]`;throw new Error(`textureUnit must be in ${l}.`)}}function Hu(n,e=2){return kn(n.slice(0,n.length-e))}function Wu(n){if(n.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[n.length>1?n[n.length-2]:1,n[n.length-1]]}function om(n){let e=[1,1,1];return n.length===0||n.length===1&&n[0]===1||(e=[Hu(n),...Wu(n)]),e}function TM(n,e=!1){let a=vt().getNumber("WEBGL_MAX_TEXTURE_SIZE");e&&(a=a*2,n=n.map((l,p)=>p>=n.length-2?dO(n[p]):n[p]),n.length===1&&(n=[2,n[0]])),n.length!==2&&(n=Vc(n).newShape);let o=kn(n);if(n.length<=1&&o<=a)return[1,o];if(n.length===2&&n[0]<=a&&n[1]<=a)return n;if(n.length===3&&n[0]*n[1]<=a&&n[2]<=a)return[n[0]*n[1],n[2]];if(n.length===3&&n[0]<=a&&n[1]*n[2]<=a)return[n[0],n[1]*n[2]];if(n.length===4&&n[0]*n[1]*n[2]<=a&&n[3]<=a)return[n[0]*n[1]*n[2],n[3]];if(n.length===4&&n[0]<=a&&n[1]*n[2]*n[3]<=a)return[n[0],n[1]*n[2]*n[3]];if(e){const l=Hu(n);let p=2,f=2;return n.length&&([p,f]=Wu(n)),o=l*(p/2)*(f/2),Om(o).map(d=>d*2)}return Om(o)}function wd(n){return n%2===0}function e1(n,e){if(n=n.slice(-2),e=e.slice(-2),wo(n,e)||!n.length||!e.length||n[0]===0||n[1]===0||e[0]===0||e[1]===0)return!0;if(n.length!==e.length){const a=n.slice(-1)[0],o=e.slice(-1)[0];if(a===o||wd(a)&&wd(o)&&(n[0]===1||e[0]===1))return!0}return n[1]===e[1]&&wd(n[0])&&wd(e[0])}let sm,im;function jM(n){if(sm==null){const e=ji(n);sm=e.getParameter(e.MAX_TEXTURE_SIZE)}return sm}function IM(n){if(im==null){const e=ji(n);im=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,im)}function Iu(n,e){return n.getExtension(e)!=null}function _w(n){try{if(ji(n)!=null)return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function NM(n){if(n===0)return!1;const e=ji(n);if(n===1){if(!Iu(e,"OES_texture_float"))return!1}else if(!Iu(e,"EXT_color_buffer_float"))return!1;return DM(e)}function DM(n){const e=ux(n),a=n.createTexture();n.bindTexture(n.TEXTURE_2D,a),n.texImage2D(n.TEXTURE_2D,0,e.internalFormatFloat,1,1,0,e.textureFormatFloat,e.textureTypeFloat,null);const p=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,p),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,a,0);const f=n.checkFramebufferStatus(n.FRAMEBUFFER)===n.FRAMEBUFFER_COMPLETE;return n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteTexture(a),n.deleteFramebuffer(p),f}function CM(n){return n!==2?!1:ji(n).fenceSync!=null}const vn=vt();vn.registerFlag("HAS_WEBGL",()=>vn.getNumber("WEBGL_VERSION")>0);vn.registerFlag("WEBGL_VERSION",()=>_w(2)?2:_w(1)?1:0);vn.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);vn.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>vn.get("WEBGL_VERSION")===2);vn.registerFlag("WEBGL_CPU_FORWARD",()=>!0);vn.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);vn.registerFlag("WEBGL_PACK",()=>vn.getBool("HAS_WEBGL"));vn.registerFlag("WEBGL_PACK_NORMALIZATION",()=>vn.getBool("WEBGL_PACK"));vn.registerFlag("WEBGL_PACK_CLIP",()=>vn.getBool("WEBGL_PACK"));vn.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>vn.getBool("WEBGL_PACK"));vn.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>vn.getBool("WEBGL_PACK"));vn.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>vn.getBool("WEBGL_PACK"));vn.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>vn.getBool("WEBGL_PACK"));vn.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>vn.getBool("WEBGL_PACK"));vn.registerFlag("WEBGL_PACK_REDUCE",()=>vn.getBool("WEBGL_PACK"));vn.registerFlag("WEBGL_LAZILY_UNPACK",()=>vn.getBool("WEBGL_PACK"));vn.registerFlag("WEBGL_CONV_IM2COL",()=>vn.getBool("WEBGL_PACK"));vn.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>jM(vn.getNumber("WEBGL_VERSION")));vn.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>IM(vn.getNumber("WEBGL_VERSION")));vn.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const n=vn.getNumber("WEBGL_VERSION");return n===0?0:getWebGLDisjointQueryTimerVersion(n)});vn.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>vn.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!lv());vn.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>NM(vn.getNumber("WEBGL_VERSION")));vn.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>vn.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:vn.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));vn.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>isDownloadFloatTextureEnabled(vn.getNumber("WEBGL_VERSION")));vn.registerFlag("WEBGL_FENCE_API_ENABLED",()=>CM(vn.getNumber("WEBGL_VERSION")));vn.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>vn.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);vn.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,n=>{if(n<0&&n!==-1)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${n}.`)});vn.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>lv()?1:-1,n=>{if(n<0&&n!==-1)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${n}.`)});vn.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);vn.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);vn.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);vn.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);function us(){let n,e,a,o,l,p,f,d,u,h;return vt().getNumber("WEBGL_VERSION")===2?(n="#version 300 es",e="in",a="out",o="in",l="texture",p="outputColor",f="out vec4 outputColor;",d=`
      bool isnan_custom(float val) {
        uint floatToUint = floatBitsToUint(val);
        return (floatToUint & 0x7fffffffu) > 0x7f800000u;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `,u="",h=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(n="",e="attribute",a="varying",o="varying",l="texture2D",p="gl_FragColor",f="",d=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,u=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,h=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:n,attribute:e,varyingVs:a,varyingFs:o,texture2D:l,output:p,defineOutput:f,defineSpecialNaN:d,defineSpecialInf:u,defineRound:h}}function O1(n,e,a="index"){const o=Vo(e);return o.map((l,p)=>{const f=`int ${n[p]} = ${a} / ${l}`,d=p===o.length-1?`int ${n[p+1]} = ${a} - ${n[p]} * ${l}`:`index -= ${n[p]} * ${l}`;return`${f}; ${d};`}).join("")}function cx(n,e,a="index"){const o=Vo(e);return o.map((l,p)=>{const f=`int ${n[p]} = ${a} / outShapeStrides[${p}]`,d=p===o.length-1?`int ${n[p+1]} = ${a} - ${n[p]} * outShapeStrides[${p}]`:`index -= ${n[p]} * outShapeStrides[${p}]`;return`${f}; ${d};`}).join("")}function OM(n,e){const a=n.length,o=n.map(p=>`${e}[${p}]`),l=new Array(a-1);l[a-2]=o[a-1];for(let p=a-3;p>=0;--p)l[p]=`(${l[p+1]} * ${o[p+1]})`;return l}function BM(n,e,a="index"){const o=n.map((p,f)=>f),l=OM(o,e);return l.map((p,f)=>{const d=`int ${n[f]} = ${a} / ${l[f]}`,u=f===l.length-1?`int ${n[f+1]} = ${a} - ${n[f]} * ${l[f]}`:`index -= ${n[f]} * ${l[f]}`;return`${d}; ${u};`}).join("")}function B1(n){const e=Vo(n).map(a=>a.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${e[0]} + coords.y * ${e[1]} + coords.z;
  }
`}function R1(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}const px=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`,{getBroadcastDims:dx}=zF;function RM(n,e,a){const o=[];if(n.forEach(A=>{const j=kn(A.shapeInfo.logicalShape);if(A.shapeInfo.isUniform?o.push(`uniform float ${A.name}${j>1?`[${j}]`:""};`):(o.push(`uniform sampler2D ${A.name};`),o.push(`uniform int offset${A.name};`)),a.enableShapeUniforms){const{uniformShape:T}=P1(a.packedInputs,A.shapeInfo.logicalShape,A.shapeInfo.texShape);switch(T.length){case 1:o.push(`uniform int ${A.name}Shape;`);break;case 2:o.push(`uniform ivec2 ${A.name}Shape;`);break;case 3:o.push(`uniform ivec3 ${A.name}Shape;`);break;case 4:o.push(`uniform ivec4 ${A.name}Shape;`);break}o.push(`uniform ivec2 ${A.name}TexShape;`)}}),a.enableShapeUniforms){switch(e.logicalShape.length){case 1:o.push("uniform int outShape;");break;case 2:o.push("uniform ivec2 outShape;"),o.push("uniform int outShapeStrides;");break;case 3:o.push("uniform ivec3 outShape;"),o.push("uniform ivec2 outShapeStrides;");break;case 4:o.push("uniform ivec4 outShape;"),o.push("uniform ivec3 outShapeStrides;");break}o.push("uniform ivec2 outTexShape;")}a.customUniforms&&a.customUniforms.forEach(A=>{o.push(`uniform ${A.type} ${A.name}${A.arrayIndex?`[${A.arrayIndex}]`:""};`)});const l=o.join(`
`),p=n.map(A=>FM(A,e,a.packedInputs,a.enableShapeUniforms)).join(`
`),f=e.texShape,d=us(),u=LM(d);let h,y,b=$M(d);return e.isPacked?(h=MM(e.logicalShape,f,a.enableShapeUniforms),y=zM(d)):(h=PM(e.logicalShape,f,a.enableShapeUniforms),y=UM(d)),a.packedInputs&&(b+=WM),[b,u,y,l,h,p,a.userCode].join(`
`)}function F1(n,e=!1){const a=n.shapeInfo.logicalShape;switch(a.length){case 0:return getSamplerScalar(n,e);case 1:return JM(n,e);case 2:return eP(n,e);case 3:return nP(n,e);case 4:return getSampler4D(n,e);case 5:return getSampler5D(n);case 6:return getSampler6D(n);default:throw new Error(`${a.length}-D input sampling is not yet supported`)}}function fx(n,e){switch(n.shapeInfo.logicalShape.length){case 0:return getPackedSamplerScalar(n);case 1:return ZM(n,e);case 2:return QM(n,e);case 3:return tP(n,e);default:return aP(n,e)}}function FM(n,e,a=!1,o){let l="";a?l+=fx(n,o):l+=F1(n,o);const p=n.shapeInfo.logicalShape,f=e.logicalShape;return p.length<=f.length&&(a?l+=rP(n,e):l+=oP(n,e)),l}function MM(n,e,a){switch(n.length){case 0:return getOutputScalarCoords();case 1:return getOutputPacked1DCoords(n,e,a);case 2:return YM(n,e,a);case 3:return KM(n,e,a);default:return XM(n,e,a)}}function PM(n,e,a){switch(n.length){case 0:return getOutputScalarCoords();case 1:return getOutput1DCoords(n,e,a);case 2:return qM(n,e,a);case 3:return getOutput3DCoords(n,e,a);case 4:return getOutput4DCoords(n,e,a);case 5:return getOutput5DCoords(n,e);case 6:return getOutput6DCoords(n,e);default:throw new Error(`${n.length}-D output sampling is not yet supported`)}}function LM(n){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${n.texture2D}(textureSampler, uv).r;
    }
  `}function UM(n){return`
    void setOutput(float val) {
      ${n.output} = vec4(val, 0, 0, 0);
    }
  `}function zM(n){return`
    void setOutput(vec4 val) {
      ${n.output} = val;
    }
  `}function $M(n){return`${n.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${n.varyingFs} vec2 resultUV;
    ${n.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${n.defineSpecialNaN}
    ${n.defineSpecialInf}
    ${n.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${GM}
    ${VM}
    ${HM}
  `}const GM=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,VM=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,HM=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,WM=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function KM(n,e,a){if(a)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;const o=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],l=Math.ceil(n[2]/2),p=l*Math.ceil(n[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${o[0]}, ${o[1]}));
      int index = resTexRC.x * ${o[1]} + resTexRC.y;

      int b = index / ${p};
      index -= b * ${p};

      int r = 2 * (index / ${l});
      int c = imod(index, ${l}) * 2;

      return ivec3(b, r, c);
    }
  `}function XM(n,e,a){if(a)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;const o=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],l=Math.ceil(n[n.length-1]/2),p=l*Math.ceil(n[n.length-2]/2);let f=p,d="",u="b, r, c";for(let h=2;h<n.length-1;h++)f*=n[n.length-h-1],d=`
      int b${h} = index / ${f};
      index -= b${h} * ${f};
    `+d,u=`b${h}, `+u;return`
    ivec${n.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${o[0]}, ${o[1]}));
      int index = resTexRC.x * ${o[1]} + resTexRC.y;

      ${d}

      int b = index / ${p};
      index -= b * ${p};

      int r = 2 * (index / ${l});
      int c = imod(index, ${l}) * 2;

      return ivec${n.length}(${u});
    }
  `}function YM(n,e,a){const o=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(wo(n,e))return a?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${o[0]}, ${o[1]}));
      }
    `;const l=Math.ceil(n[1]/2);return a?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${o[0]}, ${o[1]}));

      int index = resTexRC.x * ${o[1]} + resTexRC.y;
      int r = 2 * (index / ${l});
      int c = imod(index, ${l}) * 2;

      return ivec2(r, c);
    }
  `}function qM(n,e,a){return wo(n,e)?a?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${e[0]}, ${e[1]}));
      }
    `:n[1]===1?a?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:n[0]===1?a?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:a?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      int r = index / ${n[1]};
      int c = index - r * ${n[1]};
      return ivec2(r, c);
    }
  `}function M1(n){return`offset${n}`}function ZM(n,e){const a=n.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1),l=n.shapeInfo.texShape,p=us();if(e)return`
    vec4 ${o}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${a}TexShape[0]) / 2.0), ceil(float(${a}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${p.texture2D}(${a}, uv);
    }
  `;const f=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];return`
    vec4 ${o}(int index) {
      vec2 uv = packedUVfrom1D(
        ${f[0]}, ${f[1]}, index);
      return ${p.texture2D}(${a}, uv);
    }
  `}function JM(n,e){const a=n.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1);if(n.shapeInfo.isUniform)return`
      float ${o}(int index) {
        ${getUniformSampler(n)}
      }
    `;const l=n.shapeInfo.texShape,p=l[0],f=l[1];if(f===1&&p===1)return`
      float ${o}(int index) {
        return sampleTexture(${a}, halfCR);
      }
    `;const d=M1(a);return f===1?e?`
      float ${o}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${d}) + 0.5) / float(${a}TexShape[0]));
        return sampleTexture(${a}, uv);
      }
    `:`
      float ${o}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${d}) + 0.5) / ${p}.0);
        return sampleTexture(${a}, uv);
      }
    `:p===1?e?`
      float ${o}(int index) {
        vec2 uv = vec2((float(index + ${d}) + 0.5) / float(${a}TexShape[1]), 0.5);
        return sampleTexture(${a}, uv);
      }
    `:`
      float ${o}(int index) {
        vec2 uv = vec2((float(index + ${d}) + 0.5) / ${f}.0, 0.5);
        return sampleTexture(${a}, uv);
      }
    `:e?`
    float ${o}(int index) {
      vec2 uv = uvFromFlat(${a}TexShape[0], ${a}TexShape[1], index + ${d});
      return sampleTexture(${a}, uv);
    }
  `:`
    float ${o}(int index) {
      vec2 uv = uvFromFlat(${p}, ${f}, index + ${d});
      return sampleTexture(${a}, uv);
    }
  `}function QM(n,e){const a=n.shapeInfo.logicalShape,o=n.name,l="get"+o.charAt(0).toUpperCase()+o.slice(1),p=n.shapeInfo.texShape,f=p[0],d=p[1],u=us();if(p!=null&&wo(a,p))return e?`
      vec4 ${l}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${o}TexShape[1], ${o}TexShape[0]);

        return ${u.texture2D}(${o}, uv);
      }
    `:`
      vec4 ${l}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${d}.0, ${f}.0);

        return ${u.texture2D}(${o}, uv);
      }
    `;if(e)return`
    vec4 ${l}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${o}TexShape[0]) / 2.0), ceil(float(${o}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${o}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${u.texture2D}(${o}, uv);
    }
  `;const h=[Math.ceil(p[0]/2),Math.ceil(p[1]/2)],y=Math.ceil(a[1]/2);return`
    vec4 ${l}(int row, int col) {
      vec2 uv = packedUVfrom2D(${y}, ${h[0]}, ${h[1]}, row, col);
      return ${u.texture2D}(${o}, uv);
    }
  `}function eP(n,e){const a=n.shapeInfo.logicalShape,o=n.name,l="get"+o.charAt(0).toUpperCase()+o.slice(1),p=n.shapeInfo.texShape;if(p!=null&&wo(a,p)){if(e)return`
      float ${l}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${o}TexShape[1], ${o}TexShape[0]);
        return sampleTexture(${o}, uv);
      }
    `;const x=p[0],A=p[1];return`
    float ${l}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${A}.0, ${x}.0);
      return sampleTexture(${o}, uv);
    }
  `}const{newShape:f,keptDims:d}=Vc(a),u=f;if(u.length<a.length){const x=L1(n,u),A=["row","col"];return`
      ${F1(x,e)}
      float ${l}(int row, int col) {
        return ${l}(${U1(A,d)});
      }
    `}if(n.shapeInfo.isUniform)return`
      float ${l}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${a[1]}, 1)));
        ${getUniformSampler(n)}
      }
    `;const h=p[0],y=p[1],b=M1(o);return y===1?e?`
      float ${l}(int row, int col) {
        float index = dot(vec3(row, col, ${b}), vec3(${o}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${o}TexShape[0]));
        return sampleTexture(${o}, uv);
      }
    `:`
    float ${l}(int row, int col) {
      float index = dot(vec3(row, col, ${b}), vec3(${a[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${h}.0);
      return sampleTexture(${o}, uv);
    }
  `:h===1?e?`
      float ${l}(int row, int col) {
        float index = dot(vec3(row, col, ${b}), vec3(${o}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${o}TexShape[1]), 0.5);
        return sampleTexture(${o}, uv);
      }
    `:`
    float ${l}(int row, int col) {
      float index = dot(vec3(row, col, ${b}), vec3(${a[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${y}.0, 0.5);
      return sampleTexture(${o}, uv);
    }
  `:e?`
      float ${l}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${o}Shape[1] + col + ${b};
        vec2 uv = uvFromFlat(${o}TexShape[0], ${o}TexShape[1], index);
        return sampleTexture(${o}, uv);
      }
    `:`
  float ${l}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${a[1]} + col + ${b};
    vec2 uv = uvFromFlat(${h}, ${y}, index);
    return sampleTexture(${o}, uv);
  }
`}function tP(n,e){const a=n.shapeInfo.logicalShape,o=n.name,l="get"+o.charAt(0).toUpperCase()+o.slice(1),p=n.shapeInfo.texShape,f=[Math.ceil(p[0]/2),Math.ceil(p[1]/2)];if(a[0]===1){const x=a.slice(1),A=[1,2],j=L1(n,x),T=["b","row","col"];return`
        ${fx(j,e)}
        vec4 ${l}(int b, int row, int col) {
          return ${l}(${U1(T,A)});
        }
      `}const d=us();if(e)return`
    vec4 ${l}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${o}TexShape[0]) / 2.0), ceil(float(${o}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${o}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${o}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${d.texture2D}(${o}, uv);
    }
  `;const u=f[0],h=f[1],y=Math.ceil(a[2]/2),b=y*Math.ceil(a[1]/2);return`
    vec4 ${l}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${u}, ${h}, ${b}, ${y}, b, row, col);
      return ${d.texture2D}(${o}, uv);
    }
  `}function nP(n,e){const a=n.shapeInfo.logicalShape,o=n.name,l="get"+o.charAt(0).toUpperCase()+o.slice(1),p=a[1]*a[2],f=a[2],{newShape:d,keptDims:u}=Vc(a),h=d;if(h.length<a.length){const T=L1(n,h),I=["row","col","depth"];return`
        ${F1(T,e)}
        float ${l}(int row, int col, int depth) {
          return ${l}(${U1(I,u)});
        }
      `}if(n.shapeInfo.isUniform)return`
      float ${l}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${p}, ${f}, 1)));
        ${getUniformSampler(n)}
      }
    `;const y=n.shapeInfo.texShape,b=y[0],x=y[1],A=n.shapeInfo.flatOffset;if(x===p&&A==null)return e?`
      float ${l}(int row, int col, int depth) {
        int stride1 = ${o}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${o}TexShape[1], ${o}TexShape[0]);
        return sampleTexture(${o}, uv);
      }
    `:`
        float ${l}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${f}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${x}.0, ${b}.0);
          return sampleTexture(${o}, uv);
        }
      `;if(x===f&&A==null)return e?`
      float ${l}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${o}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${o}TexShape[1], ${o}TexShape[0]);
        return sampleTexture(${o}, uv);
      }
    `:`
    float ${l}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${a[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${x}.0, ${b}.0);
      return sampleTexture(${o}, uv);
    }
  `;const j=M1(o);return e?`
    float ${l}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${o}Shape[1] * ${o}Shape[2];
      int stride1 = ${o}Shape[2];
      int index = row * ${p} + col * ${f} + depth + ${j};
      vec2 uv = uvFromFlat(${o}TexShape[0], ${o}TexShape[1], index);
      return sampleTexture(${o}, uv);
    }
    `:`
      float ${l}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${p} + col * ${f} + depth + ${j};
        vec2 uv = uvFromFlat(${b}, ${x}, index);
        return sampleTexture(${o}, uv);
      }
  `}function aP(n,e){const a=n.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1),l=us();if(e)return`
    vec4 ${o}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${a}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${a}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${a}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${a}TexShape[0]) / 2.0), ceil(float(${a}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${l.texture2D}(${a}, uv);
    }
  `;const p=n.shapeInfo.logicalShape,f=p.length,d=n.shapeInfo.texShape,u=[Math.ceil(d[0]/2),Math.ceil(d[1]/2)],h=u[0],y=u[1],b=Math.ceil(p[f-1]/2);let x=b*Math.ceil(p[f-2]/2),A="int b, int row, int col",j=`b * ${x} + (row / 2) * ${b} + (col / 2)`;for(let T=2;T<f-1;T++)A=`int b${T}, `+A,x*=p[f-T-1],j=`b${T} * ${x} + `+j;return`
    vec4 ${o}(${A}) {
      int index = ${j};
      int texR = index / ${y};
      int texC = index - texR * ${y};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${y}, ${h});
      return ${l.texture2D}(${a}, uv);
    }
  `}function rP(n,e){const a=n.name,o=a.charAt(0).toUpperCase()+a.slice(1),l="get"+o+"AtOutCoords",p=n.shapeInfo.logicalShape.length,f=e.logicalShape.length,d=dx(n.shapeInfo.logicalShape,e.logicalShape),u=Oo(f),h=f-p;let y;const b=["x","y","z","w","u","v"];p===0?y="":f<2&&d.length>=1?y="coords = 0;":y=d.map(G=>`coords.${b[G+h]} = 0;`).join(`
`);let x="";f<2&&p>0?x="coords":x=n.shapeInfo.logicalShape.map((G,D)=>`coords.${b[D+h]}`).join(", ");let A="return outputValue;";const T=kn(n.shapeInfo.logicalShape)===1,S=kn(e.logicalShape)===1;if(p===1&&!T&&!S)A=`
      return vec4(outputValue.xy, outputValue.xy);
    `;else if(T&&!S)f===1?A=`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:A=`
        return vec4(outputValue.x);
      `;else if(d.length){const G=p-2,D=p-1;d.indexOf(G)>-1&&d.indexOf(D)>-1?A="return vec4(outputValue.x);":d.indexOf(G)>-1?A="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":d.indexOf(D)>-1&&(A="return vec4(outputValue.xx, outputValue.zz);")}return`
    vec4 ${l}() {
      ${u} coords = getOutputCoords();
      ${y}
      vec4 outputValue = get${o}(${x});
      ${A}
    }
  `}function oP(n,e){const a=n.name,o=a.charAt(0).toUpperCase()+a.slice(1),l="get"+o+"AtOutCoords",p=e.texShape,f=n.shapeInfo.texShape,d=n.shapeInfo.logicalShape.length,u=e.logicalShape.length;if(!n.shapeInfo.isUniform&&d===u&&n.shapeInfo.flatOffset==null&&wo(f,p))return`
      float ${l}() {
        return sampleTexture(${a}, resultUV);
      }
    `;const h=Oo(u),y=dx(n.shapeInfo.logicalShape,e.logicalShape),b=u-d;let x;const A=["x","y","z","w","u","v"];d===0?x="":u<2&&y.length>=1?x="coords = 0;":x=y.map(T=>`coords.${A[T+b]} = 0;`).join(`
`);let j="";return u<2&&d>0?j="coords":j=n.shapeInfo.logicalShape.map((T,I)=>`coords.${A[I+b]}`).join(", "),`
    float ${l}() {
      ${h} coords = getOutputCoords();
      ${x}
      return get${o}(${j});
    }
  `}function Oo(n){if(n<=1)return"int";if(n===2)return"ivec2";if(n===3)return"ivec3";if(n===4)return"ivec4";if(n===5)return"ivec5";if(n===6)return"ivec6";throw Error(`GPU for rank ${n} is not yet supported`)}function P1(n,e,a){const{newShape:o,keptDims:l}=Vc(e),p=e.length,f=n&&p===3&&e[0]===1,d=f?e.slice(1):o,u=!n&&p>1&&!wo(e,a)&&o.length<p||f;return{useSqueezeShape:u,uniformShape:u?d:e,keptDims:l}}function L1(n,e){const a=JSON.parse(JSON.stringify(n));return a.shapeInfo.logicalShape=e,a}function U1(n,e){return e.map(a=>n[a]).join(", ")}function sP(n,e,a,o){const l=a.map((y,b)=>{const x={logicalShape:y.shape,texShape:y.isUniform?null:y.texData.texShape,isUniform:y.isUniform,isPacked:y.isUniform?!1:y.texData.isPacked,flatOffset:null};return y.texData!=null&&y.texData.slice!=null&&y.texData.slice.flatOffset>0&&(x.flatOffset=y.texData.slice.flatOffset),{name:e.variableNames[b],shapeInfo:x}}),p=l.map(y=>y.shapeInfo),f={logicalShape:o.shape,texShape:o.texData.texShape,isUniform:!1,isPacked:o.texData.isPacked,flatOffset:null},d=RM(l,f,e),u=mM(n.gl,d),h=n.createProgram(u);return vt().get("ENGINE_COMPILE_ONLY")?{program:e,fragmentShader:u,source:d,webGLProgram:h,inShapeInfos:p,outShapeInfo:f,uniformLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,inShapesLocations:null,inTexShapesLocations:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:Object.assign({program:e,fragmentShader:u,source:d,webGLProgram:h,inShapeInfos:p,outShapeInfo:f},hx(n,e,h))}function hx(n,e,a){const o={},l={},p={},f=[];let d,u,h,y=null,b=null;b=n.getUniformLocation(a,"NAN",!1),vt().getNumber("WEBGL_VERSION")===1&&(y=n.getUniformLocation(a,"INFINITY",!1));const x=!1;for(let A=0;A<e.variableNames.length;A++){const j=e.variableNames[A];o[j]=n.getUniformLocation(a,j,x),o[`offset${j}`]=n.getUniformLocation(a,`offset${j}`,x),e.enableShapeUniforms&&(l[`${j}Shape`]=n.getUniformLocation(a,`${j}Shape`,x),p[`${j}TexShape`]=n.getUniformLocation(a,`${j}TexShape`,x))}return e.enableShapeUniforms&&(d=n.getUniformLocation(a,"outShape",x),h=n.getUniformLocation(a,"outShapeStrides",x),u=n.getUniformLocation(a,"outTexShape",x)),e.customUniforms&&e.customUniforms.forEach((A,j)=>{f[j]=n.getUniformLocation(a,A.name,x)}),{uniformLocations:o,customUniformLocations:f,infLoc:y,nanLoc:b,inShapesLocations:l,inTexShapesLocations:p,outShapeLocation:d,outShapeStridesLocation:h,outTexShapeLocation:u}}function kw(n,e){if(n.length!==e.length)throw Error(`Binary was compiled with ${n.length} inputs, but was executed with ${e.length} inputs`);n.forEach((a,o)=>{const l=a.logicalShape,p=e[o],f=p.shape;if(!wo(l,f))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${l} and ${f} must match`);if(a.isUniform&&p.isUniform)return;const d=a.texShape,u=p.isUniform?null:p.texData.texShape;if(!wo(d,u))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${d} and ${u} must match`)})}function iP(n,e,a,o,l){e.program.enableShapeUniforms||(kw(e.inShapeInfos,a),kw([e.outShapeInfo],[o]));const p=o.texData.texture,f=o.texData.texShape;o.texData.isPacked?n.setOutputPackedMatrixTexture(p.texture,f[0],f[1]):n.setOutputMatrixTexture(p.texture,f[0],f[1]),n.setProgram(e.webGLProgram),vt().getNumber("WEBGL_VERSION")===1&&e.infLoc!==null&&n.gl.uniform1f(e.infLoc,1/0),e.nanLoc!==null&&n.gl.uniform1f(e.nanLoc,NaN),a.forEach((u,h)=>{const y=e.program.variableNames[h],b=e.uniformLocations[y],x=e.uniformLocations[`offset${y}`],A=e.inShapesLocations[`${y}Shape`],j=e.inTexShapesLocations[`${y}TexShape`];if(A){const{uniformShape:T}=P1(e.program.packedInputs,u.shape,u.texData.texShape);switch(T.length){case 1:n.gl.uniform1iv(A,new Int32Array(T));break;case 2:n.gl.uniform2iv(A,new Int32Array(T));break;case 3:n.gl.uniform3iv(A,new Int32Array(T));break;case 4:n.gl.uniform4iv(A,new Int32Array(T));break}}if(j&&n.gl.uniform2i(j,u.texData.texShape[0],u.texData.texShape[1]),b!=null){if(u.isUniform){if(kn(u.shape)<2)n.gl.uniform1f(b,u.uniformValues[0]);else{let T=u.uniformValues;T instanceof Float32Array||(T=new Float32Array(T)),n.gl.uniform1fv(b,T)}return}u.texData.slice!=null&&x!=null&&n.gl.uniform1i(x,u.texData.slice.flatOffset),n.setInputMatrixTexture(u.texData.texture.texture,b,h)}});const d=e.outShapeLocation;if(d)switch(o.shape.length){case 1:n.gl.uniform1iv(d,new Int32Array(o.shape));break;case 2:n.gl.uniform2iv(d,new Int32Array(o.shape));break;case 3:n.gl.uniform3iv(d,new Int32Array(o.shape));break;case 4:n.gl.uniform4iv(d,new Int32Array(o.shape));break}if(e.outShapeStridesLocation){const u=Vo(o.shape);switch(o.shape.length){case 2:n.gl.uniform1iv(e.outShapeStridesLocation,new Int32Array(u));break;case 3:n.gl.uniform2iv(e.outShapeStridesLocation,new Int32Array(u));break;case 4:n.gl.uniform3iv(e.outShapeStridesLocation,new Int32Array(u));break}}e.outTexShapeLocation&&n.gl.uniform2i(e.outTexShapeLocation,o.texData.texShape[0],o.texData.texShape[1]),e.program.customUniforms&&l&&e.program.customUniforms.forEach((u,h)=>{const y=e.customUniformLocations[h],b=l[h];if(u.type==="float")n.gl.uniform1fv(y,b);else if(u.type==="vec2")n.gl.uniform2fv(y,b);else if(u.type==="vec3")n.gl.uniform3fv(y,b);else if(u.type==="vec4")n.gl.uniform4fv(y,b);else if(u.type==="int")n.gl.uniform1iv(y,b);else if(u.type==="ivec2")n.gl.uniform2iv(y,b);else if(u.type==="ivec3")n.gl.uniform3iv(y,b);else if(u.type==="ivec4")n.gl.uniform4iv(y,b);else throw Error(`uniform type ${u.type} is not supported yet.`)}),n.executeProgram()}function lP(n,e,a){let o="";e.concat(a).forEach(f=>{const d=f.texData!=null&&f.texData.slice!=null&&f.texData.slice.flatOffset>0;if(n.enableShapeUniforms&&!f.isUniform){const u=f.texData.texShape,{useSqueezeShape:h,uniformShape:y,keptDims:b}=P1(n.packedInputs,f.shape,u);let x="",A="",j="";if(y.length===1&&n.packedInputs){const L=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)];x=`${L[0]>1}_${L[1]>1}`}else if(y.length===2&&!n.packedInputs)A=`${y[0]>1}_${y[1]>1}`;else if(y.length>2&&!n.packedInputs){const L=Vo(y);j=`${L[0]===u[1]}_${L[L.length-1]===u[1]}`}const T=f.shape.length,I=y.length===2&&wo(f.shape,u),S=kn(f.shape)===1,G=Md(f.shape,a.shape),D=!n.packedInputs&&T===a.shape.length&&wo(u,a.texData.texShape),X=n.packedInputs||y.length>2?"":`${u[0]>1}_${u[1]>1}`;o+=`${T}_${D}_${h?b:""}_${y.length}_${S}_${G}_${I}_${x}_${A}_${j}_${X}_${d}`}else{const u=f.isUniform?"uniform":f.texData.texShape;o+=`${f.shape}_${u}_${d}`}});const l=n.userCode;let p=n.constructor.name;return p+="_"+o+"_"+l+`${vt().getNumber("WEBGL_VERSION")}`,p}function cs(n){return vt().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&n<=4}class uP{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Pc.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const a=us();this.outputShape=e,this.enableShapeUniforms=cs(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?cx(["r","c","d"],e):O1(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${a.output} = result;
      }
    `}}class cP{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Pc.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const a=us();this.outputShape=e,this.enableShapeUniforms=cs(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?cx(["r","c","d"],e):O1(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${a.output} = result;
      }
    `}}class pP{constructor(e){this.variableNames=["A"],this.outTexUsage=ss.DOWNLOAD;const a=us();this.outputShape=e,this.userCode=`
      ${px}

      void main() {
        float x = getAAtOutCoords();
        ${a.output} = encode_float(x);
      }
    `}}class dP{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=ss.DOWNLOAD;const a=us();this.outputShape=e,this.userCode=`
      ${px}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${a.output} = encode_float(x);
      }
    `}}class fP{constructor(e,a=!1){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const o=us();this.outputShape=e,this.enableShapeUniforms=cs(this.outputShape.length);let l="result";a&&(l="floor(result * 255. + 0.5)"),this.userCode=`
      ${this.enableShapeUniforms?R1():B1(e)}

      void main() {
        ivec3 coords = getOutputCoords();

        int flatIndex = getFlatIndex(coords);
        int offset = imod(flatIndex, 4);

        flatIndex = idiv(flatIndex, 4, 1.);

        int r = flatIndex / texShape[1];
        int c = imod(flatIndex, texShape[1]);
        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
        vec4 values = ${o.texture2D}(A, uv);

        float result;

        if(offset == 0) {
          result = values[0];
        } else if(offset == 1) {
          result = values[1];
        } else if(offset == 2) {
          result = values[2];
        } else {
          result = values[3];
        }

        ${o.output} = vec4(${l}, 0., 0., 0.);
      }
    `}}class hP{constructor(e,a=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const o=us();this.outputShape=e,this.enableShapeUniforms=cs(this.outputShape.length);let l="",p="result";a&&(p="floor(result * 255. + 0.5)");for(let f=0;f<=1;f++)for(let d=0;d<=1;d++){const u=f*2+d;l+=`
          localCoords = coords;
          if(localCoords[2] + ${d} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {
          localCoords[2] += ${d};
          if (localCoords[1] + ${f} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {
            localCoords[1] += ${f};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${o.texture2D}(A, uv);

            if (offset == 0) {
              result[${u}] = values[0];
            } else if (offset == 1) {
              result[${u}] = values[1];
            } else if (offset == 2) {
              result[${u}] = values[2];
            } else {
              result[${u}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?R1():B1(e)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${l}

          ${o.output} = ${p};
        }
    `}}function mP(n){const e=us(),a=`${e.version}
    precision highp float;
    ${e.attribute} vec3 clipSpacePos;
    ${e.attribute} vec2 uv;
    ${e.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`;return hM(n,a)}function gP(n){const e=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return bM(n,e)}function yP(n){const e=new Uint16Array([0,1,2,2,1,3]);return wM(n,e)}function mx(n,e,a,o,l,p){xM(e,a);const f=vM(n),d=n.TEXTURE_2D;return xn(n,()=>n.bindTexture(d,f)),xn(n,()=>n.texParameteri(d,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE)),xn(n,()=>n.texParameteri(d,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE)),xn(n,()=>n.texParameteri(d,n.TEXTURE_MIN_FILTER,n.NEAREST)),xn(n,()=>n.texParameteri(d,n.TEXTURE_MAG_FILTER,n.NEAREST)),vt().getNumber("WEBGL_VERSION")===1?xn(n,()=>n.texImage2D(d,0,o,e,a,0,l,p,null)):xn(n,()=>n.texStorage2D(d,1,o,e,a)),xn(n,()=>n.bindTexture(n.TEXTURE_2D,null)),{texture:f,texShape:[a,e]}}function gx(n){return n.internalFormatFloat}function bP(n,e,a,o){const[l,p]=lx(e,a);return mx(n,l,p,gx(o),o.textureFormatFloat,n.FLOAT)}function yx(n){return n.internalFormatPackedFloat}function wP(n,e,a,o){const[l,p]=ef(e,a);return mx(n,l,p,yx(o),n.RGBA,n.FLOAT)}function vP(n,e,a){return xn(n,()=>n.bindBuffer(n.ARRAY_BUFFER,a)),xw(n,e,"clipSpacePos",a,3,20,0)&&xw(n,e,"uv",a,2,20,12)}function xP(n,e,a,o,l,p){xn(n,()=>n.bindTexture(n.TEXTURE_2D,e));let f,d,u;l instanceof Uint8Array?(f=new Uint8Array(a*o*4),d=n.UNSIGNED_BYTE,u=n.RGBA):(f=new Float32Array(a*o*4),d=n.FLOAT,u=p.internalFormatPackedFloat),f.set(l),vt().getNumber("WEBGL_VERSION")===2?xn(n,()=>n.texSubImage2D(n.TEXTURE_2D,0,0,0,a,o,n.RGBA,d,f)):xn(n,()=>n.texImage2D(n.TEXTURE_2D,0,u,a,o,0,n.RGBA,d,f)),xn(n,()=>n.bindTexture(n.TEXTURE_2D,null))}function _P(n,e,a,o){const l=n.createBuffer();xn(n,()=>n.bindBuffer(n.PIXEL_PACK_BUFFER,l));const d=4*4*e*a;return xn(n,()=>n.bufferData(n.PIXEL_PACK_BUFFER,d,n.STREAM_READ)),xn(n,()=>n.readPixels(0,0,a,e,n.RGBA,n.FLOAT,0)),xn(n,()=>n.bindBuffer(n.PIXEL_PACK_BUFFER,null)),l}function kP(n,e,a){const o=n,l=new Float32Array(a);return o.bindBuffer(o.PIXEL_PACK_BUFFER,e),o.getBufferSubData(o.PIXEL_PACK_BUFFER,0,l),o.bindBuffer(o.PIXEL_PACK_BUFFER,null),l}class lm{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];const a=vt().getNumber("WEBGL_VERSION");e!=null?(this.gl=e,pM(a,e)):this.gl=ji(a);let o="WEBGL_color_buffer_float";const l="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),vt().getNumber("WEBGL_VERSION")===1){const p="OES_texture_float",f="OES_texture_half_float";if(this.textureFloatExtension=getExtensionOrThrow(this.gl,p),Iu(this.gl,f))this.textureHalfFloatExtension=getExtensionOrThrow(this.gl,f);else if(vt().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(o),Iu(this.gl,l))this.colorBufferHalfFloatExtension=getExtensionOrThrow(this.gl,l);else if(vt().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(o="EXT_color_buffer_float",Iu(this.gl,o))this.colorBufferFloatExtension=this.gl.getExtension(o);else if(Iu(this.gl,l))this.colorBufferHalfFloatExtension=this.gl.getExtension(l);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=gP(this.gl),this.indexBuffer=yP(this.gl),this.framebuffer=_M(this.gl),this.textureConfig=ux(this.gl,this.textureHalfFloatExtension)}get debug(){return vt().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;xn(e,()=>e.finish()),xn(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),xn(e,()=>e.deleteFramebuffer(this.framebuffer)),xn(e,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),xn(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),xn(e,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,a){return this.throwIfDisposed(),bP(this.gl,e,a,this.textureConfig)}createFloat16MatrixTexture(e,a){return this.throwIfDisposed(),createFloat16MatrixTexture(this.gl,e,a,this.textureConfig)}createUnsignedBytesMatrixTexture(e,a){return this.throwIfDisposed(),createUnsignedBytesMatrixTexture(this.gl,e,a,this.textureConfig)}uploadPixelDataToTexture(e,a){this.throwIfDisposed(),uploadPixelDataToTexture(this.gl,e,a)}uploadDenseMatrixToTexture(e,a,o,l){this.throwIfDisposed(),xP(this.gl,e,a,o,l,this.textureConfig)}createFloat16PackedMatrixTexture(e,a){return this.throwIfDisposed(),createFloat16PackedMatrixTexture(this.gl,e,a,this.textureConfig)}createPackedMatrixTexture(e,a){return this.throwIfDisposed(),wP(this.gl,e,a,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(unbindColorTextureFromFramebuffer(this.gl,this.framebuffer),this.outputTexture=null),xn(this.gl,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,a,o){return this.downloadMatrixDriver(e,()=>downloadByteEncodedFloatMatrixFromOutputTexture(this.gl,a,o,this.textureConfig))}downloadPackedMatrixFromBuffer(e,a,o,l,p,f){return downloadPackedMatrixFromBuffer(this.gl,e,a,o,l,p,f,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,a){return kP(this.gl,e,a)}createBufferFromTexture(e,a,o){this.bindTextureToFrameBuffer(e);const l=_P(this.gl,a,o,this.textureConfig);return this.unbindTextureToFrameBuffer(),l}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let a,o;if(vt().getBool("WEBGL_FENCE_API_ENABLED")){const l=e,p=l.fenceSync(l.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),o=()=>{const f=l.clientWaitSync(p,0,0);return f===l.ALREADY_SIGNALED||f===l.CONDITION_SATISFIED},a=p}else vt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(a=this.beginQuery(),this.endQuery(),o=()=>this.isQueryAvailable(a,vt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):o=()=>!0;return{query:a,isFencePassed:o}}downloadMatrixFromPackedTexture(e,a,o){return this.downloadMatrixDriver(e,()=>downloadMatrixFromPackedOutputTexture(this.gl,a,o))}createProgram(e){this.throwIfDisposed();const a=this.gl;this.vertexShader==null&&(this.vertexShader=mP(a));const o=gM(a);return xn(a,()=>a.attachShader(o,this.vertexShader)),xn(a,()=>a.attachShader(o,e)),yM(a,o),this.debug&&validateProgram(a,o),this.vertexAttrsAreBound||(this.setProgram(o),this.vertexAttrsAreBound=vP(a,this.program,this.vertexBuffer)),o}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&xn(this.gl,()=>this.gl.deleteProgram(e))}setProgram(e){this.throwIfDisposed(),this.program=e,this.program!=null&&this.debug&&validateProgram(this.gl,this.program),xn(this.gl,()=>this.gl.useProgram(e))}getUniformLocation(e,a,o=!0){return this.throwIfDisposed(),o?getProgramUniformLocationOrThrow(this.gl,e,a):EM(this.gl,e,a)}getAttributeLocation(e,a){return this.throwIfDisposed(),xn(this.gl,()=>this.gl.getAttribLocation(e,a))}getUniformLocationNoThrow(e,a){return this.throwIfDisposed(),this.gl.getUniformLocation(e,a)}setInputMatrixTexture(e,a,o){this.throwIfDisposed(),this.throwIfNoProgram(),AM(this.gl,e,a,o)}setOutputMatrixTexture(e,a,o){this.setOutputMatrixTextureDriver(e,o,a)}setOutputPackedMatrixTexture(e,a,o){this.throwIfDisposed();const[l,p]=ef(a,o);this.setOutputMatrixTextureDriver(e,l,p)}setOutputMatrixWriteRegion(e,a,o,l){this.setOutputMatrixWriteRegionDriver(o,e,l,a)}setOutputPackedMatrixWriteRegion(e,a,o,l){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&validateProgram(this.gl,this.program),validateFramebuffer(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;this.debug&&this.debugValidate(),xn(e,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),xn(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=getExtensionOrThrow(this.gl,vt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(vt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const o=this.gl,l=this.getQueryTimerExtensionWebGL2(),p=o.createQuery();return o.beginQuery(l.TIME_ELAPSED_EXT,p),p}const e=this.getQueryTimerExtensionWebGL1(),a=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,a),a}endQuery(){if(vt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const a=this.gl,o=this.getQueryTimerExtensionWebGL2();a.endQuery(o.TIME_ELAPSED_EXT);return}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await qb(()=>this.disposed||this.isQueryAvailable(e,vt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,vt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,a){if(a===0)return null;if(a===2){const o=this.gl;return o.getQueryParameter(e,o.QUERY_RESULT)/1e6}else{const o=this.getQueryTimerExtensionWebGL1();return o.getQueryObjectEXT(e,o.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,a){if(a===0)return!0;if(a===2){const o=this.gl,l=this.getQueryTimerExtensionWebGL2(),p=o.getQueryParameter(e,o.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(l.GPU_DISJOINT_EXT)),p&&!this.disjoint}else{const o=this.getQueryTimerExtensionWebGL1(),l=o.getQueryObjectEXT(e,o.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(o.GPU_DISJOINT_EXT)),l&&!this.disjoint}}pollFence(e){return new Promise(a=>{this.addItemToPoll(()=>e.isFencePassed(),()=>a())})}pollItems(){const e=EP(this.itemsToPoll.map(a=>a.isDoneFn));for(let a=0;a<=e;++a){const{resolveFn:o}=this.itemsToPoll[a];o()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,a){this.itemsToPoll.push({isDoneFn:e,resolveFn:a}),!(this.itemsToPoll.length>1)&&qb(()=>(this.pollItems(),this.itemsToPoll.length===0))}bindTextureToFrameBuffer(e){this.throwIfDisposed(),rm(this.gl,e,this.framebuffer),this.debug&&validateFramebuffer(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(rm(this.gl,this.outputTexture,this.framebuffer),this.debug&&validateFramebuffer(this.gl)):unbindColorTextureFromFramebuffer(this.gl,this.framebuffer)}downloadMatrixDriver(e,a){this.bindTextureToFrameBuffer(e);const o=a();return this.unbindTextureToFrameBuffer(),o}setOutputMatrixTextureDriver(e,a,o){this.throwIfDisposed();const l=this.gl;rm(l,e,this.framebuffer),this.debug&&validateFramebuffer(l),this.outputTexture=e,xn(l,()=>l.viewport(0,0,a,o)),xn(l,()=>l.scissor(0,0,a,o))}setOutputMatrixWriteRegionDriver(e,a,o,l){this.throwIfDisposed(),xn(this.gl,()=>this.gl.scissor(e,a,o,l))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}}function EP(n){let e=0;for(;e<n.length&&n[e]();++e);return e-1}function ps(n){return(e,a,o,l,p)=>{const f=Yr(e,a),d=f.length,u=Vo(f),h=kn(f),y=qu(p,h),b=e.length,x=a.length,A=Vo(e),j=Vo(a),T=Md(e,f),I=Md(a,f);if(T.length+I.length===0)for(let S=0;S<y.length;++S)y[S]=n(o[S%o.length],l[S%l.length]);else for(let S=0;S<y.length;++S){const G=R0(S,d,u),D=G.slice(-b);T.forEach(V=>D[V]=0);const X=Fm(D,b,A),L=G.slice(-x);I.forEach(V=>L[V]=0);const F=Fm(L,x,j);y[S]=n(o[X],l[F])}return[y,f]}}const AP=ps((n,e)=>n+e);function SP(n,e,a,o,l){const p=kn(o),f=zl(l,a);for(let d=0;d<n.length;d++){const u=n[d];if(u<0)throw new Error("Input x must be non-negative!");u>=l||(p>0?f[u]+=e[d]:f[u]+=1)}return f}function sl(n){return(e,a,o)=>{const l=qu(a,e.length);for(let p=0;p<e.length;++p)l[p]=n(e[p],o);return l}}const TP=sl(n=>Math.ceil(n));function jP(n,e,a,o){const l=D0(a,kn(e));if(o&&a!=="string"){let p=0;n.forEach(f=>{const d=kn(f.shape);l.set(f.vals,p),p+=d})}else{let p=0;n.forEach(f=>{const d=a==="string"?fromUint8ToStringArray(f.vals):f.vals;let u=0;for(let h=0;h<f.shape[0];++h){const y=h*e[1]+p;for(let b=0;b<f.shape[1];++b)l[y+b]=d[u++]}p+=f.shape[1]})}return l}const IP=ps((n,e)=>n===e?1:0),NP=sl(n=>Math.exp(n)),DP=sl(n=>Math.expm1(n)),CP=sl(n=>Math.floor(n));function OP(n,e,a){const o=Si(a,n.dtype);for(let l=0;l<o.size;++l){const f=o.indexToLoc(l).slice(),d=f[0],u=f[2],h=e.locToIndex([d,u]);f[2]=e.values[h];const y=n.locToIndex(f);0<=y&&y<n.values.length&&(o.values[l]=n.values[y])}return o}const BP=ps((n,e)=>n>e?1:0),RP=ps((n,e)=>n>=e?1:0),FP=ps((n,e)=>n<e?1:0),MP=ps((n,e)=>n<=e?1:0),PP=sl(n=>Math.log(n));function LP(n,e,a,o){const l=qu(o,kn(a));for(let p=0;p<l.length;++p){const f=p*e;let d=n[f];for(let u=0;u<e;++u){const h=n[f+u];(Number.isNaN(h)||h>d)&&(d=h)}l[p]=d}return l}const UP=ps((n,e)=>Math.max(n,e)),zP=ps((n,e)=>Math.min(n,e)),bx=ps((n,e)=>n*e);function $P(n,e,a){const o=av(-1,a);return bx([],e,o,n,a)}const GP=ps((n,e)=>n!==e?1:0);function VP(n,e,a,o,l){const p=e.length,f=kn(e),d=Vo(e),u=Vo(l),h=qu(a,kn(l));for(let y=0;y<f;++y){const b=R0(y,p,d),x=new Array(b.length);for(let j=0;j<x.length;j++)x[j]=b[o[j]];const A=Fm(x,p,u);h[A]=n[y]}return h}function HP(n,e,a,o){const[l,p]=Wc(n,o),f=Ai(e,"int32"),d=zl(kn(l),f),u=kn(p);for(let h=0;h<d.length;++h){const y=h*u;let b=1;for(let x=0;x<u;++x)b*=a[y+x];d[h]=b}return{outVals:d,outShape:l,outDtype:f}}function WP(n,e,a,o){const l=n===e,p=n<e&&a<0,f=e<n&&a>1;if(l||p||f)return zl(0,o);const d=Math.abs(Math.ceil((e-n)/a)),u=zl(d,o);e<n&&a===1&&(a=-1),u[0]=n;for(let h=1;h<u.length;h++)u[h]=u[h-1]+a;return u}const KP=sl(n=>1/Math.sqrt(n));function XP(n,e,a,o,l,p,f,d,u,h){const y=[o/l,l],b=n.values,x=e.values;if(o===0)return Si(a,e.dtype);const A=Si(y,e.dtype);typeof u=="string"||typeof u=="number"?A.values.fill(u):typeof u=="boolean"&&A.values.fill(+u);for(let j=0;j<p;j++){const T=[];let I=0;for(let S=0;S<f;S++){const G=b[j*f+S];T.push(G),I+=G*d[S]}if(I<0||I>=o/l)throw new Error(`Invalid indices: ${T} does not index into ${a}`);for(let S=0;S<l;S++)h?A.values[I*l+S]+=x[j*l+S]:A.values[I*l+S]=e.rank===0?x[0]:x[j*l+S]}return A}const YP=sl(n=>1/(1+Math.exp(-n)));function qP(n,e,a,o,l){const p=N1(o,e,a),f=kn(a),d=Vo(o);if(p){const b=Av(e,d);return l==="string"?n.slice(b,b+f):n.subarray(b,b+f)}const u=l==="string"?fromUint8ToStringArray(n):n,h=Si(o,l,u),y=Si(a,l);for(let b=0;b<y.size;++b){const x=y.indexToLoc(b),A=x.map((j,T)=>j+e[T]);y.set(h.get(...A),...x)}return l==="string"?fromStringArrayToUint8(y.values):y.values}const ZP=sl(n=>Math.sqrt(n)),JP=ps((n,e)=>{const a=n-e;return a*a}),QP=ps((n,e)=>n-e);var eL=Object.freeze({__proto__:null,simpleAbsImpl:()=>{},addImpl:AP,bincountImpl:SP,bincountReduceImpl:()=>{},ceilImpl:TP,concatImpl:jP,equalImpl:IP,expImpl:NP,expm1Impl:DP,floorImpl:CP,gatherNdImpl:()=>{},gatherV2Impl:OP,greaterImpl:BP,greaterEqualImpl:RP,lessImpl:FP,lessEqualImpl:MP,linSpaceImpl:()=>{},logImpl:PP,maxImpl:LP,maximumImpl:UP,minimumImpl:zP,multiplyImpl:bx,negImpl:$P,notEqualImpl:GP,prodImpl:HP,rangeImpl:WP,rsqrtImpl:KP,scatterImpl:XP,sigmoidImpl:YP,sliceImpl:qP,sparseFillEmptyRowsImpl:()=>{},sparseReshapeImpl:()=>{},sparseSegmentReductionImpl:()=>{},sqrtImpl:ZP,squaredDifferenceImpl:JP,stridedSliceImpl:()=>{},stringNGramsImpl:()=>{},stringSplitImpl:()=>{},stringToHashBucketFastImpl:()=>{},subImpl:QP,tileImpl:()=>{},topKImpl:()=>{},transposeImpl:VP,uniqueImpl:()=>{}});const{addImpl:tL,bincountImpl:k$,bincountReduceImpl:E$,ceilImpl:A$,concatImpl:nL,equalImpl:S$,expImpl:T$,expm1Impl:j$,floorImpl:I$,gatherNdImpl:N$,gatherV2Impl:aL,greaterImpl:D$,greaterEqualImpl:C$,lessImpl:O$,lessEqualImpl:B$,linSpaceImpl:R$,logImpl:F$,maxImpl:M$,maximumImpl:P$,minimumImpl:L$,multiplyImpl:rL,negImpl:U$,notEqualImpl:oL,prodImpl:sL,rangeImpl:z$,rsqrtImpl:$$,scatterImpl:G$,sigmoidImpl:iL,simpleAbsImpl:lL,sliceImpl:uL,sparseFillEmptyRowsImpl:V$,sparseReshapeImpl:H$,sparseSegmentReductionImpl:W$,sqrtImpl:K$,stridedSliceImpl:X$,stringNGramsImpl:Y$,stringSplitImpl:q$,stringToHashBucketFastImpl:Z$,subImpl:J$,tileImpl:Q$,topKImpl:e6,transposeImpl:cL,uniqueImpl:t6}=eL;function wx(n,e){return["x","y","z","w","u","v"].slice(0,e).map(a=>`${n}.${a}`)}function al(n,e){return e===1?[n]:wx(n,e)}function pL(n,e){if(n===1)return"rc";let a="";for(let o=0;o<n;o++)a+=e[o],o<n-1&&(a+=",");return a}class dL{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=cs(this.outputShape.length),this.rank===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{const a=al("rc",this.rank),o=Oo(this.rank),l=this.getOutOfBoundsCondition(a),p=this.getSetup(a),f=this.getOutput(a);this.userCode=`
        void main() {
          ${o} rc = getOutputCoords();

          if(${l}) {
            setOutput(vec4(0));
          } else {
            ${p}

            setOutput(vec4(${f}));
          }
        }
      `}}getSourceCoordsArr(e){const a=[];for(let o=0;o<=1;o++)for(let l=0;l<=1;l++){let p=`${o===0?"r":"rp1"}, ${l===0?"c":"cp1"}`;for(let f=2;f<this.rank;f++)p=`${e[e.length-1-f]},`+p;a.push(p)}return a}getOutOfBoundsCondition(e){if(this.rank===1)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let a="";for(let o=this.rank-2;o<this.rank;o++)a+=`${e[o]} >= ${this.enableShapeUniforms?`outShape[${o}]`:this.outputShape[o]}`,o<this.rank-1&&(a+="||");return a}getSetup(e){if(this.rank===1)return"";const a=e.slice(-2),o=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],l=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${a[0]};
      int c = ${a[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${o};
      bool rEdge = rp1 >= ${l};
    `}getOutput(e){const a=this.getSourceCoordsArr(e);return this.rank===1?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${a[0]}),
            cEdge ? 0. : getA(${a[1]}),
            rEdge ? 0. : getA(${a[2]}),
            rEdge || cEdge ? 0. : getA(${a[3]})`}}class vx{constructor(e,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=cs(this.outputShape.length);let o="";for(let l=0;l<4;l++){let p="thisRC = rc;";l%2===1&&(p+="thisRC.z += 1;"),l>1&&(p+="thisRC.y += 1;"),o+=`
        ${p}
        ${l>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${l}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${l>0?"}":""}
      `}this.userCode=`
      ${fL(a,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?R1():B1(e)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};

        ${o}

        setOutput(result);
      }
    `}}function fL(n,e){return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${e?BM(["r","c","d"],"inputShape"):O1(["r","c","d"],n)}
      return ivec3(r, c, d);
    }
  `}class hL{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}acquireTexture(e,a,o){const l=Aw(a,o),p=Sw(e,l,o);p in this.freeTextures||(this.freeTextures[p]=[]),p in this.usedTextures||(this.usedTextures[p]=[]);const f=Ew(e,l,this.gpgpu.gl,this.gpgpu.textureConfig,o);if(this.freeTextures[p].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=f,this.log();const u=this.freeTextures[p].shift();return this.usedTextures[p].push(u),u}let d;return l===Lr.PACKED_2X2_FLOAT32?d=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):l===Lr.PACKED_2X2_FLOAT16?d=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):l===Lr.UNPACKED_FLOAT32?d=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):l===Lr.UNPACKED_FLOAT16?d=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):l===Lr.PACKED_4X1_UNSIGNED_BYTE&&(d=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[p].push(d),this.numUsedTextures++,this._numBytesAllocated+=f,this.log(),d}releaseTexture(e,a,o,l){if(this.freeTextures==null)return;const p=Aw(o,l),f=Sw(a,p,l);f in this.freeTextures||(this.freeTextures[f]=[]);const d=Ew(a,p,this.gpgpu.gl,this.gpgpu.textureConfig,l),u=vt().get("WEBGL_DELETE_TEXTURE_THRESHOLD");u!==-1&&this._numBytesAllocated>u?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=d):(this.freeTextures[f].push(e),this.numFreeTextures++,this._numBytesFree+=d),this.numUsedTextures--;const h=this.usedTextures[f],y=h.indexOf(e);if(y<0)throw new Error("Cannot release a texture that was never provided by this texture manager");h.splice(y,1),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const a=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*a)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(const e in this.freeTextures)this.freeTextures[e].forEach(a=>{this.gpgpu.deleteMatrixTexture(a.texture)});for(const e in this.usedTextures)this.usedTextures[e].forEach(a=>{this.gpgpu.deleteMatrixTexture(a.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function mL(n,e){const a=n;if(e===a.R32F)return 4;if(e===a.R16F)return 2;if(e===a.RGBA32F)return 16;if(e===n.RGBA)return 16;if(e===a.RGBA16F)return 8;if(e===a.RGBA8)return 4;throw new Error(`Unknown internal format ${e}`)}function Ew(n,e,a,o,l){const p=gL(e,o);let f;if(l){const[u,h]=ef(n[0],n[1]);f=u*h}else{const[u,h]=lx(n[0],n[1]);f=u*h}const d=mL(a,p);return f*d}function gL(n,e){switch(n){case Lr.PACKED_2X2_FLOAT32:return yx(e);case Lr.PACKED_2X2_FLOAT16:return getInternalFormatForFloat16PackedMatrixTexture(e);case Lr.UNPACKED_FLOAT32:return gx(e);case Lr.UNPACKED_FLOAT16:return getInternalFormatForFloat16MatrixTexture(e);case Lr.PACKED_4X1_UNSIGNED_BYTE:return getInternalFormatForUnsignedBytesMatrixTexture(e);default:throw new Error(`Unknown physical texture type ${n}`)}}function yL(n){return vt().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?n?Lr.PACKED_2X2_FLOAT32:Lr.UNPACKED_FLOAT32:n?Lr.PACKED_2X2_FLOAT16:Lr.UNPACKED_FLOAT16}function Aw(n,e){if(n===ss.UPLOAD)return Lr.PACKED_2X2_FLOAT32;if(n===ss.RENDER||n==null)return yL(e);if(n===ss.DOWNLOAD||n===ss.PIXELS)return Lr.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${n}`)}function Sw(n,e,a){return`${n[0]}_${n[1]}_${e}_${a}`}class Dc{constructor(e,a){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=cs(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${a}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}}const z1="if (isnan(x)) return x;",bL="return x;",Tw="return abs(x);",wL="return (x >= 0.0) ? x : (exp(x) - 1.0);",vL=z1+`
  return (x < 0.0) ? 0.0 : x;
`,xL=z1+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,ku="return x;",_L="return 1.0 / (1.0 + exp(-1.0 * x));",kL="return x;",EL=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,AL=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,SL=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,TL="return 1.0 / (1.0 + exp(-1.0 * x));";class Cc{constructor(e,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=cs(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${a}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}}class jL{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=cs(this.outputShape.length);const a=e.length,o=al("rc",a),l=Oo(a),p=pL(a,o),f=o.slice(-2),d=a<=1?"rc":`vec2(${f.join(",")})`;this.userCode=`
      void main() {
        ${l} rc = getOutputCoords();
        vec4 packedInput = getA(${p});

        setOutput(getChannel(packedInput, ${d}));
      }
    `}}const IL=1e-7,NL=1e-4,vd={};function DL(n){return n in vd||(vd[n]={}),vd[n]}const CL=vt().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),OL=600;function BL(){return vt().global.screen==null?1024:vt().global.screen.height*vt().global.screen.width*window.devicePixelRatio*OL/1024/1024}class tf extends T0{constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!vt().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let a;if(e!=null){if(e instanceof lm)a=e;else{const o=ji(vt().getNumber("WEBGL_VERSION"),e);a=new lm(o)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const o=ji(vt().getNumber("WEBGL_VERSION"));a=new lm(o),this.binaryCache=DL(vt().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=a,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new hL(this.gpgpu),this.numMBBeforeWarning=BL(),this.texData=new pO(this,_u())}nextDataId(){return tf.nextDataId++}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}write(e,a,o){if((vt().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||vt().getBool("DEBUG"))&&this.checkNumericalProblems(e),o==="complex64"&&e!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const l={id:this.nextDataId()};return this.texData.set(l,{shape:a,dtype:o,values:e,usage:ss.UPLOAD,refCount:1}),l}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){const a=this.texData.get(e);a.refCount++}decRef(e){if(this.texData.has(e)){const a=this.texData.get(e);a.refCount--}}move(e,a,o,l,p){if(vt().getBool("DEBUG")&&this.checkNumericalProblems(a),l==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:o,dtype:l,values:a,usage:ss.UPLOAD,refCount:p})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const a=this.texData.get(e),{values:o,dtype:l,complexTensorInfos:p,slice:f,shape:d,isPacked:u}=a;if(f!=null){let x;u?x=new Cc(d,ku):x=new Dc(d,ku);const A=this.runWebGLProgram(x,[{dataId:e,shape:d,dtype:l}],l),j=this.readSync(A.dataId);return this.disposeIntermediateTensorInfo(A),j}if(o!=null)return this.convertAndCacheOnCPU(e);if(l==="string")return o;const h=this.activeTimers!=null;let y;h&&(y=Is());let b;if(l==="complex64"){const x=this.readSync(p.real.dataId),A=this.readSync(p.imag.dataId);b=mergeRealAndImagArrays(x,A)}else b=this.getValuesFromTexture(e);return h&&(this.downloadWaitMs+=Is()-y),this.convertAndCacheOnCPU(e,b)}async read(e){if(this.pendingRead.has(e)){const j=this.pendingRead.get(e);return new Promise(T=>j.push(T))}const a=this.texData.get(e),{values:o,shape:l,slice:p,dtype:f,complexTensorInfos:d,isPacked:u}=a;if(p!=null){let j;u?j=new Cc(l,ku):j=new Dc(l,ku);const T=this.runWebGLProgram(j,[{dataId:e,shape:l,dtype:f}],f),I=this.read(T.dataId);return this.disposeIntermediateTensorInfo(T),I}if(o!=null)return this.convertAndCacheOnCPU(e);if(vt().getBool("DEBUG")&&!vt().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&vt().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let h=null,y;if(f!=="complex64"&&vt().get("WEBGL_BUFFER_SUPPORTED")){y=this.decode(e);const j=this.texData.get(y.dataId);h=this.gpgpu.createBufferFromTexture(j.texture.texture,...bd(l))}this.pendingRead.set(e,[]),f!=="complex64"&&await this.gpgpu.createAndWaitForFence();let b;if(f==="complex64"){const j=await Promise.all([this.read(d.real.dataId),this.read(d.imag.dataId)]),T=j[0],I=j[1];b=mergeRealAndImagArrays(T,I)}else if(h==null)b=this.getValuesFromTexture(e);else{const j=kn(l);b=this.gpgpu.downloadFloat32MatrixFromBuffer(h,j)}if(y!=null&&this.disposeIntermediateTensorInfo(y),h!=null){const j=this.gpgpu.gl;xn(j,()=>j.deleteBuffer(h))}const x=this.convertAndCacheOnCPU(e,b),A=this.pendingRead.get(e);return this.pendingRead.delete(e),A.forEach(j=>j(x)),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&_u().removeDataId(e,this),this.pendingDeletes--),x}readToGPU(e,a={}){const o=this.texData.get(e),{values:l,shape:p,slice:f,dtype:d,isPacked:u,texture:h}=o;if(d==="complex64")throw new Error("Does not support reading texture for complex64 dtype.");if(f!=null){let A;u?A=new Cc(p,ku):A=new Dc(p,ku);const j=this.runWebGLProgram(A,[{dataId:e,shape:p,dtype:d}],d),T=this.readToGPU(j,a);return this.disposeIntermediateTensorInfo(j),T}if(h==null)throw l!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const y=this.decode(e,a.customTexShape),b=_u().makeTensorFromTensorInfo(y),x=this.texData.get(y.dataId);return Object.assign({tensorRef:b},x.texture)}bufferSync(e){const a=this.readSync(e.dataId);if(e.dtype==="string")try{const o=a.map(l=>decodeString(l));return Si(e.shape,e.dtype,o)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return Si(e.shape,e.dtype,a)}checkNumericalProblems(e){if(e!=null)for(let a=0;a<e.length;a++){const o=e[a];if(!canBeRepresented(o))throw vt().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${o} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${o} cannot be represented on this device.`)}}getValuesFromTexture(e){const{shape:a,dtype:o,isPacked:l}=this.texData.get(e),p=kn(a);if(vt().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const x=this.decode(e),A=this.texData.get(x.dataId),j=this.gpgpu.downloadMatrixFromPackedTexture(A.texture.texture,...bd(a)).subarray(0,p);return this.disposeIntermediateTensorInfo(x),j}const f=vt().getBool("WEBGL_PACK")&&l===!0,d=f?om(a):a,u=f?new dP(d):new pP(d),h=this.runWebGLProgram(u,[{shape:d,dtype:o,dataId:e}],"float32"),y=this.texData.get(h.dataId),b=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(y.texture.texture,y.texShape[0],y.texShape[1]).subarray(0,p);return this.disposeIntermediateTensorInfo(h),b}timerAvailable(){return vt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const a=this.activeTimers,o=[];let l=!1;this.programTimersStack==null?(this.programTimersStack=o,l=!0):this.activeTimers.push(o),this.activeTimers=o,e();const p=Mu(this.activeTimers.map(u=>u.query)).filter(u=>u!=null),f=Mu(this.activeTimers.map(u=>u.name)).filter(u=>u!=null);this.activeTimers=a,l&&(this.programTimersStack=null);const d={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(vt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const u=await Promise.all(p);d.kernelMs=fO(u),d.getExtraProfileInfo=()=>u.map((h,y)=>({name:f[y],ms:h})).map(h=>`${h.name}: ${h.ms}`).join(", ")}else d.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,d})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return vt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Is(),endMs:null}}endTimer(e){return vt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=Is(),e)}async getQueryTime(e){if(vt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const a=e;return a.endMs-a.startMs}disposeData(e,a=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(a?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!a&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:o}=this.texData.get(e);return o!=null&&(this.disposeData(o.real.dataId,a),this.disposeData(o.imag.dataId,a)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:a,dtype:o,texShape:l,usage:p,isPacked:f,slice:d}=this.texData.get(e),u=d&&d.origDataId||e,h=this.dataRefCount.get(u);h>1?this.dataRefCount.set(u,h-1):(this.dataRefCount.delete(u),a!=null&&(this.numBytesInGPU-=this.computeBytes(l,o),this.textureManager.releaseTexture(a,l,p,f)));const y=this.texData.get(e);y.texture=null,y.texShape=null,y.isPacked=!1,y.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,a=CL){return vt().getBool("WEBGL_CPU_FORWARD")&&e.every(o=>this.texData.get(o.dataId).texture==null&&kn(o.shape)<a)}getGPGPUContext(){return this.gpgpu}where(e){Qi("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const a=e.dataSync();return whereImpl(e.shape,a)}packedUnaryOp(e,a,o){const l=new Cc(e.shape,a),p=this.compileAndRun(l,[e],o);return _u().makeTensorFromTensorInfo(p)}abs(e){if(this.shouldExecuteOnCPU([e])&&e.dtype!=="complex64"){const l=lL(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,l)}if(vt().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Tw,e.dtype);const a=new Dc(e.shape,Tw),o=this.compileAndRun(a,[e]);return _u().makeTensorFromTensorInfo(o)}makeTensorInfo(e,a,o){let l;if(a==="string"&&o!=null&&o.length>0&&isString(o[0])){const p=o.map(f=>encodeString(f));l=this.write(p,e,a)}else l=this.write(o,e,a);return this.texData.get(l).usage=null,{dataId:l,shape:e,dtype:a}}makeOutput(e,a,o){return _u().makeTensorFromTensorInfo(this.makeTensorInfo(e,a,o),this)}unpackTensor(e){const a=new jL(e.shape);return this.runWebGLProgram(a,[e],e.dtype)}packTensor(e){const a=new dL(e.shape);return this.runWebGLProgram(a,[e],e.dtype,null,!0)}packedReshape(e,a){const o=[Hu(e.shape),...Wu(e.shape)],l={dtype:e.dtype,shape:o,dataId:e.dataId},p=[Hu(a),...Wu(a)],f=new vx(p,o),d=!0,u=[o],h=this.runWebGLProgram(f,[l],e.dtype,u,d);return{dataId:h.dataId,shape:a,dtype:h.dtype}}decode(e,a){const o=this.texData.get(e),{isPacked:l,shape:p,dtype:f}=o;if(a!=null){const x=kn(p),A=a[0]*a[1]*4;on(x<=A,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}const d=om(p);let u;l?u=new cP(d):u=new uP(d);const h=!0,y=[a??bd(d)],b=this.runWebGLProgram(u,[{shape:d,dtype:f,dataId:e}],f,y,h,a);return{dtype:f,shape:p,dataId:b.dataId}}runWebGLProgram(e,a,o,l,p=!1,f){const d=this.makeTensorInfo(e.outputShape,o),u=this.texData.get(d.dataId);if(e.packedOutput&&(u.isPacked=!0),e.outPackingScheme===Pc.DENSE){const S=f??bd(e.outputShape);u.texShape=S.map(G=>G*2)}if(e.outTexUsage!=null&&(u.usage=e.outTexUsage),kn(d.shape)===0)return u.values=qu(d.dtype,0),d;const h=[],y=a.map(S=>{if(S.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let G=this.texData.get(S.dataId);if(G.texture==null){if(!e.packedInputs&&kn(S.shape)<=vt().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:S.shape,texData:null,isUniform:!0,uniformValues:G.values};e.packedInputs&&(G.isPacked=!0,G.shape=S.shape)}if(this.uploadToGPU(S.dataId),!!G.isPacked!=!!e.packedInputs)S=G.isPacked?this.unpackTensor(S):this.packTensor(S),h.push(S),G=this.texData.get(S.dataId);else if(G.isPacked&&!e1(G.shape,S.shape)){const D=S,X=S.shape;S.shape=G.shape,S=this.packedReshape(S,X),h.push(S),G=this.texData.get(S.dataId),D.shape=X}return{shape:S.shape,texData:G,isUniform:!1}});this.uploadToGPU(d.dataId);const b={shape:d.shape,texData:u,isUniform:!1},x=lP(e,y,b),A=this.getAndSaveBinary(x,()=>sP(this.gpgpu,e,y,b)),j=this.activeTimers!=null;let T;j&&(T=this.startTimer()),vt().get("ENGINE_COMPILE_ONLY")||iP(this.gpgpu,A,y,b,l),h.forEach(S=>this.disposeIntermediateTensorInfo(S)),j&&(T=this.endTimer(T),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(T)}));const I=vt().get("WEBGL_FLUSH_THRESHOLD");if(I>0){const S=Is();S-this.lastGlFlushTime>I&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=S)}if(!vt().getBool("WEBGL_LAZILY_UNPACK")&&u.isPacked&&p===!1){const S=this.unpackTensor(d);return this.disposeIntermediateTensorInfo(d),S}return d}compileAndRun(e,a,o,l,p=!1){return o=o||a[0].dtype,this.runWebGLProgram(e,a,o,l,p)}getAndSaveBinary(e,a){return e in this.binaryCache||(this.binaryCache[e]=a()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(vt().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(a=>{this.gpgpu.deleteProgram(this.binaryCache[a].webGLProgram),delete this.binaryCache[a]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=Ua(()=>{if(!vt().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=vt().getBool("DEBUG");vt().set("DEBUG",!1);const a=this.abs(Xr(1e-8)).dataSync()[0];if(vt().set("DEBUG",e),a>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?IL:NL}uploadToGPU(e){const a=this.texData.get(e),{shape:o,dtype:l,values:p,texture:f,usage:d,isPacked:u}=a;if(f!=null)return;const h=this.activeTimers!=null;let y;h&&(y=Is());let b=a.texShape;if(b==null&&(b=TM(o,u),a.texShape=b),p!=null){const x=om(o);let A,j=b[1],T=b[0];const I=p instanceof Uint8Array||p instanceof Uint8ClampedArray;(u||!I)&&([j,T]=ef(b[0],b[1])),u?A=new hP(x,I):A=new fP(x,I);const S=I?[T,j]:b,G=this.makeTensorInfo(S,l),D=this.texData.get(G.dataId);I?D.usage=ss.PIXELS:D.usage=ss.UPLOAD,D.texShape=S,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(G.dataId),j,T,p);const X=[[T,j]],F=this.runWebGLProgram(A,[G],l,X,!0),V=this.texData.get(F.dataId);a.texShape=V.texShape,a.isPacked=V.isPacked,a.usage=V.usage,vt().get("ENGINE_COMPILE_ONLY")?this.disposeData(F.dataId):(a.texture=V.texture,a.values=null,this.texData.delete(F.dataId)),this.disposeIntermediateTensorInfo(G),h&&(this.uploadWaitMs+=Is()-y)}else{const x=this.acquireTexture(b,d,l,u);a.texture=x}}convertAndCacheOnCPU(e,a){const o=this.texData.get(e),{dtype:l}=o;return this.releaseGPUData(e),a!=null&&(o.values=RL(a,l)),o.values}acquireTexture(e,a,o,l){if(this.numBytesInGPU+=this.computeBytes(e,o),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){const p=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${p} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,a,l)}computeBytes(e,a){return e[0]*e[1]*Bm(a)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,a]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(a));return Promise.all(e)}else{for(const[,a]of Object.entries(this.binaryCache)){const o=new Promise(l=>{try{this.checkCompletion_(a),l(!0)}catch(p){throw p}});e.push(o)}return Promise.all(e)}}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await nextFrame(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)===!1)throw console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)===!1?(logShaderSourceAndInfoLog(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const[,e]of Object.entries(this.binaryCache)){const{uniformLocations:a,customUniformLocations:o,infLoc:l,nanLoc:p,inShapesLocations:f,inTexShapesLocations:d,outShapeLocation:u,outShapeStridesLocation:h,outTexShapeLocation:y}=hx(this.gpgpu,e.program,e.webGLProgram);e.uniformLocations=a,e.customUniformLocations=o,e.infLoc=l,e.nanLoc=p,e.inShapesLocations=f,e.inTexShapesLocations=d,e.outShapeLocation=u,e.outShapeStridesLocation=h,e.outTexShapeLocation=y}}}tf.nextDataId=0;function RL(n,e){if(e==="float32"||e==="complex64")return n;if(e==="int32"||e==="bool"){const a=e==="int32"?new Int32Array(n.length):new Uint8Array(n.length);for(let o=0;o<a.length;++o)a[o]=Math.round(n[o]);return a}else throw new Error(`Unknown dtype ${e}`)}uv()&&XB("webgl",()=>new tf,2);class t1{constructor(e,a,o){this.variableNames=["A","B"],this.outputShape=Yr(a,o),this.enableShapeUniforms=cs(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${e}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}}const FL=`
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;
`;class xx{constructor(e,a,o,l=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Yr(a,o);const p=this.outputShape.length;this.enableShapeUniforms=cs(p);let f="";if(l)if(p===0||kn(this.outputShape)===1)f=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(f=`
          ${Oo(p)} coords = getOutputCoords();
        `,p===1)this.enableShapeUniforms?f+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:f+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{const u=al("coords",p);this.enableShapeUniforms?f+=`
            bool nextRowOutOfBounds =
              (${u[p-2]} + 1) >= outShape[${p} - 2];
            bool nextColOutOfBounds =
              (${u[p-1]} + 1) >= outShape[${p} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:f+=`
            bool nextRowOutOfBounds =
              (${u[p-2]} + 1) >= ${this.outputShape[p-2]};
            bool nextColOutOfBounds =
              (${u[p-1]} + 1) >= ${this.outputShape[p-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${e}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${f}

        setOutput(result);
      }
    `}}function $l(n){const{inputs:e,backend:a}=n,{x:o}=e;return a.incRef(o.dataId),{dataId:o.dataId,shape:o.shape,dtype:o.dtype}}const ML={kernelName:S1,backendName:"webgl",kernelFunc:$l};function nf(n){const{inputs:e,backend:a}=n,{real:o,imag:l}=e,p=a.makeTensorInfo(o.shape,"complex64"),f=a.texData.get(p.dataId),d=$l({inputs:{x:o},backend:a}),u=$l({inputs:{x:l},backend:a});return f.complexTensorInfos={real:d,imag:u},p}const PL="return (a < 0.) ? b * a : a;",LL=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`,UL="return (a < 0.) ? b * a : a;",zL=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`,$L="if (isnan(x)) return x;";function $1({opSnippet:n,packedOpSnippet:e,cpuKernelImpl:a,dtype:o}){return({inputs:l,backend:p})=>{const{x:f}=l,d=p,u=o||f.dtype;if(d.shouldExecuteOnCPU([f])&&a!=null){const b=d.texData.get(f.dataId),x=a(b.values,u);return d.makeTensorInfo(f.shape,u,x)}const h=vt().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&e!=null;let y;return h?y=new Cc(f.shape,e):y=new Dc(f.shape,n),d.runWebGLProgram(y,[f],u)}}function G1({opSnippet:n,packedOpSnippet:e,checkOutOfBounds:a=!1,supportsComplex:o=!1,cpuKernelImpl:l,dtype:p}){return({inputs:f,backend:d})=>{const{a:u,b:h}=f,y=d;if(o&&u.dtype==="complex64"){const j=y.texData.get(u.dataId),T=y.texData.get(h.dataId),[I,S]=[[j.complexTensorInfos.real,T.complexTensorInfos.real],[j.complexTensorInfos.imag,T.complexTensorInfos.imag]].map(D=>{const[X,L]=D,F={dataId:X.dataId,dtype:X.dtype,shape:u.shape},V={dataId:L.dataId,dtype:L.dtype,shape:h.shape},P=new t1(n,u.shape,h.shape);return y.runWebGLProgram(P,[F,V],Ai(X.dtype,L.dtype))}),G=nf({inputs:{real:I,imag:S},backend:y});return y.disposeIntermediateTensorInfo(I),y.disposeIntermediateTensorInfo(S),G}const b=p||Ai(u.dtype,h.dtype);if((u.dtype==="string"||h.dtype==="string"||y.shouldExecuteOnCPU([u,h]))&&l!=null){const j=y.texData.get(u.dataId).values,T=y.texData.get(h.dataId).values,I=u.dtype==="string"?fromUint8ToStringArray(j):j,S=u.dtype==="string"?fromUint8ToStringArray(T):T,[G,D]=l(u.shape,h.shape,I,S,b),X=y.makeTensorInfo(D,b),L=y.texData.get(X.dataId);return L.values=G,X}const x=vt().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&e!=null;let A;return x?A=new xx(e,u.shape,h.shape,a):A=new t1(n,u.shape,h.shape),y.runWebGLProgram(A,[u,h],b)}}function GL(n,e=!1){if(n==="linear")return e?kL:bL;if(n==="relu")return e?AL:vL;if(n==="elu")return e?EL:wL;if(n==="relu6")return e?SL:xL;if(n==="prelu")return e?zL:UL;if(n==="leakyrelu")return e?LL:PL;if(n==="sigmoid")return e?TL:_L;throw new Error(`Activation ${n} has not been implemented for the WebGL backend.`)}const jw="return a + b;",VL=G1({opSnippet:jw,packedOpSnippet:jw,supportsComplex:!0,cpuKernelImpl:tL}),HL={kernelName:E1,backendName:"webgl",kernelFunc:VL};class Iw{constructor(e,a){this.variableNames=["x"];const{windowSize:o,batchSize:l,inSize:p,outSize:f}=e;this.outputShape=[l,f];const d=Math.floor(o/4)*4,u=o%4;let h="sumValue += dot(values, ones);";if(a!=null){const b=1/a;h=`sumValue += dot(values * ${N0(b)?b.toPrecision(2):b}, ones);`}let y="";p%o>0&&(y=`
        if (inIdx < 0 || inIdx >= ${p}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${y}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${o};

        float sumValue = 0.0;

        for (int i = 0; i < ${d}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${h}
        }

        int inIdx = inOffset + ${d};
        if (${u===1}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${h}
        } else if (${u===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${h}
        } else if (${u===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${h}
        }
        setOutput(sumValue);
      }
    `}}class WL{constructor(e,a){this.variableNames=["x"];const{windowSize:o,batchSize:l,inSize:p,outSize:f}=e;this.outputShape=[l,f];let d="0.0",u="";a==="prod"?d="1.0":a==="min"?(d="1.0 / 1e-20",u="min"):a==="max"&&(d="-1.0 / 1e-20",u="max");let h=`${a}(${a}(${a}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;a==="sum"?h="sumValue":a==="prod"?h="prodValue":a==="all"?h="allValue":a==="any"&&(h="anyValue");const y=Math.floor(o/4)*4,b=o%4;let x=`
      if (${a==="sum"}) {
        sumValue += dot(values, ones);
      } else if (${a==="prod"}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${u}(values, minMaxValue);
        if (${a==="min"} || ${a==="max"}) {
          minMaxValue = ${u}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,A="vec4";a==="all"?(d="1.0",x=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,A="bvec4"):a==="any"&&(d="0.0",x=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,A="bvec4");let j="";p%o>0&&(j=`
        if (inIdx < 0 || inIdx >= ${p}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${d};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${j}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${o};

        vec4 minMaxValue = vec4(${d});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${y}; i += 4) {
          int inIdx = inOffset + i;
          ${A} values = ${A}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${x}
        }

        int inIdx = inOffset + ${y};
        if (${b===1}) {
          ${A} values = ${A}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${x}
        } else if (${b===2}) {
          ${A} values = ${A}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${x}
        } else if (${b===3}) {
          ${A} values = ${A}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${x}
        }
        setOutput(${h});
      }
    `}}function KL(n){const e=[];for(;e.length===0||e[e.length-1].outSize!==1;){const a=e.length?e[e.length-1].outSize:n[1],o=nx(a);e.push({inSize:a,windowSize:o,outSize:Math.ceil(a/o)})}return e}function V1(n,e,a,o){const l=KL(n.shape);let p=n;for(let f=0;f<l.length;f++){const{inSize:d,windowSize:u,outSize:h}=l[f];let y,b;a==="mean"?y=f===0?new Iw({windowSize:u,inSize:d,batchSize:n.shape[0],outSize:h},d):new Iw({windowSize:u,inSize:d,batchSize:n.shape[0],outSize:h}):y=new WL({windowSize:u,inSize:d,batchSize:n.shape[0],outSize:h},a),b=p,p=o.runWebGLProgram(y,[p],e),b.dataId!==n.dataId&&o.disposeIntermediateTensorInfo(b)}return p}function XL(n,e,a){const o=[Hu(n.shape),...Wu(n.shape)],l={dtype:n.dtype,shape:o,dataId:n.dataId},p=[Hu(e),...Wu(e)],f=new vx(p,o),d=!0,u=[o],h=a.runWebGLProgram(f,[l],n.dtype,u,d);return{dataId:h.dataId,shape:e,dtype:h.dtype}}function Er(n){const{inputs:e,backend:a,attrs:o}=n,{x:l}=e,{shape:p}=o,f=a,d=kn(l.shape),u=hO(p,d),h=kn(u);on(d===h,()=>`The new shape (${u}) has ${h} elements and the old shape (${l.shape}) has ${d} elements. The new shape and old shape must have the same number of elements.`);const y=f.texData.get(l.dataId);return y.isPacked&&!e1(l.shape,u)&&!(y.texture!==null&&e1(y.shape,u))?XL(l,u,f):(f.incRef(l.dataId),{dataId:l.dataId,shape:u,dtype:l.dtype})}const YL={kernelName:K0,backendName:"webgl",kernelFunc:Er};class qL{constructor(e,a){this.variableNames=["A"];const o=new Array(e.length);for(let f=0;f<o.length;f++)o[f]=e[a[f]];this.outputShape=o,this.rank=o.length;const l=Oo(this.rank),p=ZL(a);this.userCode=`
    void main() {
      ${l} resRC = getOutputCoords();
      setOutput(getA(${p}));
    }
    `}}function ZL(n){const e=n.length;if(e>6)throw Error(`Transpose for rank ${e} is not yet supported`);const a=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],o=new Array(e);for(let l=0;l<n.length;l++)o[n[l]]=a[l];return o.join()}class JL{constructor(e,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const o=new Array(e.length);for(let y=0;y<o.length;y++)o[y]=e[a[y]];if(this.outputShape=o,this.rank=o.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const l=Oo(this.rank),p=wx("rc",this.rank),f=new Array(this.rank);for(let y=0;y<a.length;y++)f[a[y]]=p[y];const d=`vec2(${f.slice(-2).join()})`,u=`++${p[this.rank-1]} < ${o[this.rank-1]}`,h=`getChannel(getA(${f.join()}), ${d})`;this.userCode=`
    void main() {
      ${l} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${h};
      if(${u}) {
        result[1] = ${h};
      }
      --${p[this.rank-1]};
      if(++${p[this.rank-2]} < ${o[this.rank-2]}) {
        result[2] = ${h};
        if(${u}) {
          result[3] = ${h};
        }
      }
      setOutput(result);
    }
    `}}function _x(n,e,a){const o=vt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new JL(n.shape,e):new qL(n.shape,e);return a.runWebGLProgram(o,[n],n.dtype)}function QL(n,e,a,o){const l=e,p=n.shape.length,f=ol(l,n.shape);let d=f;const u=Jd(d,p),h=u!=null;let y=n;h&&(y=_x(n,u,o),d=Qd(d.length,p)),Zd("sum",d,p);const[b,x]=Wc(y.shape,d);let A=b;a&&(A=Ju(b,f));const j=kn(x),I=kn(n.shape)/j,S=Er({inputs:{x:y},attrs:{shape:[I,j]},backend:o}),G=rv(n.dtype),D=V1(S,G,"sum",o),X=Er({inputs:{x:D},attrs:{shape:A},backend:o});return o.disposeIntermediateTensorInfo(S),o.disposeIntermediateTensorInfo(D),h&&o.disposeIntermediateTensorInfo(y),X}function kx(n){const{inputs:e,backend:a,attrs:o}=n,{x:l}=e,{axis:p,keepDims:f}=o;return QL(l,p,f,a)}const eU={kernelName:q0,backendName:"webgl",kernelFunc:kx},tU=`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,nU=`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));
  `+FL+`
  return result;
`,aU=G1({opSnippet:tU,packedOpSnippet:nU}),rU={kernelName:YO,backendName:"webgl",kernelFunc:aU};class oU{constructor(e){this.outputShape=[],this.outputShape=Mc(e,1),this.variableNames=e.map((f,d)=>`T${d}`);const a=new Array(e.length-1);a[0]=e[0][1];for(let f=1;f<a.length;f++)a[f]=a[f-1]+e[f][1];const o=[`if (yC < ${a[0]}) setOutput(getT0(yR, yC));`];for(let f=1;f<a.length;f++){const d=a[f-1];o.push(`else if (yC < ${a[f]}) setOutput(getT${f}(yR, yC-${d}));`)}const l=a.length,p=a[a.length-1];o.push(`else setOutput(getT${l}(yR, yC-${p}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${o.join(`
        `)}
      }
    `}}class sU{constructor(e,a){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Mc(e,a);const o=this.outputShape,l=o.length,p=Oo(l),f=al("coords",l),d=["x","y","z","w","u","v"].slice(0,l);this.variableNames=e.map((T,I)=>`T${I}`);const u=new Array(e.length-1);u[0]=e[0][a];for(let T=1;T<u.length;T++)u[T]=u[T-1]+e[T][a];const h=d[a],y=d.slice(-2),b=d.join();let x=`if (${h} < ${u[0]}) {
        return getChannel(
            getT0(${b}), vec2(${y.join()}));
        }`;for(let T=1;T<u.length;T++){const I=u[T-1];x+=`
        if (${h} < ${u[T]}  && ${h} >= ${u[T-1]}) {
          return getChannel(
            getT${T}(${xd(d,h,I)}),
            vec2(${xd(y,h,I)}));
        }`}const A=u.length,j=u[u.length-1];x+=`
        return getChannel(
          getT${A}(${xd(d,h,j)}),
          vec2(${xd(y,h,j)}));`,this.userCode=`
      float getValue(${d.map(T=>"int "+T)}) {
        ${x}
      }

      void main() {
        ${p} coords = getOutputCoords();
        vec4 result = vec4(getValue(${f}), 0., 0., 0.);

        ${f[l-1]} = ${f[l-1]} + 1;
        if (${f[l-1]} < ${o[l-1]}) {
          result.g = getValue(${f});
        }

        ${f[l-2]} = ${f[l-2]} + 1;
        if (${f[l-2]} < ${o[l-2]}) {
          result.a = getValue(${f});
        }

        ${f[l-1]} = ${f[l-1]} - 1;
        if (${f[l-2]} < ${o[l-2]} &&
            ${f[l-1]} < ${o[l-1]}) {
          result.b = getValue(${f});
        }
        setOutput(result);
      }
    `}}function xd(n,e,a){const o=n.indexOf(e);return n.map((p,f)=>f===o?`${p} - ${a}`:p).join()}function Ex(n){const{inputs:e,backend:a}=n,{input:o}=e,l=a.texData.get(o.dataId);return $l({inputs:{x:l.complexTensorInfos.real},backend:a})}function Oc(n,e,a){const o=n[0].dtype;if(o==="complex64"){const b=n.map(I=>Ex({inputs:{input:I},backend:a})),x=n.map(I=>imag({inputs:{input:I},backend:a})),A=Oc(b,e,a),j=Oc(x,e,a),T=nf({inputs:{real:A,imag:j},backend:a});return b.forEach(I=>a.disposeIntermediateTensorInfo(I)),x.forEach(I=>a.disposeIntermediateTensorInfo(I)),a.disposeIntermediateTensorInfo(A),a.disposeIntermediateTensorInfo(j),T}let l=a.shouldExecuteOnCPU(n);if(o==="string"&&(l=!0),l){const b=n.map(G=>{const X=[-1,kn(G.shape.slice(e))];return Er({inputs:{x:G},backend:a,attrs:{shape:X}})}),x=b.map(G=>({vals:a.readSync(G.dataId),shape:G.shape})),A=Mc(b.map(G=>G.shape),1),j=b[0].shape[0]===1,T=nL(x,A,o,j),I=Mc(n.map(G=>G.shape),e),S=a.makeTensorInfo(I,o,T);return b.forEach(G=>a.disposeIntermediateTensorInfo(G)),S}const p=vt().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(n.length>p){const b=[];for(let A=0;A<n.length;A+=p){const j=n.slice(A,A+p);b.push(Oc(j,e,a))}const x=Oc(b,e,a);for(const A of b)a.disposeIntermediateTensorInfo(A);return x}if(vt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&n[0].shape.length>1){const b=new sU(n.map(x=>x.shape),e);return a.runWebGLProgram(b,n,o)}const{tensors2D:f,outShape:d}=computeTensors2D(n,e,a),u=new oU(f.map(b=>b.shape)),h=a.runWebGLProgram(u,f,o);f.forEach(b=>a.disposeIntermediateTensorInfo(b));const y=Er({inputs:{x:h},attrs:{shape:d},backend:a});return a.disposeIntermediateTensorInfo(h),y}function Ax(n){const{inputs:e,backend:a,attrs:o}=n,{axis:l}=o,p=ol(l,e[0].shape)[0],f=Mc(e.map(h=>h.shape),p);if(kn(f)===0)return a.makeTensorInfo(f,e[0].dtype,[]);const d=e.filter(h=>kn(h.shape)>0);if(d.length===1)return $l({inputs:{x:d[0]},backend:a});const u=d.map(h=>h.shape);return ex(u,p),Oc(d,p,a)}const iU={kernelName:L0,backendName:"webgl",kernelFunc:Ax};function Nw(n){const{inputs:e,attrs:a,backend:o}=n,{dim:l}=a,{input:p}=e,f=p.shape.length,d=p.shape.slice();let u=l;return l<0&&(on(-(f+1)<=l,()=>`Axis must be in the interval [${-(f+1)}, ${f}]`),u=f+l+1),d.splice(u,0,1),Er({inputs:{x:p},backend:o,attrs:{shape:d}})}function lU(n){const{inputs:e,backend:a,attrs:o}=n,{axis:l}=o;if(e.length===1)return Nw({inputs:{input:e[0]},backend:a,attrs:{dim:l}});const p=e[0].shape,f=e[0].dtype;e.forEach(y=>{j0(p,y.shape,"All tensors passed to stack must have matching shapes"),on(f===y.dtype,()=>"All tensors passed to stack must have matching dtypes")});const d=[],u=e.map(y=>{const b=Nw({inputs:{input:y},backend:a,attrs:{dim:l}});return d.push(b),b}),h=Ax({inputs:u,backend:a,attrs:{axis:l}});return d.forEach(y=>a.disposeIntermediateTensorInfo(y)),h}const uU={kernelName:G0,backendName:"webgl",kernelFunc:lU},cU="return float(a != b);",pU=G1({opSnippet:cU,cpuKernelImpl:oL,dtype:"bool"});function n1(n){const{inputs:e,backend:a,attrs:o}=n,{x:l}=e,{dtype:p}=o;if(p==="complex64"){if(l.dtype==="complex64")return $l({inputs:{x:l},backend:a});const f=$u(l.shape),d=n1({inputs:{x:l},backend:a,attrs:{dtype:"float32"}}),u=nf({inputs:{real:d,imag:f},backend:a});return f.dispose(),a.disposeIntermediateTensorInfo(d),u}if(l.dtype==="complex64"){const f=Ex({inputs:{input:l},backend:a}),d=n1({inputs:{x:f},backend:a,attrs:{dtype:p}});return a.disposeIntermediateTensorInfo(f),d}if(!gO(l.dtype,p)){const f=$l({inputs:{x:l},backend:a});return{dataId:f.dataId,shape:f.shape,dtype:p}}if(p==="int32")return int(l,a);if(p==="bool"){const f=a.makeTensorInfo([],"bool",qu("bool",1)),u=pU({inputs:{a:l,b:f},backend:a});return a.disposeIntermediateTensorInfo(f),u}throw new Error(`Error in Cast: failed to cast ${l.dtype} to ${p}`)}const dU={kernelName:A1,backendName:"webgl",kernelFunc:n1},fU=z1+`
  return (x < 0.0) ? 0.0 : x;
`,hU=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,mU=$1({opSnippet:fU,packedOpSnippet:hU}),gU={kernelName:W0,backendName:"webgl",kernelFunc:mU};function yU(n,e,a,o){const l=kn(e),f=kn(n.shape)/l,d=Er({inputs:{x:n},attrs:{shape:[f,l]},backend:o}),u=V1(d,"float32","mean",o),h=Er({inputs:{x:u},attrs:{shape:a},backend:o});return o.disposeIntermediateTensorInfo(d),o.disposeIntermediateTensorInfo(u),h}const bU={kernelName:z0,backendName:"webgl",kernelFunc:({inputs:n,attrs:e,backend:a})=>{const{x:o}=n,{keepDims:l,axis:p}=e,f=a,d=o.shape.length,u=ol(p,o.shape);let h=u;const y=Jd(h,d),b=y!=null,x=f.shouldExecuteOnCPU([o]),A=[];let j=o;if(b){if(x){const X=f.texData.get(j.dataId).values,L=new Array(d);for(let P=0;P<L.length;P++)L[P]=o.shape[y[P]];const F=cL(X,o.shape,o.dtype,y,L);j=f.makeTensorInfo(L,o.dtype);const V=f.texData.get(j.dataId);V.values=F}else j=_x(o,y,f);A.push(j),h=Qd(h.length,d)}Zd("sum",h,d);const[T,I]=Wc(j.shape,h);let S=T;l&&(S=Ju(T,u));const G=yU(j,I,S,f);for(const D of A)f.disposeIntermediateTensorInfo(D);return G}};function wU(n){const{inputs:e,backend:a,attrs:o}=n,{x:l}=e,{axis:p,keepDims:f}=o,d=l.shape.length,u=[],h=ol(p,l.shape);let y=h;const b=Jd(y,d);let x=l;b!=null&&(x=transpose({inputs:{x:l},backend:a,attrs:{perm:b}}),y=Qd(y.length,d),u.push(x)),Zd("prod",y,d);let A;if(a.shouldExecuteOnCPU([x])){const j=a.texData.get(x.dataId).values,{outVals:T,outShape:I,outDtype:S}=sL(x.shape,x.dtype,j,y);A=a.makeTensorInfo(I,S,T)}else{const[j,T]=Wc(x.shape,y),I=kn(T),S=Er({inputs:{x},backend:a,attrs:{shape:[-1,I]}}),G=rv(l.dtype),D=V1(S,G,"prod",a);A=Er({inputs:{x:D},backend:a,attrs:{shape:j}}),u.push(S),u.push(D)}if(f){u.push(A);const j=Ju(A.shape,h);A=Er({inputs:{x:A},backend:a,attrs:{shape:j}})}return u.forEach(j=>a.disposeIntermediateTensorInfo(j)),A}const vU={kernelName:H0,backendName:"webgl",kernelFunc:wU};class xU{constructor(e,a,o){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=a.map((h,y)=>h[0]+e[y]+h[1]);const l=e.length,p=Oo(l),f=a.map(h=>h[0]).join(","),d=a.map((h,y)=>h[0]+e[y]).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,l);if(l===1){this.userCode=`
        int start = ${f};
        int end = ${d};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${p} start = ${p}(${f});
      ${p} end = ${p}(${d});

      void main() {
        ${p} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${p} coords = outC - start;
          setOutput(getX(${u}));
        }
      }
    `}}class _U{constructor(e,a,o){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=a.map((T,I)=>T[0]+e[I]+T[1]);const l=e.length,p=Oo(l),f=a.map(T=>T[0]).join(","),d=a.map((T,I)=>T[0]+e[I]).join(","),u=al("rc",l),h=al("source",l),y=`${u[l-1]} < ${this.outputShape[l-1]}`,b=l===1?"source":`vec2(${h.slice(-2).join()})`,x=[`${p} rc = outputLoc;`,`${u[l-1]} += 1;
       if(${y}) {
      `,l===1?"":`}
       rc = outputLoc;
       ${u[l-2]} += 1;
       if(${u[l-2]} < ${this.outputShape[l-2]}) {`,l===1?"":`  ${u[l-1]} += 1;
         if(${y}) {`],A=l===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let j="";for(let T=0,I=l===1?2:4;T<I;T++)j+=`
        ${x[T]}
        if (${A}) {
          result[${T}] = float(value);
        } else {
          ${p} source = rc - start;
          result[${T}] = getChannel(getX(${h.join()}), ${b});
        }
      `;j+=l===1?"} ":"}}",this.userCode=`
      const ${p} start = ${p}(${f});
      const ${p} end = ${p}(${d});

      void main() {
        ${p} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${j}
        setOutput(result);
      }
    `}}const kU=n=>{const{inputs:e,backend:a,attrs:o}=n,{x:l}=e,{paddings:p,constantValue:f}=o;if(kn(l.shape)===0){const h=p.map((y,b)=>y[0]+l.shape[b]+y[1]);return fill({backend:a,attrs:{shape:h,value:f,dtype:l.dtype}})}const d=vt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new _U(l.shape,p,f):new xU(l.shape,p,f),u=[[f]];return a.runWebGLProgram(d,[l],l.dtype,u)},EU={kernelName:V0,backendName:"webgl",kernelFunc:kU};class AU{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const a=Oo(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const o=SU(this.rank);let l;const p=e.map((f,d)=>`sourceLoc.${a1[d]} = start[${d}] + coords.${a1[d]};`);l=`
        ${a} sourceLoc;
        ${a} coords = getOutputCoords();
        ${p.join(`
`)}
      `,this.userCode=`
      void main() {
        ${l}
        setOutput(getSource(${o}));
      }
    `}}const a1=["x","y","z","w","u","v"];function SU(n){if(n===1)return"sourceLoc";if(n<=6)return a1.slice(0,n).map(e=>"sourceLoc."+e).join(",");throw Error(`Slicing for rank ${n} is not yet supported`)}class TU{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const a=Oo(this.rank),o=al("coords",this.rank),l=al("sourceLoc",this.rank),p=this.rank===1?"sourceLoc":`vec2(${l.slice(-2).join()})`,f=`getChannel(getSource(${l.join()}), ${p})`,d=`
      result.x = ${f};
      if (++${o[this.rank-1]} < ${e[this.rank-1]}) {
        ++${l[this.rank-1]};
        result.y = ${f};
        --${l[this.rank-1]};
      }
    `,u=this.rank===1?"":`
      --${o[this.rank-1]};
      if (++${o[this.rank-2]} < ${e[this.rank-2]}) {
        ++${l[this.rank-2]};
        result.z = ${f};
        if (++${o[this.rank-1]} < ${e[this.rank-1]}) {
          ++${l[this.rank-1]};
          result.w = ${f};
        }
      }
    `,h=this.rank<=4?`sourceLoc = coords +
            ${a}(${e.map((y,b)=>`start[${b}]`).join()});`:e.map((y,b)=>`${l[b]} = ${o[b]} + start[${b}];`).join(`
`);this.userCode=`
      void main() {
        ${a} coords = getOutputCoords();
        ${a} sourceLoc;
        ${h}
        vec4 result = vec4(0.);
        ${d}
        ${u}
        setOutput(result);
      }
    `}}function jU(n){const{inputs:e,backend:a,attrs:o}=n,{x:l}=e,{begin:p,size:f}=o,[d,u]=Sv(l,p,f);if(Ev(l,d,u),kn(u)===0)return a.makeTensorInfo(u,l.dtype,[]);if(a.shouldExecuteOnCPU([l])||l.dtype==="string"){const b=a.texData.get(l.dataId),x=uL(b.values,d,u,l.shape,l.dtype);return a.makeTensorInfo(u,l.dtype,x)}const{isPacked:h}=a.texData.get(l.dataId),y=N1(l.shape,d,u);if(h||!y){const b=vt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new TU(u):new AU(u),x=[d];return a.runWebGLProgram(b,[l],l.dtype,x)}return a.uploadToGPU(l.dataId),shallowSlice(l,d,u,a)}function IU(n){const{inputs:e,backend:a,attrs:o}=n,{value:l}=e;let{axis:p}=o;p<0&&(p+=l.shape.length);const f=l,d=f.shape.length,u=l.shape[p],h=new Array(d-1);let y=0;for(let T=0;T<d;T++)T!==p&&(h[y++]=f.shape[T]);const b=[],x=new Array(d).fill(0),A=f.shape.slice();A[p]=1;const j=new Array(u);for(let T=0;T<j.length;T++){x[p]=T;const I=jU({inputs:{x:f},backend:a,attrs:{begin:x,size:A}}),S=Er({inputs:{x:I},backend:a,attrs:{shape:h}});j[T]=S,b.push(I)}return b.forEach(T=>a.disposeIntermediateTensorInfo(T)),j}const NU={kernelName:Z0,backendName:"webgl",kernelFunc:IU},DU="return float(!isnan(x) && !isinf(x));",CU=$1({opSnippet:DU,dtype:"bool"}),OU={kernelName:LO,backendName:"webgl",kernelFunc:CU};class BU{constructor(e,a,o){this.variableNames=["c","a","b"],this.outputShape=a;let l,p;if(o>4)throw Error(`Where for rank ${o} is not yet supported`);if(o===1)p="resRC",l="resRC";else{const d=["resRC.x","resRC.y","resRC.z","resRC.w"],u=[],h=[];for(let y=0;y<a.length;y++)h.push(`${d[y]}`),y<e&&u.push(`${d[y]}`);l=u.join(),p=h.join()}const f=Oo(o);this.userCode=`
      void main() {
        ${f} resRC = getOutputCoords();
        float cVal = getC(${l});
        if (cVal >= 1.0) {
          setOutput(getA(${p}));
        } else {
          setOutput(getB(${p}));
        }
      }
    `}}function RU(n){const{inputs:e,backend:a}=n,{condition:o,t:l,e:p}=e,f=new BU(o.shape.length,l.shape,l.shape.length);return a.runWebGLProgram(f,[o,l,p],Ai(l.dtype,p.dtype))}const FU={kernelName:X0,backendName:"webgl",kernelFunc:RU},Dw={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class Cw{constructor(e,a,o){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Yr(a,o),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${e}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}}const Ow="return a * b;";function Sx(n){const{inputs:e,backend:a}=n,{a:o,b:l}=e,p=Ai(o.dtype,l.dtype);if(o.dtype==="complex64"){const d=a.texData.get(o.dataId),u=a.texData.get(l.dataId),h=new Cw(Dw.REAL,o.shape,l.shape),y=new Cw(Dw.IMAG,o.shape,l.shape),b=[{dataId:d.complexTensorInfos.real.dataId,dtype:d.complexTensorInfos.real.dtype,shape:o.shape},{dataId:d.complexTensorInfos.imag.dataId,dtype:d.complexTensorInfos.imag.dtype,shape:o.shape},{dataId:u.complexTensorInfos.real.dataId,dtype:u.complexTensorInfos.real.dtype,shape:l.shape},{dataId:u.complexTensorInfos.imag.dataId,dtype:u.complexTensorInfos.imag.dtype,shape:l.shape}],x=a.runWebGLProgram(h,b,"float32"),A=a.runWebGLProgram(y,b,"float32"),j=nf({inputs:{real:x,imag:A},backend:a});return a.disposeIntermediateTensorInfo(x),a.disposeIntermediateTensorInfo(A),j}if(a.shouldExecuteOnCPU([o,l])){const d=a.texData.get(o.dataId),u=a.texData.get(l.dataId),[h,y]=rL(o.shape,l.shape,d.values,u.values,p),b=a.makeTensorInfo(y,p),x=a.texData.get(b.dataId);return x.values=h,b}let f;return vt().getBool("WEBGL_PACK_BINARY_OPERATIONS")?f=new xx(Ow,o.shape,l.shape):f=new t1(Ow,o.shape,l.shape),a.runWebGLProgram(f,[o,l],p)}const MU={kernelName:$0,backendName:"webgl",kernelFunc:Sx};class PU{constructor(e,a,o,l=!1,p=!1,f=!1,d=null,u=!1,h=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=o,this.enableShapeUniforms=cs(this.outputShape.length);const y=l?e[1]:e[2],b=Math.ceil(y/2),x=l?"i * 2, rc.y":"rc.y, i * 2",A=p?"rc.z, i * 2":"i * 2, rc.z",j=l?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],T=p?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let I="",S="";d&&(u?I=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${d}
        }`:h?I=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${d}
        }`:I=`vec4 activation(vec4 x) {
          ${d}
        }`,S="result = activation(result);");const G=f?"result += getBiasAtOutCoords();":"";f&&this.variableNames.push("bias"),u&&this.variableNames.push("preluActivationWeights"),h&&this.variableNames.push("leakyreluAlpha");let D="rc.x",X="rc.x";e[0]<a[0]?D=`int(min(float(rc.x), ${e[0]-1}.))`:a[0]<e[0]&&(X=`int(min(float(rc.x), ${a[0]-1}.))`),this.userCode=`
      ${I}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${b}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        for (int i = 0; i < ${b}; i++) {
          int batchA = ${D};
          int batchB = ${X};
          vec4 a = getMatrixA(batchA, ${x});
          vec4 b = getMatrixB(batchB, ${A});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${j[0]} * ${T[0]});
          result += (${j[1]} * ${T[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${G}

        ${S}

        setOutput(result);
      }
    `}}const LU=1e3;function Tx({a:n,b:e,transposeA:a,transposeB:o,backend:l,bias:p=null,preluActivationWeights:f=null,leakyreluAlpha:d=0,activation:u=null}){const h=n.shape.length,y=e.shape.length,b=a?n.shape[h-2]:n.shape[h-1],x=o?e.shape[y-1]:e.shape[y-2],A=a?n.shape[h-1]:n.shape[h-2],j=o?e.shape[y-2]:e.shape[y-1],T=n.shape.slice(0,-2),I=e.shape.slice(0,-2),S=kn(T),G=kn(I),X=Yr(n.shape.slice(0,-2),e.shape.slice(0,-2)).concat([A,j]);on(b===x,()=>`Error in matMul: inner shapes (${b}) and (${x}) of Tensors with shapes ${n.shape} and ${e.shape} and transposeA=${a} and transposeB=${o} must match.`);const L=a?[S,b,A]:[S,A,b],F=o?[G,j,x]:[G,x,j],V=Er({inputs:{x:n},backend:l,attrs:{shape:L}}),P=Er({inputs:{x:e},backend:l,attrs:{shape:F}}),R=[V,P],N=Math.max(S,G),E=a?V.shape[1]:V.shape[2],O=p!=null,B=f!=null,M=u==="leakyrelu",U=u!=null?GL(u,!0):null,Y=O||B||M||U!=null;let $;if((A===1||j===1)&&E>LU&&Y===!1){let ae=V,re=P;a&&(ae=transpose({inputs:{x:V},backend:l,attrs:{perm:[0,2,1]}}),R.push(ae)),o&&(re=transpose({inputs:{x:P},backend:l,attrs:{perm:[0,2,1]}}),R.push(re));const J=j!==1,ue=j===1;let Q=ae;J&&(Q=Er({inputs:{x:ae},backend:l,attrs:{shape:[N,E,1]}}),R.push(Q));const be=j===1?2:1;let Re=re;ue&&(Re=Er({inputs:{x:re},backend:l,attrs:{shape:[N,1,E]}}),R.push(Re));const oe=Sx({inputs:{a:Q,b:Re},backend:l});$=kx({inputs:{x:oe},backend:l,attrs:{axis:be,keepDims:!0}}),R.push(oe)}else{const ae=Ai(n.dtype,e.dtype),re=new PU(L,F,[N,A,j],a,o,O,U,B,M),J=[V,P];if(p!=null&&J.push(p),B&&J.push(f),M){const ue=l.makeTensorInfo([],"float32",av(d,"float32"));J.push(ue),R.push(ue)}$=l.runWebGLProgram(re,J,ae)}const ee=Er({inputs:{x:$},backend:l,attrs:{shape:X}});R.push($);for(const ae of R)l.disposeIntermediateTensorInfo(ae);return ee}function UU(n){const{inputs:e,backend:a,attrs:o}=n,{a:l,b:p}=e,{transposeA:f,transposeB:d}=o;return Tx({a:l,b:p,transposeA:f,transposeB:d,backend:a})}const zU={kernelName:P0,backendName:"webgl",kernelFunc:UU};class $U{constructor(e,a){this.variableNames=["A","indices"],this.outputShape=a,this.rank=a.length;const o=Oo(this.rank),l=GU(e);this.userCode=`
      void main() {
        ${o} resRC = getOutputCoords();
        int index = int(getIndices(resRC.x, resRC.z));
        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;
        setOutput(inBounds * getA(${l}));
      }
    `}}function GU(n,e){const a=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[];for(let l=0;l<n.length;l++)l===2?o.push("index"):o.push(`${a[l]}`);return o.join()}function VU(n){const{inputs:e,backend:a,attrs:o}=n,{x:l,indices:p}=e,{axis:f,batchDims:d}=o,u=ol(f,l.shape)[0];if(vt().get("DEBUG")){const G=a.readSync(p.dataId),D=l.shape[u];for(let X=0;X<G.length;++X){const L=G[X];on(L<=D-1&&L>=0,()=>`GatherV2: the index value ${L} is not in [0, ${D-1}]`)}}const h=ax(l,p,u,d),y=kn(p.shape),b=[],x=Er({inputs:{x:l},backend:a,attrs:{shape:[h.batchSize,h.outerSize,h.dimSize,h.sliceSize]}}),A=Er({inputs:{x:p},backend:a,attrs:{shape:[h.batchSize,y/h.batchSize]}});b.push(x),b.push(A);const j=[h.batchSize,h.outerSize,y/h.batchSize,h.sliceSize];if(a.shouldExecuteOnCPU([l,p])||l.dtype==="string"){const G=a.bufferSync(A),D=a.bufferSync(x),X=aL(D,G,j);return b.forEach(L=>a.disposeIntermediateTensorInfo(L)),a.makeTensorInfo(h.outputShape,X.dtype,X.values)}const T=new $U(x.shape,j),I=a.runWebGLProgram(T,[x,A],x.dtype);b.push(I);const S=Er({inputs:{x:I},backend:a,attrs:{shape:h.outputShape}});return b.forEach(G=>a.disposeIntermediateTensorInfo(G)),S}const HU={kernelName:U0,backendName:"webgl",kernelFunc:VU},WU=$L+`
  return 1.0 / (1.0 + exp(-1.0 * x));
`,KU=`
  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,XU=$1({opSnippet:WU,packedOpSnippet:KU,cpuKernelImpl:iL}),YU={kernelName:Y0,backendName:"webgl",kernelFunc:XU};function qU(n){const{inputs:e,backend:a,attrs:o}=n,{a:l,b:p,bias:f,preluActivationWeights:d}=e,{transposeA:u,transposeB:h,activation:y,leakyreluAlpha:b}=o;return Tx({a:l,b:p,transposeA:u,transposeB:h,backend:a,bias:f,preluActivationWeights:d,leakyreluAlpha:b,activation:y})}const ZU={kernelName:Mm,backendName:"webgl",kernelFunc:qU};for(let n of[HL,eU,rU,uU,dU,gU,bU,vU,EU,NU,YL,OU,ML,FU,MU,zU,HU,iU,YU,ZU])sB(n);var jx=Object.freeze({__proto__:null,cast:Ti,enableProdMode:_v,env:vt,loadGraphModel:cM,oneHot:xv,stack:Gu,sum:Zs,tensor:xi,tidy:Ua,unstack:ec,zeros:$u});const Ix=/\s+/g,Nx=/[\xA0!"\\'()*,-./:;?&[\]^_`{|}~“”]/g,JU=/rgb\((\d+), (\d+), (\d+)\)/,QU=/rgba\((\d+), (\d+), (\d+), (\d+)\)/,ez=/(\d*?\.?\d*)px (\d*?\.?\d*)px/,tz=/(\d*?\.?\d*)px/,nz=/\./g,az=/^\[|\]$/g,rz=/\//g,Bw=Object.fromEntries([..." abcdefghijklmnopqrstuvwxyz1234567890:;/?!=+.,()[]-`*_|~"].map((n,e)=>[n,e+1]));class oz{constructor(e){this.normalizers=[],e.forEach(a=>{if(Array.isArray(a)){let[o,l]=a;this.normalizers.push(new o(l))}else this.normalizers.push(new a)})}normalize(e,a){return this.normalizers.forEach(o=>{e=o.normalize(e,a)}),e}}class il{normalize(e){throw new Error("Not implemented.")}}class sz extends il{normalize(e){return e.toLowerCase()}}class iz extends il{normalize(e){return e.trim()}}class lz extends il{normalize(e){return e.replace(Ix," ")}}class uz extends il{normalize(e){return e.replace(Ix," ").trim()}}class cz extends il{normalize(e){return e.replace(Nx,"")}}class Dx extends il{normalize(e){return e.replace(Nx," ")}}class pz extends il{constructor(e){super(),this.pairs=e}normalize(e){return e&&this.pairs.forEach(a=>{e=e.split(a[0]).join(a[1])}),e}}class dz extends il{normalize(e){return e.split(" ").pop()}}class ql{normalize(e){throw new Error("Not implemented.")}}class fz extends ql{normalize(e){return[parseFloat(e)||0]}}class hz extends ql{constructor(e){super(),this.maxLen=e}normalize(e){let a=[...e.toLowerCase()].slice(-this.maxLen).map(o=>o in Bw?Bw[o]:1);return a.length>=this.maxLen?a:a.concat(new Array(this.maxLen-a.length).fill(0))}}class mz extends ql{constructor(e){super();const a=e.length;this.empty=new Array(a).fill(0);let o=0;this.categoryMap=e.reduce((l,p)=>{let f=[...this.empty];return f[o++]=1,l[p]=f,l},{})}normalize(e){return this.categoryMap[e]||this.empty}}class gz extends ql{normalize(e){return[parseFloat(e)||0]}}class yz extends ql{constructor(e){super(),this.maxLen=e}normalize(e){let a=[0,0,0,0];const o=e.match(JU);if(o)o.shift(),a=o.map(l=>parseFloat(l)||0),a.push(0);else{const l=e.match(QU);l&&(l.shift(),a=l.map(p=>parseFloat(p)||0))}return a.slice(0,this.maxLen)}}class bz extends ql{normalize(e){const a=e.match(tz);return a?[parseFloat(a[1])||0]:[0]}}class wz extends ql{normalize(e){const a=e.match(ez);return a?(a.shift(),a.map(o=>parseFloat(o)||0)):[0,0]}}class vz{normalize(e){return Array.isArray(e)?[e.length]:[0]}}const Cx=["http","data","blob","ftp:"];class xz{normalize(e,a){if(!e)return[0,0,0,0,0,0,0,0,0];const o=1,l=Cx.includes(e.slice(0,4).toLowerCase())?1:0;if(!l)return[o,l,0,0,e.length,0,0,0,0];let p;try{p=new URL(e)}catch{return[o,l,0,0,e.length,0,0,0,0]}const f=p.hostname.includes(a.domain)?0:1,d=p.username+p.password+p.hostname+(p.port?p.port:""),u=p.pathname==="/"?"":p.pathname,h=Array.from(p.searchParams),y=d.length,b=u.length,x=h.flat().join("").length,A=d?p.hostname.split(".").length:0,j=u.split("/").filter(Boolean).length,T=h.length;return[o,l,f,y,b,x,A,j,T]}}class _z{constructor(e){this.maxLen=e,this.maxPartsLen=this.maxLen/3,this.replacePunctuation=new Dx}normalize(e,a){let o;if(!(Cx.includes(e.slice(0,4).toLowerCase())?1:0))return e.substring(0,this.maxLen).trim();try{o=new URL(e)}catch{return e.substring(0,this.maxLen).trim()}const p=o.hostname.replace(az,""),f=[o.username,o.password,p.replace(nz," "),o.port].filter(Boolean).join(" ").slice(0,this.maxPartsLen).trim(),d=o.pathname.replace(rz," ").slice(0,2*this.maxPartsLen-f.length).trim(),u=o.search.substring(1).split("&").map(h=>h.split("=")[0].trim()).join(" ").slice(0,3*this.maxPartsLen-f.length-d.length).trim();return[[f,d].join(" ").trim(),u].join(" ").trim()}}class kz{normalize(e,a){let o=0,l=0;return e&&(o=e.length,l=e.split(" ").length),[o,l]}}class Ez{constructor(e){this.preprocesors=[];for(let a of e)this.preprocesors.push(new a)}process(e,a){return this.preprocesors.forEach(o=>e=o.process(e)),e}}class Az{process(e,a){return e||new Map}}class Sz{process(e,a){return!e||!(typeof e=="string"||e instanceof String)?new Map:e.split(";").reduce((o,l)=>{const[p,f]=l.split(":");return p&&f&&!(p in o)&&(o[p.trim()]=f.trim()),o},{})}}function Tz(n){let e=[],a=[];for(let o of n)o.groupName=Object.keys(o)[2];for(let o of n)o.scope==="graph"&&o.include?e.push(new Mw(o.groupName,o[o.groupName])):o.scope==="node"&&o.include&&a.push(new Mw(o.groupName,o[o.groupName]));return[a,e]}const Rw={empty:Az,css_selector:Sz},um={lower:sz,strip_whitespace:iz,collapse_whitespace:lz,strip_and_collapse_whitespace:uz,remove_punctuation:cz,replace_punctuation:Dx,sequence:hz,one_hot_vector:mz,font_size:gz,color:yz,pixel:bz,origin:wz,children_len:vz,replace_str:pz,meta_url:xz,url_parts:_z,meta_content:kz,css_class:dz,float:fz},r1=(n,e)=>{const a=n.split(e);return a[0]===""&&a.length===1?[]:a};class Fw{constructor(e,a){this.name=e,this.dim=a.dim,this.altNames=r1(e,"^"),this.path=[],a.path&&(this.path=r1(a.path,"^"));let o=[];if(!Object.prototype.hasOwnProperty.call(a,"normalizers"))o.push(um.empty);else for(const l in a.normalizers){const p=a.normalizers[l];if(typeof p=="string"||p instanceof String)o.push(um[p]);else if(typeof p=="object"&&p!==null){const f=Object.keys(p)[0];o.push([um[f],Object.values(p[f])[0]])}}this.normalizer=new oz(o)}getName(e){if(this.altNames&&Object.keys(e).length>0){for(let a of this.altNames)if(a in e)return a}return this.name}extractValues(e,a){let o=e;this.path.forEach(d=>{d in o&&(o=o[d])});const l=this.getName(o),p=l in o?o[l]:"",f=this.normalizer.normalize(p||"",a);if(f.length!==this.dim)throw new Error("Feature dimensionality mismatch");return f}}class Mw{constructor(e,a){this.name=e,this.path=r1(a.path,"/"),this.prep=this.initPreprocessing(a),this.features=this.initFeatures(a.features)}initPreprocessing(e){let a=[];if(!Object.prototype.hasOwnProperty.call(e,"prep"))a.push(Rw.empty);else for(let o of e.prep)a.push(Rw[o]);return new Ez(a)}initFeatures(e){let a=[];for(const o of e){const l=Object.keys(o)[0],p=o[l];if(!Object.prototype.hasOwnProperty.call(p,"names")){a.push(new Fw(l,p));continue}for(const f of p.names)a.push(new Fw(f,p))}return a}extractValues(e,a){let o=e;if(this.path.forEach(p=>{p in o&&(o=o[p])}),o=this.prep.process(o,a),typeof o!="object"||Array.isArray(o)||o===null)throw new Error(`path ${this.path}, value ${o}, expected ${typeof{}}, got ${o}`);let l=[];return this.features.forEach(p=>l.push(...p.extractValues(o,a))),l}}const jz=["src","href","xlink:href"],Iz=(n,e,a=0)=>Array.from(new Array(e),o=>Array(n).fill(a)),jc=(n,e,a)=>e in n?n[e]:a;class Nz{constructor(e){this.numNodes=0,this.root=e.obj.graph,this.domain=e.obj.domain,this.graphAttributes={domain:e.obj.domain},this.featureGroups=e.nodeFeatureGroups,this.graphFeatureGroups=e.graphFeatureGroups,this.cutoff=e.cutoff}getData(){this.setNodeAttributes();let e=Iz(this.numNodes,this.numNodes),a=[],o=[],l=[[this.root,{}]],p=this.cutoff;for(;l.length&&--p>=0;){let f,[d,u]=l.pop();this._updateFeatures(d,this.featureGroups,a),u&&Object.keys(u).length>0&&this._updateEdges(d,u,e),[u,f]=[d,d.children];for(let h=f.length-1;h>=0;h--)l.push([f[h],u])}return this._updateFeatures(this.graphAttributes,this.graphFeatureGroups,o),this._formatData(e,a,o)}setNodeAttributes(){let e=[[this.root,{}]],a=this.cutoff;for(;e.length&&--a>=0;){let o,[l,p]=e.pop();this._setNodeAttributes(l,p),[p,o]=[l,l.children];for(let f=o.length-1;f>=0;f--)e.push([o[f],p])}}_setNodeAttributes(e,a){e.node_id=this.numNodes++,e.dom=this.domain,e.parent_id=jc(a,"node_id",0),e.siblings=jc(a,"children",[]).length,e.level=jc(a,"level",-1)+1;let o=jc(e,"attributes",{}),l=jc(a,"attributes",{});jz.forEach(p=>{let f=`${p}_level`;this._hasAttribute(p,o)?e.attributes[f]=0:this._hasAttribute(p,l)&&(e.attributes[p]=l[p],e.attributes[f]=l[f]+1,"requestType"in a&&(e.requestType=a.requestType))})}_hasAttribute(e,a){return e in a&&a[e]}_updateFeatures(e,a,o){let l=[];a.forEach(p=>l.push(...p.extractValues(e,{domain:this.domain}).map(f=>Math.round(f*100)/100||0))),o.push(l)}_updateEdges(e,a,o){o[a.node_id][e.node_id]=1,o[e.node_id][a.node_id]=1}_formatData(e,a,o){return e.length>a.length&&this._cutEdges(e,a.length),this.graphFeatureGroups.length>0?[e,a,o]:[e,a]}_cutEdges(e,a){e=e.slice(0,a),e.forEach((o,l,p)=>{p[l]=o.slice(0,a)})}}class Dz{constructor(e){this.tfjs=e,this._preprocessingFunctions=new Map([["cast",e.cast],["stack",e.stack],["unstack",e.unstack],["localPooling",this._localPoolingMap.bind(this)],["padAdjacency",this._padTensorAdjacency.bind(this)],["padFeatures",this._padTensorFeatures.bind(this)]])}_padTensorAdjacency(e,a){return e.pad([[0,0],[0,a-e.shape[1]],[0,a-e.shape[2]]])}_localPoolingMap(e){return e.map(a=>this._localPooling(a))}_localPooling(e){let a=e.add(this.tfjs.eye(e.shape[0])),o=this.tfjs.pow(this.tfjs.sum(a,1),-.5);o=o.where(this.tfjs.isFinite(o),this.tfjs.zeros(o.shape));let l=o.mul(this.tfjs.eye(a.shape[0]));return l.dot(a).dot(l)}_padTensorFeatures(e,a){return e.pad([[0,0],[0,a-e.shape[1]],[0,0]])}createTensors(e,a){let[o,l]=e,p=[{data:[o],preprocess:[{funcName:"padAdjacency",args:a}]},{data:[l],preprocess:[{funcName:"padFeatures",args:a}]}];return this.tfjs.tidy(()=>p.map(d=>{let u=this.tfjs.tensor(d.data);if(d.preprocess)for(let h of d.preprocess)u=this._preprocessingFunctions.get(h.funcName)(u,h.args);return u}))}}const Ox=500;async function Cz(n,e,a="."){return new Promise((o,l)=>{if(!n||!e)return l();let p=n.config,f=p.cutoff||n.topology.graphml.nodes||Ox,[d,u]=Tz(p),h={nodeFeatureGroups:d,graphFeatureGroups:u,obj:{domain:a,graph:e},cutoff:f},b=new Nz(h).getData();o(b)})}async function Oz(n,e,a,o){return new Promise((l,p)=>{if(!a||!n||!e||!o)return p();let d=a.config.cutoff||a.topology.graphml.nodes||Ox,h=new Dz(n).createTensors(o,d),y=e.execute(h);y.data().then(b=>{l(b)}).catch(b=>{p(b)}).finally(()=>{y.dispose();for(let b of h)b.dispose()})})}async function Bz(n){return new Promise((e,a)=>{if(n=Array.from(n),!n||!Array.isArray(n)||!n.some(l=>l>0)||n.length<2)return a();let o=n.reduce((l,p)=>l+p,0);n=n.map(l=>l/o),e(n[1]>n[0])})}async function Rz(n,e){return e?n.loadGraphModel({load(){return{modelTopology:e.topology.modelTopology||{},signature:e.topology.signature||{},weightsManifest:e.topology.weightsManifest||[],weightSpecs:e.topology.weightsManifest.map(o=>o.weights)[0]||[],weightData:Fz(e.weights.map(o=>Uint8Array.from(atob(o.shard),l=>l.charCodeAt(0))))||[]}}}):Promise.reject("model not found")}function Fz(n){let e=0;n.forEach(l=>{e+=l.byteLength});let a=new Uint8Array(e),o=0;return n.forEach(l=>{a.set(new Uint8Array(l),o),o+=l.byteLength}),a.buffer}let Kc=!1;function Aa(n,e=!1,...a){Kc&&console.log("%cMLDBG ♥ %c| %s%c |","color:cyan",e?"color:red":"color:inherit",n,"color:inherit",...a)}function Mz(n){Kc=!!n}let Ad={};Ad.set=n=>{!n||typeof n!="object"||(Ad=Object.assign(Ad,n))};var $o=Ad;let Eu,cm;function Pz(n){try{let{rawPrediction:e,prediction:a}=n;return{...e&&typeof e=="object"?{confidenceScore:Array.from(e)}:[],...typeof a=="boolean"?{classLabel:a?"ad":"non-ad"}:{}}}catch{}}function Lz(n){let e;try{let{bundle:a,preprocessedGraph:o}=n||{},{reportConfig:l}=a||{},{featureReportProbability:p}=$o&&$o.featureReportProbability?$o:l||{};if(!Kc&&($o.telemetryOptOut||!p||isNaN(p)||p<=Math.random())||!o||!Array.isArray(o)||o.length<2)return Promise.resolve();for(let d of o)if(!Array.isArray(d)||!d.length||!Array.isArray(d[0])||!d[0].length||isNaN(d[0][0]))return Promise.resolve();let f;a&&a.topology&&a.topology.graphml&&a.topology.graphml.nodes&&(f=a.topology.graphml.nodes),e=[qz(o[0],f)];for(let d of o.slice(1))e.push(Zz(d));return Jz(e)}catch{return e&&Array.isArray(e)?Promise.resolve(e):Promise.resolve()}}function Uz(n){try{let{modelColdStart:e,modelBootupTime:a,preprocessingTime:o,inferenceTime:l,digestTime:p,startTime:f}=n;return{...typeof e=="boolean"?{modelColdStart:e}:{},...!isNaN(a)&&!isNaN(f)?{modelBootupTime:a-f}:{},...!isNaN(o)&&!isNaN(a)?{preprocessingTime:o-a}:{},...!isNaN(l)&&!isNaN(o)?{inferenceTime:l-o}:{},...!isNaN(p)&&!isNaN(l)?{predictionDigestionTime:p-l}:{}}}catch{}}function zz(n){try{let{modelName:e,bundle:a}=n||{};if(Eu&&Eu.has(e))return Eu.get(e);let o={...e&&typeof e=="string"?{modelName:e.split("-").slice(0,-1).join("-")||e}:{},...e&&typeof e=="string"&&e.includes("-")?{modelVersion:e.split("-").slice(-1).join("")}:{},...a&&a.weights&&Array.isArray(a.weights)&&a.weights[0]&&a.weights[0].shard?{modelSize:a.weights[0].shard.length}:{}};return Eu||(Eu=new Map),Eu.set(e,o),o}catch{}}function $z(){try{if(cm)return cm;let n=Wz(),e=Bx(),a=Kz(),o=Hz(),l=Xz(),p=Yz();return cm={...n?{type:n}:{},...e?{browserName:e}:{},...a?{browserVersion:a}:{},...o?{OSInformation:o}:{},...l?{language:l}:{},...p?{availableMemory:p}:{}}}catch{}}function Gz(n){let{sender:e}=n||{};return!e||!e.tab||!e.tab.id||!chrome||!chrome.tabs?Promise.resolve():new Promise(a=>{try{chrome.tabs.get(e.tab.id,o=>{if(chrome.runtime.lastError||!o||!o.url)return a();let l=new URL(o.url);a({url:l.origin+l.pathname,domainName:l.hostname})})}catch{a()}})}function H1(){try{let{userAgent:n}=navigator||{};if(!n)return;switch(!0){case/Android/.test(n):return"Android";case/Windows/.test(n):return"Windows";case/Mac OS X/.test(n):return"Mac";case/Linux/.test(n):return"Linux"}}catch{}}function Vz(){try{let{userAgent:n}=navigator||{};if(!n)return;let e=H1(),a;if(e==="Android"?a="Android":e==="Windows"?a=/Phone/.test(n)?/Windows Phone (?:OS )?/:"Windows NT":e==="Mac"&&(a="Mac OS X "),a)return n.split(a)[1].trim().split(/[^\w.]/)[0].split(/[._]/).slice(0,3).join(".")}catch{}}function Hz(){try{let n=H1(),e=Vz(),a;return n&&(a=n,e&&(a+=` ${e}`)),a}catch{}}function Wz(){try{let n=chrome&&chrome.runtime&&chrome.runtime.getManifest?chrome.runtime.getManifest():null;if(n&&n.short_name)switch(n.short_name){case"AdBlock":return"AdBlock";case"Adblock Plus":return"Adblock Plus";default:return"Extension"}if(H1()==="Android")return"Mobile"}catch{}}function Bx(){try{let{userAgent:n}=navigator||{};if(!n)return;switch(!0){case(n.includes("Chrome")&&!n.includes("Chromium")&&!n.includes("OPR")&&!n.includes("Edge")&&!n.includes("Edg")&&!n.includes("SamsungBrowser")):return"Chrome";case(n.includes("Firefox")&&!n.includes("Seamonkey")):return"Firefox";case n.includes("OPR"):return"Opera";case((n.includes("Edg")||n.includes("Edge"))&&n.includes("Chrome")):return"Edge"}}catch{}}function Kz(){try{let{userAgent:n}=navigator||{};if(!n)return;let e=Bx(),a;if(e&&(e==="Opera"&&(e="opera|opr"),e==="Edge"&&(e="edge|edg"),a=n.match(new RegExp(`(${e}(?=\\/))\\/?\\s*(\\d[^\\s|$]*)`,"i"))),!a&&!a.length>=2&&!a[2]&&(a=n.match(/(edge|edg|opr|opera|chrome|firefox|version(?=\/))\/?\s*(\d[^\s|$]*)/i)),a&&a[2])return a[2]}catch{}}function Xz(){let{language:n}=navigator||{};if(n)return n}function Yz(){if(window&&window.performance&&window.performance.memory&&window.performance.memory.totalJSHeapSize)return window.performance.memory.totalJSHeapSize}function qz(n,e){try{if(!Array.isArray(n)||!n.length||!Array.isArray(n[0])||!n[0].length)return;if(e)for(let a of n)a.push(...new Array(Math.max(0,e-a.length)).fill(0));return n.map(a=>a.reduce((o,l)=>(o.length&&Math.sign(o[o.length-1])===Math.sign(l-.5)?o[o.length-1]+=Math.sign(l-.5):o.push(Math.sign(l-.5)),o),[]))}catch{}}function Zz(n){try{return!Array.isArray(n)||!n.length||!Array.isArray(n[0])||!n[0].length?void 0:n.map(e=>e.reduce((a,o)=>(o?a.push(o):Array.isArray(a[a.length-1])?a[a.length-1][0]++:a.push([1]),a),[]))}catch{}}function Jz(n){try{if(!Array.isArray(n)||n.length<2||!Array.isArray(n[0])||!n[0].length||!Array.isArray(n[0][0])||!n[0][0].length||!Array.isArray(n[1][0])||!n[1][0].length)return Promise.resolve();if(typeof CompressionStream>"u")return Promise.resolve(n);let a=new ReadableStream({start:o=>o.enqueue(new TextEncoder().encode(JSON.stringify(n))),pull:o=>o.close()}).pipeThrough(new CompressionStream("gzip"));return new Response(a).arrayBuffer().then(o=>btoa(new Uint8Array(o).reduce((l,p)=>l+String.fromCharCode(p),""))).catch(()=>Promise.resolve(n))}catch{return Promise.resolve(n)}}const o1=1e3,Qz=3;let gi,Nu;function e4(n){try{let{bundle:e,sender:a}=n||{},{reportConfig:o}=e||{},{reportProbability:l}=$o&&$o.reportProbability?$o:o||{},p=!!(a&&a.tab&&a.tab.incognito);if(!Kc&&($o.telemetryOptOut||p&&!$o.privateBrowsingTelemetry||!l||isNaN(l)||l<=Math.random())||n.allowlisted)return Promise.resolve(n);Aa("Queueing report with raw data",!1,n),gi||(gi=new Set),gi.add(n),Nu||(Nu=setTimeout(s1,o1))}catch(e){Aa(`Queueing report failed with "${e}"`,!0)}return Promise.resolve(n)}function s1(n=!1){try{if(!gi||!gi.size){Nu=0;return}let[e]=gi;if(gi.delete(e),!e||["bundle","modelName","prediction","preprocessedGraph"].some(l=>!(l in e)||!e.bundle.reportConfig||!e.bundle.reportConfig.reportURL))return Aa("Reporting queue digestion failed due to corrupt data",!0);let{reportURL:a,reportBearerToken:o}=e.bundle.reportConfig;t4(e).then(l=>n4(l,a,o).then(()=>Aa("Report successfully sent:",!1,l))).catch(l=>{e.failedCounter=(e.failedCounter||0)+1,(l instanceof Response?l.text():Promise.resolve(l)).then(p=>Aa(`Sending report failed ${e.failedCounter} times with error "${p}" for`,!0,e)),e.failedCounter<Qz?(Aa("Attempting to resend",!1,e),gi.add(e)):Aa(`Abandoning report after ${e.failedCounter} retries`,!0,e)}).then(()=>{Nu=setTimeout(s1,o1)})}catch(e){n?(gi.clear(),Nu=0):Nu=setTimeout(()=>s1(!0),o1),Aa(`Reporting queue digestion failed with "${e}"`,!0)}}async function t4(n){try{if(typeof n!="object")return Promise.reject();let e=Pz(n),a=Uz(n),o=zz(n),l=$z(),p=await Gz(n),f=await Lz(n);return{payload:{timestamp:Date.now(),...e?{prediction:e}:{},...a?{profilingData:a}:{},...o?{modelMetadata:o}:{},...l?{device:l}:{},...p?{websiteMetadata:p}:{},...f?{inputs:f}:{}}}}catch(e){return Aa(`Report data calculation failed with "${e}"`,!0),Promise.reject()}}function n4(n,e,a){try{return Aa("Sending report",!1,n),!n||typeof n!="object"||typeof e!="string"||!e.trim()||a&&typeof a!="string"?Promise.reject("Missing data"):fetch(e,{method:"POST",headers:{Accept:"*/*",...a?{Authorization:`Bearer ${a}`}:{},"Content-Type":"application/json"},body:JSON.stringify(n)}).then(o=>!o||!o.ok?Promise.reject(o):o)}catch(o){return Promise.reject(o)}}let pm,Pw=!1;const a4="ml",i1="data",r4=2592e6,o4=1e3,s4=864e5,Lw="conf_maintenance_time";function ki(n){return!n.action||n.action!=="keys"&&!n.key||n.action==="put"&&!n.data?Promise.reject("Missing database transaction options/data."):typeof indexedDB>"u"?Promise.reject("No IndexedDB support"):i4().then(e=>{let a=e.transaction(i1,"readwrite"),o=a.objectStore(i1),l;if(n.action==="get")l=o.get(n.key);else if(n.action==="put")l=o.put(n.data,n.key);else if(n.action==="del")l=o.delete(n.key);else if(n.action==="keys")l=o.getAllKeys();else return Promise.reject("Database transaction request not recognized");return new Promise((p,f)=>{a.onerror=f,l.onerror=f,l.onsuccess=()=>{n.action==="put"?p(n.data):n.action==="get"?p(l.result):n.action==="del"?p():n.action==="keys"?p(l.result):f("Database transaction request not recognized")}})})}function i4(){return typeof indexedDB>"u"?Promise.reject("No IndexedDB support"):(pm||(pm=new Promise((n,e)=>{let a=indexedDB.open(a4,1);a.onsuccess=()=>n(a.result),a.onerror=e,a.onupgradeneeded=()=>a.result.createObjectStore(i1)})),pm)}function l4(){Pw||(Pw=!0,ki({action:"get",key:Lw}).then(n=>{if(isNaN(n)||Date.now()-n>s4)return u4(),ki({action:"put",key:Lw,data:Date.now()})}).catch(n=>Aa("Maintenance failed",!0,n)))}function u4(){Aa("Cleaning up database"),ki({action:"keys"}).then(n=>{n.forEach((e,a)=>{!e||e.startsWith("conf")||setTimeout(()=>{ki({action:"get",key:e}).then(o=>{if(o&&!isNaN(o.dt)&&Date.now()-o.dt>r4)return ki({action:"del",key:e})}).catch(o=>Aa(`Database cleanup for ${e} failed`,!0,o))},o4*a)})}).catch(n=>Aa("Database cleanup failed",!0,n))}const c4="https://easylist-downloads.adblockplus.org/models/",p4=1e4,Rx=1;let Ol=new Map;function Fx(n){if(!n)return Promise.reject("No model name provided");if(!Ol.has(n)){let a=f4(n),o=a.then(d4);a.catch(()=>{}),o.catch(()=>{}),Ol.set(n,{bundle:a,instance:o})}let e=Ol.get(n);return!e.bundle||!e.instance?(Ol.delete(n),Promise.reject("Model corrupted")):Promise.resolve(e)}function d4(n){return Rz(jx,n)}function f4(n){return h4(n).catch(Mx.bind(this,n,Rx))}function h4(n){return typeof indexedDB>"u"?Promise.reject("No IndexedDB support"):ki({action:"get",key:n}).then(e=>!e.config||!e.topology||!e.weights?(ki({action:"del",key:n}).catch(a=>Aa("Can't remove corrupted model",!0,a)),Promise.reject("model corrupted")):(Lx(n,e).catch(a=>Aa("Can't update existing model",!0,a)),Aa(`Loaded model from database: ${n}`),e))}function Mx(n,e){Aa(`Attempting to fetch ${n} from remote`);let a=new AbortController,o=setTimeout(a.abort,p4);return isNaN(e)&&(e=Rx),fetch(`${c4}${n}.json`,{signal:a.signal}).then(l=>l.json()).then(l=>!l.config||!l.topology||!l.weights?Promise.reject("model corrupted"):(Aa(`Loaded model from remote: ${n}`),Aa(`Storing model in database: ${n}`),Lx(n,l).catch(p=>Promise.resolve(l)))).catch(l=>e>0?Mx(n,--e):(Aa(`Failed to fetch ${n} from remote: offline`,!0),Promise.reject(l))).finally(()=>clearTimeout(o))}function Px(n){return Ol.has(n)&&(Aa(`Removing model from memory: ${n}`),Ol.delete(n)),Aa(`Removing model from database: ${n}`),ki({action:"del",key:n})}function Lx(n,e){return ki({action:"put",key:n,data:{...e,dt:Date.now()}})}let Kr;function m4(n,e,a){return!n||!a||!a.tab||isNaN(a.tab.id)||!chrome||!chrome.tabs||!$o||!$o.exceptionRules||typeof $o.exceptionRules!="function"?(Aa("Can't determine allowlisting status of current website. Defaulting to not allow-listed.",!0),Promise.reject()):!e||!e.topology||!e.topology.graphml||!e.topology.graphml.allowlist?(Aa("Model does not support allowlisting. Defaulting to not allow-listed."),Promise.resolve(!1)):y4(a,n).catch(()=>b4(a)).catch(o=>(Aa("Can't determine allowlisting status of current website. Defaulting to not allow-listed.",!0,o),Promise.reject()))}function g4(n){if(!(!n||n.frameId||!n.tab||isNaN(n.tab.id)||!Kr))for(let[e]of Kr)e.startsWith(`${n.tab.id}_`)&&Kr.delete(e)}function y4(n,e){return Kr||(Kr=new Map),Kr.has(el(n))?w4(n,e).then(a=>a?Promise.reject():Kr.get(el(n))):Promise.reject()}function b4(n){let e=n.tab.id,a=Kr.has(el(n)),o=Kr.get(el(n))||Promise.resolve(!1),l=new Promise((p,f)=>{try{let d=u=>{let h=o;for(let y of u)(!y.frameId&&!a||y.frameId&&!Kr.has(el(n,y.frameId)))&&(h=h.then(b=>b||(Aa("Checking content for allowlisting: ",!1,n,y.frameId),$o.exceptionRules(e,{frameId:y.frameId,types:["document","elemhide","genericblock","generichide"]}).then(x=>!!x.length).catch(()=>!1))),y.frameId&&Kr.set(el(n,y.frameId),h));p(h)};chrome&&chrome.webNavigation&&chrome.webNavigation.getAllFrames?chrome.webNavigation.getAllFrames({tabId:e},d):d([{frameId:0}])}catch(d){Aa("Error during allowlisting check.",!0,d),f()}});return Kr.set(el(n),l),l.finally(()=>{if(Kr.size>50){let p=Kr.keys();for(;Kr.size>50;)Kr.delete(p.next().value)}}),l}function w4(n,e){return(Kr.get(el(n))||Promise.resolve(!1)).then(a=>{if(a)return!1;let o=!1,l=50,p=f=>{if(!(!f||!f.length)){for(let d of f){if(l<=0)return;if(d.tag==="IFRAME"||d.tag==="FRAME")return o=!0;l--}p(f.map(d=>d&&d.children?d.children:[]).flat())}};return p([e]),o})}function el(n,e=0){return`${n.tab.id}_${n.tab.url}_${e}`}const Sd="ML:",v4="prepare",Uw="inference",jl={UNKNOWN_REQUEST:1,MISSING_REQUEST_DATA:2,UNKNOWN_MODEL:3,MISSING_INFERENCE_DATA:4,INFERENCE_FAILED:5,MODEL_INSTANTIATION_FAILED:6,MISSING_ENVIRONMENTAL_SUPPORT:7},x4=S4();_v();vt().set("WEBGL_USE_SHAPES_UNIFORMS",!0);function _4(n,e,a){return n&&typeof n.type=="string"&&n.type.startsWith(Sd)?(k4(n,e).then(a).catch(a),!0):!1}function k4(n,e){if(!n)return Promise.reject({type:n.type,error:jl.MISSING_REQUEST_DATA});let a=(n.model||"").replace([/[^a-zA-Z0-9._-]/g,""]);return!n.type||!a||n.type===Sd+Uw&&!n.graph?Promise.reject({type:n.type,error:jl.MISSING_REQUEST_DATA}):(n.debug&&Mz(!0),Aa("Digesting request",!1,n),typeof indexedDB>"u"?(Aa("Request aborted due to missing database support",!0),Promise.reject({type:n.type,error:jl.MISSING_ENVIRONMENTAL_SUPPORT})):x4?(l4(),n.type===Sd+v4?(g4(e),E4(a).then(o=>({type:n.type,config:o.config,cutoff:o.topology.graphml.nodes})).catch(()=>Promise.reject({type:n.type,error:jl.MODEL_INSTANTIATION_FAILED}))):n.type===Sd+Uw?A4(a,n.graph,e).then(o=>e4(o)).then(o=>({type:n.type,...Kc?o:{},prediction:o.prediction,allowlisted:!!o.allowlisted})).catch(()=>Promise.reject({type:n.type,error:jl.INFERENCE_FAILED})):Promise.reject({type:n.type,error:jl.UNKNOWN_REQUEST})):(Aa("Request aborted due to missing WebGL support",!0),Promise.reject({type:n.type,error:jl.MISSING_ENVIRONMENTAL_SUPPORT})))}function E4(n){return Fx(n).then(e=>e.bundle).catch(()=>(Px(n),Promise.reject("Model corrupted")))}function A4(n,e,a){Aa(`Preparing inference: ${n}`,!1,e);let o={modelName:n,sender:a,modelColdStart:!Ol.has(n),startTime:Date.now()};return Fx(n).then(l=>Promise.all([l.instance,l.bundle])).then(([l,p])=>(o.bundle=p,o.modelBootupTime=Date.now(),m4(e,p,a).catch(()=>!1).then(f=>f?(Aa("Website allowlisted. Skipping inference."),o.prediction=!1,o.allowlisted=!0,o):(Aa(`Running inference: ${n}`,!1,e),Cz(p,e,".").then(d=>(o.preprocessingTime=Date.now(),o.preprocessedGraph=d,Oz(jx,l,p,d))).then(d=>(o.inferenceTime=Date.now(),o.rawPrediction=d,Bz(d))).then(d=>(o.digestTime=Date.now(),o.prediction=d,o)))))).catch(()=>(Px(n),Promise.reject("Model corrupted")))}function S4(){if(typeof OffscreenCanvas>"u")return!1;let n=new OffscreenCanvas(0,0);try{if(n.getContext("webgl2"))return!0}catch{}return!1}function af(n){return ga.storage.local.set(n)}function Ku(n){return ga.storage.local.get(n)}function Ux(n){return ga.storage.local.remove(n)}async function T4(){let n="readwrite_test",e=Math.random();try{if(await af({[n]:e}),(await Ku(n))[n]!==e)throw new Error("Storage test: Failed to read and write value")}finally{await Ux(n)}}let zx=!0;function j4(){return zx}async function I4(n,e){let a=await ma.filters.getUserFilters();zx=!n&&!a.length}function $x(){const n=(Date.now()%1e8).toString().padStart(8,"0"),e="abcdefghijklmnopqrstuvwxyz0123456789",a=[];for(let o=0;o<8;o++){const l=Math.floor(Math.random()*e.length);a.push(e[l])}return a.join("")+n}async function N4(n){return fetch("https://ping.ublock.org/api/stats",{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(n)})}const D4=/^(([^:]+(?::|$))(?:(?:\w+:)?\/\/)?(?:[^:@/]*(?::[^:@/]*)?@)?(([^:/?#]*)(?::(\d*))?))((?:[^?#/]*\/)*[^?#]*)(\?[^#]*)?(#.*)?/;function C4(n){const e=D4.exec(n),a=["href","origin","protocol","host","hostname","port","pathname","search","hash"],o={};for(let l=0;e&&l<a.length;l++)o[a[l]]=e[l]||"";return o}const Du="ub_paused",zw="@@*",$w="@@*$document",Gw=1e3*60*60*24*7;class O4{constructor(e,a){this.name=e,this.version=a}isPageUnblockable(e){if(!e)return!0;let a;return e.protocol?a=e.protocol:a=C4(e).protocol,a!=="http:"&&a!=="https:"&&a!=="feed:"}async isPaused(e){if(e===void 0)return(await Ku(Du))[Du]===!0;e===!0?(await af({[Du]:!0}),await ma.filters.add([zw],{}),await ma.filters.add([$w],{})):(await ma.filters.remove([zw]),await ma.filters.remove([$w]),await Ux(Du))}async createDomainAllowListFilter(e,a){const p=`@@||${new URL(e).hostname.replace(/^www\./,"")}/*^$document`,f={...this.createFilterMetaData(a),expiresAt:Date.now()+Gw,autoExtendMs:Gw};return this.addCustomFilter(p,f)}async tryToRemoveAllowList(e,a){const o=e.replace(/#.*$/,""),l=await this.getUserFilters();if(!l||l.length===0)return!1;for(let p=0;p<l.length;p++){const{text:f}=l[p];if(f.search(/@@\*\$document,domain=~/)>-1){const[u]=o.replace(/((http|https):\/\/)?(www.)?/,"").split(/[/?#]/),h=[f],y=[`${f}|~${u}`];return await ma.filters.remove(h),await ma.filters.remove(y),!0}if(this.isAllowlistFilter(f)&&(await ma.filters.getAllowingFilters(a)).includes(f)){const u=[f];return await ma.filters.remove(u),!0}}return!1}isAllowlistFilter(e){return/^@@/.test(e)}async getUserFilters(){return ma.filters.getUserFilters()}async addCustomFilter(e,a){try{const o=ma.filters.validate(e);return o||(await ma.filters.add([e],a),await ma.filters.enable([e]),null)}catch(o){return o.toString()}}createFilterMetaData(e){const a={created:Date.now()};return e&&(a.origin=e),a}async addSubscriptions(){if(j4()){try{await ma.subscriptions.addDefaults()}catch(o){console.error("Failed to add default filter lists:",o)}await a()}await e("https://easylist-downloads.adblockplus.org/v3/full/abp-filters-anti-cv.txt"),await e("https://easylist-downloads.adblockplus.org/v3/full/easylist.txt");async function e(o){if(!await ma.subscriptions.has(o))try{await ma.subscriptions.add(o)}catch(l){console.error(`Error adding subscription from ${o}`,l)}}async function a(){const o=["https://easylist-downloads.adblockplus.org/exceptionrules.txt","https://easylist-downloads.adblockplus.org/v3/full/exceptionrules.txt"];for(const l of o)await ma.subscriptions.has(l)&&await ma.subscriptions.remove(l)}}removeSubscriptions(){return new Promise(e=>{"managed"in ga.storage?Ku(null).then(async a=>{for(let o in a)if(o==="remove_subscriptions"&&Array.isArray(a[o])&&a[o].length)for(let l=0;l<a[o].length;l++)await ma.subscriptions.remove(a[o][l]);e()},()=>{e()}):e()})}async getTabInfo(e,a){const o=await this.getTab(a);if(o&&!o.url)return e||setTimeout(()=>this.getTabInfo(!0),250),{};try{const l=this.isPageUnblockable(o.url),p={disabledSite:l,url:String(o.url),id:o.id,paused:await this.isPaused()};return l||(p.allowListed=!!(await ma.filters.getAllowingFilters(o.id)).length,p.allowListedText=await ma.filters.getAllowingFilters(o.id)),p}catch(l){return{errorStr:l.toString(),stack:l.stack,message:l.message}}}async getTab(e){if(e){let a=e;return typeof a=="string"&&(a=parseInt(a,10)),await ga.tabs.get(a)}else{const a=await ga.tabs.query({active:!0,lastFocusedWindow:!0});return a.length===0?void 0:a[0]}}async subscriptionsGet({ignoreDisabled:e,disabledFilters:a}){let o=[];for(let l of await ma.subscriptions.getDownloadable()){if(e&&!l.enabled)continue;let p=R4(l);if(a){let f=await ma.subscriptions.getFilters(l.url)||[];p.disabledFilters=f.filter(d=>d.enabled===!1).map(d=>d.text)}o.push(p)}return o}async subscriptionsRemove({url:e}){return ma.subscriptions.remove(e)}async filtersGet(){return(await ma.filters.getUserFilters()).map(B4)}async filtersRemove({text:e}){return await ma.filters.remove([e]),[]}async filtersImportRaw({text:e,origin:a}){let[o,l]=this.filtersValidate(e);if(l.length===0)for(const p of o){const f=await this.addFilter(p,a);f&&l.push(f)}return l}filtersValidate(e){let a=[],o=[],l=e.split(`
`);for(let p=0;p<l.length;p++){let[f,d]=this.parseFilter(l[p]);if(d){if(d.type==="unexpected_filter_list_header"&&l.length>1)continue;l.length>1&&(d.lineno=p+1),o.push(d)}else f&&a.push(f)}return[a,o]}parseFilter(e){let a=e.trim()||null,o=null;if(a)if(a[0]==="[")o={type:"unexpected_filter_list_header"};else{let l=ma.filters.validate(a);l&&(o=F4(l))}return[a,o]}async addFilter(e,a){const o={created:Date.now()};a&&(o.origin=a);try{await ma.filters.add([e],o),await ma.filters.enable([e])}catch(l){return l}return null}}function W1(n,e){let a={};for(let o of n)o in e&&(a[o]=e[o]);return a}function B4(n){let e=W1(["enabled","slow","text","type"],n);return e.enabled!==null&&(e.disabled=!e.enabled),delete e.enabled,e}function R4(n){let e=W1(["downloadable","downloadStatus","enabled","homepage","version","lastDownload","lastSuccess","softExpiration","expires","title","url","downloading"],n);return e.disabled=!e.enabled,delete e.enabled,e}let F4=W1.bind(null,["lineno","option","reason","type"]);async function M4(){return ga.management&&ga.management.getSelf?await ga.management.getSelf():null}class P4{constructor(){this.allowed=!0}async handle(e){const a=this.surveyOptionsFrom(e);if(a==null)return Promise.resolve();switch(a.action){case 1:await this.showTab(a);break}}validUrl(e){return e.startsWith("https://ublock.org/")}surveyOptionsFrom(e){if(!e.hasOwnProperty("action")||!e.hasOwnProperty("id"))return null;switch(e.action){case 0:if(!e.hasOwnProperty("settings"))return null;break;case 1:if(!e.hasOwnProperty("url")||!this.validUrl(e.url))return null;break;case 2:if(!e.hasOwnProperty("url")||!this.validUrl(e.url))return null;break;case 3:if(!e.hasOwnProperty("url")||!this.validUrl(e.url))return null;break;default:return null}return e}shouldShowSurvey(e,a){if(!this.allowed)return;const o="surveys."+e.id;ga.storage.local.get(o).then(l=>{l.hasOwnProperty(o)||ga.storage.local.set({[o]:{shown:new Date().toISOString()}}).then(()=>{this.allowed=!0,a({url:e.url.substring(19)})})})}async showTab(e){const a=()=>{setTimeout(()=>{this.shouldShowSurvey(e,l=>{const p=`https://ublock.org/${l.url}`;ga.tabs.create({url:p}).then()})},1e4)},o=()=>{ga.tabs.onCreated.removeListener(o),ga.tabs.onActivated.removeListener(o),a()};ga.tabs.onCreated.removeListener(o),ga.tabs.onActivated.removeListener(o),ga.tabs.onCreated.addListener(o),ga.tabs.onActivated.addListener(o)}}const dm="ub_stats",fm="stats.ping",Gx=[],Vw=async n=>{n.name==="stats.ping"&&Gx.forEach(e=>{e.sendStats()})};class L4{constructor(e,a){this.name=e,this.version=a,this.survey=new P4;let l=/(CrOS \w+|Windows NT|Mac OS X|Linux) ([\d._]+)?/.exec(navigator.userAgent);this.operatingSystem=(l||[])[1]||"Unknown",this.operatingSystemVersion=(l||[])[2]||"Unknown",l=/(MSIE|Trident|(?!Gecko.+)Firefox|(?!AppleWebKit.+Chrome.+)Safari(?!.+Edge)|(?!AppleWebKit.+)Chrome(?!.+Edge)|(?!AppleWebKit.+Chrome.+Safari.+)Edge|AppleWebKit(?!.+Chrome|.+Safari)|Gecko(?!.+Firefox))[ /]([\d.apre]+)/.exec(navigator.userAgent),this.browserName=(l||[])[1]||"Unknown",this.browserName==="Firefox"?this.browserFlavor="F":this.browserFlavor="E",this.browserVersion=(l||[])[2]||"Unknown",this.browserLanguage=navigator.language.match(/^[a-z]+/i)[0],this.storageStatsAttr={userId:null,totalPings:0},Gx.push(this)}async getStatsSettings(){if(this.storageStatsAttr.userId!=null)return this.storageStatsAttr;const e=await Ku(dm),a=e&&e[dm]||{userId:$x(),totalPings:0};return this.storageStatsAttr=a,a}getStats(e){return{n:this.name,v:this.version,u:e,f:this.browserFlavor,o:this.operatingSystem,bv:this.browserVersion,ov:this.operatingSystemVersion,l:this.browserLanguage}}async sendStats(){const e=await this.getStatsSettings();return e.totalPings=e.totalPings+1,await af({[dm]:e}),this.sendPing(e.userId)}async sendPing(e){const a=this.getStats(e);if(this.browserName==="Chrome"){const o=await M4();o&&typeof o.installType=="string"&&(a.it=o.installType.charAt(0))}N4(a).then(o=>{if(o.ok)return o.json()}).then(o=>{this.survey.handle(o)}).catch(()=>{})}async scheduleStatsEvent(){ga.alarms.onAlarm.hasListener(Vw)||ga.alarms.onAlarm.addListener(Vw);const e=await ga.alarms.get(fm);e&&e.name===fm||ga.alarms.create(fm,{delayInMinutes:10,periodInMinutes:60*24})}}const hm="ub_subs",Td="schedule.sync",Vx=[],Hw=async n=>{n.name===Td&&Vx.forEach(e=>{e.sync()})};class U4{constructor(){Vx.push(this)}async sync(){const e=await this.getSubSettings();e.totalSyncs=e.totalSyncs+1,await af({[hm]:e}),await ma.subscriptions.sync()}async getSubSettings(){const e=await Ku(hm);return e&&e[hm]||{subscriptions:{},totalSyncs:0}}async scheduleSyncEvent(){ga.alarms.onAlarm.hasListener(Hw)||ga.alarms.onAlarm.addListener(Hw);const e=await ga.alarms.get(Td);e&&e.name===Td||ga.alarms.create(Td,{delayInMinutes:7,periodInMinutes:60*24})}}class z4{constructor(){this.lastError="",this.status={}}setLastError(e){switch(typeof e){case"string":this.lastError=e;break;case"object":if(e.error)switch(typeof e.error){case"string":this.lastError=e.error;break;case"object":typeof e.error.string=="function"?this.lastError=e.error.string():typeof e.error.toString=="function"?this.lastError=e.error.toString():this.lastError=JSON.stringify(e.error);break}else typeof e.string=="function"?this.lastError=e.string():typeof e.toString=="function"?this.lastError=e.toString():this.lastError=JSON.stringify(e);break;default:return}}getLastError(){return this.lastError}setStatus(e,a){this.status[e]=a}getStatus(){return this.status}}const $4={created:"2024-12-09T10:20:29.336Z",subscriptions:[{id:"8C13E995-8F06-4927-BEA7-6C845FB7EEBF",type:"ads",languages:["en"],title:"EasyList",homepage:"https://easylist.to/",url:"https://easylist-downloads.adblockplus.org/v3/full/easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (update frequency)"},{id:"0798B6A2-94A4-4ADF-89ED-BEC112FC4C7F",type:"allowing",title:"Allow nonintrusive advertising",homepage:"https://acceptableads.com/",url:"https://easylist-downloads.adblockplus.org/v3/full/exceptionrules.txt",mv2_url:"https://easylist-downloads.adblockplus.org/exceptionrules.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/exceptionrules/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days"},{id:"C3D13A19-3E8D-41F5-AD64-0F3B36DDE128",type:"ads",languages:["es"],title:"EasyList Spanish+EasyList",homepage:"https://easylist.to/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","C8C1AA76-15B4-4CA3-8A9C-AD38D6AFCAEC"],url:"https://easylist-downloads.adblockplus.org/v3/full/easylistspanish+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/easylistspanish+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/easylistspanish+easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (update frequency)"},{id:"1B5F78CA-8B30-4BDF-B0A3-451CB2202984",type:"ads",languages:["ru","uk","uz","kk"],title:"RU, UA, UZ, KZ+EasyList",homepage:"https://forums.lanik.us/viewforum.php?f=102",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","879ECB9D-8935-4506-939E-5BBB7DD09402"],url:"https://easylist-downloads.adblockplus.org/v3/full/ruadlist+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/ruadlist+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/ruadlist+easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (update frequency)"},{id:"2CEA1481-C29C-44F1-A084-A2A019533797",type:"ads",languages:["fr"],title:"Liste FR+EasyList",homepage:"https://forums.lanik.us/viewforum.php?f=98",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","8D421590-1A68-4B68-BE50-04E17C09460E"],url:"https://easylist-downloads.adblockplus.org/v3/full/liste_fr+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/liste_fr+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/liste_fr+easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (update frequency)"},{id:"14DF7BE6-9675-4E07-987A-D8A1000F9FEF",type:"ads",languages:["pt"],title:"EasyList Portuguese+EasyList",homepage:"https://easylist.to/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","A41441EE-BF7C-4A48-9A43-42CCEA2B2A1D"],url:"https://easylist-downloads.adblockplus.org/v3/full/easylistportuguese+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/easylistportuguese+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/easylistportuguese+easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (update frequency)"},{id:"0CD3D105-D3B3-4652-8489-94163DE9A08F",type:"ads",languages:["de"],title:"EasyList Germany+EasyList",homepage:"https://easylist.to/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","4337FB2B-A95C-44D5-B78D-11AD40F7711B"],url:"https://easylist-downloads.adblockplus.org/v3/full/easylistgermany+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/easylistgermany+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/easylistgermany+easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (update frequency)"},{id:"3D2C09D0-DF1C-4C8E-9947-A23DCEAF8F8B",type:"ads",languages:["pl"],title:"EasyList Polish+EasyList",homepage:"https://easylist.to/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","9F743FCD-801B-41D0-830F-5A4EA995216E"],url:"https://easylist-downloads.adblockplus.org/v3/full/easylistpolish+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/easylistpolish+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/easylistpolish+easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (update frequency)"},{id:"BBC07C05-66F1-42EC-BD4D-7AD495FAC84B",type:"ads",languages:["it"],title:"EasyList Italy+EasyList",homepage:"https://easylist.to/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","2F0A4F0D-DF16-40D0-B0E0-5EB6791EC119"],url:"https://easylist-downloads.adblockplus.org/v3/full/easylistitaly+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/easylistitaly+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/easylistitaly+easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (update frequency)"},{id:"4B6CE485-30AB-4213-AD17-504B3F2D2825",type:"ads",languages:["cs","sk"],title:"EasyList Czech and Slovak+EasyList",homepage:"https://adblock.sk/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","2D8C4D88-34A0-4259-9098-30D28BA674BC"],url:"https://easylist-downloads.adblockplus.org/v3/full/easylistczechslovak+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/easylistczechslovak+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/easylistczechslovak+easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (update frequency)"},{id:"684A25C6-6B5D-458A-8A2B-BAC0A12B0B15",type:"ads",languages:["ar"],title:"Liste AR+Liste FR+EasyList",homepage:"https://forums.lanik.us/viewforum.php?f=98",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","8D421590-1A68-4B68-BE50-04E17C09460E","3D60E303-1141-4775-B800-834177922876"],url:"https://easylist-downloads.adblockplus.org/v3/full/liste_ar+liste_fr+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/liste_ar+liste_fr+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/liste_ar+liste_fr+easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (fréquence des mises à jour automatiques)"},{id:"1C571EC7-6E52-47CC-B04A-4B3008D0AEBE",type:"ads",languages:["vi"],title:"ABPVN List+EasyList",homepage:"http://abpvn.com/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","03648752-31EE-4FD0-85C1-20B07C5551C3"],url:"https://easylist-downloads.adblockplus.org/v3/full/abpvn+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/abpvn+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/abpvn+easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (update frequency)"},{id:"A4B88FB6-E5E5-417F-8A49-20B8244995FD",type:"ads",languages:["nl"],title:"EasyList Dutch+EasyList",homepage:"https://easylist.to/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","CB94E27D-6CD1-4DB9-83D9-6B7F1A3555F6"],url:"https://easylist-downloads.adblockplus.org/v3/full/easylistdutch+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/easylistdutch+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/easylistdutch+easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (update frequency)"},{id:"2708BCB7-2E45-41BC-B517-1730CF532F89",type:"ads",languages:["ko"],title:"KoreanList+EasyList",homepage:"https://easylist.to/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","BCE2062F-0D99-4861-A1F7-E3DFEA6DAB69"],url:"https://easylist-downloads.adblockplus.org/v3/full/koreanlist+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/koreanlist+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/koreanlist+easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (update frequency)"},{id:"EEEF75EC-B2B4-49F4-BC49-17B08266F334",type:"ads",languages:["ro"],title:"ROList+EasyList",homepage:"https://zoso.ro/rolist/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","99166908-5FDA-4F9E-8C4C-70BB4DEEFC08"],url:"https://easylist-downloads.adblockplus.org/v3/full/rolist+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/rolist+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/rolist+easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (update frequency)"},{id:"B7D76369-DD19-4602-80E8-2E32DDB490AC",type:"ads",languages:["id","ms"],title:"ABPindo+EasyList",homepage:"http://abpindo.blogspot.com/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","A4A32212-E6BD-45F6-AD0F-E0FD18E8537B"],url:"https://easylist-downloads.adblockplus.org/v3/full/abpindo+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/abpindo+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/abpindo+easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (update frequency)"},{id:"07549D8B-F06F-4D9D-A567-929AA59E9D1D",type:"ads",languages:["he"],title:"EasyList Hebrew+EasyList",homepage:"https://github.com/easylist/EasyListHebrew",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","AE0D9320-665E-407D-B692-1A85AE481F34"],url:"https://easylist-downloads.adblockplus.org/v3/full/israellist+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/israellist+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/israellist+easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (update frequency)"},{id:"CBE50FA2-DE3F-480C-B1D7-04289391C033",type:"ads",languages:["lt"],title:"EasyList Lithuania+EasyList",homepage:"https://github.com/EasyList-Lithuania/easylist_lithuania",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","E89B3C08-2DED-40EA-8EE1-339B90D7B451"],url:"https://easylist-downloads.adblockplus.org/v3/full/easylistlithuania+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/easylistlithuania+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/easylistlithuania+easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (update frequency)"},{id:"E22C3B40-DC90-49D7-8BF5-E60904AB159A",type:"ads",languages:["bg"],title:"Bulgarian list+EasyList",homepage:"https://stanev.org/abp/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","1638B159-F64A-4307-84E7-16AB08ED409E"],url:"https://easylist-downloads.adblockplus.org/v3/full/bulgarian_list+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/bulgarian_list+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/bulgarian_list+easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (update frequency)"},{id:"950C88EA-2DD1-42E3-B2A2-2DF2ED15563A",type:"ads",languages:["lv"],title:"Latvian List+EasyList",homepage:"https://forums.lanik.us/viewforum.php?f=99-latvian-list",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","51893C6C-F39E-43C5-A2EF-9545E388A2CE"],url:"https://easylist-downloads.adblockplus.org/v3/full/latvianlist+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/latvianlist+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/latvianlist+easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (update frequency)"},{id:"96932CD9-6DDF-4D97-B92F-FDF747B6FAA2",type:"ads",languages:["no","nb","nn","da","is","fo","kl","sv","fi"],title:"Dandelion Sprout's Nordic Filters+EasyList",homepage:"https://github.com/DandelionSprout/adfilt",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","6D489E8D-E61C-444C-BBC5-44741773ADC2"],url:"https://easylist-downloads.adblockplus.org/v3/full/dandelion_sprouts_nordic_filters+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/dandelion_sprouts_nordic_filters+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/dandelion_sprouts_nordic_filters+easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (update frequency)"},{id:"25A31255-AB36-48A4-9086-06192DE71119",type:"ads",languages:["as","bn","gu","hi","kn","mai","ml","mr","ne","or","pa","si","ta","te"],title:"IndianList+EasyList",homepage:"https://easylist.to/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","9FAA2906-CD5C-4520-BDC4-4E098B7EA228"],url:"https://easylist-downloads.adblockplus.org/v3/full/indianlist+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/indianlist+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/indianlist+easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (update frequency)"},{id:"F12E0801-A00B-49DE-B1E3-52C9C4F90C8C",type:"allowing",title:"Allow nonintrusive advertising without third-party tracking",homepage:"https://acceptableads.com/",url:"https://easylist-downloads.adblockplus.org/v3/full/exceptionrules-privacy-friendly.txt",mv2_url:"https://easylist-downloads.adblockplus.org/exceptionrules-privacy-friendly.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/exceptionrules-privacy-friendly/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days"},{id:"9BD3EA2F-889D-4CC3-B680-CF484F2BD1B9",type:"ads",languages:["zh"],title:"EasyList China+EasyList",homepage:"https://github.com/easylist/easylistchina/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","1D7F590C-B752-4BA0-9473-6A26DE1326B1"],url:"https://easylist-downloads.adblockplus.org/v3/full/easylistchina+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/easylistchina+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/easylistchina+easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (update frequency)"},{id:"D4028CDD-3D39-4624-ACC7-8140F4EC3238",type:"circumvention",title:"ABP filters",homepage:"https://gitlab.com/eyeo/anti-cv/abp-filters-anti-cv",url:"https://easylist-downloads.adblockplus.org/v3/full/abp-filters-anti-cv.txt",mv2_url:"https://easylist-downloads.adblockplus.org/abp-filters-anti-cv.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/abp-filters-anti-cv/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 hours (update frequency)"},{id:"361001BD-8F57-4736-97B1-F332C3D79E5D",type:"ads",languages:["ja"],title:"Japanese Filters+EasyList",homepage:"https://gitlab.com/eyeo/filterlists/japanesefilters",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","7FCD16F0-6505-4A59-90CD-B49849481B0B"],url:"https://easylist-downloads.adblockplus.org/v3/full/japanese-filters+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/japanese-filters+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/japanese-filters+easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (update frequency)"},{id:"D99D3350-7F11-43E1-87CB-FDE0C78E8CD6",type:"ads",languages:["tr"],title:"Turkish Filters+EasyList",homepage:"https://gitlab.com/eyeo/filterlists/turkishfilters",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","C5238877-8B59-4CC5-AE7F-F8714A5452D1"],url:"https://easylist-downloads.adblockplus.org/v3/full/turkish-filters+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/turkish-filters+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/turkish-filters+easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (update frequency)"},{id:"EF6F4884-47DB-46A5-AAF8-8EB819D8D4D8",type:"ads",languages:["bs","el","fil","hr","sl","sr","th"],title:"Global Filters+EasyList",homepage:"https://gitlab.com/eyeo/filterlists/globalfilters",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","02F537E7-0B47-4DBA-BFFA-AE4182E4C31C"],url:"https://easylist-downloads.adblockplus.org/v3/full/global-filters+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/global-filters+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/global-filters+easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (update frequency)"},{id:"88D3F7EA-D99E-43C6-92E0-D89C8A0E7EA9",type:"ads",languages:["hu"],title:"Hufilter Basic+EasyList",homepage:"https://github.com/hufilter/hufilter/wiki",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","EFA20F90-0490-46A4-B105-BD173F7950AA"],url:"https://easylist-downloads.adblockplus.org/v3/full/hufilter+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/hufilter+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/hufilter+easylist/e3028db6b0393a01eba7cd65f1fadb273ee3372e.json",expires:"1 days (update frequency)"}]};new Ii({name:"error",run:(n,{guardian:e})=>e.setLastError(n)});new Ii({name:"debug.getLastError",run:(n,{guardian:e})=>Promise.resolve(e.getLastError())});new Ii({name:"debug.getStatus",run:(n,{guardian:e})=>Promise.resolve(e.getStatus())});new Ii({name:"telemetry.ping",run:(n,{telemetry:e})=>e.sendPing(n)});new Ii({name:"subscriptions.get",run:async(n,{blocker:e})=>{const a=n&&n.ignoreDisabled,o=n&&n.disabledFilters;return e.subscriptionsGet({ignoreDisabled:a,disabledFilters:o})}});new Ii({name:"subscriptions.remove",run:({url:n},{blocker:e})=>e.subscriptionsRemove({url:n})});new Ii({name:"filters.get",run:(n,{blocker:e})=>e.filtersGet()});new Ii({name:"filters.remove",run:({text:n},{blocker:e})=>e.filtersRemove({text:n})});new Ii({name:"filters.importRaw",run:({text:n,origin:e},{blocker:a})=>a.filtersImportRaw({text:n,origin:e})});const Hx=ga.runtime.getManifest(),K1="uBlock",rf=Hx.version;rO({dsn:"https://6bce0ca887dc9863c4d84880e79c9375@o526868.ingest.sentry.io/4506632517517312",release:rf,initialScope:{tags:{manifestVersion:Hx.manifest_version}},enabled:!1,environment:"Production",tracesSampleRate:.2,sampleRate:.01});let Ic;ga.storage.local.get("sentryUserId").then(n=>{Ic=n.sentryUserId,Ic||(Ic=$x(),ga.storage.local.set({userId:Ic})),ZN({id:Ic})});const jd=new O4(K1,rf),X1=new L4(K1,rf),Y1=new U4,Wx=new z4;Y2({blocker:jd,telemetry:X1,subscriptions:Y1,guardian:Wx});const G4={sendMessage:ga.runtime.sendMessage,addListener:ga.runtime.onMessage.addListener,getURL:ga.runtime.getURL,browserTabs:ga.tabs};X2(G4);const V4="https://ublock.telemetry.eyeo.com/topic/webextension_activeping/version/3",H4="p_N9gr9UbaNJ2GsJEsz16BWC3asXGCFz1H";let Kx;Kx={url:V4,bearer:H4};const W4=ma.start({name:K1,version:rf,bundledSubscriptions:$4.subscriptions,bundledSubscriptionsPath:"rules",telemetry:Kx});ma.snippets.setLibrary({injectedCode:x1,isolatedCode:v1});const Xx=[W4,ma.telemetry.setOptOut(!1)];Xx.push(T4().catch(()=>{}));Promise.all(Xx).then(async n=>{const e=n[0];e&&e.warnings&&e.warnings.length>0&&console.warn("Start warnings",e.warnings),ga.runtime.onMessage.addListener(_4),(await ma.filters.getMigrationErrors()).forEach(a=>{const{error:o,filter:l}=a;console.warn(`Error Message: ${o}`),console.warn(`Filter text: ${l.text}`)}),(await ma.subscriptions.getMigrationErrors()).forEach(a=>{const{error:o,subscription:l}=a;console.warn(`Error Message: ${o}`),console.warn(`Title: ${l.title}, URL: ${l.url}`),console.warn()}),K4(e).then(()=>{Wx.setStatus("initialized",!0)})});function Ww(n){switch(n.reason){case"install":break;case"update":ga.alarms.clearAll().then(()=>{Promise.all([X1.scheduleStatsEvent(),Y1.scheduleSyncEvent()]).then()});break}}ga.runtime.onInstalled.hasListener(Ww)||ga.runtime.onInstalled.addListener(Ww);async function K4(n){n&&await I4(n.foundSubscriptions,n.foundStorage),await jd.addSubscriptions(),await jd.removeSubscriptions(),await X1.scheduleStatsEvent(),await Y1.scheduleSyncEvent(),(await Ku(Du))[Du]&&setTimeout(()=>jd.isPaused(!1),200)}Object.assign(self,{ewe:iO});
//# sourceMappingURL=service-C1RMr3IX.js.map
